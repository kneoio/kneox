var IO=Object.defineProperty;var _O=(t,e,n)=>e in t?IO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var LO=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Rt=(t,e,n)=>_O(t,typeof e!="symbol"?e+"":e,n);var Ile=LO((mo,po)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xv(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const kn={},bl=[],pi=()=>{},DO=()=>!1,th=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Cv=t=>t.startsWith("onUpdate:"),pr=Object.assign,Sv=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},OO=Object.prototype.hasOwnProperty,bn=(t,e)=>OO.call(t,e),zt=Array.isArray,yl=t=>nh(t)==="[object Map]",mw=t=>nh(t)==="[object Set]",Kt=t=>typeof t=="function",qn=t=>typeof t=="string",Yi=t=>typeof t=="symbol",Dn=t=>t!==null&&typeof t=="object",pw=t=>(Dn(t)||Kt(t))&&Kt(t.then)&&Kt(t.catch),vw=Object.prototype.toString,nh=t=>vw.call(t),$O=t=>nh(t).slice(8,-1),bw=t=>nh(t)==="[object Object]",wv=t=>qn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ac=xv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},FO=/-(\w)/g,Do=rh(t=>t.replace(FO,(e,n)=>n?n.toUpperCase():"")),MO=/\B([A-Z])/g,Ws=rh(t=>t.replace(MO,"-$1").toLowerCase()),oh=rh(t=>t.charAt(0).toUpperCase()+t.slice(1)),tg=rh(t=>t?`on${oh(t)}`:""),Ts=(t,e)=>!Object.is(t,e),ng=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Fm=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},BO=t=>{const e=parseFloat(t);return isNaN(e)?t:e},zO=t=>{const e=qn(t)?Number(t):NaN;return isNaN(e)?t:e};let Mb;const ih=()=>Mb||(Mb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vi(t){if(zt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=qn(r)?VO(r):vi(r);if(o)for(const i in o)e[i]=o[i]}return e}else if(qn(t)||Dn(t))return t}const NO=/;(?![^(]*\))/g,UO=/:([^]+)/,HO=/\/\*[^]*?\*\//g;function VO(t){const e={};return t.replace(HO,"").split(NO).forEach(n=>{if(n){const r=n.split(UO);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Is(t){let e="";if(qn(t))e=t;else if(zt(t))for(let n=0;n<t.length;n++){const r=Is(t[n]);r&&(e+=r+" ")}else if(Dn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const jO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",WO=xv(jO);function yw(t){return!!t||t===""}const xw=t=>!!(t&&t.__v_isRef===!0),In=t=>qn(t)?t:t==null?"":zt(t)||Dn(t)&&(t.toString===vw||!Kt(t.toString))?xw(t)?In(t.value):JSON.stringify(t,Cw,2):String(t),Cw=(t,e)=>xw(e)?Cw(t,e.value):yl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o],i)=>(n[rg(r,i)+" =>"]=o,n),{})}:mw(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>rg(n))}:Yi(e)?rg(e):Dn(e)&&!zt(e)&&!bw(e)?String(e):e,rg=(t,e="")=>{var n;return Yi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lr;class Sw{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Lr,!e&&Lr&&(this.index=(Lr.scopes||(Lr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Lr;try{return Lr=this,e()}finally{Lr=n}}}on(){++this._on===1&&(this.prevScope=Lr,Lr=this)}off(){this._on>0&&--this._on===0&&(Lr=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function ww(t){return new Sw(t)}function Rw(){return Lr}function KO(t,e=!1){Lr&&Lr.cleanups.push(t)}let _n;const og=new WeakSet;class Tw{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Lr&&Lr.active&&Lr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,og.has(this)&&(og.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||kw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bb(this),Pw(this);const e=_n,n=Wo;_n=this,Wo=!0;try{return this.fn()}finally{Aw(this),_n=e,Wo=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ev(e);this.deps=this.depsTail=void 0,Bb(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?og.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mm(this)&&this.run()}get dirty(){return Mm(this)}}let Ew=0,Ic,_c;function kw(t,e=!1){if(t.flags|=8,e){t.next=_c,_c=t;return}t.next=Ic,Ic=t}function Rv(){Ew++}function Tv(){if(--Ew>0)return;if(_c){let e=_c;for(_c=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ic;){let e=Ic;for(Ic=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Pw(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Aw(t){let e,n=t.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),Ev(r),GO(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}t.deps=e,t.depsTail=n}function Mm(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Iw(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Iw(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Qc)||(t.globalVersion=Qc,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Mm(t))))return;t.flags|=2;const e=t.dep,n=_n,r=Wo;_n=t,Wo=!0;try{Pw(t);const o=t.fn(t._value);(e.version===0||Ts(o,t._value))&&(t.flags|=128,t._value=o,e.version++)}catch(o){throw e.version++,o}finally{_n=n,Wo=r,Aw(t),t.flags&=-3}}function Ev(t,e=!1){const{dep:n,prevSub:r,nextSub:o}=t;if(r&&(r.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ev(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function GO(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Wo=!0;const _w=[];function ji(){_w.push(Wo),Wo=!1}function Wi(){const t=_w.pop();Wo=t===void 0?!0:t}function Bb(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=_n;_n=void 0;try{e()}finally{_n=n}}}let Qc=0,qO=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class kv{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!_n||!Wo||_n===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==_n)n=this.activeLink=new qO(_n,this),_n.deps?(n.prevDep=_n.depsTail,_n.depsTail.nextDep=n,_n.depsTail=n):_n.deps=_n.depsTail=n,Lw(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=_n.depsTail,n.nextDep=void 0,_n.depsTail.nextDep=n,_n.depsTail=n,_n.deps===n&&(_n.deps=r)}return n}trigger(e){this.version++,Qc++,this.notify(e)}notify(e){Rv();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Tv()}}}function Lw(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Lw(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const hf=new WeakMap,ga=Symbol(""),Bm=Symbol(""),Zc=Symbol("");function Or(t,e,n){if(Wo&&_n){let r=hf.get(t);r||hf.set(t,r=new Map);let o=r.get(n);o||(r.set(n,o=new kv),o.map=r,o.key=n),o.track()}}function Ni(t,e,n,r,o,i){const s=hf.get(t);if(!s){Qc++;return}const a=l=>{l&&l.trigger()};if(Rv(),e==="clear")s.forEach(a);else{const l=zt(t),c=l&&wv(n);if(l&&n==="length"){const d=Number(r);s.forEach((u,f)=>{(f==="length"||f===Zc||!Yi(f)&&f>=d)&&a(u)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),c&&a(s.get(Zc)),e){case"add":l?c&&a(s.get("length")):(a(s.get(ga)),yl(t)&&a(s.get(Bm)));break;case"delete":l||(a(s.get(ga)),yl(t)&&a(s.get(Bm)));break;case"set":yl(t)&&a(s.get(ga));break}}Tv()}function YO(t,e){const n=hf.get(t);return n&&n.get(e)}function Wa(t){const e=Jt(t);return e===t?e:(Or(e,"iterate",Zc),Lo(t)?e:e.map(Pr))}function sh(t){return Or(t=Jt(t),"iterate",Zc),t}const XO={__proto__:null,[Symbol.iterator](){return ig(this,Symbol.iterator,Pr)},concat(...t){return Wa(this).concat(...t.map(e=>zt(e)?Wa(e):e))},entries(){return ig(this,"entries",t=>(t[1]=Pr(t[1]),t))},every(t,e){return _i(this,"every",t,e,void 0,arguments)},filter(t,e){return _i(this,"filter",t,e,n=>n.map(Pr),arguments)},find(t,e){return _i(this,"find",t,e,Pr,arguments)},findIndex(t,e){return _i(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return _i(this,"findLast",t,e,Pr,arguments)},findLastIndex(t,e){return _i(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return _i(this,"forEach",t,e,void 0,arguments)},includes(...t){return sg(this,"includes",t)},indexOf(...t){return sg(this,"indexOf",t)},join(t){return Wa(this).join(t)},lastIndexOf(...t){return sg(this,"lastIndexOf",t)},map(t,e){return _i(this,"map",t,e,void 0,arguments)},pop(){return lc(this,"pop")},push(...t){return lc(this,"push",t)},reduce(t,...e){return zb(this,"reduce",t,e)},reduceRight(t,...e){return zb(this,"reduceRight",t,e)},shift(){return lc(this,"shift")},some(t,e){return _i(this,"some",t,e,void 0,arguments)},splice(...t){return lc(this,"splice",t)},toReversed(){return Wa(this).toReversed()},toSorted(t){return Wa(this).toSorted(t)},toSpliced(...t){return Wa(this).toSpliced(...t)},unshift(...t){return lc(this,"unshift",t)},values(){return ig(this,"values",Pr)}};function ig(t,e,n){const r=sh(t),o=r[e]();return r!==t&&!Lo(t)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=n(i.value)),i}),o}const QO=Array.prototype;function _i(t,e,n,r,o,i){const s=sh(t),a=s!==t&&!Lo(t),l=s[e];if(l!==QO[e]){const u=l.apply(t,i);return a?Pr(u):u}let c=n;s!==t&&(a?c=function(u,f){return n.call(this,Pr(u),f,t)}:n.length>2&&(c=function(u,f){return n.call(this,u,f,t)}));const d=l.call(s,c,r);return a&&o?o(d):d}function zb(t,e,n,r){const o=sh(t);let i=n;return o!==t&&(Lo(t)?n.length>3&&(i=function(s,a,l){return n.call(this,s,a,l,t)}):i=function(s,a,l){return n.call(this,s,Pr(a),l,t)}),o[e](i,...r)}function sg(t,e,n){const r=Jt(t);Or(r,"iterate",Zc);const o=r[e](...n);return(o===-1||o===!1)&&xl(n[0])?(n[0]=Jt(n[0]),r[e](...n)):o}function lc(t,e,n=[]){ji(),Rv();const r=Jt(t)[e].apply(t,n);return Tv(),Wi(),r}const ZO=xv("__proto__,__v_isRef,__isVue"),Dw=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Yi));function JO(t){Yi(t)||(t=String(t));const e=Jt(this);return Or(e,"has",t),e.hasOwnProperty(t)}class Ow{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const o=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(o?i?c$:Bw:i?Mw:Fw).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=zt(e);if(!o){let l;if(s&&(l=XO[n]))return l;if(n==="hasOwnProperty")return JO}const a=Reflect.get(e,n,Hn(e)?e:r);return(Yi(n)?Dw.has(n):ZO(n))||(o||Or(e,"get",n),i)?a:Hn(a)?s&&wv(n)?a:a.value:Dn(a)?o?Ci(a):Ri(a):a}}class $w extends Ow{constructor(e=!1){super(!1,e)}set(e,n,r,o){let i=e[n];if(!this._isShallow){const l=_s(i);if(!Lo(r)&&!_s(r)&&(i=Jt(i),r=Jt(r)),!zt(e)&&Hn(i)&&!Hn(r))return l?!1:(i.value=r,!0)}const s=zt(e)&&wv(n)?Number(n)<e.length:bn(e,n),a=Reflect.set(e,n,r,Hn(e)?e:o);return e===Jt(o)&&(s?Ts(r,i)&&Ni(e,"set",n,r):Ni(e,"add",n,r)),a}deleteProperty(e,n){const r=bn(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&r&&Ni(e,"delete",n,void 0),o}has(e,n){const r=Reflect.has(e,n);return(!Yi(n)||!Dw.has(n))&&Or(e,"has",n),r}ownKeys(e){return Or(e,"iterate",zt(e)?"length":ga),Reflect.ownKeys(e)}}class e$ extends Ow{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const t$=new $w,n$=new e$,r$=new $w(!0),zm=t=>t,Qd=t=>Reflect.getPrototypeOf(t);function o$(t,e,n){return function(...r){const o=this.__v_raw,i=Jt(o),s=yl(i),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=o[t](...r),d=n?zm:e?gf:Pr;return!e&&Or(i,"iterate",l?Bm:ga),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:a?[d(u[0]),d(u[1])]:d(u),done:f}},[Symbol.iterator](){return this}}}}function Zd(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function i$(t,e){const n={get(o){const i=this.__v_raw,s=Jt(i),a=Jt(o);t||(Ts(o,a)&&Or(s,"get",o),Or(s,"get",a));const{has:l}=Qd(s),c=e?zm:t?gf:Pr;if(l.call(s,o))return c(i.get(o));if(l.call(s,a))return c(i.get(a));i!==s&&i.get(o)},get size(){const o=this.__v_raw;return!t&&Or(Jt(o),"iterate",ga),Reflect.get(o,"size",o)},has(o){const i=this.__v_raw,s=Jt(i),a=Jt(o);return t||(Ts(o,a)&&Or(s,"has",o),Or(s,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const s=this,a=s.__v_raw,l=Jt(a),c=e?zm:t?gf:Pr;return!t&&Or(l,"iterate",ga),a.forEach((d,u)=>o.call(i,c(d),c(u),s))}};return pr(n,t?{add:Zd("add"),set:Zd("set"),delete:Zd("delete"),clear:Zd("clear")}:{add(o){!e&&!Lo(o)&&!_s(o)&&(o=Jt(o));const i=Jt(this);return Qd(i).has.call(i,o)||(i.add(o),Ni(i,"add",o,o)),this},set(o,i){!e&&!Lo(i)&&!_s(i)&&(i=Jt(i));const s=Jt(this),{has:a,get:l}=Qd(s);let c=a.call(s,o);c||(o=Jt(o),c=a.call(s,o));const d=l.call(s,o);return s.set(o,i),c?Ts(i,d)&&Ni(s,"set",o,i):Ni(s,"add",o,i),this},delete(o){const i=Jt(this),{has:s,get:a}=Qd(i);let l=s.call(i,o);l||(o=Jt(o),l=s.call(i,o)),a&&a.call(i,o);const c=i.delete(o);return l&&Ni(i,"delete",o,void 0),c},clear(){const o=Jt(this),i=o.size!==0,s=o.clear();return i&&Ni(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=o$(o,t,e)}),n}function Pv(t,e){const n=i$(t,e);return(r,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(bn(n,o)&&o in r?n:r,o,i)}const s$={get:Pv(!1,!1)},a$={get:Pv(!1,!0)},l$={get:Pv(!0,!1)},Fw=new WeakMap,Mw=new WeakMap,Bw=new WeakMap,c$=new WeakMap;function d$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function u$(t){return t.__v_skip||!Object.isExtensible(t)?0:d$($O(t))}function Ri(t){return _s(t)?t:Av(t,!1,t$,s$,Fw)}function zw(t){return Av(t,!1,r$,a$,Mw)}function Ci(t){return Av(t,!0,n$,l$,Bw)}function Av(t,e,n,r,o){if(!Dn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=u$(t);if(i===0)return t;const s=o.get(t);if(s)return s;const a=new Proxy(t,i===2?r:n);return o.set(t,a),a}function bi(t){return _s(t)?bi(t.__v_raw):!!(t&&t.__v_isReactive)}function _s(t){return!!(t&&t.__v_isReadonly)}function Lo(t){return!!(t&&t.__v_isShallow)}function xl(t){return t?!!t.__v_raw:!1}function Jt(t){const e=t&&t.__v_raw;return e?Jt(e):t}function Jc(t){return!bn(t,"__v_skip")&&Object.isExtensible(t)&&Fm(t,"__v_skip",!0),t}const Pr=t=>Dn(t)?Ri(t):t,gf=t=>Dn(t)?Ci(t):t;function Hn(t){return t?t.__v_isRef===!0:!1}function z(t){return Nw(t,!1)}function Iv(t){return Nw(t,!0)}function Nw(t,e){return Hn(t)?t:new f$(t,e)}class f${constructor(e,n){this.dep=new kv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Jt(e),this._value=n?e:Pr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Lo(e)||_s(e);e=r?e:Jt(e),Ts(e,n)&&(this._rawValue=e,this._value=r?e:Pr(e),this.dep.trigger())}}function Ut(t){return Hn(t)?t.value:t}const h$={get:(t,e,n)=>e==="__v_raw"?t:Ut(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return Hn(o)&&!Hn(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function Uw(t){return bi(t)?t:new Proxy(t,h$)}function g$(t){const e=zt(t)?new Array(t.length):{};for(const n in t)e[n]=Hw(t,n);return e}class m${constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return YO(Jt(this._object),this._key)}}class p${constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Se(t,e,n){return Hn(t)?t:Kt(t)?new p$(t):Dn(t)&&arguments.length>1?Hw(t,e,n):z(t)}function Hw(t,e,n){const r=t[e];return Hn(r)?r:new m$(t,e,n)}class v${constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new kv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&_n!==this)return kw(this,!0),!0}get value(){const e=this.dep.track();return Iw(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function b$(t,e,n=!1){let r,o;return Kt(t)?r=t:(r=t.get,o=t.set),new v$(r,o,n)}const Jd={},mf=new WeakMap;let ia;function y$(t,e=!1,n=ia){if(n){let r=mf.get(n);r||mf.set(n,r=[]),r.push(t)}}function x$(t,e,n=kn){const{immediate:r,deep:o,once:i,scheduler:s,augmentJob:a,call:l}=n,c=C=>o?C:Lo(C)||o===!1||o===0?Ui(C,1):Ui(C);let d,u,f,m,h=!1,p=!1;if(Hn(t)?(u=()=>t.value,h=Lo(t)):bi(t)?(u=()=>c(t),h=!0):zt(t)?(p=!0,h=t.some(C=>bi(C)||Lo(C)),u=()=>t.map(C=>{if(Hn(C))return C.value;if(bi(C))return c(C);if(Kt(C))return l?l(C,2):C()})):Kt(t)?e?u=l?()=>l(t,2):t:u=()=>{if(f){ji();try{f()}finally{Wi()}}const C=ia;ia=d;try{return l?l(t,3,[m]):t(m)}finally{ia=C}}:u=pi,e&&o){const C=u,S=o===!0?1/0:o;u=()=>Ui(C(),S)}const v=Rw(),b=()=>{d.stop(),v&&v.active&&Sv(v.effects,d)};if(i&&e){const C=e;e=(...S)=>{C(...S),b()}}let y=p?new Array(t.length).fill(Jd):Jd;const x=C=>{if(!(!(d.flags&1)||!d.dirty&&!C))if(e){const S=d.run();if(o||h||(p?S.some((T,w)=>Ts(T,y[w])):Ts(S,y))){f&&f();const T=ia;ia=d;try{const w=[S,y===Jd?void 0:p&&y[0]===Jd?[]:y,m];y=S,l?l(e,3,w):e(...w)}finally{ia=T}}}else d.run()};return a&&a(x),d=new Tw(u),d.scheduler=s?()=>s(x,!1):x,m=C=>y$(C,!1,d),f=d.onStop=()=>{const C=mf.get(d);if(C){if(l)l(C,4);else for(const S of C)S();mf.delete(d)}},e?r?x(!0):y=d.run():s?s(x.bind(null,!0),!0):d.run(),b.pause=d.pause.bind(d),b.resume=d.resume.bind(d),b.stop=b,b}function Ui(t,e=1/0,n){if(e<=0||!Dn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Hn(t))Ui(t.value,e,n);else if(zt(t))for(let r=0;r<t.length;r++)Ui(t[r],e,n);else if(mw(t)||yl(t))t.forEach(r=>{Ui(r,e,n)});else if(bw(t)){for(const r in t)Ui(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ui(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kd(t,e,n,r){try{return r?t(...r):t()}catch(o){ah(o,e,n)}}function Go(t,e,n,r){if(Kt(t)){const o=kd(t,e,n,r);return o&&pw(o)&&o.catch(i=>{ah(i,e,n)}),o}if(zt(t)){const o=[];for(let i=0;i<t.length;i++)o.push(Go(t[i],e,n,r));return o}}function ah(t,e,n,r=!0){const o=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||kn;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](t,l,c)===!1)return}a=a.parent}if(i){ji(),kd(i,null,10,[t,l,c]),Wi();return}}C$(t,n,o,r,s)}function C$(t,e,n,r=!0,o=!1){if(o)throw t;console.error(t)}const zr=[];let si=-1;const Cl=[];let ps=null,cl=0;const Vw=Promise.resolve();let pf=null;function $t(t){const e=pf||Vw;return t?e.then(this?t.bind(this):t):e}function S$(t){let e=si+1,n=zr.length;for(;e<n;){const r=e+n>>>1,o=zr[r],i=ed(o);i<t||i===t&&o.flags&2?e=r+1:n=r}return e}function _v(t){if(!(t.flags&1)){const e=ed(t),n=zr[zr.length-1];!n||!(t.flags&2)&&e>=ed(n)?zr.push(t):zr.splice(S$(e),0,t),t.flags|=1,jw()}}function jw(){pf||(pf=Vw.then(Kw))}function w$(t){zt(t)?Cl.push(...t):ps&&t.id===-1?ps.splice(cl+1,0,t):t.flags&1||(Cl.push(t),t.flags|=1),jw()}function Nb(t,e,n=si+1){for(;n<zr.length;n++){const r=zr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;zr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ww(t){if(Cl.length){const e=[...new Set(Cl)].sort((n,r)=>ed(n)-ed(r));if(Cl.length=0,ps){ps.push(...e);return}for(ps=e,cl=0;cl<ps.length;cl++){const n=ps[cl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ps=null,cl=0}}const ed=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Kw(t){try{for(si=0;si<zr.length;si++){const e=zr[si];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),kd(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;si<zr.length;si++){const e=zr[si];e&&(e.flags&=-2)}si=-1,zr.length=0,Ww(),pf=null,(zr.length||Cl.length)&&Kw()}}let gr=null,Gw=null;function vf(t){const e=gr;return gr=t,Gw=t&&t.type.__scopeId||null,e}function Ar(t,e=gr,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&ey(-1);const i=vf(e);let s;try{s=t(...o)}finally{vf(i),r._d&&ey(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function $n(t,e){if(gr===null)return t;const n=fh(gr),r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[i,s,a,l=kn]=e[o];i&&(Kt(i)&&(i={mounted:i,updated:i}),i.deep&&Ui(s),r.push({dir:i,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Xs(t,e,n,r){const o=t.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let l=a.dir[r];l&&(ji(),Go(l,n,8,[t.el,a,t,e]),Wi())}}const qw=Symbol("_vte"),Yw=t=>t.__isTeleport,Lc=t=>t&&(t.disabled||t.disabled===""),Ub=t=>t&&(t.defer||t.defer===""),Hb=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Vb=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Nm=(t,e)=>{const n=t&&t.to;return qn(n)?e?e(n):null:n},Xw={name:"Teleport",__isTeleport:!0,process(t,e,n,r,o,i,s,a,l,c){const{mc:d,pc:u,pbc:f,o:{insert:m,querySelector:h,createText:p,createComment:v}}=c,b=Lc(e.props);let{shapeFlag:y,children:x,dynamicChildren:C}=e;if(t==null){const S=e.el=p(""),T=e.anchor=p("");m(S,n,r),m(T,n,r);const w=(R,P)=>{y&16&&(o&&o.isCE&&(o.ce._teleportTarget=R),d(x,R,P,o,i,s,a,l))},E=()=>{const R=e.target=Nm(e.props,h),P=Qw(R,e,p,m);R&&(s!=="svg"&&Hb(R)?s="svg":s!=="mathml"&&Vb(R)&&(s="mathml"),b||(w(R,P),ju(e,!1)))};b&&(w(n,T),ju(e,!0)),Ub(e.props)?(e.el.__isMounted=!1,Br(()=>{E(),delete e.el.__isMounted},i)):E()}else{if(Ub(e.props)&&t.el.__isMounted===!1){Br(()=>{Xw.process(t,e,n,r,o,i,s,a,l,c)},i);return}e.el=t.el,e.targetStart=t.targetStart;const S=e.anchor=t.anchor,T=e.target=t.target,w=e.targetAnchor=t.targetAnchor,E=Lc(t.props),R=E?n:T,P=E?S:w;if(s==="svg"||Hb(T)?s="svg":(s==="mathml"||Vb(T))&&(s="mathml"),C?(f(t.dynamicChildren,C,R,o,i,s,a),zv(t,e,!0)):l||u(t,e,R,P,o,i,s,a,!1),b)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):eu(e,n,S,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const _=e.target=Nm(e.props,h);_&&eu(e,_,null,c,0)}else E&&eu(e,T,w,c,1);ju(e,b)}},remove(t,e,n,{um:r,o:{remove:o}},i){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:d,target:u,props:f}=t;if(u&&(o(c),o(d)),i&&o(l),s&16){const m=i||!Lc(f);for(let h=0;h<a.length;h++){const p=a[h];r(p,e,n,m,!!p.dynamicChildren)}}},move:eu,hydrate:R$};function eu(t,e,n,{o:{insert:r},m:o},i=2){i===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:d}=t,u=i===2;if(u&&r(s,e,n),(!u||Lc(d))&&l&16)for(let f=0;f<c.length;f++)o(c[f],e,n,2);u&&r(a,e,n)}function R$(t,e,n,r,o,i,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:d}},u){const f=e.target=Nm(e.props,l);if(f){const m=Lc(e.props),h=f._lpa||f.firstChild;if(e.shapeFlag&16)if(m)e.anchor=u(s(t),e,a(t),n,r,o,i),e.targetStart=h,e.targetAnchor=h&&s(h);else{e.anchor=s(t);let p=h;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")e.targetStart=p;else if(p.data==="teleport anchor"){e.targetAnchor=p,f._lpa=e.targetAnchor&&s(e.targetAnchor);break}}p=s(p)}e.targetAnchor||Qw(f,e,d,c),u(h&&s(h),e,f,n,r,o,i)}ju(e,m)}return e.anchor&&s(e.anchor)}const Pd=Xw;function ju(t,e){const n=t.ctx;if(n&&n.ut){let r,o;for(e?(r=t.el,o=t.anchor):(r=t.targetStart,o=t.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Qw(t,e,n,r){const o=e.targetStart=n(""),i=e.targetAnchor=n("");return o[qw]=i,t&&(r(o,t),r(i,t)),i}const vs=Symbol("_leaveCb"),tu=Symbol("_enterCb");function Zw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Gt(()=>{t.isMounted=!0}),Qt(()=>{t.isUnmounting=!0}),t}const wo=[Function,Array],Jw={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wo,onEnter:wo,onAfterEnter:wo,onEnterCancelled:wo,onBeforeLeave:wo,onLeave:wo,onAfterLeave:wo,onLeaveCancelled:wo,onBeforeAppear:wo,onAppear:wo,onAfterAppear:wo,onAppearCancelled:wo},eR=t=>{const e=t.subTree;return e.component?eR(e.component):e},T$={name:"BaseTransition",props:Jw,setup(t,{slots:e}){const n=Zi(),r=Zw();return()=>{const o=e.default&&Lv(e.default(),!0);if(!o||!o.length)return;const i=tR(o),s=Jt(t),{mode:a}=s;if(r.isLeaving)return ag(i);const l=jb(i);if(!l)return ag(i);let c=td(l,s,r,n,u=>c=u);l.type!==or&&wa(l,c);let d=n.subTree&&jb(n.subTree);if(d&&d.type!==or&&!ca(l,d)&&eR(n).type!==or){let u=td(d,s,r,n);if(wa(d,u),a==="out-in"&&l.type!==or)return r.isLeaving=!0,u.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete u.afterLeave,d=void 0},ag(i);a==="in-out"&&l.type!==or?u.delayLeave=(f,m,h)=>{const p=nR(r,d);p[String(d.key)]=d,f[vs]=()=>{m(),f[vs]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{h(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function tR(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==or){e=n;break}}return e}const E$=T$;function nR(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function td(t,e,n,r,o){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:f,onLeave:m,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:v,onAppear:b,onAfterAppear:y,onAppearCancelled:x}=e,C=String(t.key),S=nR(n,t),T=(R,P)=>{R&&Go(R,r,9,P)},w=(R,P)=>{const _=P[1];T(R,P),zt(R)?R.every(I=>I.length<=1)&&_():R.length<=1&&_()},E={mode:s,persisted:a,beforeEnter(R){let P=l;if(!n.isMounted)if(i)P=v||l;else return;R[vs]&&R[vs](!0);const _=S[C];_&&ca(t,_)&&_.el[vs]&&_.el[vs](),T(P,[R])},enter(R){let P=c,_=d,I=u;if(!n.isMounted)if(i)P=b||c,_=y||d,I=x||u;else return;let L=!1;const N=R[tu]=H=>{L||(L=!0,H?T(I,[R]):T(_,[R]),E.delayedLeave&&E.delayedLeave(),R[tu]=void 0)};P?w(P,[R,N]):N()},leave(R,P){const _=String(t.key);if(R[tu]&&R[tu](!0),n.isUnmounting)return P();T(f,[R]);let I=!1;const L=R[vs]=N=>{I||(I=!0,P(),N?T(p,[R]):T(h,[R]),R[vs]=void 0,S[_]===t&&delete S[_])};S[_]=t,m?w(m,[R,L]):L()},clone(R){const P=td(R,e,n,r,o);return o&&o(P),P}};return E}function ag(t){if(lh(t))return t=Hr(t),t.children=null,t}function jb(t){if(!lh(t))return Yw(t.type)&&t.children?tR(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Kt(n.default))return n.default()}}function wa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,wa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Lv(t,e=!1,n){let r=[],o=0;for(let i=0;i<t.length;i++){let s=t[i];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===Vt?(s.patchFlag&128&&o++,r=r.concat(Lv(s.children,e,a))):(e||s.type!==or)&&r.push(a!=null?Hr(s,{key:a}):s)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ce(t,e){return Kt(t)?pr({name:t.name},e,{setup:t}):t}function rR(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Dc(t,e,n,r,o=!1){if(zt(t)){t.forEach((h,p)=>Dc(h,e&&(zt(e)?e[p]:e),n,r,o));return}if(Sl(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Dc(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?fh(r.component):r.el,s=o?null:i,{i:a,r:l}=t,c=e&&e.r,d=a.refs===kn?a.refs={}:a.refs,u=a.setupState,f=Jt(u),m=u===kn?()=>!1:h=>bn(f,h);if(c!=null&&c!==l&&(qn(c)?(d[c]=null,m(c)&&(u[c]=null)):Hn(c)&&(c.value=null)),Kt(l))kd(l,a,12,[s,d]);else{const h=qn(l),p=Hn(l);if(h||p){const v=()=>{if(t.f){const b=h?m(l)?u[l]:d[l]:l.value;o?zt(b)&&Sv(b,i):zt(b)?b.includes(i)||b.push(i):h?(d[l]=[i],m(l)&&(u[l]=d[l])):(l.value=[i],t.k&&(d[t.k]=l.value))}else h?(d[l]=s,m(l)&&(u[l]=s)):p&&(l.value=s,t.k&&(d[t.k]=s))};s?(v.id=-1,Br(v,n)):v()}}}ih().requestIdleCallback;ih().cancelIdleCallback;const Sl=t=>!!t.type.__asyncLoader,lh=t=>t.type.__isKeepAlive;function Dv(t,e){oR(t,"a",e)}function ch(t,e){oR(t,"da",e)}function oR(t,e,n=Sr){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(dh(e,r,n),n){let o=n.parent;for(;o&&o.parent;)lh(o.parent.vnode)&&k$(r,e,n,o),o=o.parent}}function k$(t,e,n,r){const o=dh(e,t,r,!0);Wl(()=>{Sv(r[e],o)},n)}function dh(t,e,n=Sr,r=!1){if(n){const o=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...s)=>{ji();const a=Id(n),l=Go(e,n,t,s);return a(),Wi(),l});return r?o.unshift(i):o.push(i),i}}const Xi=t=>(e,n=Sr)=>{(!rd||t==="sp")&&dh(t,(...r)=>e(...r),n)},Qi=Xi("bm"),Gt=Xi("m"),Ov=Xi("bu"),$v=Xi("u"),Qt=Xi("bum"),Wl=Xi("um"),P$=Xi("sp"),A$=Xi("rtg"),I$=Xi("rtc");function _$(t,e=Sr){dh("ec",t,e)}const L$="components";function D$(t,e){return $$(L$,t,!0,e)||t}const O$=Symbol.for("v-ndc");function $$(t,e,n=!0,r=!1){const o=gr||Sr;if(o){const i=o.type;{const a=SF(i,!1);if(a&&(a===e||a===Do(e)||a===oh(Do(e))))return i}const s=Wb(o[t]||i[t],e)||Wb(o.appContext[t],e);return!s&&r?i:s}}function Wb(t,e){return t&&(t[e]||t[Do(e)]||t[oh(Do(e))])}function Fv(t,e,n,r){let o;const i=n,s=zt(t);if(s||qn(t)){const a=s&&bi(t);let l=!1,c=!1;a&&(l=!Lo(t),c=_s(t),t=sh(t)),o=new Array(t.length);for(let d=0,u=t.length;d<u;d++)o[d]=e(l?c?gf(Pr(t[d])):Pr(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,i)}else if(Dn(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];o[l]=e(t[d],d,l,i)}}else o=[];return o}function iR(t,e,n={},r,o){if(gr.ce||gr.parent&&Sl(gr.parent)&&gr.parent.ce)return Ln(),Ra(Vt,null,[nn("slot",n,r)],64);let i=t[e];i&&i._c&&(i._d=!1),Ln();const s=i&&sR(i(n)),a=n.key||s&&s.key,l=Ra(Vt,{key:(a&&!Yi(a)?a:`_${e}`)+""},s||[],s&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function sR(t){return t.some(e=>Il(e)?!(e.type===or||e.type===Vt&&!sR(e.children)):!0)?t:null}const Um=t=>t?RR(t)?fh(t):Um(t.parent):null,Oc=pr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Um(t.parent),$root:t=>Um(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>lR(t),$forceUpdate:t=>t.f||(t.f=()=>{_v(t.update)}),$nextTick:t=>t.n||(t.n=$t.bind(t.proxy)),$watch:t=>rF.bind(t)}),lg=(t,e)=>t!==kn&&!t.__isScriptSetup&&bn(t,e),F$={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const m=s[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return i[e]}else{if(lg(r,e))return s[e]=1,r[e];if(o!==kn&&bn(o,e))return s[e]=2,o[e];if((c=t.propsOptions[0])&&bn(c,e))return s[e]=3,i[e];if(n!==kn&&bn(n,e))return s[e]=4,n[e];Hm&&(s[e]=0)}}const d=Oc[e];let u,f;if(d)return e==="$attrs"&&Or(t.attrs,"get",""),d(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==kn&&bn(n,e))return s[e]=4,n[e];if(f=l.config.globalProperties,bn(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:i}=t;return lg(o,e)?(o[e]=n,!0):r!==kn&&bn(r,e)?(r[e]=n,!0):bn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!n[s]||t!==kn&&bn(t,s)||lg(e,s)||(a=i[0])&&bn(a,s)||bn(r,s)||bn(Oc,s)||bn(o.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:bn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Kb(t){return zt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Hm=!0;function M$(t){const e=lR(t),n=t.proxy,r=t.ctx;Hm=!1,e.beforeCreate&&Gb(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:s,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:f,beforeUpdate:m,updated:h,activated:p,deactivated:v,beforeDestroy:b,beforeUnmount:y,destroyed:x,unmounted:C,render:S,renderTracked:T,renderTriggered:w,errorCaptured:E,serverPrefetch:R,expose:P,inheritAttrs:_,components:I,directives:L,filters:N}=e;if(c&&B$(c,r,null),s)for(const W in s){const J=s[W];Kt(J)&&(r[W]=J.bind(n))}if(o){const W=o.call(n,n);Dn(W)&&(t.data=Ri(W))}if(Hm=!0,i)for(const W in i){const J=i[W],ne=Kt(J)?J.bind(n,n):Kt(J.get)?J.get.bind(n,n):pi,D=!Kt(J)&&Kt(J.set)?J.set.bind(n):pi,B=A({get:ne,set:D});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>B.value,set:j=>B.value=j})}if(a)for(const W in a)aR(a[W],r,n,W);if(l){const W=Kt(l)?l.call(n):l;Reflect.ownKeys(W).forEach(J=>{ft(J,W[J])})}d&&Gb(d,t,"c");function G(W,J){zt(J)?J.forEach(ne=>W(ne.bind(n))):J&&W(J.bind(n))}if(G(Qi,u),G(Gt,f),G(Ov,m),G($v,h),G(Dv,p),G(ch,v),G(_$,E),G(I$,T),G(A$,w),G(Qt,y),G(Wl,C),G(P$,R),zt(P))if(P.length){const W=t.exposed||(t.exposed={});P.forEach(J=>{Object.defineProperty(W,J,{get:()=>n[J],set:ne=>n[J]=ne})})}else t.exposed||(t.exposed={});S&&t.render===pi&&(t.render=S),_!=null&&(t.inheritAttrs=_),I&&(t.components=I),L&&(t.directives=L),R&&rR(t)}function B$(t,e,n=pi){zt(t)&&(t=Vm(t));for(const r in t){const o=t[r];let i;Dn(o)?"default"in o?i=Ve(o.from||r,o.default,!0):i=Ve(o.from||r):i=Ve(o),Hn(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[r]=i}}function Gb(t,e,n){Go(zt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function aR(t,e,n,r){let o=r.includes(".")?yR(n,r):()=>n[r];if(qn(t)){const i=e[t];Kt(i)&&gt(o,i)}else if(Kt(t))gt(o,t.bind(n));else if(Dn(t))if(zt(t))t.forEach(i=>aR(i,e,n,r));else{const i=Kt(t.handler)?t.handler.bind(n):e[t.handler];Kt(i)&&gt(o,i,t)}}function lR(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,a=i.get(e);let l;return a?l=a:!o.length&&!n&&!r?l=e:(l={},o.length&&o.forEach(c=>bf(l,c,s,!0)),bf(l,e,s)),Dn(e)&&i.set(e,l),l}function bf(t,e,n,r=!1){const{mixins:o,extends:i}=e;i&&bf(t,i,n,!0),o&&o.forEach(s=>bf(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=z$[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const z$={data:qb,props:Yb,emits:Yb,methods:Sc,computed:Sc,beforeCreate:Mr,created:Mr,beforeMount:Mr,mounted:Mr,beforeUpdate:Mr,updated:Mr,beforeDestroy:Mr,beforeUnmount:Mr,destroyed:Mr,unmounted:Mr,activated:Mr,deactivated:Mr,errorCaptured:Mr,serverPrefetch:Mr,components:Sc,directives:Sc,watch:U$,provide:qb,inject:N$};function qb(t,e){return e?t?function(){return pr(Kt(t)?t.call(this,this):t,Kt(e)?e.call(this,this):e)}:e:t}function N$(t,e){return Sc(Vm(t),Vm(e))}function Vm(t){if(zt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Mr(t,e){return t?[...new Set([].concat(t,e))]:e}function Sc(t,e){return t?pr(Object.create(null),t,e):e}function Yb(t,e){return t?zt(t)&&zt(e)?[...new Set([...t,...e])]:pr(Object.create(null),Kb(t),Kb(e??{})):e}function U$(t,e){if(!t)return e;if(!e)return t;const n=pr(Object.create(null),t);for(const r in e)n[r]=Mr(t[r],e[r]);return n}function cR(){return{app:null,config:{isNativeTag:DO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let H$=0;function V$(t,e){return function(r,o=null){Kt(r)||(r=pr({},r)),o!=null&&!Dn(o)&&(o=null);const i=cR(),s=new WeakSet,a=[];let l=!1;const c=i.app={_uid:H$++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:RF,get config(){return i.config},set config(d){},use(d,...u){return s.has(d)||(d&&Kt(d.install)?(s.add(d),d.install(c,...u)):Kt(d)&&(s.add(d),d(c,...u))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,u){return u?(i.components[d]=u,c):i.components[d]},directive(d,u){return u?(i.directives[d]=u,c):i.directives[d]},mount(d,u,f){if(!l){const m=c._ceVNode||nn(r,o);return m.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(m,d,f),l=!0,c._container=d,d.__vue_app__=c,fh(m.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Go(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,u){return i.provides[d]=u,c},runWithContext(d){const u=ma;ma=c;try{return d()}finally{ma=u}}};return c}}let ma=null;function ft(t,e){if(Sr){let n=Sr.provides;const r=Sr.parent&&Sr.parent.provides;r===n&&(n=Sr.provides=Object.create(r)),n[t]=e}}function Ve(t,e,n=!1){const r=Sr||gr;if(r||ma){let o=ma?ma._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Kt(e)?e.call(r&&r.proxy):e}}function j$(){return!!(Sr||gr||ma)}const dR={},uR=()=>Object.create(dR),fR=t=>Object.getPrototypeOf(t)===dR;function W$(t,e,n,r=!1){const o={},i=uR();t.propsDefaults=Object.create(null),hR(t,e,o,i);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);n?t.props=r?o:zw(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function K$(t,e,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=t,a=Jt(o),[l]=t.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let u=0;u<d.length;u++){let f=d[u];if(uh(t.emitsOptions,f))continue;const m=e[f];if(l)if(bn(i,f))m!==i[f]&&(i[f]=m,c=!0);else{const h=Do(f);o[h]=jm(l,a,h,m,t,!1)}else m!==i[f]&&(i[f]=m,c=!0)}}}else{hR(t,e,o,i)&&(c=!0);let d;for(const u in a)(!e||!bn(e,u)&&((d=Ws(u))===u||!bn(e,d)))&&(l?n&&(n[u]!==void 0||n[d]!==void 0)&&(o[u]=jm(l,a,u,void 0,t,!0)):delete o[u]);if(i!==a)for(const u in i)(!e||!bn(e,u))&&(delete i[u],c=!0)}c&&Ni(t.attrs,"set","")}function hR(t,e,n,r){const[o,i]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(Ac(l))continue;const c=e[l];let d;o&&bn(o,d=Do(l))?!i||!i.includes(d)?n[d]=c:(a||(a={}))[d]=c:uh(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(i){const l=Jt(n),c=a||kn;for(let d=0;d<i.length;d++){const u=i[d];n[u]=jm(o,l,u,c[u],t,!bn(c,u))}}return s}function jm(t,e,n,r,o,i){const s=t[n];if(s!=null){const a=bn(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Kt(l)){const{propsDefaults:c}=o;if(n in c)r=c[n];else{const d=Id(o);r=c[n]=l.call(null,e),d()}}else r=l;o.ce&&o.ce._setProp(n,r)}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===Ws(n))&&(r=!0))}return r}const G$=new WeakMap;function gR(t,e,n=!1){const r=n?G$:e.propsCache,o=r.get(t);if(o)return o;const i=t.props,s={},a=[];let l=!1;if(!Kt(t)){const d=u=>{l=!0;const[f,m]=gR(u,e,!0);pr(s,f),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return Dn(t)&&r.set(t,bl),bl;if(zt(i))for(let d=0;d<i.length;d++){const u=Do(i[d]);Xb(u)&&(s[u]=kn)}else if(i)for(const d in i){const u=Do(d);if(Xb(u)){const f=i[d],m=s[u]=zt(f)||Kt(f)?{type:f}:pr({},f),h=m.type;let p=!1,v=!0;if(zt(h))for(let b=0;b<h.length;++b){const y=h[b],x=Kt(y)&&y.name;if(x==="Boolean"){p=!0;break}else x==="String"&&(v=!1)}else p=Kt(h)&&h.name==="Boolean";m[0]=p,m[1]=v,(p||bn(m,"default"))&&a.push(u)}}const c=[s,a];return Dn(t)&&r.set(t,c),c}function Xb(t){return t[0]!=="$"&&!Ac(t)}const Mv=t=>t[0]==="_"||t==="$stable",Bv=t=>zt(t)?t.map(ci):[ci(t)],q$=(t,e,n)=>{if(e._n)return e;const r=Ar((...o)=>Bv(e(...o)),n);return r._c=!1,r},mR=(t,e,n)=>{const r=t._ctx;for(const o in t){if(Mv(o))continue;const i=t[o];if(Kt(i))e[o]=q$(o,i,r);else if(i!=null){const s=Bv(i);e[o]=()=>s}}},pR=(t,e)=>{const n=Bv(e);t.slots.default=()=>n},vR=(t,e,n)=>{for(const r in e)(n||!Mv(r))&&(t[r]=e[r])},Y$=(t,e,n)=>{const r=t.slots=uR();if(t.vnode.shapeFlag&32){const o=e.__;o&&Fm(r,"__",o,!0);const i=e._;i?(vR(r,e,n),n&&Fm(r,"_",i,!0)):mR(e,r)}else e&&pR(t,e)},X$=(t,e,n)=>{const{vnode:r,slots:o}=t;let i=!0,s=kn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:vR(o,e,n):(i=!e.$stable,mR(e,o)),s=e}else e&&(pR(t,e),s={default:1});if(i)for(const a in o)!Mv(a)&&s[a]==null&&delete o[a]},Br=dF;function Q$(t){return Z$(t)}function Z$(t,e){const n=ih();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:f,setScopeId:m=pi,insertStaticContent:h}=t,p=(Q,Y,re,be=null,Ce=null,le=null,de=void 0,fe=null,te=!!Y.dynamicChildren)=>{if(Q===Y)return;Q&&!ca(Q,Y)&&(be=q(Q),j(Q,Ce,le,!0),Q=null),Y.patchFlag===-2&&(te=!1,Y.dynamicChildren=null);const{type:ae,ref:Ee,shapeFlag:se}=Y;switch(ae){case Ad:v(Q,Y,re,be);break;case or:b(Q,Y,re,be);break;case Wu:Q==null&&y(Y,re,be,de);break;case Vt:I(Q,Y,re,be,Ce,le,de,fe,te);break;default:se&1?S(Q,Y,re,be,Ce,le,de,fe,te):se&6?L(Q,Y,re,be,Ce,le,de,fe,te):(se&64||se&128)&&ae.process(Q,Y,re,be,Ce,le,de,fe,te,he)}Ee!=null&&Ce?Dc(Ee,Q&&Q.ref,le,Y||Q,!Y):Ee==null&&Q&&Q.ref!=null&&Dc(Q.ref,null,le,Q,!0)},v=(Q,Y,re,be)=>{if(Q==null)r(Y.el=a(Y.children),re,be);else{const Ce=Y.el=Q.el;Y.children!==Q.children&&c(Ce,Y.children)}},b=(Q,Y,re,be)=>{Q==null?r(Y.el=l(Y.children||""),re,be):Y.el=Q.el},y=(Q,Y,re,be)=>{[Q.el,Q.anchor]=h(Q.children,Y,re,be,Q.el,Q.anchor)},x=({el:Q,anchor:Y},re,be)=>{let Ce;for(;Q&&Q!==Y;)Ce=f(Q),r(Q,re,be),Q=Ce;r(Y,re,be)},C=({el:Q,anchor:Y})=>{let re;for(;Q&&Q!==Y;)re=f(Q),o(Q),Q=re;o(Y)},S=(Q,Y,re,be,Ce,le,de,fe,te)=>{Y.type==="svg"?de="svg":Y.type==="math"&&(de="mathml"),Q==null?T(Y,re,be,Ce,le,de,fe,te):R(Q,Y,Ce,le,de,fe,te)},T=(Q,Y,re,be,Ce,le,de,fe)=>{let te,ae;const{props:Ee,shapeFlag:se,transition:ie,dirs:ge}=Q;if(te=Q.el=s(Q.type,le,Ee&&Ee.is,Ee),se&8?d(te,Q.children):se&16&&E(Q.children,te,null,be,Ce,cg(Q,le),de,fe),ge&&Xs(Q,null,be,"created"),w(te,Q,Q.scopeId,de,be),Ee){for(const xe in Ee)xe!=="value"&&!Ac(xe)&&i(te,xe,null,Ee[xe],le,be);"value"in Ee&&i(te,"value",null,Ee.value,le),(ae=Ee.onVnodeBeforeMount)&&ei(ae,be,Q)}ge&&Xs(Q,null,be,"beforeMount");const Le=J$(Ce,ie);Le&&ie.beforeEnter(te),r(te,Y,re),((ae=Ee&&Ee.onVnodeMounted)||Le||ge)&&Br(()=>{ae&&ei(ae,be,Q),Le&&ie.enter(te),ge&&Xs(Q,null,be,"mounted")},Ce)},w=(Q,Y,re,be,Ce)=>{if(re&&m(Q,re),be)for(let le=0;le<be.length;le++)m(Q,be[le]);if(Ce){let le=Ce.subTree;if(Y===le||CR(le.type)&&(le.ssContent===Y||le.ssFallback===Y)){const de=Ce.vnode;w(Q,de,de.scopeId,de.slotScopeIds,Ce.parent)}}},E=(Q,Y,re,be,Ce,le,de,fe,te=0)=>{for(let ae=te;ae<Q.length;ae++){const Ee=Q[ae]=fe?bs(Q[ae]):ci(Q[ae]);p(null,Ee,Y,re,be,Ce,le,de,fe)}},R=(Q,Y,re,be,Ce,le,de)=>{const fe=Y.el=Q.el;let{patchFlag:te,dynamicChildren:ae,dirs:Ee}=Y;te|=Q.patchFlag&16;const se=Q.props||kn,ie=Y.props||kn;let ge;if(re&&Qs(re,!1),(ge=ie.onVnodeBeforeUpdate)&&ei(ge,re,Y,Q),Ee&&Xs(Y,Q,re,"beforeUpdate"),re&&Qs(re,!0),(se.innerHTML&&ie.innerHTML==null||se.textContent&&ie.textContent==null)&&d(fe,""),ae?P(Q.dynamicChildren,ae,fe,re,be,cg(Y,Ce),le):de||J(Q,Y,fe,null,re,be,cg(Y,Ce),le,!1),te>0){if(te&16)_(fe,se,ie,re,Ce);else if(te&2&&se.class!==ie.class&&i(fe,"class",null,ie.class,Ce),te&4&&i(fe,"style",se.style,ie.style,Ce),te&8){const Le=Y.dynamicProps;for(let xe=0;xe<Le.length;xe++){const We=Le[xe],at=se[We],bt=ie[We];(bt!==at||We==="value")&&i(fe,We,at,bt,Ce,re)}}te&1&&Q.children!==Y.children&&d(fe,Y.children)}else!de&&ae==null&&_(fe,se,ie,re,Ce);((ge=ie.onVnodeUpdated)||Ee)&&Br(()=>{ge&&ei(ge,re,Y,Q),Ee&&Xs(Y,Q,re,"updated")},be)},P=(Q,Y,re,be,Ce,le,de)=>{for(let fe=0;fe<Y.length;fe++){const te=Q[fe],ae=Y[fe],Ee=te.el&&(te.type===Vt||!ca(te,ae)||te.shapeFlag&198)?u(te.el):re;p(te,ae,Ee,null,be,Ce,le,de,!0)}},_=(Q,Y,re,be,Ce)=>{if(Y!==re){if(Y!==kn)for(const le in Y)!Ac(le)&&!(le in re)&&i(Q,le,Y[le],null,Ce,be);for(const le in re){if(Ac(le))continue;const de=re[le],fe=Y[le];de!==fe&&le!=="value"&&i(Q,le,fe,de,Ce,be)}"value"in re&&i(Q,"value",Y.value,re.value,Ce)}},I=(Q,Y,re,be,Ce,le,de,fe,te)=>{const ae=Y.el=Q?Q.el:a(""),Ee=Y.anchor=Q?Q.anchor:a("");let{patchFlag:se,dynamicChildren:ie,slotScopeIds:ge}=Y;ge&&(fe=fe?fe.concat(ge):ge),Q==null?(r(ae,re,be),r(Ee,re,be),E(Y.children||[],re,Ee,Ce,le,de,fe,te)):se>0&&se&64&&ie&&Q.dynamicChildren?(P(Q.dynamicChildren,ie,re,Ce,le,de,fe),(Y.key!=null||Ce&&Y===Ce.subTree)&&zv(Q,Y,!0)):J(Q,Y,re,Ee,Ce,le,de,fe,te)},L=(Q,Y,re,be,Ce,le,de,fe,te)=>{Y.slotScopeIds=fe,Q==null?Y.shapeFlag&512?Ce.ctx.activate(Y,re,be,de,te):N(Y,re,be,Ce,le,de,te):H(Q,Y,te)},N=(Q,Y,re,be,Ce,le,de)=>{const fe=Q.component=vF(Q,be,Ce);if(lh(Q)&&(fe.ctx.renderer=he),bF(fe,!1,de),fe.asyncDep){if(Ce&&Ce.registerDep(fe,G,de),!Q.el){const te=fe.subTree=nn(or);b(null,te,Y,re)}}else G(fe,Q,Y,re,Ce,le,de)},H=(Q,Y,re)=>{const be=Y.component=Q.component;if(lF(Q,Y,re))if(be.asyncDep&&!be.asyncResolved){W(be,Y,re);return}else be.next=Y,be.update();else Y.el=Q.el,be.vnode=Y},G=(Q,Y,re,be,Ce,le,de)=>{const fe=()=>{if(Q.isMounted){let{next:se,bu:ie,u:ge,parent:Le,vnode:xe}=Q;{const Ct=bR(Q);if(Ct){se&&(se.el=xe.el,W(Q,se,de)),Ct.asyncDep.then(()=>{Q.isUnmounted||fe()});return}}let We=se,at;Qs(Q,!1),se?(se.el=xe.el,W(Q,se,de)):se=xe,ie&&ng(ie),(at=se.props&&se.props.onVnodeBeforeUpdate)&&ei(at,Le,se,xe),Qs(Q,!0);const bt=Zb(Q),dt=Q.subTree;Q.subTree=bt,p(dt,bt,u(dt.el),q(dt),Q,Ce,le),se.el=bt.el,We===null&&cF(Q,bt.el),ge&&Br(ge,Ce),(at=se.props&&se.props.onVnodeUpdated)&&Br(()=>ei(at,Le,se,xe),Ce)}else{let se;const{el:ie,props:ge}=Y,{bm:Le,m:xe,parent:We,root:at,type:bt}=Q,dt=Sl(Y);Qs(Q,!1),Le&&ng(Le),!dt&&(se=ge&&ge.onVnodeBeforeMount)&&ei(se,We,Y),Qs(Q,!0);{at.ce&&at.ce._def.shadowRoot!==!1&&at.ce._injectChildStyle(bt);const Ct=Q.subTree=Zb(Q);p(null,Ct,re,be,Q,Ce,le),Y.el=Ct.el}if(xe&&Br(xe,Ce),!dt&&(se=ge&&ge.onVnodeMounted)){const Ct=Y;Br(()=>ei(se,We,Ct),Ce)}(Y.shapeFlag&256||We&&Sl(We.vnode)&&We.vnode.shapeFlag&256)&&Q.a&&Br(Q.a,Ce),Q.isMounted=!0,Y=re=be=null}};Q.scope.on();const te=Q.effect=new Tw(fe);Q.scope.off();const ae=Q.update=te.run.bind(te),Ee=Q.job=te.runIfDirty.bind(te);Ee.i=Q,Ee.id=Q.uid,te.scheduler=()=>_v(Ee),Qs(Q,!0),ae()},W=(Q,Y,re)=>{Y.component=Q;const be=Q.vnode.props;Q.vnode=Y,Q.next=null,K$(Q,Y.props,be,re),X$(Q,Y.children,re),ji(),Nb(Q),Wi()},J=(Q,Y,re,be,Ce,le,de,fe,te=!1)=>{const ae=Q&&Q.children,Ee=Q?Q.shapeFlag:0,se=Y.children,{patchFlag:ie,shapeFlag:ge}=Y;if(ie>0){if(ie&128){D(ae,se,re,be,Ce,le,de,fe,te);return}else if(ie&256){ne(ae,se,re,be,Ce,le,de,fe,te);return}}ge&8?(Ee&16&&Z(ae,Ce,le),se!==ae&&d(re,se)):Ee&16?ge&16?D(ae,se,re,be,Ce,le,de,fe,te):Z(ae,Ce,le,!0):(Ee&8&&d(re,""),ge&16&&E(se,re,be,Ce,le,de,fe,te))},ne=(Q,Y,re,be,Ce,le,de,fe,te)=>{Q=Q||bl,Y=Y||bl;const ae=Q.length,Ee=Y.length,se=Math.min(ae,Ee);let ie;for(ie=0;ie<se;ie++){const ge=Y[ie]=te?bs(Y[ie]):ci(Y[ie]);p(Q[ie],ge,re,null,Ce,le,de,fe,te)}ae>Ee?Z(Q,Ce,le,!0,!1,se):E(Y,re,be,Ce,le,de,fe,te,se)},D=(Q,Y,re,be,Ce,le,de,fe,te)=>{let ae=0;const Ee=Y.length;let se=Q.length-1,ie=Ee-1;for(;ae<=se&&ae<=ie;){const ge=Q[ae],Le=Y[ae]=te?bs(Y[ae]):ci(Y[ae]);if(ca(ge,Le))p(ge,Le,re,null,Ce,le,de,fe,te);else break;ae++}for(;ae<=se&&ae<=ie;){const ge=Q[se],Le=Y[ie]=te?bs(Y[ie]):ci(Y[ie]);if(ca(ge,Le))p(ge,Le,re,null,Ce,le,de,fe,te);else break;se--,ie--}if(ae>se){if(ae<=ie){const ge=ie+1,Le=ge<Ee?Y[ge].el:be;for(;ae<=ie;)p(null,Y[ae]=te?bs(Y[ae]):ci(Y[ae]),re,Le,Ce,le,de,fe,te),ae++}}else if(ae>ie)for(;ae<=se;)j(Q[ae],Ce,le,!0),ae++;else{const ge=ae,Le=ae,xe=new Map;for(ae=Le;ae<=ie;ae++){const rt=Y[ae]=te?bs(Y[ae]):ci(Y[ae]);rt.key!=null&&xe.set(rt.key,ae)}let We,at=0;const bt=ie-Le+1;let dt=!1,Ct=0;const Tt=new Array(bt);for(ae=0;ae<bt;ae++)Tt[ae]=0;for(ae=ge;ae<=se;ae++){const rt=Q[ae];if(at>=bt){j(rt,Ce,le,!0);continue}let oe;if(rt.key!=null)oe=xe.get(rt.key);else for(We=Le;We<=ie;We++)if(Tt[We-Le]===0&&ca(rt,Y[We])){oe=We;break}oe===void 0?j(rt,Ce,le,!0):(Tt[oe-Le]=ae+1,oe>=Ct?Ct=oe:dt=!0,p(rt,Y[oe],re,null,Ce,le,de,fe,te),at++)}const Qe=dt?eF(Tt):bl;for(We=Qe.length-1,ae=bt-1;ae>=0;ae--){const rt=Le+ae,oe=Y[rt],ee=rt+1<Ee?Y[rt+1].el:be;Tt[ae]===0?p(null,oe,re,ee,Ce,le,de,fe,te):dt&&(We<0||ae!==Qe[We]?B(oe,re,ee,2):We--)}}},B=(Q,Y,re,be,Ce=null)=>{const{el:le,type:de,transition:fe,children:te,shapeFlag:ae}=Q;if(ae&6){B(Q.component.subTree,Y,re,be);return}if(ae&128){Q.suspense.move(Y,re,be);return}if(ae&64){de.move(Q,Y,re,he);return}if(de===Vt){r(le,Y,re);for(let se=0;se<te.length;se++)B(te[se],Y,re,be);r(Q.anchor,Y,re);return}if(de===Wu){x(Q,Y,re);return}if(be!==2&&ae&1&&fe)if(be===0)fe.beforeEnter(le),r(le,Y,re),Br(()=>fe.enter(le),Ce);else{const{leave:se,delayLeave:ie,afterLeave:ge}=fe,Le=()=>{Q.ctx.isUnmounted?o(le):r(le,Y,re)},xe=()=>{se(le,()=>{Le(),ge&&ge()})};ie?ie(le,Le,xe):xe()}else r(le,Y,re)},j=(Q,Y,re,be=!1,Ce=!1)=>{const{type:le,props:de,ref:fe,children:te,dynamicChildren:ae,shapeFlag:Ee,patchFlag:se,dirs:ie,cacheIndex:ge}=Q;if(se===-2&&(Ce=!1),fe!=null&&(ji(),Dc(fe,null,re,Q,!0),Wi()),ge!=null&&(Y.renderCache[ge]=void 0),Ee&256){Y.ctx.deactivate(Q);return}const Le=Ee&1&&ie,xe=!Sl(Q);let We;if(xe&&(We=de&&de.onVnodeBeforeUnmount)&&ei(We,Y,Q),Ee&6)X(Q.component,re,be);else{if(Ee&128){Q.suspense.unmount(re,be);return}Le&&Xs(Q,null,Y,"beforeUnmount"),Ee&64?Q.type.remove(Q,Y,re,he,be):ae&&!ae.hasOnce&&(le!==Vt||se>0&&se&64)?Z(ae,Y,re,!1,!0):(le===Vt&&se&384||!Ce&&Ee&16)&&Z(te,Y,re),be&&$(Q)}(xe&&(We=de&&de.onVnodeUnmounted)||Le)&&Br(()=>{We&&ei(We,Y,Q),Le&&Xs(Q,null,Y,"unmounted")},re)},$=Q=>{const{type:Y,el:re,anchor:be,transition:Ce}=Q;if(Y===Vt){V(re,be);return}if(Y===Wu){C(Q);return}const le=()=>{o(re),Ce&&!Ce.persisted&&Ce.afterLeave&&Ce.afterLeave()};if(Q.shapeFlag&1&&Ce&&!Ce.persisted){const{leave:de,delayLeave:fe}=Ce,te=()=>de(re,le);fe?fe(Q.el,le,te):te()}else le()},V=(Q,Y)=>{let re;for(;Q!==Y;)re=f(Q),o(Q),Q=re;o(Y)},X=(Q,Y,re)=>{const{bum:be,scope:Ce,job:le,subTree:de,um:fe,m:te,a:ae,parent:Ee,slots:{__:se}}=Q;Qb(te),Qb(ae),be&&ng(be),Ee&&zt(se)&&se.forEach(ie=>{Ee.renderCache[ie]=void 0}),Ce.stop(),le&&(le.flags|=8,j(de,Q,Y,re)),fe&&Br(fe,Y),Br(()=>{Q.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&Q.asyncDep&&!Q.asyncResolved&&Q.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},Z=(Q,Y,re,be=!1,Ce=!1,le=0)=>{for(let de=le;de<Q.length;de++)j(Q[de],Y,re,be,Ce)},q=Q=>{if(Q.shapeFlag&6)return q(Q.component.subTree);if(Q.shapeFlag&128)return Q.suspense.next();const Y=f(Q.anchor||Q.el),re=Y&&Y[qw];return re?f(re):Y};let ue=!1;const K=(Q,Y,re)=>{Q==null?Y._vnode&&j(Y._vnode,null,null,!0):p(Y._vnode||null,Q,Y,null,null,null,re),Y._vnode=Q,ue||(ue=!0,Nb(),Ww(),ue=!1)},he={p,um:j,m:B,r:$,mt:N,mc:E,pc:J,pbc:P,n:q,o:t};return{render:K,hydrate:void 0,createApp:V$(K)}}function cg({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Qs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function J$(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zv(t,e,n=!1){const r=t.children,o=e.children;if(zt(r)&&zt(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=bs(o[i]),a.el=s.el),!n&&a.patchFlag!==-2&&zv(s,a)),a.type===Ad&&(a.el=s.el),a.type===or&&!a.el&&(a.el=s.el)}}function eF(t){const e=t.slice(),n=[0];let r,o,i,s,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(o=n[n.length-1],t[o]<c){e[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,t[n[a]]<c?i=a+1:s=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=e[s];return n}function bR(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:bR(e)}function Qb(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const tF=Symbol.for("v-scx"),nF=()=>Ve(tF);function Xt(t,e){return Nv(t,null,e)}function gt(t,e,n){return Nv(t,e,n)}function Nv(t,e,n=kn){const{immediate:r,deep:o,flush:i,once:s}=n,a=pr({},n),l=e&&r||!e&&i!=="post";let c;if(rd){if(i==="sync"){const m=nF();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=pi,m.resume=pi,m.pause=pi,m}}const d=Sr;a.call=(m,h,p)=>Go(m,d,h,p);let u=!1;i==="post"?a.scheduler=m=>{Br(m,d&&d.suspense)}:i!=="sync"&&(u=!0,a.scheduler=(m,h)=>{h?m():_v(m)}),a.augmentJob=m=>{e&&(m.flags|=4),u&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const f=x$(t,e,a);return rd&&(c?c.push(f):l&&f()),f}function rF(t,e,n){const r=this.proxy,o=qn(t)?t.includes(".")?yR(r,t):()=>r[t]:t.bind(r,r);let i;Kt(e)?i=e:(i=e.handler,n=e);const s=Id(this),a=Nv(o,i.bind(r),n);return s(),a}function yR(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const oF=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Do(e)}Modifiers`]||t[`${Ws(e)}Modifiers`];function iF(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||kn;let o=n;const i=e.startsWith("update:"),s=i&&oF(r,e.slice(7));s&&(s.trim&&(o=n.map(d=>qn(d)?d.trim():d)),s.number&&(o=n.map(BO)));let a,l=r[a=tg(e)]||r[a=tg(Do(e))];!l&&i&&(l=r[a=tg(Ws(e))]),l&&Go(l,t,6,o);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Go(c,t,6,o)}}function xR(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const i=t.emits;let s={},a=!1;if(!Kt(t)){const l=c=>{const d=xR(c,e,!0);d&&(a=!0,pr(s,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Dn(t)&&r.set(t,null),null):(zt(i)?i.forEach(l=>s[l]=null):pr(s,i),Dn(t)&&r.set(t,s),s)}function uh(t,e){return!t||!th(e)?!1:(e=e.slice(2).replace(/Once$/,""),bn(t,e[0].toLowerCase()+e.slice(1))||bn(t,Ws(e))||bn(t,e))}function Zb(t){const{type:e,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:a,emit:l,render:c,renderCache:d,props:u,data:f,setupState:m,ctx:h,inheritAttrs:p}=t,v=vf(t);let b,y;try{if(n.shapeFlag&4){const C=o||r,S=C;b=ci(c.call(S,C,d,u,m,f,h)),y=a}else{const C=e;b=ci(C.length>1?C(u,{attrs:a,slots:s,emit:l}):C(u,null)),y=e.props?a:sF(a)}}catch(C){$c.length=0,ah(C,t,1),b=nn(or)}let x=b;if(y&&p!==!1){const C=Object.keys(y),{shapeFlag:S}=x;C.length&&S&7&&(i&&C.some(Cv)&&(y=aF(y,i)),x=Hr(x,y,!1,!0))}return n.dirs&&(x=Hr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&wa(x,n.transition),b=x,vf(v),b}const sF=t=>{let e;for(const n in t)(n==="class"||n==="style"||th(n))&&((e||(e={}))[n]=t[n]);return e},aF=(t,e)=>{const n={};for(const r in t)(!Cv(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function lF(t,e,n){const{props:r,children:o,component:i}=t,{props:s,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Jb(r,s,c):!!s;if(l&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const f=d[u];if(s[f]!==r[f]&&!uh(c,f))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Jb(r,s,c):!0:!!s;return!1}function Jb(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==t[i]&&!uh(n,i))return!0}return!1}function cF({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const CR=t=>t.__isSuspense;function dF(t,e){e&&e.pendingBranch?zt(t)?e.effects.push(...t):e.effects.push(t):w$(t)}const Vt=Symbol.for("v-fgt"),Ad=Symbol.for("v-txt"),or=Symbol.for("v-cmt"),Wu=Symbol.for("v-stc"),$c=[];let uo=null;function Ln(t=!1){$c.push(uo=t?null:[])}function uF(){$c.pop(),uo=$c[$c.length-1]||null}let nd=1;function ey(t,e=!1){nd+=t,t<0&&uo&&e&&(uo.hasOnce=!0)}function SR(t){return t.dynamicChildren=nd>0?uo||bl:null,uF(),nd>0&&uo&&uo.push(t),t}function mr(t,e,n,r,o,i){return SR(Ht(t,e,n,r,o,i,!0))}function Ra(t,e,n,r,o){return SR(nn(t,e,n,r,o,!0))}function Il(t){return t?t.__v_isVNode===!0:!1}function ca(t,e){return t.type===e.type&&t.key===e.key}const wR=({key:t})=>t??null,Ku=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qn(t)||Hn(t)||Kt(t)?{i:gr,r:t,k:e,f:!!n}:t:null);function Ht(t,e=null,n=null,r=0,o=null,i=t===Vt?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&wR(e),ref:e&&Ku(e),scopeId:Gw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:gr};return a?(Uv(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=qn(n)?8:16),nd>0&&!s&&uo&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&uo.push(l),l}const nn=fF;function fF(t,e=null,n=null,r=0,o=null,i=!1){if((!t||t===O$)&&(t=or),Il(t)){const a=Hr(t,e,!0);return n&&Uv(a,n),nd>0&&!i&&uo&&(a.shapeFlag&6?uo[uo.indexOf(t)]=a:uo.push(a)),a.patchFlag=-2,a}if(wF(t)&&(t=t.__vccOpts),e){e=hF(e);let{class:a,style:l}=e;a&&!qn(a)&&(e.class=Is(a)),Dn(l)&&(xl(l)&&!zt(l)&&(l=pr({},l)),e.style=vi(l))}const s=qn(t)?1:CR(t)?128:Yw(t)?64:Dn(t)?4:Kt(t)?2:0;return Ht(t,e,n,r,o,s,i,!0)}function hF(t){return t?xl(t)||fR(t)?pr({},t):t:null}function Hr(t,e,n=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:a,transition:l}=t,c=e?sr(o||{},e):o,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&wR(c),ref:e&&e.ref?n&&i?zt(i)?i.concat(Ku(e)):[i,Ku(e)]:Ku(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Hr(t.ssContent),ssFallback:t.ssFallback&&Hr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&wa(d,l.clone(d)),d}function hr(t=" ",e=0){return nn(Ad,null,t,e)}function gF(t,e){const n=nn(Wu,null,t);return n.staticCount=e,n}function wl(t="",e=!1){return e?(Ln(),Ra(or,null,t)):nn(or,null,t)}function ci(t){return t==null||typeof t=="boolean"?nn(or):zt(t)?nn(Vt,null,t.slice()):Il(t)?bs(t):nn(Ad,null,String(t))}function bs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Hr(t)}function Uv(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(zt(e))n=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),Uv(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!fR(e)?e._ctx=gr:o===3&&gr&&(gr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Kt(e)?(e={default:e,_ctx:gr},n=32):(e=String(e),r&64?(n=16,e=[hr(e)]):n=8);t.children=e,t.shapeFlag|=n}function sr(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=Is([e.class,r.class]));else if(o==="style")e.style=vi([e.style,r.style]);else if(th(o)){const i=e[o],s=r[o];s&&i!==s&&!(zt(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function ei(t,e,n,r=null){Go(t,e,7,[n,r])}const mF=cR();let pF=0;function vF(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||mF,i={uid:pF++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Sw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gR(r,o),emitsOptions:xR(r,o),emit:null,emitted:null,propsDefaults:kn,inheritAttrs:r.inheritAttrs,ctx:kn,data:kn,props:kn,attrs:kn,slots:kn,refs:kn,setupState:kn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=iF.bind(null,i),t.ce&&t.ce(i),i}let Sr=null;const Zi=()=>Sr||gr;let yf,Wm;{const t=ih(),e=(n,r)=>{let o;return(o=t[n])||(o=t[n]=[]),o.push(r),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};yf=e("__VUE_INSTANCE_SETTERS__",n=>Sr=n),Wm=e("__VUE_SSR_SETTERS__",n=>rd=n)}const Id=t=>{const e=Sr;return yf(t),t.scope.on(),()=>{t.scope.off(),yf(e)}},ty=()=>{Sr&&Sr.scope.off(),yf(null)};function RR(t){return t.vnode.shapeFlag&4}let rd=!1;function bF(t,e=!1,n=!1){e&&Wm(e);const{props:r,children:o}=t.vnode,i=RR(t);W$(t,r,i,e),Y$(t,o,n||e);const s=i?yF(t,e):void 0;return e&&Wm(!1),s}function yF(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,F$);const{setup:r}=n;if(r){ji();const o=t.setupContext=r.length>1?CF(t):null,i=Id(t),s=kd(r,t,0,[t.props,o]),a=pw(s);if(Wi(),i(),(a||t.sp)&&!Sl(t)&&rR(t),a){if(s.then(ty,ty),e)return s.then(l=>{ny(t,l)}).catch(l=>{ah(l,t,0)});t.asyncDep=s}else ny(t,s)}else TR(t)}function ny(t,e,n){Kt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Dn(e)&&(t.setupState=Uw(e)),TR(t)}function TR(t,e,n){const r=t.type;t.render||(t.render=r.render||pi);{const o=Id(t);ji();try{M$(t)}finally{Wi(),o()}}}const xF={get(t,e){return Or(t,"get",""),t[e]}};function CF(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,xF),slots:t.slots,emit:t.emit,expose:e}}function fh(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Uw(Jc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Oc)return Oc[n](t)},has(e,n){return n in e||n in Oc}})):t.proxy}function SF(t,e=!0){return Kt(t)?t.displayName||t.name:t.name||e&&t.__name}function wF(t){return Kt(t)&&"__vccOpts"in t}const A=(t,e)=>b$(t,e,rd);function g(t,e,n){const r=arguments.length;return r===2?Dn(e)&&!zt(e)?Il(e)?nn(t,null,[e]):nn(t,e):nn(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Il(n)&&(n=[n]),nn(t,e,n))}const RF="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Km;const ry=typeof window<"u"&&window.trustedTypes;if(ry)try{Km=ry.createPolicy("vue",{createHTML:t=>t})}catch{}const ER=Km?t=>Km.createHTML(t):t=>t,TF="http://www.w3.org/2000/svg",EF="http://www.w3.org/1998/Math/MathML",Mi=typeof document<"u"?document:null,oy=Mi&&Mi.createElement("template"),kF={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e==="svg"?Mi.createElementNS(TF,t):e==="mathml"?Mi.createElementNS(EF,t):n?Mi.createElement(t,{is:n}):Mi.createElement(t);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>Mi.createTextNode(t),createComment:t=>Mi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Mi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,o,i){const s=n?n.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{oy.innerHTML=ER(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=oy.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ss="transition",cc="animation",_l=Symbol("_vtc"),kR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},PR=pr({},Jw,kR),PF=t=>(t.displayName="Transition",t.props=PR,t),en=PF((t,{slots:e})=>g(E$,AR(t),e)),Zs=(t,e=[])=>{zt(t)?t.forEach(n=>n(...e)):t&&t(...e)},iy=t=>t?zt(t)?t.some(e=>e.length>1):t.length>1:!1;function AR(t){const e={};for(const I in t)I in kR||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=s,appearToClass:d=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,h=AF(o),p=h&&h[0],v=h&&h[1],{onBeforeEnter:b,onEnter:y,onEnterCancelled:x,onLeave:C,onLeaveCancelled:S,onBeforeAppear:T=b,onAppear:w=y,onAppearCancelled:E=x}=e,R=(I,L,N,H)=>{I._enterCancelled=H,hs(I,L?d:a),hs(I,L?c:s),N&&N()},P=(I,L)=>{I._isLeaving=!1,hs(I,u),hs(I,m),hs(I,f),L&&L()},_=I=>(L,N)=>{const H=I?w:y,G=()=>R(L,I,N);Zs(H,[L,G]),sy(()=>{hs(L,I?l:i),ii(L,I?d:a),iy(H)||ay(L,r,p,G)})};return pr(e,{onBeforeEnter(I){Zs(b,[I]),ii(I,i),ii(I,s)},onBeforeAppear(I){Zs(T,[I]),ii(I,l),ii(I,c)},onEnter:_(!1),onAppear:_(!0),onLeave(I,L){I._isLeaving=!0;const N=()=>P(I,L);ii(I,u),I._enterCancelled?(ii(I,f),Gm()):(Gm(),ii(I,f)),sy(()=>{I._isLeaving&&(hs(I,u),ii(I,m),iy(C)||ay(I,r,v,N))}),Zs(C,[I,N])},onEnterCancelled(I){R(I,!1,void 0,!0),Zs(x,[I])},onAppearCancelled(I){R(I,!0,void 0,!0),Zs(E,[I])},onLeaveCancelled(I){P(I),Zs(S,[I])}})}function AF(t){if(t==null)return null;if(Dn(t))return[dg(t.enter),dg(t.leave)];{const e=dg(t);return[e,e]}}function dg(t){return zO(t)}function ii(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[_l]||(t[_l]=new Set)).add(e)}function hs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[_l];n&&(n.delete(e),n.size||(t[_l]=void 0))}function sy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let IF=0;function ay(t,e,n,r){const o=t._endId=++IF,i=()=>{o===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:s,timeout:a,propCount:l}=IR(t,e);if(!s)return r();const c=s+"end";let d=0;const u=()=>{t.removeEventListener(c,f),i()},f=m=>{m.target===t&&++d>=l&&u()};setTimeout(()=>{d<l&&u()},a+1),t.addEventListener(c,f)}function IR(t,e){const n=window.getComputedStyle(t),r=h=>(n[h]||"").split(", "),o=r(`${ss}Delay`),i=r(`${ss}Duration`),s=ly(o,i),a=r(`${cc}Delay`),l=r(`${cc}Duration`),c=ly(a,l);let d=null,u=0,f=0;e===ss?s>0&&(d=ss,u=s,f=i.length):e===cc?c>0&&(d=cc,u=c,f=l.length):(u=Math.max(s,c),d=u>0?s>c?ss:cc:null,f=d?d===ss?i.length:l.length:0);const m=d===ss&&/\b(transform|all)(,|$)/.test(r(`${ss}Property`).toString());return{type:d,timeout:u,propCount:f,hasTransform:m}}function ly(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>cy(n)+cy(t[r])))}function cy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Gm(){return document.body.offsetHeight}function _F(t,e,n){const r=t[_l];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const xf=Symbol("_vod"),_R=Symbol("_vsh"),bo={beforeMount(t,{value:e},{transition:n}){t[xf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):dc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),dc(t,!0),r.enter(t)):r.leave(t,()=>{dc(t,!1)}):dc(t,e))},beforeUnmount(t,{value:e}){dc(t,e)}};function dc(t,e){t.style.display=e?t[xf]:"none",t[_R]=!e}const LF=Symbol(""),DF=/(^|;)\s*display\s*:/;function OF(t,e,n){const r=t.style,o=qn(n);let i=!1;if(n&&!o){if(e)if(qn(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&Gu(r,a,"")}else for(const s in e)n[s]==null&&Gu(r,s,"");for(const s in n)s==="display"&&(i=!0),Gu(r,s,n[s])}else if(o){if(e!==n){const s=r[LF];s&&(n+=";"+s),r.cssText=n,i=DF.test(n)}}else e&&t.removeAttribute("style");xf in t&&(t[xf]=i?r.display:"",t[_R]&&(r.display="none"))}const dy=/\s*!important$/;function Gu(t,e,n){if(zt(n))n.forEach(r=>Gu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=$F(t,e);dy.test(n)?t.setProperty(Ws(r),n.replace(dy,""),"important"):t[r]=n}}const uy=["Webkit","Moz","ms"],ug={};function $F(t,e){const n=ug[e];if(n)return n;let r=Do(e);if(r!=="filter"&&r in t)return ug[e]=r;r=oh(r);for(let o=0;o<uy.length;o++){const i=uy[o]+r;if(i in t)return ug[e]=i}return e}const fy="http://www.w3.org/1999/xlink";function hy(t,e,n,r,o,i=WO(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(fy,e.slice(6,e.length)):t.setAttributeNS(fy,e,n):n==null||i&&!yw(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Yi(n)?String(n):n)}function gy(t,e,n,r,o){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?ER(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=yw(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(o||e)}function FF(t,e,n,r){t.addEventListener(e,n,r)}function MF(t,e,n,r){t.removeEventListener(e,n,r)}const my=Symbol("_vei");function BF(t,e,n,r,o=null){const i=t[my]||(t[my]={}),s=i[e];if(r&&s)s.value=r;else{const[a,l]=zF(e);if(r){const c=i[e]=HF(r,o);FF(t,a,c,l)}else s&&(MF(t,a,s,l),i[e]=void 0)}}const py=/(?:Once|Passive|Capture)$/;function zF(t){let e;if(py.test(t)){e={};let r;for(;r=t.match(py);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ws(t.slice(2)),e]}let fg=0;const NF=Promise.resolve(),UF=()=>fg||(NF.then(()=>fg=0),fg=Date.now());function HF(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Go(VF(r,n.value),e,5,[r])};return n.value=t,n.attached=UF(),n}function VF(t,e){if(zt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const vy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,jF=(t,e,n,r,o,i)=>{const s=o==="svg";e==="class"?_F(t,r,s):e==="style"?OF(t,n,r):th(e)?Cv(e)||BF(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):WF(t,e,r,s))?(gy(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&hy(t,e,r,s,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qn(r))?gy(t,Do(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),hy(t,e,r,s))};function WF(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&vy(e)&&Kt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return vy(e)&&qn(n)?!1:e in t}const LR=new WeakMap,DR=new WeakMap,Cf=Symbol("_moveCb"),by=Symbol("_enterCb"),KF=t=>(delete t.props.mode,t),GF=KF({name:"TransitionGroup",props:pr({},PR,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Zi(),r=Zw();let o,i;return $v(()=>{if(!o.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!QF(o[0].el,n.vnode.el,s)){o=[];return}o.forEach(qF),o.forEach(YF);const a=o.filter(XF);Gm(),a.forEach(l=>{const c=l.el,d=c.style;ii(c,s),d.transform=d.webkitTransform=d.transitionDuration="";const u=c[Cf]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",u),c[Cf]=null,hs(c,s))};c.addEventListener("transitionend",u)}),o=[]}),()=>{const s=Jt(t),a=AR(s);let l=s.tag||Vt;if(o=[],i)for(let c=0;c<i.length;c++){const d=i[c];d.el&&d.el instanceof Element&&(o.push(d),wa(d,td(d,a,r,n)),LR.set(d,d.el.getBoundingClientRect()))}i=e.default?Lv(e.default()):[];for(let c=0;c<i.length;c++){const d=i[c];d.key!=null&&wa(d,td(d,a,r,n))}return nn(l,null,i)}}}),hh=GF;function qF(t){const e=t.el;e[Cf]&&e[Cf](),e[by]&&e[by]()}function YF(t){DR.set(t,t.el.getBoundingClientRect())}function XF(t){const e=LR.get(t),n=DR.get(t),r=e.left-n.left,o=e.top-n.top;if(r||o){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",t}}function QF(t,e,n){const r=t.cloneNode(),o=t[_l];o&&o.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=IR(r);return i.removeChild(r),s}const ZF=["ctrl","shift","alt","meta"],JF={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ZF.some(n=>t[`${n}Key`]&&!e.includes(n))},eM=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(o,...i)=>{for(let s=0;s<e.length;s++){const a=JF[e[s]];if(a&&a(o,e))return}return t(o,...i)})},tM={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},nM=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=o=>{if(!("key"in o))return;const i=Ws(o.key);if(e.some(s=>s===i||tM[s]===i))return t(o)})},rM=pr({patchProp:jF},kF);let yy;function oM(){return yy||(yy=Q$(rM))}const OR=(...t)=>{const e=oM().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=sM(r);if(!o)return;const i=e._component;!Kt(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=n(o,!1,iM(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function iM(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function sM(t){return qn(t)?document.querySelector(t):t}function aM(t){let e=".",n="__",r="--",o;if(t){let h=t.blockPrefix;h&&(e=h),h=t.elementPrefix,h&&(n=h),h=t.modifierPrefix,h&&(r=h)}const i={install(h){o=h.c;const p=h.context;p.bem={},p.bem.b=null,p.bem.els=null}};function s(h){let p,v;return{before(b){p=b.bem.b,v=b.bem.els,b.bem.els=null},after(b){b.bem.b=p,b.bem.els=v},$({context:b,props:y}){return h=typeof h=="string"?h:h({context:b,props:y}),b.bem.b=h,`${(y==null?void 0:y.bPrefix)||e}${b.bem.b}`}}}function a(h){let p;return{before(v){p=v.bem.els},after(v){v.bem.els=p},$({context:v,props:b}){return h=typeof h=="string"?h:h({context:v,props:b}),v.bem.els=h.split(",").map(y=>y.trim()),v.bem.els.map(y=>`${(b==null?void 0:b.bPrefix)||e}${v.bem.b}${n}${y}`).join(", ")}}}function l(h){return{$({context:p,props:v}){h=typeof h=="string"?h:h({context:p,props:v});const b=h.split(",").map(C=>C.trim());function y(C){return b.map(S=>`&${(v==null?void 0:v.bPrefix)||e}${p.bem.b}${C!==void 0?`${n}${C}`:""}${r}${S}`).join(", ")}const x=p.bem.els;return x!==null?y(x[0]):y()}}}function c(h){return{$({context:p,props:v}){h=typeof h=="string"?h:h({context:p,props:v});const b=p.bem.els;return`&:not(${(v==null?void 0:v.bPrefix)||e}${p.bem.b}${b!==null&&b.length>0?`${n}${b[0]}`:""}${r}${h})`}}}return Object.assign(i,{cB:(...h)=>o(s(h[0]),h[1],h[2]),cE:(...h)=>o(a(h[0]),h[1],h[2]),cM:(...h)=>o(l(h[0]),h[1],h[2]),cNotM:(...h)=>o(c(h[0]),h[1],h[2])}),i}function lM(t){let e=0;for(let n=0;n<t.length;++n)t[n]==="&"&&++e;return e}const $R=/\s*,(?![^(]*\))\s*/g,cM=/\s+/g;function dM(t,e){const n=[];return e.split($R).forEach(r=>{let o=lM(r);if(o){if(o===1){t.forEach(s=>{n.push(r.replace("&",s))});return}}else{t.forEach(s=>{n.push((s&&s+" ")+r)});return}let i=[r];for(;o--;){const s=[];i.forEach(a=>{t.forEach(l=>{s.push(a.replace("&",l))})}),i=s}i.forEach(s=>n.push(s))}),n}function uM(t,e){const n=[];return e.split($R).forEach(r=>{t.forEach(o=>{n.push((o&&o+" ")+r)})}),n}function fM(t){let e=[""];return t.forEach(n=>{n=n&&n.trim(),n&&(n.includes("&")?e=dM(e,n):e=uM(e,n))}),e.join(", ").replace(cM," ")}function xy(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function gh(t,e){return(e??document.head).querySelector(`style[cssr-id="${t}"]`)}function hM(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}function nu(t){return t?/^\s*@(s|m)/.test(t):!1}const gM=/[A-Z]/g;function FR(t){return t.replace(gM,e=>"-"+e.toLowerCase())}function mM(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(n=>e+`  ${FR(n[0])}: ${n[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function pM(t,e,n){return typeof t=="function"?t({context:e.context,props:n}):t}function Cy(t,e,n,r){if(!e)return"";const o=pM(e,n,r);if(!o)return"";if(typeof o=="string")return`${t} {
${o}
}`;const i=Object.keys(o);if(i.length===0)return n.config.keepEmptyBlock?t+` {
}`:"";const s=t?[t+" {"]:[];return i.forEach(a=>{const l=o[a];if(a==="raw"){s.push(`
`+l+`
`);return}a=FR(a),l!=null&&s.push(`  ${a}${mM(l)}`)}),t&&s.push("}"),s.join(`
`)}function qm(t,e,n){t&&t.forEach(r=>{if(Array.isArray(r))qm(r,e,n);else if(typeof r=="function"){const o=r(e);Array.isArray(o)?qm(o,e,n):o&&n(o)}else r&&n(r)})}function MR(t,e,n,r,o){const i=t.$;let s="";if(!i||typeof i=="string")nu(i)?s=i:e.push(i);else if(typeof i=="function"){const c=i({context:r.context,props:o});nu(c)?s=c:e.push(c)}else if(i.before&&i.before(r.context),!i.$||typeof i.$=="string")nu(i.$)?s=i.$:e.push(i.$);else if(i.$){const c=i.$({context:r.context,props:o});nu(c)?s=c:e.push(c)}const a=fM(e),l=Cy(a,t.props,r,o);s?n.push(`${s} {`):l.length&&n.push(l),t.children&&qm(t.children,{context:r.context,props:o},c=>{if(typeof c=="string"){const d=Cy(a,{raw:c},r,o);n.push(d)}else MR(c,e,n,r,o)}),e.pop(),s&&n.push("}"),i&&i.after&&i.after(r.context)}function vM(t,e,n){const r=[];return MR(t,[],r,e,n),r.join(`

`)}function od(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function bM(t,e,n,r){const{els:o}=e;if(n===void 0)o.forEach(xy),e.els=[];else{const i=gh(n,r);i&&o.includes(i)&&(xy(i),e.els=o.filter(s=>s!==i))}}function Sy(t,e){t.push(e)}function yM(t,e,n,r,o,i,s,a,l){let c;if(n===void 0&&(c=e.render(r),n=od(c)),l){l.adapter(n,c??e.render(r));return}a===void 0&&(a=document.head);const d=gh(n,a);if(d!==null&&!i)return d;const u=d??hM(n);if(c===void 0&&(c=e.render(r)),u.textContent=c,d!==null)return d;if(s){const f=a.querySelector(`meta[name="${s}"]`);if(f)return a.insertBefore(u,f),Sy(e.els,u),u}return o?a.insertBefore(u,a.querySelector("style, link")):a.appendChild(u),Sy(e.els,u),u}function xM(t){return vM(this,this.instance,t)}function CM(t={}){const{id:e,ssr:n,props:r,head:o=!1,force:i=!1,anchorMetaName:s,parent:a}=t;return yM(this.instance,this,e,r,o,i,s,a,n)}function SM(t={}){const{id:e,parent:n}=t;bM(this.instance,this,e,n)}const ru=function(t,e,n,r){return{instance:t,$:e,props:n,children:r,els:[],render:xM,mount:CM,unmount:SM}},wM=function(t,e,n,r){return Array.isArray(e)?ru(t,{$:null},null,e):Array.isArray(n)?ru(t,e,null,n):Array.isArray(r)?ru(t,e,n,r):ru(t,e,n,null)};function BR(t={}){const e={c:(...n)=>wM(e,...n),use:(n,...r)=>n.install(e,...r),find:gh,context:{},config:t};return e}function RM(t,e){if(t===void 0)return!1;if(e){const{context:{ids:n}}=e;return n.has(t)}return gh(t)!==null}const TM="n",id=`.${TM}-`,EM="__",kM="--",zR=BR(),NR=aM({blockPrefix:id,elementPrefix:EM,modifierPrefix:kM});zR.use(NR);const{c:O,find:Dle}=zR,{cB:k,cE:F,cM:M,cNotM:wt}=NR;function Ti(t){return O(({props:{bPrefix:e}})=>`${e||id}modal, ${e||id}drawer`,[t])}function Ji(t){return O(({props:{bPrefix:e}})=>`${e||id}popover`,[t])}function UR(t){return O(({props:{bPrefix:e}})=>`&${e||id}modal`,t)}const PM=(...t)=>O(">",[k(...t)]);function Ae(t,e){return t+(e==="default"?"":e.replace(/^[a-z]/,n=>n.toUpperCase()))}let Sf=[];const HR=new WeakMap;function AM(){Sf.forEach(t=>t(...HR.get(t))),Sf=[]}function Ta(t,...e){HR.set(t,e),!Sf.includes(t)&&Sf.push(t)===1&&requestAnimationFrame(AM)}function IM(t){return t.nodeType===9?null:t.parentNode}function VR(t){if(t===null)return null;const e=IM(t);if(e===null)return null;if(e.nodeType===9)return document.documentElement;if(e.nodeType===1){const{overflow:n,overflowX:r,overflowY:o}=getComputedStyle(e);if(/(auto|scroll|overlay)/.test(n+o+r))return e}return VR(e)}function Hv(t){return typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t}function An(t,e){let{target:n}=t;for(;n;){if(n.dataset&&n.dataset[e]!==void 0)return!0;n=n.parentElement}return!1}function Jr(t){return t.composedPath()[0]||null}function _M(t){if(typeof t=="number")return{"":t.toString()};const e={};return t.split(/ +/).forEach(n=>{if(n==="")return;const[r,o]=n.split(":");o===void 0?e[""]=r:e[r]=o}),e}function Ka(t,e){var n;if(t==null)return;const r=_M(t);if(e===void 0)return r[""];if(typeof e=="string")return(n=r[e])!==null&&n!==void 0?n:r[""];if(Array.isArray(e)){for(let o=e.length-1;o>=0;--o){const i=e[o];if(i in r)return r[i]}return r[""]}else{let o,i=-1;return Object.keys(r).forEach(s=>{const a=Number(s);!Number.isNaN(a)&&e>=a&&a>=i&&(i=a,o=r[s])}),o}}function on(t){return typeof t=="string"?t.endsWith("px")?Number(t.slice(0,t.length-2)):Number(t):t}function hn(t){if(t!=null)return typeof t=="number"?`${t}px`:t.endsWith("px")?t:`${t}px`}function Un(t,e){const n=t.trim().split(/\s+/g),r={top:n[0]};switch(n.length){case 1:r.right=n[0],r.bottom=n[0],r.left=n[0];break;case 2:r.right=n[1],r.left=n[1],r.bottom=n[0];break;case 3:r.right=n[1],r.bottom=n[2],r.left=n[1];break;case 4:r.right=n[1],r.bottom=n[2],r.left=n[3];break;default:throw new Error("[seemly/getMargin]:"+t+" is not a valid value.")}return e===void 0?r:r[e]}function jR(t,e){const[n,r]=t.split(" ");return{row:n,col:r||n}}const wy={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32",transparent:"#0000"};function WR(t,e,n){e/=100,n/=100;const r=e*Math.min(n,1-n)+n;return[t,r?(2-2*n/r)*100:0,r*100]}function qu(t,e,n){e/=100,n/=100;const r=n-n*e/2,o=Math.min(r,1-r);return[t,o?(n-r)/o*100:0,r*100]}function Hi(t,e,n){e/=100,n/=100;let r=(o,i=(o+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5)*255,r(3)*255,r(1)*255]}function Ym(t,e,n){t/=255,e/=255,n/=255;let r=Math.max(t,e,n),o=r-Math.min(t,e,n),i=o&&(r==t?(e-n)/o:r==e?2+(n-t)/o:4+(t-e)/o);return[60*(i<0?i+6:i),r&&o/r*100,r*100]}function Xm(t,e,n){t/=255,e/=255,n/=255;let r=Math.max(t,e,n),o=r-Math.min(t,e,n),i=1-Math.abs(r+r-o-1),s=o&&(r==t?(e-n)/o:r==e?2+(n-t)/o:4+(t-e)/o);return[60*(s<0?s+6:s),i?o/i*100:0,(r+r-o)*50]}function wf(t,e,n){e/=100,n/=100;let r=e*Math.min(n,1-n),o=(i,s=(i+t/30)%12)=>n-r*Math.max(Math.min(s-3,9-s,1),-1);return[o(0)*255,o(8)*255,o(4)*255]}const Ei="^\\s*",ki="\\s*$",Ls="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",fo="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",da="([0-9A-Fa-f])",ua="([0-9A-Fa-f]{2})",KR=new RegExp(`${Ei}hsl\\s*\\(${fo},${Ls},${Ls}\\)${ki}`),GR=new RegExp(`${Ei}hsv\\s*\\(${fo},${Ls},${Ls}\\)${ki}`),qR=new RegExp(`${Ei}hsla\\s*\\(${fo},${Ls},${Ls},${fo}\\)${ki}`),YR=new RegExp(`${Ei}hsva\\s*\\(${fo},${Ls},${Ls},${fo}\\)${ki}`),LM=new RegExp(`${Ei}rgb\\s*\\(${fo},${fo},${fo}\\)${ki}`),DM=new RegExp(`${Ei}rgba\\s*\\(${fo},${fo},${fo},${fo}\\)${ki}`),Vv=new RegExp(`${Ei}#${da}${da}${da}${ki}`),jv=new RegExp(`${Ei}#${ua}${ua}${ua}${ki}`),Wv=new RegExp(`${Ei}#${da}${da}${da}${da}${ki}`),Kv=new RegExp(`${Ei}#${ua}${ua}${ua}${ua}${ki}`);function Wr(t){return parseInt(t,16)}function pa(t){try{let e;if(e=qR.exec(t))return[Si(e[1]),ir(e[5]),ir(e[9]),Vi(e[13])];if(e=KR.exec(t))return[Si(e[1]),ir(e[5]),ir(e[9]),1];throw new Error(`[seemly/hsla]: Invalid color value ${t}.`)}catch(e){throw e}}function Es(t){try{let e;if(e=YR.exec(t))return[Si(e[1]),ir(e[5]),ir(e[9]),Vi(e[13])];if(e=GR.exec(t))return[Si(e[1]),ir(e[5]),ir(e[9]),1];throw new Error(`[seemly/hsva]: Invalid color value ${t}.`)}catch(e){throw e}}function rr(t){try{let e;if(e=jv.exec(t))return[Wr(e[1]),Wr(e[2]),Wr(e[3]),1];if(e=LM.exec(t))return[Kn(e[1]),Kn(e[5]),Kn(e[9]),1];if(e=DM.exec(t))return[Kn(e[1]),Kn(e[5]),Kn(e[9]),Vi(e[13])];if(e=Vv.exec(t))return[Wr(e[1]+e[1]),Wr(e[2]+e[2]),Wr(e[3]+e[3]),1];if(e=Kv.exec(t))return[Wr(e[1]),Wr(e[2]),Wr(e[3]),Vi(Wr(e[4])/255)];if(e=Wv.exec(t))return[Wr(e[1]+e[1]),Wr(e[2]+e[2]),Wr(e[3]+e[3]),Vi(Wr(e[4]+e[4])/255)];if(t in wy)return rr(wy[t]);if(KR.test(t)||qR.test(t)){const[n,r,o,i]=pa(t);return[...wf(n,r,o),i]}else if(GR.test(t)||YR.test(t)){const[n,r,o,i]=Es(t);return[...Hi(n,r,o),i]}throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function OM(t){return t>1?1:t<0?0:t}function $M(t,e,n){return`rgb(${Kn(t)}, ${Kn(e)}, ${Kn(n)})`}function Qm(t,e,n,r){return`rgba(${Kn(t)}, ${Kn(e)}, ${Kn(n)}, ${OM(r)})`}function hg(t,e,n,r,o){return Kn((t*e*(1-r)+n*r)/o)}function vt(t,e){Array.isArray(t)||(t=rr(t)),Array.isArray(e)||(e=rr(e));const n=t[3],r=e[3],o=Vi(n+r-n*r);return Qm(hg(t[0],n,e[0],r,o),hg(t[1],n,e[1],r,o),hg(t[2],n,e[2],r,o),o)}function Ye(t,e){const[n,r,o,i=1]=Array.isArray(t)?t:rr(t);return typeof e.alpha=="number"?Qm(n,r,o,e.alpha):Qm(n,r,o,i)}function Zn(t,e){const[n,r,o,i=1]=Array.isArray(t)?t:rr(t),{lightness:s=1,alpha:a=1}=e;return yi([n*s,r*s,o*s,i*a])}function Vi(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function Si(t){const e=Math.round(Number(t));return e>=360||e<0?0:e}function Kn(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function ir(t){const e=Math.round(Number(t));return e>100?100:e<0?0:e}function Zm(t){const[e,n,r]=Array.isArray(t)?t:rr(t);return $M(e,n,r)}function yi(t){const[e,n,r]=t;return 3 in t?`rgba(${Kn(e)}, ${Kn(n)}, ${Kn(r)}, ${Vi(t[3])})`:`rgba(${Kn(e)}, ${Kn(n)}, ${Kn(r)}, 1)`}function Jm(t){return`hsv(${Si(t[0])}, ${ir(t[1])}%, ${ir(t[2])}%)`}function va(t){const[e,n,r]=t;return 3 in t?`hsva(${Si(e)}, ${ir(n)}%, ${ir(r)}%, ${Vi(t[3])})`:`hsva(${Si(e)}, ${ir(n)}%, ${ir(r)}%, 1)`}function ep(t){return`hsl(${Si(t[0])}, ${ir(t[1])}%, ${ir(t[2])}%)`}function ks(t){const[e,n,r]=t;return 3 in t?`hsla(${Si(e)}, ${ir(n)}%, ${ir(r)}%, ${Vi(t[3])})`:`hsla(${Si(e)}, ${ir(n)}%, ${ir(r)}%, 1)`}function Ps(t){if(typeof t=="string"){let r;if(r=jv.exec(t))return`${r[0]}FF`;if(r=Kv.exec(t))return r[0];if(r=Vv.exec(t))return`#${r[1]}${r[1]}${r[2]}${r[2]}${r[3]}${r[3]}FF`;if(r=Wv.exec(t))return`#${r[1]}${r[1]}${r[2]}${r[2]}${r[3]}${r[3]}${r[4]}${r[4]}`;throw new Error(`[seemly/toHexString]: Invalid hex value ${t}.`)}const e=`#${t.slice(0,3).map(r=>Kn(r).toString(16).toUpperCase().padStart(2,"0")).join("")}`,n=t.length===3?"FF":Kn(t[3]*255).toString(16).padStart(2,"0").toUpperCase();return e+n}function Fc(t){if(typeof t=="string"){let e;if(e=jv.exec(t))return e[0];if(e=Kv.exec(t))return e[0].slice(0,7);if(e=Vv.exec(t)||Wv.exec(t))return`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`;throw new Error(`[seemly/toHexString]: Invalid hex value ${t}.`)}return`#${t.slice(0,3).map(e=>Kn(e).toString(16).toUpperCase().padStart(2,"0")).join("")}`}function Vr(t=8){return Math.random().toString(16).slice(2,2+t)}function Ds(t,e){const n=[];for(let r=0;r<t;++r)n.push(e);return n}function FM(t,e){const n=[];if(!e){for(let r=0;r<t;++r)n.push(r);return n}for(let r=0;r<t;++r)n.push(e(r));return n}function Yu(t){return t.composedPath()[0]}const MM={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function BM(t,e,n){if(t==="mousemoveoutside"){const r=o=>{e.contains(Yu(o))||n(o)};return{mousemove:r,touchstart:r}}else if(t==="clickoutside"){let r=!1;const o=s=>{r=!e.contains(Yu(s))},i=s=>{r&&(e.contains(Yu(s))||n(s))};return{mousedown:o,mouseup:i,touchstart:o,touchend:i}}return console.error(`[evtd/create-trap-handler]: name \`${t}\` is invalid. This could be a bug of evtd.`),{}}function XR(t,e,n){const r=MM[t];let o=r.get(e);o===void 0&&r.set(e,o=new WeakMap);let i=o.get(n);return i===void 0&&o.set(n,i=BM(t,e,n)),i}function zM(t,e,n,r){if(t==="mousemoveoutside"||t==="clickoutside"){const o=XR(t,e,n);return Object.keys(o).forEach(i=>{_t(i,document,o[i],r)}),!0}return!1}function NM(t,e,n,r){if(t==="mousemoveoutside"||t==="clickoutside"){const o=XR(t,e,n);return Object.keys(o).forEach(i=>{It(i,document,o[i],r)}),!0}return!1}function UM(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const t=new WeakMap,e=new WeakMap;function n(){t.set(this,!0)}function r(){t.set(this,!0),e.set(this,!0)}function o(w,E,R){const P=w[E];return w[E]=function(){return R.apply(w,arguments),P.apply(w,arguments)},w}function i(w,E){w[E]=Event.prototype[E]}const s=new WeakMap,a=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function l(){var w;return(w=s.get(this))!==null&&w!==void 0?w:null}function c(w,E){a!==void 0&&Object.defineProperty(w,"currentTarget",{configurable:!0,enumerable:!0,get:E??a.get})}const d={bubble:{},capture:{}},u={};function f(){const w=function(E){const{type:R,eventPhase:P,bubbles:_}=E,I=Yu(E);if(P===2)return;const L=P===1?"capture":"bubble";let N=I;const H=[];for(;N===null&&(N=window),H.push(N),N!==window;)N=N.parentNode||null;const G=d.capture[R],W=d.bubble[R];if(o(E,"stopPropagation",n),o(E,"stopImmediatePropagation",r),c(E,l),L==="capture"){if(G===void 0)return;for(let J=H.length-1;J>=0&&!t.has(E);--J){const ne=H[J],D=G.get(ne);if(D!==void 0){s.set(E,ne);for(const B of D){if(e.has(E))break;B(E)}}if(J===0&&!_&&W!==void 0){const B=W.get(ne);if(B!==void 0)for(const j of B){if(e.has(E))break;j(E)}}}}else if(L==="bubble"){if(W===void 0)return;for(let J=0;J<H.length&&!t.has(E);++J){const ne=H[J],D=W.get(ne);if(D!==void 0){s.set(E,ne);for(const B of D){if(e.has(E))break;B(E)}}}}i(E,"stopPropagation"),i(E,"stopImmediatePropagation"),c(E)};return w.displayName="evtdUnifiedHandler",w}function m(){const w=function(E){const{type:R,eventPhase:P}=E;if(P!==2)return;const _=u[R];_!==void 0&&_.forEach(I=>I(E))};return w.displayName="evtdUnifiedWindowEventHandler",w}const h=f(),p=m();function v(w,E){const R=d[w];return R[E]===void 0&&(R[E]=new Map,window.addEventListener(E,h,w==="capture")),R[E]}function b(w){return u[w]===void 0&&(u[w]=new Set,window.addEventListener(w,p)),u[w]}function y(w,E){let R=w.get(E);return R===void 0&&w.set(E,R=new Set),R}function x(w,E,R,P){const _=d[E][R];if(_!==void 0){const I=_.get(w);if(I!==void 0&&I.has(P))return!0}return!1}function C(w,E){const R=u[w];return!!(R!==void 0&&R.has(E))}function S(w,E,R,P){let _;if(typeof P=="object"&&P.once===!0?_=G=>{T(w,E,_,P),R(G)}:_=R,zM(w,E,_,P))return;const L=P===!0||typeof P=="object"&&P.capture===!0?"capture":"bubble",N=v(L,w),H=y(N,E);if(H.has(_)||H.add(_),E===window){const G=b(w);G.has(_)||G.add(_)}}function T(w,E,R,P){if(NM(w,E,R,P))return;const I=P===!0||typeof P=="object"&&P.capture===!0,L=I?"capture":"bubble",N=v(L,w),H=y(N,E);if(E===window&&!x(E,I?"bubble":"capture",w,R)&&C(w,R)){const W=u[w];W.delete(R),W.size===0&&(window.removeEventListener(w,p),u[w]=void 0)}H.has(R)&&H.delete(R),H.size===0&&N.delete(E),N.size===0&&(window.removeEventListener(w,h,L==="capture"),d[L][w]=void 0)}return{on:S,off:T}}const{on:_t,off:It}=UM();function QR(t){const e=z(!!t.value);if(e.value)return Ci(e);const n=gt(t,r=>{r&&(e.value=!0,n())});return Ci(e)}function pt(t){const e=A(t),n=z(e.value);return gt(e,r=>{n.value=r}),typeof t=="function"?n:{__v_isRef:!0,get value(){return n.value},set value(r){t.set(r)}}}function Gv(){return Zi()!==null}const mh=typeof window<"u";let Rl,Mc;const HM=()=>{var t,e;Rl=mh?(e=(t=document)===null||t===void 0?void 0:t.fonts)===null||e===void 0?void 0:e.ready:void 0,Mc=!1,Rl!==void 0?Rl.then(()=>{Mc=!0}):Mc=!0};HM();function ph(t){if(Mc)return;let e=!1;Gt(()=>{Mc||Rl==null||Rl.then(()=>{e||t()})}),Qt(()=>{e=!0})}const wc=z(null);function Ry(t){if(t.clientX>0||t.clientY>0)wc.value={x:t.clientX,y:t.clientY};else{const{target:e}=t;if(e instanceof Element){const{left:n,top:r,width:o,height:i}=e.getBoundingClientRect();n>0||r>0?wc.value={x:n+o/2,y:r+i/2}:wc.value={x:0,y:0}}else wc.value=null}}let ou=0,Ty=!0;function qv(){if(!mh)return Ci(z(null));ou===0&&_t("click",document,Ry,!0);const t=()=>{ou+=1};return Ty&&(Ty=Gv())?(Qi(t),Qt(()=>{ou-=1,ou===0&&It("click",document,Ry,!0)})):t(),Ci(wc)}const VM=z(void 0);let iu=0;function Ey(){VM.value=Date.now()}let ky=!0;function Yv(t){if(!mh)return Ci(z(!1));const e=z(!1);let n=null;function r(){n!==null&&window.clearTimeout(n)}function o(){r(),e.value=!0,n=window.setTimeout(()=>{e.value=!1},t)}iu===0&&_t("click",window,Ey,!0);const i=()=>{iu+=1,_t("click",window,o,!0)};return ky&&(ky=Gv())?(Qi(i),Qt(()=>{iu-=1,iu===0&&It("click",window,Ey,!0),It("click",window,o,!0),r()})):i(),Ci(e)}function Ft(t,e){return gt(t,n=>{n!==void 0&&(e.value=n)}),A(()=>t.value===void 0?e.value:t.value)}function br(){const t=z(!1);return Gt(()=>{t.value=!0}),Ci(t)}function Os(t,e){return A(()=>{for(const n of e)if(t[n]!==void 0)return t[n];return t[e[e.length-1]]})}const jM=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function WM(){return jM}const KM={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function GM(t){return`(min-width: ${t}px)`}const uc={};function qM(t=KM){if(!mh)return A(()=>[]);if(typeof window.matchMedia!="function")return A(()=>[]);const e=z({}),n=Object.keys(t),r=(o,i)=>{o.matches?e.value[i]=!0:e.value[i]=!1};return n.forEach(o=>{const i=t[o];let s,a;uc[i]===void 0?(s=window.matchMedia(GM(i)),s.addEventListener?s.addEventListener("change",l=>{a.forEach(c=>{c(l,o)})}):s.addListener&&s.addListener(l=>{a.forEach(c=>{c(l,o)})}),a=new Set,uc[i]={mql:s,cbs:a}):(s=uc[i].mql,a=uc[i].cbs),a.add(r),s.matches&&a.forEach(l=>{l(s,o)})}),Qt(()=>{n.forEach(o=>{const{cbs:i}=uc[t[o]];i.has(r)&&i.delete(r)})}),A(()=>{const{value:o}=e;return n.filter(i=>o[i])})}function Xv(t={},e){const n=Ri({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:r,keyup:o}=t,i=l=>{switch(l.key){case"Control":n.ctrl=!0;break;case"Meta":n.command=!0,n.win=!0;break;case"Shift":n.shift=!0;break;case"Tab":n.tab=!0;break}r!==void 0&&Object.keys(r).forEach(c=>{if(c!==l.key)return;const d=r[c];if(typeof d=="function")d(l);else{const{stop:u=!1,prevent:f=!1}=d;u&&l.stopPropagation(),f&&l.preventDefault(),d.handler(l)}})},s=l=>{switch(l.key){case"Control":n.ctrl=!1;break;case"Meta":n.command=!1,n.win=!1;break;case"Shift":n.shift=!1;break;case"Tab":n.tab=!1;break}o!==void 0&&Object.keys(o).forEach(c=>{if(c!==l.key)return;const d=o[c];if(typeof d=="function")d(l);else{const{stop:u=!1,prevent:f=!1}=d;u&&l.stopPropagation(),f&&l.preventDefault(),d.handler(l)}})},a=()=>{(e===void 0||e.value)&&(_t("keydown",document,i),_t("keyup",document,s)),e!==void 0&&gt(e,l=>{l?(_t("keydown",document,i),_t("keyup",document,s)):(It("keydown",document,i),It("keyup",document,s))})};return Gv()?(Qi(a),Qt(()=>{(e===void 0||e.value)&&(It("keydown",document,i),It("keyup",document,s))})):a(),Ci(n)}const Qv="n-internal-select-menu",ZR="n-internal-select-menu-body",_d="n-drawer-body",Zv="n-drawer",Ld="n-modal-body",YM="n-modal-provider",JR="n-modal",Kl="n-popover-body",eT="__disabled__";function an(t){const e=Ve(Ld,null),n=Ve(_d,null),r=Ve(Kl,null),o=Ve(ZR,null),i=z();if(typeof document<"u"){i.value=document.fullscreenElement;const s=()=>{i.value=document.fullscreenElement};Gt(()=>{_t("fullscreenchange",document,s)}),Qt(()=>{It("fullscreenchange",document,s)})}return pt(()=>{var s;const{to:a}=t;return a!==void 0?a===!1?eT:a===!0?i.value||"body":a:e!=null&&e.value?(s=e.value.$el)!==null&&s!==void 0?s:e.value:n!=null&&n.value?n.value:r!=null&&r.value?r.value:o!=null&&o.value?o.value:a??(i.value||"body")})}an.tdkey=eT;an.propTo={type:[String,Object,Boolean],default:void 0};function XM(t,e,n){var r;const o=Ve(t,null);if(o===null)return;const i=(r=Zi())===null||r===void 0?void 0:r.proxy;gt(n,s),s(n.value),Qt(()=>{s(void 0,n.value)});function s(c,d){if(!o)return;const u=o[e];d!==void 0&&a(u,d),c!==void 0&&l(u,c)}function a(c,d){c[d]||(c[d]=[]),c[d].splice(c[d].findIndex(u=>u===i),1)}function l(c,d){c[d]||(c[d]=[]),~c[d].findIndex(u=>u===i)||c[d].push(i)}}function QM(t,e,n){const r=Ve(t,null);r!==null&&(e in r||(r[e]=[]),r[e].push(n.value),gt(n,(o,i)=>{const s=r[e],a=s.findIndex(l=>l===i);~a&&s.splice(a,1),s.push(o)}),Qt(()=>{const o=r[e],i=o.findIndex(s=>s===n.value);~i&&o.splice(i,1)}))}function ZM(t,e,n){const r=Ve(t,null);r!==null&&(e in r||(r[e]=[]),Gt(()=>{const o=n();o&&r[e].push(o)}),Qt(()=>{const o=r[e],i=n(),s=o.findIndex(a=>a===i);~s&&o.splice(s,1)}))}function JM(t,e,n){const r=z(t.value);let o=null;return gt(t,i=>{o!==null&&window.clearTimeout(o),i===!0?n&&!n.value?r.value=!0:o=window.setTimeout(()=>{r.value=!0},e):r.value=!1}),r}const jr=typeof document<"u"&&typeof window<"u";let Py=!1;function Jv(){if(jr&&window.CSS&&!Py&&(Py=!0,"registerProperty"in(window==null?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch{}}const e0=z(!1);function Ay(){e0.value=!0}function Iy(){e0.value=!1}let fc=0;function tT(){return jr&&(Qi(()=>{fc||(window.addEventListener("compositionstart",Ay),window.addEventListener("compositionend",Iy)),fc++}),Qt(()=>{fc<=1?(window.removeEventListener("compositionstart",Ay),window.removeEventListener("compositionend",Iy),fc=0):fc--})),e0}let Ga=0,_y="",Ly="",Dy="",Oy="";const tp=z("0px");function nT(t){if(typeof document>"u")return;const e=document.documentElement;let n,r=!1;const o=()=>{e.style.marginRight=_y,e.style.overflow=Ly,e.style.overflowX=Dy,e.style.overflowY=Oy,tp.value="0px"};Gt(()=>{n=gt(t,i=>{if(i){if(!Ga){const s=window.innerWidth-e.offsetWidth;s>0&&(_y=e.style.marginRight,e.style.marginRight=`${s}px`,tp.value=`${s}px`),Ly=e.style.overflow,Dy=e.style.overflowX,Oy=e.style.overflowY,e.style.overflow="hidden",e.style.overflowX="hidden",e.style.overflowY="hidden"}r=!0,Ga++}else Ga--,Ga||o(),r=!1},{immediate:!0})}),Qt(()=>{n==null||n(),r&&(Ga--,Ga||o(),r=!1)})}function t0(t){const e={isDeactivated:!1};let n=!1;return Dv(()=>{if(e.isDeactivated=!1,!n){n=!0;return}t()}),ch(()=>{e.isDeactivated=!0,n||(n=!0)}),e}function np(t,e,n="default"){const r=e[n];if(r===void 0)throw new Error(`[vueuc/${t}]: slot[${n}] is empty.`);return r()}function rp(t,e=!0,n=[]){return t.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&n.push(hr(String(r)));return}if(Array.isArray(r)){rp(r,e,n);return}if(r.type===Vt){if(r.children===null)return;Array.isArray(r.children)&&rp(r.children,e,n)}else r.type!==or&&n.push(r)}}),n}function $y(t,e,n="default"){const r=e[n];if(r===void 0)throw new Error(`[vueuc/${t}]: slot[${n}] is empty.`);const o=rp(r());if(o.length===1)return o[0];throw new Error(`[vueuc/${t}]: slot[${n}] should have exactly one child.`)}let as=null;function rT(){if(as===null&&(as=document.getElementById("v-binder-view-measurer"),as===null)){as=document.createElement("div"),as.id="v-binder-view-measurer";const{style:t}=as;t.position="fixed",t.left="0",t.right="0",t.top="0",t.bottom="0",t.pointerEvents="none",t.visibility="hidden",document.body.appendChild(as)}return as.getBoundingClientRect()}function e3(t,e){const n=rT();return{top:e,left:t,height:0,width:0,right:n.width-t,bottom:n.height-e}}function gg(t){const e=t.getBoundingClientRect(),n=rT();return{left:e.left-n.left,top:e.top-n.top,bottom:n.height+n.top-e.bottom,right:n.width+n.left-e.right,width:e.width,height:e.height}}function t3(t){return t.nodeType===9?null:t.parentNode}function oT(t){if(t===null)return null;const e=t3(t);if(e===null)return null;if(e.nodeType===9)return document;if(e.nodeType===1){const{overflow:n,overflowX:r,overflowY:o}=getComputedStyle(e);if(/(auto|scroll|overlay)/.test(n+o+r))return e}return oT(e)}const Mo=ce({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(t){var e;ft("VBinder",(e=Zi())===null||e===void 0?void 0:e.proxy);const n=Ve("VBinder",null),r=z(null),o=b=>{r.value=b,n&&t.syncTargetWithParent&&n.setTargetRef(b)};let i=[];const s=()=>{let b=r.value;for(;b=oT(b),b!==null;)i.push(b);for(const y of i)_t("scroll",y,u,!0)},a=()=>{for(const b of i)It("scroll",b,u,!0);i=[]},l=new Set,c=b=>{l.size===0&&s(),l.has(b)||l.add(b)},d=b=>{l.has(b)&&l.delete(b),l.size===0&&a()},u=()=>{Ta(f)},f=()=>{l.forEach(b=>b())},m=new Set,h=b=>{m.size===0&&_t("resize",window,v),m.has(b)||m.add(b)},p=b=>{m.has(b)&&m.delete(b),m.size===0&&It("resize",window,v)},v=()=>{m.forEach(b=>b())};return Qt(()=>{It("resize",window,v),a()}),{targetRef:r,setTargetRef:o,addScrollListener:c,removeScrollListener:d,addResizeListener:h,removeResizeListener:p}},render(){return np("binder",this.$slots)}}),Bo=ce({name:"Target",setup(){const{setTargetRef:t,syncTarget:e}=Ve("VBinder");return{syncTarget:e,setTargetDirective:{mounted:t,updated:t}}},render(){const{syncTarget:t,setTargetDirective:e}=this;return t?$n($y("follower",this.$slots),[[e]]):$y("follower",this.$slots)}}),qa="@@mmoContext",n3={mounted(t,{value:e}){t[qa]={handler:void 0},typeof e=="function"&&(t[qa].handler=e,_t("mousemoveoutside",t,e))},updated(t,{value:e}){const n=t[qa];typeof e=="function"?n.handler?n.handler!==e&&(It("mousemoveoutside",t,n.handler),n.handler=e,_t("mousemoveoutside",t,e)):(t[qa].handler=e,_t("mousemoveoutside",t,e)):n.handler&&(It("mousemoveoutside",t,n.handler),n.handler=void 0)},unmounted(t){const{handler:e}=t[qa];e&&It("mousemoveoutside",t,e),t[qa].handler=void 0}},Ya="@@coContext",eo={mounted(t,{value:e,modifiers:n}){t[Ya]={handler:void 0},typeof e=="function"&&(t[Ya].handler=e,_t("clickoutside",t,e,{capture:n.capture}))},updated(t,{value:e,modifiers:n}){const r=t[Ya];typeof e=="function"?r.handler?r.handler!==e&&(It("clickoutside",t,r.handler,{capture:n.capture}),r.handler=e,_t("clickoutside",t,e,{capture:n.capture})):(t[Ya].handler=e,_t("clickoutside",t,e,{capture:n.capture})):r.handler&&(It("clickoutside",t,r.handler,{capture:n.capture}),r.handler=void 0)},unmounted(t,{modifiers:e}){const{handler:n}=t[Ya];n&&It("clickoutside",t,n,{capture:e.capture}),t[Ya].handler=void 0}};function r3(t,e){console.error(`[vdirs/${t}]: ${e}`)}class o3{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(e,n){const{elementZIndex:r}=this;if(n!==void 0){e.style.zIndex=`${n}`,r.delete(e);return}const{nextZIndex:o}=this;r.has(e)&&r.get(e)+1===this.nextZIndex||(e.style.zIndex=`${o}`,r.set(e,o),this.nextZIndex=o+1,this.squashState())}unregister(e,n){const{elementZIndex:r}=this;r.has(e)?r.delete(e):n===void 0&&r3("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:e}=this;e||(this.nextZIndex=2e3),this.nextZIndex-e>2500&&this.rearrange()}rearrange(){const e=Array.from(this.elementZIndex.entries());e.sort((n,r)=>n[1]-r[1]),this.nextZIndex=2e3,e.forEach(n=>{const r=n[0],o=this.nextZIndex++;`${o}`!==r.style.zIndex&&(r.style.zIndex=`${o}`)})}}const mg=new o3,Xa="@@ziContext",Dd={mounted(t,e){const{value:n={}}=e,{zIndex:r,enabled:o}=n;t[Xa]={enabled:!!o,initialized:!1},o&&(mg.ensureZIndex(t,r),t[Xa].initialized=!0)},updated(t,e){const{value:n={}}=e,{zIndex:r,enabled:o}=n,i=t[Xa].enabled;o&&!i&&(mg.ensureZIndex(t,r),t[Xa].initialized=!0),t[Xa].enabled=!!o},unmounted(t,e){if(!t[Xa].initialized)return;const{value:n={}}=e,{zIndex:r}=n;mg.unregister(t,r)}},i3="@css-render/vue3-ssr";function s3(t,e){return`<style cssr-id="${t}">
${e}
</style>`}function a3(t,e,n){const{styles:r,ids:o}=n;o.has(t)||r!==null&&(o.add(t),r.push(s3(t,e)))}const l3=typeof document<"u";function Ks(){if(l3)return;const t=Ve(i3,null);if(t!==null)return{adapter:(e,n)=>a3(e,n,t),context:t}}function Fy(t,e){console.error(`[vueuc/${t}]: ${e}`)}const{c:hi}=BR(),vh="vueuc-style";function My(t){return t&-t}class iT{constructor(e,n){this.l=e,this.min=n;const r=new Array(e+1);for(let o=0;o<e+1;++o)r[o]=0;this.ft=r}add(e,n){if(n===0)return;const{l:r,ft:o}=this;for(e+=1;e<=r;)o[e]+=n,e+=My(e)}get(e){return this.sum(e+1)-this.sum(e)}sum(e){if(e===void 0&&(e=this.l),e<=0)return 0;const{ft:n,min:r,l:o}=this;if(e>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let i=e*r;for(;e>0;)i+=n[e],e-=My(e);return i}getBound(e){let n=0,r=this.l;for(;r>n;){const o=Math.floor((n+r)/2),i=this.sum(o);if(i>e){r=o;continue}else if(i<e){if(n===o)return this.sum(n+1)<=e?n+1:o;n=o}else return o}return n}}function By(t){return typeof t=="string"?document.querySelector(t):t()}const Od=ce({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(t){return{showTeleport:QR(Se(t,"show")),mergedTo:A(()=>{const{to:e}=t;return e??"body"})}},render(){return this.showTeleport?this.disabled?np("lazy-teleport",this.$slots):g(Pd,{disabled:this.disabled,to:this.mergedTo},np("lazy-teleport",this.$slots)):null}}),su={top:"bottom",bottom:"top",left:"right",right:"left"},zy={start:"end",center:"center",end:"start"},pg={top:"height",bottom:"height",left:"width",right:"width"},c3={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},d3={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},u3={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},Ny={top:!0,bottom:!1,left:!0,right:!1},Uy={top:"end",bottom:"start",left:"end",right:"start"};function f3(t,e,n,r,o,i){if(!o||i)return{placement:t,top:0,left:0};const[s,a]=t.split("-");let l=a??"center",c={top:0,left:0};const d=(m,h,p)=>{let v=0,b=0;const y=n[m]-e[h]-e[m];return y>0&&r&&(p?b=Ny[h]?y:-y:v=Ny[h]?y:-y),{left:v,top:b}},u=s==="left"||s==="right";if(l!=="center"){const m=u3[t],h=su[m],p=pg[m];if(n[p]>e[p]){if(e[m]+e[p]<n[p]){const v=(n[p]-e[p])/2;e[m]<v||e[h]<v?e[m]<e[h]?(l=zy[a],c=d(p,h,u)):c=d(p,m,u):l="center"}}else n[p]<e[p]&&e[h]<0&&e[m]>e[h]&&(l=zy[a])}else{const m=s==="bottom"||s==="top"?"left":"top",h=su[m],p=pg[m],v=(n[p]-e[p])/2;(e[m]<v||e[h]<v)&&(e[m]>e[h]?(l=Uy[m],c=d(p,m,u)):(l=Uy[h],c=d(p,h,u)))}let f=s;return e[s]<n[pg[s]]&&e[s]<e[su[s]]&&(f=su[s]),{placement:l!=="center"?`${f}-${l}`:f,left:c.left,top:c.top}}function h3(t,e){return e?d3[t]:c3[t]}function g3(t,e,n,r,o,i){if(i)switch(t){case"bottom-start":return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left)}px`,transform:""};case"top-end":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left)}px`,transform:""};case"left-end":return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(n.top-e.top)}px`,left:`${Math.round(n.left-e.left+n.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(n.top-e.top+n.height/2)}px`,left:`${Math.round(n.left-e.left+n.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(n.top-e.top+n.height/2)}px`,left:`${Math.round(n.left-e.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(n.top-e.top+n.height)}px`,left:`${Math.round(n.left-e.left+n.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(t){case"bottom-start":return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+o)}px`,transform:""};case"bottom-end":return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+n.width+o)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+o)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+n.width+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+n.width+o)}px`,transform:""};case"right-end":return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+n.width+o)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+o)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(n.top-e.top+r)}px`,left:`${Math.round(n.left-e.left+n.width/2+o)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(n.top-e.top+n.height/2+r)}px`,left:`${Math.round(n.left-e.left+n.width+o)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(n.top-e.top+n.height/2+r)}px`,left:`${Math.round(n.left-e.left+o)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(n.top-e.top+n.height+r)}px`,left:`${Math.round(n.left-e.left+n.width/2+o)}px`,transform:"translateX(-50%)"}}}const m3=hi([hi(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),hi(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[hi("> *",{pointerEvents:"all"})])]),yo=ce({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(t){const e=Ve("VBinder"),n=pt(()=>t.enabled!==void 0?t.enabled:t.show),r=z(null),o=z(null),i=()=>{const{syncTrigger:f}=t;f.includes("scroll")&&e.addScrollListener(l),f.includes("resize")&&e.addResizeListener(l)},s=()=>{e.removeScrollListener(l),e.removeResizeListener(l)};Gt(()=>{n.value&&(l(),i())});const a=Ks();m3.mount({id:"vueuc/binder",head:!0,anchorMetaName:vh,ssr:a}),Qt(()=>{s()}),ph(()=>{n.value&&l()});const l=()=>{if(!n.value)return;const f=r.value;if(f===null)return;const m=e.targetRef,{x:h,y:p,overlap:v}=t,b=h!==void 0&&p!==void 0?e3(h,p):gg(m);f.style.setProperty("--v-target-width",`${Math.round(b.width)}px`),f.style.setProperty("--v-target-height",`${Math.round(b.height)}px`);const{width:y,minWidth:x,placement:C,internalShift:S,flip:T}=t;f.setAttribute("v-placement",C),v?f.setAttribute("v-overlap",""):f.removeAttribute("v-overlap");const{style:w}=f;y==="target"?w.width=`${b.width}px`:y!==void 0?w.width=y:w.width="",x==="target"?w.minWidth=`${b.width}px`:x!==void 0?w.minWidth=x:w.minWidth="";const E=gg(f),R=gg(o.value),{left:P,top:_,placement:I}=f3(C,b,E,S,T,v),L=h3(I,v),{left:N,top:H,transform:G}=g3(I,R,b,_,P,v);f.setAttribute("v-placement",I),f.style.setProperty("--v-offset-left",`${Math.round(P)}px`),f.style.setProperty("--v-offset-top",`${Math.round(_)}px`),f.style.transform=`translateX(${N}) translateY(${H}) ${G}`,f.style.setProperty("--v-transform-origin",L),f.style.transformOrigin=L};gt(n,f=>{f?(i(),c()):s()});const c=()=>{$t().then(l).catch(f=>console.error(f))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(f=>{gt(Se(t,f),l)}),["teleportDisabled"].forEach(f=>{gt(Se(t,f),c)}),gt(Se(t,"syncTrigger"),f=>{f.includes("resize")?e.addResizeListener(l):e.removeResizeListener(l),f.includes("scroll")?e.addScrollListener(l):e.removeScrollListener(l)});const d=br(),u=pt(()=>{const{to:f}=t;if(f!==void 0)return f;d.value});return{VBinder:e,mergedEnabled:n,offsetContainerRef:o,followerRef:r,mergedTo:u,syncPosition:l}},render(){return g(Od,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var t,e;const n=g("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[g("div",{class:"v-binder-follower-content",ref:"followerRef"},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))]);return this.zindexable?$n(n,[[Dd,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):n}})}});var ba=[],p3=function(){return ba.some(function(t){return t.activeTargets.length>0})},v3=function(){return ba.some(function(t){return t.skippedTargets.length>0})},Hy="ResizeObserver loop completed with undelivered notifications.",b3=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:Hy}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=Hy),window.dispatchEvent(t)},sd;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(sd||(sd={}));var ya=function(t){return Object.freeze(t)},y3=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,ya(this)}return t}(),sT=function(){function t(e,n,r,o){return this.x=e,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ya(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,r=e.y,o=e.top,i=e.right,s=e.bottom,a=e.left,l=e.width,c=e.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:l,height:c}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),n0=function(t){return t instanceof SVGElement&&"getBBox"in t},aT=function(t){if(n0(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var o=t,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||t.getClientRects().length)},Vy=function(t){var e;if(t instanceof Element)return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},x3=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Bc=typeof window<"u"?window:{},au=new WeakMap,jy=/auto|scroll/,C3=/^tb|vertical/,S3=/msie|trident/i.test(Bc.navigator&&Bc.navigator.userAgent),ti=function(t){return parseFloat(t||"0")},Tl=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new y3((n?e:t)||0,(n?t:e)||0)},Wy=ya({devicePixelContentBoxSize:Tl(),borderBoxSize:Tl(),contentBoxSize:Tl(),contentRect:new sT(0,0,0,0)}),lT=function(t,e){if(e===void 0&&(e=!1),au.has(t)&&!e)return au.get(t);if(aT(t))return au.set(t,Wy),Wy;var n=getComputedStyle(t),r=n0(t)&&t.ownerSVGElement&&t.getBBox(),o=!S3&&n.boxSizing==="border-box",i=C3.test(n.writingMode||""),s=!r&&jy.test(n.overflowY||""),a=!r&&jy.test(n.overflowX||""),l=r?0:ti(n.paddingTop),c=r?0:ti(n.paddingRight),d=r?0:ti(n.paddingBottom),u=r?0:ti(n.paddingLeft),f=r?0:ti(n.borderTopWidth),m=r?0:ti(n.borderRightWidth),h=r?0:ti(n.borderBottomWidth),p=r?0:ti(n.borderLeftWidth),v=u+c,b=l+d,y=p+m,x=f+h,C=a?t.offsetHeight-x-t.clientHeight:0,S=s?t.offsetWidth-y-t.clientWidth:0,T=o?v+y:0,w=o?b+x:0,E=r?r.width:ti(n.width)-T-S,R=r?r.height:ti(n.height)-w-C,P=E+v+S+y,_=R+b+C+x,I=ya({devicePixelContentBoxSize:Tl(Math.round(E*devicePixelRatio),Math.round(R*devicePixelRatio),i),borderBoxSize:Tl(P,_,i),contentBoxSize:Tl(E,R,i),contentRect:new sT(u,l,E,R)});return au.set(t,I),I},cT=function(t,e,n){var r=lT(t,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(e){case sd.DEVICE_PIXEL_CONTENT_BOX:return s;case sd.BORDER_BOX:return o;default:return i}},w3=function(){function t(e){var n=lT(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=ya([n.borderBoxSize]),this.contentBoxSize=ya([n.contentBoxSize]),this.devicePixelContentBoxSize=ya([n.devicePixelContentBoxSize])}return t}(),dT=function(t){if(aT(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},R3=function(){var t=1/0,e=[];ba.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(c){var d=new w3(c.target),u=dT(c.target);a.push(d),c.lastReportedSize=cT(c.target,c.observedBox),u<t&&(t=u)}),e.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=e;n<r.length;n++){var o=r[n];o()}return t},Ky=function(t){ba.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(dT(o.target)>t?n.activeTargets.push(o):n.skippedTargets.push(o))})})},T3=function(){var t=0;for(Ky(t);p3();)t=R3(),Ky(t);return v3()&&b3(),t>0},vg,uT=[],E3=function(){return uT.splice(0).forEach(function(t){return t()})},k3=function(t){if(!vg){var e=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return E3()}).observe(n,r),vg=function(){n.textContent="".concat(e?e--:e++)}}uT.push(t),vg()},P3=function(t){k3(function(){requestAnimationFrame(t)})},Xu=0,A3=function(){return!!Xu},I3=250,_3={attributes:!0,characterData:!0,childList:!0,subtree:!0},Gy=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],qy=function(t){return t===void 0&&(t=0),Date.now()+t},bg=!1,L3=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=I3),!bg){bg=!0;var r=qy(e);P3(function(){var o=!1;try{o=T3()}finally{if(bg=!1,e=r-qy(),!A3())return;o?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,_3)};document.body?n():Bc.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Gy.forEach(function(n){return Bc.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Gy.forEach(function(n){return Bc.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),op=new L3,Yy=function(t){!Xu&&t>0&&op.start(),Xu+=t,!Xu&&op.stop()},D3=function(t){return!n0(t)&&!x3(t)&&getComputedStyle(t).display==="inline"},O3=function(){function t(e,n){this.target=e,this.observedBox=n||sd.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=cT(this.target,this.observedBox,!0);return D3(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),$3=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),lu=new WeakMap,Xy=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},cu=function(){function t(){}return t.connect=function(e,n){var r=new $3(e,n);lu.set(e,r)},t.observe=function(e,n,r){var o=lu.get(e),i=o.observationTargets.length===0;Xy(o.observationTargets,n)<0&&(i&&ba.push(o),o.observationTargets.push(new O3(n,r&&r.box)),Yy(1),op.schedule())},t.unobserve=function(e,n){var r=lu.get(e),o=Xy(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&ba.splice(ba.indexOf(r),1),r.observationTargets.splice(o,1),Yy(-1))},t.disconnect=function(e){var n=this,r=lu.get(e);r.observationTargets.slice().forEach(function(o){return n.unobserve(e,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},t}(),F3=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");cu.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Vy(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");cu.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Vy(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");cu.unobserve(this,e)},t.prototype.disconnect=function(){cu.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();class M3{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||F3)(this.handleResize),this.elHandlersMap=new Map}handleResize(e){for(const n of e){const r=this.elHandlersMap.get(n.target);r!==void 0&&r(n)}}registerHandler(e,n){this.elHandlersMap.set(e,n),this.observer.observe(e)}unregisterHandler(e){this.elHandlersMap.has(e)&&(this.elHandlersMap.delete(e),this.observer.unobserve(e))}}const zc=new M3,Fr=ce({name:"ResizeObserver",props:{onResize:Function},setup(t){let e=!1;const n=Zi().proxy;function r(o){const{onResize:i}=t;i!==void 0&&i(o)}Gt(()=>{const o=n.$el;if(o===void 0){Fy("resize-observer","$el does not exist.");return}if(o.nextElementSibling!==o.nextSibling&&o.nodeType===3&&o.nodeValue!==""){Fy("resize-observer","$el can not be observed (it may be a text node).");return}o.nextElementSibling!==null&&(zc.registerHandler(o.nextElementSibling,r),e=!0)}),Qt(()=>{e&&zc.unregisterHandler(n.$el.nextElementSibling)})},render(){return iR(this.$slots,"default")}});let du;function B3(){return typeof document>"u"?!1:(du===void 0&&("matchMedia"in window?du=window.matchMedia("(pointer:coarse)").matches:du=!1),du)}let yg;function Qy(){return typeof document>"u"?1:(yg===void 0&&(yg="chrome"in window?window.devicePixelRatio:1),yg)}const fT="VVirtualListXScroll";function z3({columnsRef:t,renderColRef:e,renderItemWithColsRef:n}){const r=z(0),o=z(0),i=A(()=>{const c=t.value;if(c.length===0)return null;const d=new iT(c.length,0);return c.forEach((u,f)=>{d.add(f,u.width)}),d}),s=pt(()=>{const c=i.value;return c!==null?Math.max(c.getBound(o.value)-1,0):0}),a=c=>{const d=i.value;return d!==null?d.sum(c):0},l=pt(()=>{const c=i.value;return c!==null?Math.min(c.getBound(o.value+r.value)+1,t.value.length-1):0});return ft(fT,{startIndexRef:s,endIndexRef:l,columnsRef:t,renderColRef:e,renderItemWithColsRef:n,getLeft:a}),{listWidthRef:r,scrollLeftRef:o}}const Zy=ce({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:t,endIndexRef:e,columnsRef:n,getLeft:r,renderColRef:o,renderItemWithColsRef:i}=Ve(fT);return{startIndex:t,endIndex:e,columns:n,renderCol:o,renderItemWithCols:i,getLeft:r}},render(){const{startIndex:t,endIndex:e,columns:n,renderCol:r,renderItemWithCols:o,getLeft:i,item:s}=this;if(o!=null)return o({itemIndex:this.index,startColIndex:t,endColIndex:e,allColumns:n,item:s,getLeft:i});if(r!=null){const a=[];for(let l=t;l<=e;++l){const c=n[l];a.push(r({column:c,left:i(l),item:s}))}return a}return null}}),N3=hi(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[hi("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[hi("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),qo=ce({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(t){const e=Ks();N3.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:vh,ssr:e}),Gt(()=>{const{defaultScrollIndex:L,defaultScrollKey:N}=t;L!=null?v({index:L}):N!=null&&v({key:N})});let n=!1,r=!1;Dv(()=>{if(n=!1,!r){r=!0;return}v({top:m.value,left:s.value})}),ch(()=>{n=!0,r||(r=!0)});const o=pt(()=>{if(t.renderCol==null&&t.renderItemWithCols==null||t.columns.length===0)return;let L=0;return t.columns.forEach(N=>{L+=N.width}),L}),i=A(()=>{const L=new Map,{keyField:N}=t;return t.items.forEach((H,G)=>{L.set(H[N],G)}),L}),{scrollLeftRef:s,listWidthRef:a}=z3({columnsRef:Se(t,"columns"),renderColRef:Se(t,"renderCol"),renderItemWithColsRef:Se(t,"renderItemWithCols")}),l=z(null),c=z(void 0),d=new Map,u=A(()=>{const{items:L,itemSize:N,keyField:H}=t,G=new iT(L.length,N);return L.forEach((W,J)=>{const ne=W[H],D=d.get(ne);D!==void 0&&G.add(J,D)}),G}),f=z(0),m=z(0),h=pt(()=>Math.max(u.value.getBound(m.value-on(t.paddingTop))-1,0)),p=A(()=>{const{value:L}=c;if(L===void 0)return[];const{items:N,itemSize:H}=t,G=h.value,W=Math.min(G+Math.ceil(L/H+1),N.length-1),J=[];for(let ne=G;ne<=W;++ne)J.push(N[ne]);return J}),v=(L,N)=>{if(typeof L=="number"){C(L,N,"auto");return}const{left:H,top:G,index:W,key:J,position:ne,behavior:D,debounce:B=!0}=L;if(H!==void 0||G!==void 0)C(H,G,D);else if(W!==void 0)x(W,D,B);else if(J!==void 0){const j=i.value.get(J);j!==void 0&&x(j,D,B)}else ne==="bottom"?C(0,Number.MAX_SAFE_INTEGER,D):ne==="top"&&C(0,0,D)};let b,y=null;function x(L,N,H){const{value:G}=u,W=G.sum(L)+on(t.paddingTop);if(!H)l.value.scrollTo({left:0,top:W,behavior:N});else{b=L,y!==null&&window.clearTimeout(y),y=window.setTimeout(()=>{b=void 0,y=null},16);const{scrollTop:J,offsetHeight:ne}=l.value;if(W>J){const D=G.get(L);W+D<=J+ne||l.value.scrollTo({left:0,top:W+D-ne,behavior:N})}else l.value.scrollTo({left:0,top:W,behavior:N})}}function C(L,N,H){l.value.scrollTo({left:L,top:N,behavior:H})}function S(L,N){var H,G,W;if(n||t.ignoreItemResize||I(N.target))return;const{value:J}=u,ne=i.value.get(L),D=J.get(ne),B=(W=(G=(H=N.borderBoxSize)===null||H===void 0?void 0:H[0])===null||G===void 0?void 0:G.blockSize)!==null&&W!==void 0?W:N.contentRect.height;if(B===D)return;B-t.itemSize===0?d.delete(L):d.set(L,B-t.itemSize);const $=B-D;if($===0)return;J.add(ne,$);const V=l.value;if(V!=null){if(b===void 0){const X=J.sum(ne);V.scrollTop>X&&V.scrollBy(0,$)}else if(ne<b)V.scrollBy(0,$);else if(ne===b){const X=J.sum(ne);B+X>V.scrollTop+V.offsetHeight&&V.scrollBy(0,$)}_()}f.value++}const T=!B3();let w=!1;function E(L){var N;(N=t.onScroll)===null||N===void 0||N.call(t,L),(!T||!w)&&_()}function R(L){var N;if((N=t.onWheel)===null||N===void 0||N.call(t,L),T){const H=l.value;if(H!=null){if(L.deltaX===0&&(H.scrollTop===0&&L.deltaY<=0||H.scrollTop+H.offsetHeight>=H.scrollHeight&&L.deltaY>=0))return;L.preventDefault(),H.scrollTop+=L.deltaY/Qy(),H.scrollLeft+=L.deltaX/Qy(),_(),w=!0,Ta(()=>{w=!1})}}}function P(L){if(n||I(L.target))return;if(t.renderCol==null&&t.renderItemWithCols==null){if(L.contentRect.height===c.value)return}else if(L.contentRect.height===c.value&&L.contentRect.width===a.value)return;c.value=L.contentRect.height,a.value=L.contentRect.width;const{onResize:N}=t;N!==void 0&&N(L)}function _(){const{value:L}=l;L!=null&&(m.value=L.scrollTop,s.value=L.scrollLeft)}function I(L){let N=L;for(;N!==null;){if(N.style.display==="none")return!0;N=N.parentElement}return!1}return{listHeight:c,listStyle:{overflow:"auto"},keyToIndex:i,itemsStyle:A(()=>{const{itemResizable:L}=t,N=hn(u.value.sum());return f.value,[t.itemsStyle,{boxSizing:"content-box",width:hn(o.value),height:L?"":N,minHeight:L?N:"",paddingTop:hn(t.paddingTop),paddingBottom:hn(t.paddingBottom)}]}),visibleItemsStyle:A(()=>(f.value,{transform:`translateY(${hn(u.value.sum(h.value))})`})),viewportItems:p,listElRef:l,itemsElRef:z(null),scrollTo:v,handleListResize:P,handleListScroll:E,handleListWheel:R,handleItemResize:S}},render(){const{itemResizable:t,keyField:e,keyToIndex:n,visibleItemsTag:r}=this;return g(Fr,{onResize:this.handleListResize},{default:()=>{var o,i;return g("div",sr(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?g("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[g(r,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:s,renderItemWithCols:a}=this;return this.viewportItems.map(l=>{const c=l[e],d=n.get(c),u=s!=null?g(Zy,{index:d,item:l}):void 0,f=a!=null?g(Zy,{index:d,item:l}):void 0,m=this.$slots.default({item:l,renderedCols:u,renderedItemWithCols:f,index:d})[0];return t?g(Fr,{key:c,onResize:h=>this.handleItemResize(c,h)},{default:()=>m}):(m.key=c,m)})}})]):(i=(o=this.$slots).empty)===null||i===void 0?void 0:i.call(o)])}})}}),U3=hi(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[hi("&::-webkit-scrollbar",{width:0,height:0})]),H3=ce({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const t=z(null);function e(o){!(o.currentTarget.offsetWidth<o.currentTarget.scrollWidth)||o.deltaY===0||(o.currentTarget.scrollLeft+=o.deltaY+o.deltaX,o.preventDefault())}const n=Ks();return U3.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:vh,ssr:n}),Object.assign({selfRef:t,handleWheel:e},{scrollTo(...o){var i;(i=t.value)===null||i===void 0||i.scrollTo(...o)}})},render(){return g("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}}),Li="v-hidden",V3=hi("[v-hidden]",{display:"none!important"}),ip=ce({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(t,{slots:e}){const n=z(null),r=z(null);function o(s){const{value:a}=n,{getCounter:l,getTail:c}=t;let d;if(l!==void 0?d=l():d=r.value,!a||!d)return;d.hasAttribute(Li)&&d.removeAttribute(Li);const{children:u}=a;if(s.showAllItemsBeforeCalculate)for(const x of u)x.hasAttribute(Li)&&x.removeAttribute(Li);const f=a.offsetWidth,m=[],h=e.tail?c==null?void 0:c():null;let p=h?h.offsetWidth:0,v=!1;const b=a.children.length-(e.tail?1:0);for(let x=0;x<b-1;++x){if(x<0)continue;const C=u[x];if(v){C.hasAttribute(Li)||C.setAttribute(Li,"");continue}else C.hasAttribute(Li)&&C.removeAttribute(Li);const S=C.offsetWidth;if(p+=S,m[x]=S,p>f){const{updateCounter:T}=t;for(let w=x;w>=0;--w){const E=b-1-w;T!==void 0?T(E):d.textContent=`${E}`;const R=d.offsetWidth;if(p-=m[w],p+R<=f||w===0){v=!0,x=w-1,h&&(x===-1?(h.style.maxWidth=`${f-R}px`,h.style.boxSizing="border-box"):h.style.maxWidth="");const{onUpdateCount:P}=t;P&&P(E);break}}}}const{onUpdateOverflow:y}=t;v?y!==void 0&&y(!0):(y!==void 0&&y(!1),d.setAttribute(Li,""))}const i=Ks();return V3.mount({id:"vueuc/overflow",head:!0,anchorMetaName:vh,ssr:i}),Gt(()=>o({showAllItemsBeforeCalculate:!1})),{selfRef:n,counterRef:r,sync:o}},render(){const{$slots:t}=this;return $t(()=>this.sync({showAllItemsBeforeCalculate:!1})),g("div",{class:"v-overflow",ref:"selfRef"},[iR(t,"default"),t.counter?t.counter():g("span",{style:{display:"inline-block"},ref:"counterRef"}),t.tail?t.tail():null])}});function hT(t){return t instanceof HTMLElement}function gT(t){for(let e=0;e<t.childNodes.length;e++){const n=t.childNodes[e];if(hT(n)&&(pT(n)||gT(n)))return!0}return!1}function mT(t){for(let e=t.childNodes.length-1;e>=0;e--){const n=t.childNodes[e];if(hT(n)&&(pT(n)||mT(n)))return!0}return!1}function pT(t){if(!j3(t))return!1;try{t.focus({preventScroll:!0})}catch{}return document.activeElement===t}function j3(t){if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.getAttribute("disabled"))return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return t.type!=="hidden"&&t.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let hc=[];const r0=ce({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(t){const e=Vr(),n=z(null),r=z(null);let o=!1,i=!1;const s=typeof document>"u"?null:document.activeElement;function a(){return hc[hc.length-1]===e}function l(v){var b;v.code==="Escape"&&a()&&((b=t.onEsc)===null||b===void 0||b.call(t,v))}Gt(()=>{gt(()=>t.active,v=>{v?(u(),_t("keydown",document,l)):(It("keydown",document,l),o&&f())},{immediate:!0})}),Qt(()=>{It("keydown",document,l),o&&f()});function c(v){if(!i&&a()){const b=d();if(b===null||b.contains(Jr(v)))return;m("first")}}function d(){const v=n.value;if(v===null)return null;let b=v;for(;b=b.nextSibling,!(b===null||b instanceof Element&&b.tagName==="DIV"););return b}function u(){var v;if(!t.disabled){if(hc.push(e),t.autoFocus){const{initialFocusTo:b}=t;b===void 0?m("first"):(v=By(b))===null||v===void 0||v.focus({preventScroll:!0})}o=!0,document.addEventListener("focus",c,!0)}}function f(){var v;if(t.disabled||(document.removeEventListener("focus",c,!0),hc=hc.filter(y=>y!==e),a()))return;const{finalFocusTo:b}=t;b!==void 0?(v=By(b))===null||v===void 0||v.focus({preventScroll:!0}):t.returnFocusOnDeactivated&&s instanceof HTMLElement&&(i=!0,s.focus({preventScroll:!0}),i=!1)}function m(v){if(a()&&t.active){const b=n.value,y=r.value;if(b!==null&&y!==null){const x=d();if(x==null||x===y){i=!0,b.focus({preventScroll:!0}),i=!1;return}i=!0;const C=v==="first"?gT(x):mT(x);i=!1,C||(i=!0,b.focus({preventScroll:!0}),i=!1)}}}function h(v){if(i)return;const b=d();b!==null&&(v.relatedTarget!==null&&b.contains(v.relatedTarget)?m("last"):m("first"))}function p(v){i||(v.relatedTarget!==null&&v.relatedTarget===n.value?m("last"):m("first"))}return{focusableStartRef:n,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:h,handleEndFocus:p}},render(){const{default:t}=this.$slots;if(t===void 0)return null;if(this.disabled)return t();const{active:e,focusableStyle:n}=this;return g(Vt,null,[g("div",{"aria-hidden":"true",tabindex:e?"0":"-1",ref:"focusableStartRef",style:n,onFocus:this.handleStartFocus}),t(),g("div",{"aria-hidden":"true",style:n,ref:"focusableEndRef",tabindex:e?"0":"-1",onFocus:this.handleEndFocus})])}});function bh(t,e){e&&(Gt(()=>{const{value:n}=t;n&&zc.registerHandler(n,e)}),gt(t,(n,r)=>{r&&zc.unregisterHandler(r)},{deep:!1}),Qt(()=>{const{value:n}=t;n&&zc.unregisterHandler(n)}))}function Ea(t){return t.replace(/#|\(|\)|,|\s|\./g,"_")}const W3=/^(\d|\.)+$/,Jy=/(\d|\.)+/;function Mt(t,{c:e=1,offset:n=0,attachPx:r=!0}={}){if(typeof t=="number"){const o=(t+n)*e;return o===0?"0":`${o}px`}else if(typeof t=="string")if(W3.test(t)){const o=(Number(t)+n)*e;return r?o===0?"0":`${o}px`:`${o}`}else{const o=Jy.exec(t);return o?t.replace(Jy,String((Number(o[0])+n)*e)):t}return t}function ex(t){const{left:e,right:n,top:r,bottom:o}=Un(t);return`${r} ${e} ${o} ${n}`}function yh(t,e){if(!t)return;const n=document.createElement("a");n.href=t,e!==void 0&&(n.download=e),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function K3(t,e){yh(t,e)}function tx(t){return t.nodeName==="#document"}let xg;function G3(){return xg===void 0&&(xg=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),xg}const vT=new WeakSet;function ka(t){vT.add(t)}function bT(t){return!vT.has(t)}function Ll(t){switch(typeof t){case"string":return t||void 0;case"number":return String(t);default:return}}function sp(t){switch(t){case"tiny":return"mini";case"small":return"tiny";case"medium":return"small";case"large":return"medium";case"huge":return"large"}throw new Error(`${t} has no smaller size.`)}function q3(t,e){if(t===null&&e===null)return!0;if(t===null||e===null)return!1;if(t.length===e.length){for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}return!1}const nx=new Set;function Y3(t,e){const n=`[naive/${t}]: ${e}`;nx.has(n)||(nx.add(n),console.error(n))}function Rr(t,e){console.error(`[naive/${t}]: ${e}`)}function rx(t,e,n){console.error(`[naive/${t}]: ${e}`,n)}function nr(t,e){throw new Error(`[naive/${t}]: ${e}`)}function we(t,...e){if(Array.isArray(t))t.forEach(n=>we(n,...e));else return t(...e)}function yT(t){return typeof t=="string"?`s-${t}`:`n-${t}`}function xT(t){return e=>{e?t.value=e.$el:t.value=null}}function Yr(t,e=!0,n=[]){return t.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&n.push(hr(String(r)));return}if(Array.isArray(r)){Yr(r,e,n);return}if(r.type===Vt){if(r.children===null)return;Array.isArray(r.children)&&Yr(r.children,e,n)}else{if(r.type===or&&e)return;n.push(r)}}}),n}function X3(t,e="default",n=void 0){const r=t[e];if(!r)return Rr("getFirstSlotVNode",`slot[${e}] is empty`),null;const o=Yr(r(n));return o.length===1?o[0]:(Rr("getFirstSlotVNode",`slot[${e}] should have exactly one child`),null)}function CT(t,e,n){if(!e)return null;const r=Yr(e(n));return r.length===1?r[0]:(Rr("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}function Gl(t,e="default",n=[]){const o=t.$slots[e];return o===void 0?n:o()}function ox(t,e="default",n=[]){const{children:r}=t;if(r!==null&&typeof r=="object"&&!Array.isArray(r)){const o=r[e];if(typeof o=="function")return o()}return n}function Q3(t){var e;const n=(e=t.dirs)===null||e===void 0?void 0:e.find(({dir:r})=>r===bo);return!!(n&&n.value===!1)}function Gn(t,e=[],n){const r={};return e.forEach(o=>{r[o]=t[o]}),Object.assign(r,n)}function Tr(t){return Object.keys(t)}function Nc(t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?e[0]:n=>{t.forEach(r=>{r&&r(n)})}}function Gs(t,e=[],n){const r={};return Object.getOwnPropertyNames(t).forEach(i=>{e.includes(i)||(r[i]=t[i])}),Object.assign(r,n)}function dn(t,...e){return typeof t=="function"?t(...e):typeof t=="string"?hr(t):typeof t=="number"?hr(String(t)):null}function Ao(t){return t.some(e=>Il(e)?!(e.type===or||e.type===Vt&&!Ao(e.children)):!0)?t:null}function Et(t,e){return t&&Ao(t())||e()}function Vn(t,e,n){return t&&Ao(t(e))||n(e)}function Lt(t,e){const n=t&&Ao(t());return e(n||null)}function Z3(t,e,n){const r=t&&Ao(t(e));return n(r||null)}function xa(t){return!(t&&Ao(t()))}const ap=ce({render(){var t,e;return(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t)}}),to="n-config-provider",Rf="n";function Ge(t={},e={defaultBordered:!0}){const n=Ve(to,null);return{inlineThemeDisabled:n==null?void 0:n.inlineThemeDisabled,mergedRtlRef:n==null?void 0:n.mergedRtlRef,mergedComponentPropsRef:n==null?void 0:n.mergedComponentPropsRef,mergedBreakpointsRef:n==null?void 0:n.mergedBreakpointsRef,mergedBorderedRef:A(()=>{var r,o;const{bordered:i}=t;return i!==void 0?i:(o=(r=n==null?void 0:n.mergedBorderedRef.value)!==null&&r!==void 0?r:e.defaultBordered)!==null&&o!==void 0?o:!0}),mergedClsPrefixRef:n?n.mergedClsPrefixRef:Iv(Rf),namespaceRef:A(()=>n==null?void 0:n.mergedNamespaceRef.value)}}function ST(){const t=Ve(to,null);return t?t.mergedClsPrefixRef:Iv(Rf)}function ot(t,e,n,r){n||nr("useThemeClass","cssVarsRef is not passed");const o=Ve(to,null),i=o==null?void 0:o.mergedThemeHashRef,s=o==null?void 0:o.styleMountTarget,a=z(""),l=Ks();let c;const d=`__${t}`,u=()=>{let f=d;const m=e?e.value:void 0,h=i==null?void 0:i.value;h&&(f+=`-${h}`),m&&(f+=`-${m}`);const{themeOverrides:p,builtinThemeOverrides:v}=r;p&&(f+=`-${od(JSON.stringify(p))}`),v&&(f+=`-${od(JSON.stringify(v))}`),a.value=f,c=()=>{const b=n.value;let y="";for(const x in b)y+=`${x}: ${b[x]};`;O(`.${f}`,y).mount({id:f,ssr:l,parent:s}),c=void 0}};return Xt(()=>{u()}),{themeClass:a,onRender:()=>{c==null||c()}}}const Tf="n-form-item";function jn(t,{defaultSize:e="medium",mergedSize:n,mergedDisabled:r}={}){const o=Ve(Tf,null);ft(Tf,null);const i=A(n?()=>n(o):()=>{const{size:l}=t;if(l)return l;if(o){const{mergedSize:c}=o;if(c.value!==void 0)return c.value}return e}),s=A(r?()=>r(o):()=>{const{disabled:l}=t;return l!==void 0?l:o?o.disabled.value:!1}),a=A(()=>{const{status:l}=t;return l||(o==null?void 0:o.mergedValidationStatus.value)});return Qt(()=>{o&&o.restoreValidation()}),{mergedSizeRef:i,mergedDisabledRef:s,mergedStatusRef:a,nTriggerFormBlur(){o&&o.handleContentBlur()},nTriggerFormChange(){o&&o.handleContentChange()},nTriggerFormFocus(){o&&o.handleContentFocus()},nTriggerFormInput(){o&&o.handleContentInput()}}}function wT(t,e){const n=Ve(to,null);return A(()=>t.hljs||(n==null?void 0:n.mergedHljsRef.value))}const J3={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm",clear:"Clear"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:t=>`Please load all ${t}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",weekFormat:"YYYY-w",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",weekPlaceholder:"Select Week",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:t=>`Total ${t} items`,selected:t=>`${t} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now",clear:"Clear"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (←)",tipNext:"Next picture (→)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipDownload:"Download",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}};function Cg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}function gc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;o=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[a]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return o[i]}}function mc(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;const s=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?tB(a,u=>u.test(s)):eB(a,u=>u.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function eB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function tB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function nB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const o=r[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(o.length);return{value:s,rest:a}}}function Dt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}let rB={};function Oa(){return rB}function Yo(t,e){var a,l,c,d;const n=Oa(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,o=Dt(t),i=o.getDay(),s=(i<r?7:0)+i-r;return o.setDate(o.getDate()-s),o.setHours(0,0,0,0),o}function oB(t,e,n){const r=Yo(t,n),o=Yo(e,n);return+r==+o}const iB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sB=(t,e,n)=>{let r;const o=iB[t];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},aB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lB=(t,e,n,r)=>aB[t],cB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mB=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pB={ordinalNumber:mB,era:gc({values:cB,defaultWidth:"wide"}),quarter:gc({values:dB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gc({values:uB,defaultWidth:"wide"}),day:gc({values:fB,defaultWidth:"wide"}),dayPeriod:gc({values:hB,defaultWidth:"wide",formattingValues:gB,defaultFormattingWidth:"wide"})},vB=/^(\d+)(th|st|nd|rd)?/i,bB=/\d+/i,yB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xB={any:[/^b/i,/^(a|c)/i]},CB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SB={any:[/1/i,/2/i,/3/i,/4/i]},wB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AB={ordinalNumber:nB({matchPattern:vB,parsePattern:bB,valueCallback:t=>parseInt(t,10)}),era:mc({matchPatterns:yB,defaultMatchWidth:"wide",parsePatterns:xB,defaultParseWidth:"any"}),quarter:mc({matchPatterns:CB,defaultMatchWidth:"wide",parsePatterns:SB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mc({matchPatterns:wB,defaultMatchWidth:"wide",parsePatterns:RB,defaultParseWidth:"any"}),day:mc({matchPatterns:TB,defaultMatchWidth:"wide",parsePatterns:EB,defaultParseWidth:"any"}),dayPeriod:mc({matchPatterns:kB,defaultMatchWidth:"any",parsePatterns:PB,defaultParseWidth:"any"})},IB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_B={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DB={date:Cg({formats:IB,defaultWidth:"full"}),time:Cg({formats:_B,defaultWidth:"full"}),dateTime:Cg({formats:LB,defaultWidth:"full"})},xh={code:"en-US",formatDistance:sB,formatLong:DB,formatRelative:lB,localize:pB,match:AB,options:{weekStartsOn:0,firstWeekContainsDate:1}},OB={name:"en-US",locale:xh};var RT=typeof global=="object"&&global&&global.Object===Object&&global,$B=typeof self=="object"&&self&&self.Object===Object&&self,zo=RT||$B||Function("return this")(),$s=zo.Symbol,TT=Object.prototype,FB=TT.hasOwnProperty,MB=TT.toString,pc=$s?$s.toStringTag:void 0;function BB(t){var e=FB.call(t,pc),n=t[pc];try{t[pc]=void 0;var r=!0}catch{}var o=MB.call(t);return r&&(e?t[pc]=n:delete t[pc]),o}var zB=Object.prototype,NB=zB.toString;function UB(t){return NB.call(t)}var HB="[object Null]",VB="[object Undefined]",ix=$s?$s.toStringTag:void 0;function $a(t){return t==null?t===void 0?VB:HB:ix&&ix in Object(t)?BB(t):UB(t)}function Fs(t){return t!=null&&typeof t=="object"}var jB="[object Symbol]";function Ch(t){return typeof t=="symbol"||Fs(t)&&$a(t)==jB}function ET(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var Oo=Array.isArray,sx=$s?$s.prototype:void 0,ax=sx?sx.toString:void 0;function kT(t){if(typeof t=="string")return t;if(Oo(t))return ET(t,kT)+"";if(Ch(t))return ax?ax.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var WB=/\s/;function KB(t){for(var e=t.length;e--&&WB.test(t.charAt(e)););return e}var GB=/^\s+/;function qB(t){return t&&t.slice(0,KB(t)+1).replace(GB,"")}function $o(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var lx=NaN,YB=/^[-+]0x[0-9a-f]+$/i,XB=/^0b[01]+$/i,QB=/^0o[0-7]+$/i,ZB=parseInt;function Ef(t){if(typeof t=="number")return t;if(Ch(t))return lx;if($o(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$o(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qB(t);var n=XB.test(t);return n||QB.test(t)?ZB(t.slice(2),n?2:8):YB.test(t)?lx:+t}var cx=1/0,JB=17976931348623157e292;function e5(t){if(!t)return t===0?t:0;if(t=Ef(t),t===cx||t===-cx){var e=t<0?-1:1;return e*JB}return t===t?t:0}function t5(t){var e=e5(t),n=e%1;return e===e?n?e-n:e:0}function o0(t){return t}var n5="[object AsyncFunction]",r5="[object Function]",o5="[object GeneratorFunction]",i5="[object Proxy]";function i0(t){if(!$o(t))return!1;var e=$a(t);return e==r5||e==o5||e==n5||e==i5}var Sg=zo["__core-js_shared__"],dx=function(){var t=/[^.]+$/.exec(Sg&&Sg.keys&&Sg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function s5(t){return!!dx&&dx in t}var a5=Function.prototype,l5=a5.toString;function Fa(t){if(t!=null){try{return l5.call(t)}catch{}try{return t+""}catch{}}return""}var c5=/[\\^$.*+?()[\]{}|]/g,d5=/^\[object .+?Constructor\]$/,u5=Function.prototype,f5=Object.prototype,h5=u5.toString,g5=f5.hasOwnProperty,m5=RegExp("^"+h5.call(g5).replace(c5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p5(t){if(!$o(t)||s5(t))return!1;var e=i0(t)?m5:d5;return e.test(Fa(t))}function v5(t,e){return t==null?void 0:t[e]}function Ma(t,e){var n=v5(t,e);return p5(n)?n:void 0}var lp=Ma(zo,"WeakMap"),ux=Object.create,b5=function(){function t(){}return function(e){if(!$o(e))return{};if(ux)return ux(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function y5(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function x5(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var C5=800,S5=16,w5=Date.now;function R5(t){var e=0,n=0;return function(){var r=w5(),o=S5-(r-n);if(n=r,o>0){if(++e>=C5)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function T5(t){return function(){return t}}var kf=function(){try{var t=Ma(Object,"defineProperty");return t({},"",{}),t}catch{}}(),E5=kf?function(t,e){return kf(t,"toString",{configurable:!0,enumerable:!1,value:T5(e),writable:!0})}:o0,k5=R5(E5),P5=9007199254740991,A5=/^(?:0|[1-9]\d*)$/;function s0(t,e){var n=typeof t;return e=e??P5,!!e&&(n=="number"||n!="symbol"&&A5.test(t))&&t>-1&&t%1==0&&t<e}function a0(t,e,n){e=="__proto__"&&kf?kf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $d(t,e){return t===e||t!==t&&e!==e}var I5=Object.prototype,_5=I5.hasOwnProperty;function L5(t,e,n){var r=t[e];(!(_5.call(t,e)&&$d(r,n))||n===void 0&&!(e in t))&&a0(t,e,n)}function D5(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],l=void 0;l===void 0&&(l=t[a]),o?a0(n,a,l):L5(n,a,l)}return n}var fx=Math.max;function O5(t,e,n){return e=fx(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=fx(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),y5(t,this,a)}}function $5(t,e){return k5(O5(t,e,o0),t+"")}var F5=9007199254740991;function l0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=F5}function ql(t){return t!=null&&l0(t.length)&&!i0(t)}function M5(t,e,n){if(!$o(n))return!1;var r=typeof e;return(r=="number"?ql(n)&&s0(e,n.length):r=="string"&&e in n)?$d(n[e],t):!1}function B5(t){return $5(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,s&&M5(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e})}var z5=Object.prototype;function c0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||z5;return t===n}function N5(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var U5="[object Arguments]";function hx(t){return Fs(t)&&$a(t)==U5}var PT=Object.prototype,H5=PT.hasOwnProperty,V5=PT.propertyIsEnumerable,Pf=hx(function(){return arguments}())?hx:function(t){return Fs(t)&&H5.call(t,"callee")&&!V5.call(t,"callee")};function j5(){return!1}var AT=typeof mo=="object"&&mo&&!mo.nodeType&&mo,gx=AT&&typeof po=="object"&&po&&!po.nodeType&&po,W5=gx&&gx.exports===AT,mx=W5?zo.Buffer:void 0,K5=mx?mx.isBuffer:void 0,Af=K5||j5,G5="[object Arguments]",q5="[object Array]",Y5="[object Boolean]",X5="[object Date]",Q5="[object Error]",Z5="[object Function]",J5="[object Map]",ez="[object Number]",tz="[object Object]",nz="[object RegExp]",rz="[object Set]",oz="[object String]",iz="[object WeakMap]",sz="[object ArrayBuffer]",az="[object DataView]",lz="[object Float32Array]",cz="[object Float64Array]",dz="[object Int8Array]",uz="[object Int16Array]",fz="[object Int32Array]",hz="[object Uint8Array]",gz="[object Uint8ClampedArray]",mz="[object Uint16Array]",pz="[object Uint32Array]",On={};On[lz]=On[cz]=On[dz]=On[uz]=On[fz]=On[hz]=On[gz]=On[mz]=On[pz]=!0;On[G5]=On[q5]=On[sz]=On[Y5]=On[az]=On[X5]=On[Q5]=On[Z5]=On[J5]=On[ez]=On[tz]=On[nz]=On[rz]=On[oz]=On[iz]=!1;function vz(t){return Fs(t)&&l0(t.length)&&!!On[$a(t)]}function bz(t){return function(e){return t(e)}}var IT=typeof mo=="object"&&mo&&!mo.nodeType&&mo,Uc=IT&&typeof po=="object"&&po&&!po.nodeType&&po,yz=Uc&&Uc.exports===IT,wg=yz&&RT.process,px=function(){try{var t=Uc&&Uc.require&&Uc.require("util").types;return t||wg&&wg.binding&&wg.binding("util")}catch{}}(),vx=px&&px.isTypedArray,d0=vx?bz(vx):vz,xz=Object.prototype,Cz=xz.hasOwnProperty;function _T(t,e){var n=Oo(t),r=!n&&Pf(t),o=!n&&!r&&Af(t),i=!n&&!r&&!o&&d0(t),s=n||r||o||i,a=s?N5(t.length,String):[],l=a.length;for(var c in t)(e||Cz.call(t,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||s0(c,l)))&&a.push(c);return a}function LT(t,e){return function(n){return t(e(n))}}var Sz=LT(Object.keys,Object),wz=Object.prototype,Rz=wz.hasOwnProperty;function Tz(t){if(!c0(t))return Sz(t);var e=[];for(var n in Object(t))Rz.call(t,n)&&n!="constructor"&&e.push(n);return e}function u0(t){return ql(t)?_T(t):Tz(t)}function Ez(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var kz=Object.prototype,Pz=kz.hasOwnProperty;function Az(t){if(!$o(t))return Ez(t);var e=c0(t),n=[];for(var r in t)r=="constructor"&&(e||!Pz.call(t,r))||n.push(r);return n}function DT(t){return ql(t)?_T(t,!0):Az(t)}var Iz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_z=/^\w*$/;function f0(t,e){if(Oo(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ch(t)?!0:_z.test(t)||!Iz.test(t)||e!=null&&t in Object(e)}var ad=Ma(Object,"create");function Lz(){this.__data__=ad?ad(null):{},this.size=0}function Dz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Oz="__lodash_hash_undefined__",$z=Object.prototype,Fz=$z.hasOwnProperty;function Mz(t){var e=this.__data__;if(ad){var n=e[t];return n===Oz?void 0:n}return Fz.call(e,t)?e[t]:void 0}var Bz=Object.prototype,zz=Bz.hasOwnProperty;function Nz(t){var e=this.__data__;return ad?e[t]!==void 0:zz.call(e,t)}var Uz="__lodash_hash_undefined__";function Hz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ad&&e===void 0?Uz:e,this}function Pa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pa.prototype.clear=Lz;Pa.prototype.delete=Dz;Pa.prototype.get=Mz;Pa.prototype.has=Nz;Pa.prototype.set=Hz;function Vz(){this.__data__=[],this.size=0}function Sh(t,e){for(var n=t.length;n--;)if($d(t[n][0],e))return n;return-1}var jz=Array.prototype,Wz=jz.splice;function Kz(t){var e=this.__data__,n=Sh(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Wz.call(e,n,1),--this.size,!0}function Gz(t){var e=this.__data__,n=Sh(e,t);return n<0?void 0:e[n][1]}function qz(t){return Sh(this.__data__,t)>-1}function Yz(t,e){var n=this.__data__,r=Sh(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function es(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}es.prototype.clear=Vz;es.prototype.delete=Kz;es.prototype.get=Gz;es.prototype.has=qz;es.prototype.set=Yz;var ld=Ma(zo,"Map");function Xz(){this.size=0,this.__data__={hash:new Pa,map:new(ld||es),string:new Pa}}function Qz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wh(t,e){var n=t.__data__;return Qz(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Zz(t){var e=wh(this,t).delete(t);return this.size-=e?1:0,e}function Jz(t){return wh(this,t).get(t)}function eN(t){return wh(this,t).has(t)}function tN(t,e){var n=wh(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ts(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ts.prototype.clear=Xz;ts.prototype.delete=Zz;ts.prototype.get=Jz;ts.prototype.has=eN;ts.prototype.set=tN;var nN="Expected a function";function h0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(nN);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(h0.Cache||ts),n}h0.Cache=ts;var rN=500;function oN(t){var e=h0(t,function(r){return n.size===rN&&n.clear(),r}),n=e.cache;return e}var iN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sN=/\\(\\)?/g,aN=oN(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(iN,function(n,r,o,i){e.push(o?i.replace(sN,"$1"):r||n)}),e});function Aa(t){return t==null?"":kT(t)}function OT(t,e){return Oo(t)?t:f0(t,e)?[t]:aN(Aa(t))}function Rh(t){if(typeof t=="string"||Ch(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function $T(t,e){e=OT(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Rh(e[n++])];return n&&n==r?t:void 0}function cd(t,e,n){var r=t==null?void 0:$T(t,e);return r===void 0?n:r}function lN(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var FT=LT(Object.getPrototypeOf,Object),cN="[object Object]",dN=Function.prototype,uN=Object.prototype,MT=dN.toString,fN=uN.hasOwnProperty,hN=MT.call(Object);function gN(t){if(!Fs(t)||$a(t)!=cN)return!1;var e=FT(t);if(e===null)return!0;var n=fN.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&MT.call(n)==hN}function mN(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function pN(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:mN(t,e,n)}var vN="\\ud800-\\udfff",bN="\\u0300-\\u036f",yN="\\ufe20-\\ufe2f",xN="\\u20d0-\\u20ff",CN=bN+yN+xN,SN="\\ufe0e\\ufe0f",wN="\\u200d",RN=RegExp("["+wN+vN+CN+SN+"]");function BT(t){return RN.test(t)}function TN(t){return t.split("")}var zT="\\ud800-\\udfff",EN="\\u0300-\\u036f",kN="\\ufe20-\\ufe2f",PN="\\u20d0-\\u20ff",AN=EN+kN+PN,IN="\\ufe0e\\ufe0f",_N="["+zT+"]",cp="["+AN+"]",dp="\\ud83c[\\udffb-\\udfff]",LN="(?:"+cp+"|"+dp+")",NT="[^"+zT+"]",UT="(?:\\ud83c[\\udde6-\\uddff]){2}",HT="[\\ud800-\\udbff][\\udc00-\\udfff]",DN="\\u200d",VT=LN+"?",jT="["+IN+"]?",ON="(?:"+DN+"(?:"+[NT,UT,HT].join("|")+")"+jT+VT+")*",$N=jT+VT+ON,FN="(?:"+[NT+cp+"?",cp,UT,HT,_N].join("|")+")",MN=RegExp(dp+"(?="+dp+")|"+FN+$N,"g");function BN(t){return t.match(MN)||[]}function zN(t){return BT(t)?BN(t):TN(t)}function NN(t){return function(e){e=Aa(e);var n=BT(e)?zN(e):void 0,r=n?n[0]:e.charAt(0),o=n?pN(n,1).join(""):e.slice(1);return r[t]()+o}}var WT=NN("toUpperCase");function UN(t){return WT(Aa(t).toLowerCase())}function HN(t,e,n,r){for(var o=-1,i=t==null?0:t.length;++o<i;)n=e(n,t[o],o,t);return n}function VN(t){return function(e){return t==null?void 0:t[e]}}var jN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},WN=VN(jN),KN=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,GN="\\u0300-\\u036f",qN="\\ufe20-\\ufe2f",YN="\\u20d0-\\u20ff",XN=GN+qN+YN,QN="["+XN+"]",ZN=RegExp(QN,"g");function JN(t){return t=Aa(t),t&&t.replace(KN,WN).replace(ZN,"")}var e4=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function t4(t){return t.match(e4)||[]}var n4=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function r4(t){return n4.test(t)}var KT="\\ud800-\\udfff",o4="\\u0300-\\u036f",i4="\\ufe20-\\ufe2f",s4="\\u20d0-\\u20ff",a4=o4+i4+s4,GT="\\u2700-\\u27bf",qT="a-z\\xdf-\\xf6\\xf8-\\xff",l4="\\xac\\xb1\\xd7\\xf7",c4="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d4="\\u2000-\\u206f",u4=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",YT="A-Z\\xc0-\\xd6\\xd8-\\xde",f4="\\ufe0e\\ufe0f",XT=l4+c4+d4+u4,QT="['’]",bx="["+XT+"]",h4="["+a4+"]",ZT="\\d+",g4="["+GT+"]",JT="["+qT+"]",eE="[^"+KT+XT+ZT+GT+qT+YT+"]",m4="\\ud83c[\\udffb-\\udfff]",p4="(?:"+h4+"|"+m4+")",v4="[^"+KT+"]",tE="(?:\\ud83c[\\udde6-\\uddff]){2}",nE="[\\ud800-\\udbff][\\udc00-\\udfff]",dl="["+YT+"]",b4="\\u200d",yx="(?:"+JT+"|"+eE+")",y4="(?:"+dl+"|"+eE+")",xx="(?:"+QT+"(?:d|ll|m|re|s|t|ve))?",Cx="(?:"+QT+"(?:D|LL|M|RE|S|T|VE))?",rE=p4+"?",oE="["+f4+"]?",x4="(?:"+b4+"(?:"+[v4,tE,nE].join("|")+")"+oE+rE+")*",C4="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",S4="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",w4=oE+rE+x4,R4="(?:"+[g4,tE,nE].join("|")+")"+w4,T4=RegExp([dl+"?"+JT+"+"+xx+"(?="+[bx,dl,"$"].join("|")+")",y4+"+"+Cx+"(?="+[bx,dl+yx,"$"].join("|")+")",dl+"?"+yx+"+"+xx,dl+"+"+Cx,S4,C4,ZT,R4].join("|"),"g");function E4(t){return t.match(T4)||[]}function k4(t,e,n){return t=Aa(t),e=e,e===void 0?r4(t)?E4(t):t4(t):t.match(e)||[]}var P4="['’]",A4=RegExp(P4,"g");function iE(t){return function(e){return HN(k4(JN(e).replace(A4,"")),t,"")}}var Sx=iE(function(t,e,n){return e=e.toLowerCase(),t+(n?UN(e):e)}),I4=zo.isFinite,_4=Math.min;function L4(t){var e=Math[t];return function(n,r){if(n=Ef(n),r=r==null?0:_4(t5(r),292),r&&I4(n)){var o=(Aa(n)+"e").split("e"),i=e(o[0]+"e"+(+o[1]+r));return o=(Aa(i)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return e(n)}}function D4(){this.__data__=new es,this.size=0}function O4(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function $4(t){return this.__data__.get(t)}function F4(t){return this.__data__.has(t)}var M4=200;function B4(t,e){var n=this.__data__;if(n instanceof es){var r=n.__data__;if(!ld||r.length<M4-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ts(r)}return n.set(t,e),this.size=n.size,this}function xi(t){var e=this.__data__=new es(t);this.size=e.size}xi.prototype.clear=D4;xi.prototype.delete=O4;xi.prototype.get=$4;xi.prototype.has=F4;xi.prototype.set=B4;var sE=typeof mo=="object"&&mo&&!mo.nodeType&&mo,wx=sE&&typeof po=="object"&&po&&!po.nodeType&&po,z4=wx&&wx.exports===sE,Rx=z4?zo.Buffer:void 0;Rx&&Rx.allocUnsafe;function N4(t,e){return t.slice()}function U4(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function H4(){return[]}var V4=Object.prototype,j4=V4.propertyIsEnumerable,Tx=Object.getOwnPropertySymbols,W4=Tx?function(t){return t==null?[]:(t=Object(t),U4(Tx(t),function(e){return j4.call(t,e)}))}:H4;function K4(t,e,n){var r=e(t);return Oo(t)?r:lN(r,n(t))}function Ex(t){return K4(t,u0,W4)}var up=Ma(zo,"DataView"),fp=Ma(zo,"Promise"),hp=Ma(zo,"Set"),kx="[object Map]",G4="[object Object]",Px="[object Promise]",Ax="[object Set]",Ix="[object WeakMap]",_x="[object DataView]",q4=Fa(up),Y4=Fa(ld),X4=Fa(fp),Q4=Fa(hp),Z4=Fa(lp),ys=$a;(up&&ys(new up(new ArrayBuffer(1)))!=_x||ld&&ys(new ld)!=kx||fp&&ys(fp.resolve())!=Px||hp&&ys(new hp)!=Ax||lp&&ys(new lp)!=Ix)&&(ys=function(t){var e=$a(t),n=e==G4?t.constructor:void 0,r=n?Fa(n):"";if(r)switch(r){case q4:return _x;case Y4:return kx;case X4:return Px;case Q4:return Ax;case Z4:return Ix}return e});var If=zo.Uint8Array;function J4(t){var e=new t.constructor(t.byteLength);return new If(e).set(new If(t)),e}function e6(t,e){var n=J4(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function t6(t){return typeof t.constructor=="function"&&!c0(t)?b5(FT(t)):{}}var n6="__lodash_hash_undefined__";function r6(t){return this.__data__.set(t,n6),this}function o6(t){return this.__data__.has(t)}function _f(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ts;++e<n;)this.add(t[e])}_f.prototype.add=_f.prototype.push=r6;_f.prototype.has=o6;function i6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function s6(t,e){return t.has(e)}var a6=1,l6=2;function aE(t,e,n,r,o,i){var s=n&a6,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(t),d=i.get(e);if(c&&d)return c==e&&d==t;var u=-1,f=!0,m=n&l6?new _f:void 0;for(i.set(t,e),i.set(e,t);++u<a;){var h=t[u],p=e[u];if(r)var v=s?r(p,h,u,e,t,i):r(h,p,u,t,e,i);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!i6(e,function(b,y){if(!s6(m,y)&&(h===b||o(h,b,n,r,i)))return m.push(y)})){f=!1;break}}else if(!(h===p||o(h,p,n,r,i))){f=!1;break}}return i.delete(t),i.delete(e),f}function c6(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function d6(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var u6=1,f6=2,h6="[object Boolean]",g6="[object Date]",m6="[object Error]",p6="[object Map]",v6="[object Number]",b6="[object RegExp]",y6="[object Set]",x6="[object String]",C6="[object Symbol]",S6="[object ArrayBuffer]",w6="[object DataView]",Lx=$s?$s.prototype:void 0,Rg=Lx?Lx.valueOf:void 0;function R6(t,e,n,r,o,i,s){switch(n){case w6:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S6:return!(t.byteLength!=e.byteLength||!i(new If(t),new If(e)));case h6:case g6:case v6:return $d(+t,+e);case m6:return t.name==e.name&&t.message==e.message;case b6:case x6:return t==e+"";case p6:var a=c6;case y6:var l=r&u6;if(a||(a=d6),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=f6,s.set(t,e);var d=aE(a(t),a(e),r,o,i,s);return s.delete(t),d;case C6:if(Rg)return Rg.call(t)==Rg.call(e)}return!1}var T6=1,E6=Object.prototype,k6=E6.hasOwnProperty;function P6(t,e,n,r,o,i){var s=n&T6,a=Ex(t),l=a.length,c=Ex(e),d=c.length;if(l!=d&&!s)return!1;for(var u=l;u--;){var f=a[u];if(!(s?f in e:k6.call(e,f)))return!1}var m=i.get(t),h=i.get(e);if(m&&h)return m==e&&h==t;var p=!0;i.set(t,e),i.set(e,t);for(var v=s;++u<l;){f=a[u];var b=t[f],y=e[f];if(r)var x=s?r(y,b,f,e,t,i):r(b,y,f,t,e,i);if(!(x===void 0?b===y||o(b,y,n,r,i):x)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(p=!1)}return i.delete(t),i.delete(e),p}var A6=1,Dx="[object Arguments]",Ox="[object Array]",uu="[object Object]",I6=Object.prototype,$x=I6.hasOwnProperty;function _6(t,e,n,r,o,i){var s=Oo(t),a=Oo(e),l=s?Ox:ys(t),c=a?Ox:ys(e);l=l==Dx?uu:l,c=c==Dx?uu:c;var d=l==uu,u=c==uu,f=l==c;if(f&&Af(t)){if(!Af(e))return!1;s=!0,d=!1}if(f&&!d)return i||(i=new xi),s||d0(t)?aE(t,e,n,r,o,i):R6(t,e,l,n,r,o,i);if(!(n&A6)){var m=d&&$x.call(t,"__wrapped__"),h=u&&$x.call(e,"__wrapped__");if(m||h){var p=m?t.value():t,v=h?e.value():e;return i||(i=new xi),o(p,v,n,r,i)}}return f?(i||(i=new xi),P6(t,e,n,r,o,i)):!1}function g0(t,e,n,r,o){return t===e?!0:t==null||e==null||!Fs(t)&&!Fs(e)?t!==t&&e!==e:_6(t,e,n,r,g0,o)}var L6=1,D6=2;function O6(t,e,n,r){var o=n.length,i=o;if(t==null)return!i;for(t=Object(t);o--;){var s=n[o];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){s=n[o];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var d=new xi,u;if(!(u===void 0?g0(c,l,L6|D6,r,d):u))return!1}}return!0}function lE(t){return t===t&&!$o(t)}function $6(t){for(var e=u0(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,lE(o)]}return e}function cE(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function F6(t){var e=$6(t);return e.length==1&&e[0][2]?cE(e[0][0],e[0][1]):function(n){return n===t||O6(n,t,e)}}function M6(t,e){return t!=null&&e in Object(t)}function B6(t,e,n){e=OT(e,t);for(var r=-1,o=e.length,i=!1;++r<o;){var s=Rh(e[r]);if(!(i=t!=null&&n(t,s)))break;t=t[s]}return i||++r!=o?i:(o=t==null?0:t.length,!!o&&l0(o)&&s0(s,o)&&(Oo(t)||Pf(t)))}function z6(t,e){return t!=null&&B6(t,e,M6)}var N6=1,U6=2;function H6(t,e){return f0(t)&&lE(e)?cE(Rh(t),e):function(n){var r=cd(n,t);return r===void 0&&r===e?z6(n,t):g0(e,r,N6|U6)}}function V6(t){return function(e){return e==null?void 0:e[t]}}function j6(t){return function(e){return $T(e,t)}}function W6(t){return f0(t)?V6(Rh(t)):j6(t)}function K6(t){return typeof t=="function"?t:t==null?o0:typeof t=="object"?Oo(t)?H6(t[0],t[1]):F6(t):W6(t)}function G6(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),a=s.length;a--;){var l=s[++o];if(n(i[l],l,i)===!1)break}return e}}var dE=G6();function q6(t,e){return t&&dE(t,e,u0)}function Y6(t,e){return function(n,r){if(n==null)return n;if(!ql(n))return t(n,r);for(var o=n.length,i=-1,s=Object(n);++i<o&&r(s[i],i,s)!==!1;);return n}}var X6=Y6(q6),Tg=function(){return zo.Date.now()},Q6="Expected a function",Z6=Math.max,J6=Math.min;function e8(t,e,n){var r,o,i,s,a,l,c=0,d=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(Q6);e=Ef(e)||0,$o(n)&&(d=!!n.leading,u="maxWait"in n,i=u?Z6(Ef(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function m(T){var w=r,E=o;return r=o=void 0,c=T,s=t.apply(E,w),s}function h(T){return c=T,a=setTimeout(b,e),d?m(T):s}function p(T){var w=T-l,E=T-c,R=e-w;return u?J6(R,i-E):R}function v(T){var w=T-l,E=T-c;return l===void 0||w>=e||w<0||u&&E>=i}function b(){var T=Tg();if(v(T))return y(T);a=setTimeout(b,p(T))}function y(T){return a=void 0,f&&r?m(T):(r=o=void 0,s)}function x(){a!==void 0&&clearTimeout(a),c=0,r=l=o=a=void 0}function C(){return a===void 0?s:y(Tg())}function S(){var T=Tg(),w=v(T);if(r=arguments,o=this,l=T,w){if(a===void 0)return h(l);if(u)return clearTimeout(a),a=setTimeout(b,e),m(l)}return a===void 0&&(a=setTimeout(b,e)),s}return S.cancel=x,S.flush=C,S}function gp(t,e,n){(n!==void 0&&!$d(t[e],n)||n===void 0&&!(e in t))&&a0(t,e,n)}function t8(t){return Fs(t)&&ql(t)}function mp(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function n8(t){return D5(t,DT(t))}function r8(t,e,n,r,o,i,s){var a=mp(t,n),l=mp(e,n),c=s.get(l);if(c){gp(t,n,c);return}var d=i?i(a,l,n+"",t,e,s):void 0,u=d===void 0;if(u){var f=Oo(l),m=!f&&Af(l),h=!f&&!m&&d0(l);d=l,f||m||h?Oo(a)?d=a:t8(a)?d=x5(a):m?(u=!1,d=N4(l)):h?(u=!1,d=e6(l)):d=[]:gN(l)||Pf(l)?(d=a,Pf(a)?d=n8(a):(!$o(a)||i0(a))&&(d=t6(l))):u=!1}u&&(s.set(l,d),o(d,l,r,i,s),s.delete(l)),gp(t,n,d)}function uE(t,e,n,r,o){t!==e&&dE(e,function(i,s){if(o||(o=new xi),$o(i))r8(t,e,s,n,uE,r,o);else{var a=r?r(mp(t,s),i,s+"",t,e,o):void 0;a===void 0&&(a=i),gp(t,s,a)}},DT)}function o8(t,e){var n=-1,r=ql(t)?Array(t.length):[];return X6(t,function(o,i,s){r[++n]=e(o,i,s)}),r}function i8(t,e){var n=Oo(t)?ET:o8;return n(t,K6(e))}var fE=iE(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),gl=B5(function(t,e,n){uE(t,e,n)}),s8=L4("round"),a8="Expected a function";function Hc(t,e,n){var r=!0,o=!0;if(typeof t!="function")throw new TypeError(a8);return $o(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),e8(t,e,{leading:r,maxWait:e,trailing:o})}function Mn(t){const{mergedLocaleRef:e,mergedDateLocaleRef:n}=Ve(to,null)||{},r=A(()=>{var i,s;return(s=(i=e==null?void 0:e.value)===null||i===void 0?void 0:i[t])!==null&&s!==void 0?s:J3[t]});return{dateLocaleRef:A(()=>{var i;return(i=n==null?void 0:n.value)!==null&&i!==void 0?i:OB}),localeRef:r}}const Dl="naive-ui-style";function rn(t,e,n){if(!e)return;const r=Ks(),o=A(()=>{const{value:a}=e;if(!a)return;const l=a[t];if(l)return l}),i=Ve(to,null),s=()=>{Xt(()=>{const{value:a}=n,l=`${a}${t}Rtl`;if(RM(l,r))return;const{value:c}=o;c&&c.style.mount({id:l,head:!0,anchorMetaName:Dl,props:{bPrefix:a?`.${a}-`:void 0},ssr:r,parent:i==null?void 0:i.styleMountTarget})})};return r?s():Qi(s),o}const no={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:l8,fontFamily:c8,lineHeight:d8}=no,hE=O("body",`
 margin: 0;
 font-size: ${l8};
 font-family: ${c8};
 line-height: ${d8};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[O("input",`
 font-family: inherit;
 font-size: inherit;
 `)]);function xo(t,e,n){if(!e)return;const r=Ks(),o=Ve(to,null),i=()=>{const s=n.value;e.mount({id:s===void 0?t:s+t,head:!0,anchorMetaName:Dl,props:{bPrefix:s?`.${s}-`:void 0},ssr:r,parent:o==null?void 0:o.styleMountTarget}),o!=null&&o.preflightStyleDisabled||hE.mount({id:"n-global",head:!0,anchorMetaName:Dl,ssr:r,parent:o==null?void 0:o.styleMountTarget})};r?i():Qi(i)}function ke(t,e,n,r,o,i){const s=Ks(),a=Ve(to,null);if(n){const c=()=>{const d=i==null?void 0:i.value;n.mount({id:d===void 0?e:d+e,head:!0,props:{bPrefix:d?`.${d}-`:void 0},anchorMetaName:Dl,ssr:s,parent:a==null?void 0:a.styleMountTarget}),a!=null&&a.preflightStyleDisabled||hE.mount({id:"n-global",head:!0,anchorMetaName:Dl,ssr:s,parent:a==null?void 0:a.styleMountTarget})};s?c():Qi(c)}return A(()=>{var c;const{theme:{common:d,self:u,peers:f={}}={},themeOverrides:m={},builtinThemeOverrides:h={}}=o,{common:p,peers:v}=m,{common:b=void 0,[t]:{common:y=void 0,self:x=void 0,peers:C={}}={}}=(a==null?void 0:a.mergedThemeRef.value)||{},{common:S=void 0,[t]:T={}}=(a==null?void 0:a.mergedThemeOverridesRef.value)||{},{common:w,peers:E={}}=T,R=gl({},d||y||b||r.common,S,w,p),P=gl((c=u||x||r.self)===null||c===void 0?void 0:c(R),h,T,m);return{common:R,self:P,peers:gl({},r.peers,C,f),peerOverrides:gl({},h.peers,E,v)}})}ke.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const u8=k("affix",[M("affixed",{position:"fixed"},[M("absolute-positioned",{position:"absolute"})])]);function f8(t){return t instanceof HTMLElement?t.scrollTop:window.scrollY}function h8(t){return t instanceof HTMLElement?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}const Th={listenTo:[String,Object,Function],top:Number,bottom:Number,triggerTop:Number,triggerBottom:Number,position:{type:String,default:"fixed"},offsetTop:{type:Number,validator:()=>!0,default:void 0},offsetBottom:{type:Number,validator:()=>!0,default:void 0},target:{type:Function,validator:()=>!0,default:void 0}},g8=Tr(Th),gE=ce({name:"Affix",props:Th,setup(t){const{mergedClsPrefixRef:e}=Ge(t);xo("-affix",u8,e);let n=null;const r=z(!1),o=z(!1),i=z(null),s=z(null),a=A(()=>o.value||r.value),l=A(()=>{var v,b;return(b=(v=t.triggerTop)!==null&&v!==void 0?v:t.offsetTop)!==null&&b!==void 0?b:t.top}),c=A(()=>{var v,b;return(b=(v=t.top)!==null&&v!==void 0?v:t.triggerTop)!==null&&b!==void 0?b:t.offsetTop}),d=A(()=>{var v,b;return(b=(v=t.bottom)!==null&&v!==void 0?v:t.triggerBottom)!==null&&b!==void 0?b:t.offsetBottom}),u=A(()=>{var v,b;return(b=(v=t.triggerBottom)!==null&&v!==void 0?v:t.offsetBottom)!==null&&b!==void 0?b:t.bottom}),f=z(null),m=()=>{const{target:v,listenTo:b}=t;v?n=v():b?n=Hv(b):n=document,n&&(n.addEventListener("scroll",h),h())};function h(){Ta(p)}function p(){const{value:v}=f;if(!n||!v)return;const b=f8(n);if(a.value){s.value!==null&&b<s.value&&(r.value=!1,s.value=null),i.value!==null&&b>i.value&&(o.value=!1,i.value=null);return}const y=h8(n),x=v.getBoundingClientRect(),C=x.top-y.top,S=y.bottom-x.bottom,T=l.value,w=u.value;T!==void 0&&C<=T?(r.value=!0,s.value=b-(T-C)):(r.value=!1,s.value=null),w!==void 0&&S<=w?(o.value=!0,i.value=b+w-S):(o.value=!1,i.value=null)}return Gt(()=>{m()}),Qt(()=>{n&&n.removeEventListener("scroll",h)}),{selfRef:f,affixed:a,mergedClsPrefix:e,mergedstyle:A(()=>{const v={};return r.value&&l.value!==void 0&&c.value!==void 0&&(v.top=`${c.value}px`),o.value&&u.value!==void 0&&d.value!==void 0&&(v.bottom=`${d.value}px`),v})}},render(){const{mergedClsPrefix:t}=this;return g("div",{ref:"selfRef",class:[`${t}-affix`,{[`${t}-affix--affixed`]:this.affixed,[`${t}-affix--absolute-positioned`]:this.position==="absolute"}],style:this.mergedstyle},this.$slots)}}),m8=k("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
`,[O("svg",`
 height: 1em;
 width: 1em;
 `)]),yt=ce({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(t){xo("-base-icon",m8,Se(t,"clsPrefix"))},render(){return g("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),Pi=ce({name:"BaseIconSwitchTransition",setup(t,{slots:e}){const n=br();return()=>g(en,{name:"icon-switch-transition",appear:n.value},e)}}),Ol=ce({name:"Add",render(){return g("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),p8=ce({name:"ArrowBack",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},g("path",{d:"M0 0h24v24H0V0z",fill:"none"}),g("path",{d:"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"}))}}),mE=ce({name:"ArrowDown",render(){return g("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}}),v8=ce({name:"ArrowUp",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},g("g",{fill:"none"},g("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}});function Er(t,e){const n=ce({render(){return e()}});return ce({name:WT(t),setup(){var r;const o=(r=Ve(to,null))===null||r===void 0?void 0:r.mergedIconsRef;return()=>{var i;const s=(i=o==null?void 0:o.value)===null||i===void 0?void 0:i[t];return s?s():g(n,null)}}})}const b8=Er("attach",()=>g("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},g("g",{fill:"currentColor","fill-rule":"nonzero"},g("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),Ms=ce({name:"Backward",render(){return g("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M12.2674 15.793C11.9675 16.0787 11.4927 16.0672 11.2071 15.7673L6.20572 10.5168C5.9298 10.2271 5.9298 9.7719 6.20572 9.48223L11.2071 4.23177C11.4927 3.93184 11.9675 3.92031 12.2674 4.206C12.5673 4.49169 12.5789 4.96642 12.2932 5.26634L7.78458 9.99952L12.2932 14.7327C12.5789 15.0326 12.5673 15.5074 12.2674 15.793Z",fill:"currentColor"}))}}),y8=Er("cancel",()=>g("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},g("g",{fill:"currentColor","fill-rule":"nonzero"},g("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),m0=ce({name:"Checkmark",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},g("g",{fill:"none"},g("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),pE=ce({name:"ChevronDown",render(){return g("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),x8=ce({name:"ChevronDownFilled",render(){return g("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M3.20041 5.73966C3.48226 5.43613 3.95681 5.41856 4.26034 5.70041L8 9.22652L11.7397 5.70041C12.0432 5.41856 12.5177 5.43613 12.7996 5.73966C13.0815 6.0432 13.0639 6.51775 12.7603 6.7996L8.51034 10.7996C8.22258 11.0668 7.77743 11.0668 7.48967 10.7996L3.23966 6.7996C2.93613 6.51775 2.91856 6.0432 3.20041 5.73966Z",fill:"currentColor"}))}}),p0=ce({name:"ChevronLeft",render(){return g("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M10.3536 3.14645C10.5488 3.34171 10.5488 3.65829 10.3536 3.85355L6.20711 8L10.3536 12.1464C10.5488 12.3417 10.5488 12.6583 10.3536 12.8536C10.1583 13.0488 9.84171 13.0488 9.64645 12.8536L5.14645 8.35355C4.95118 8.15829 4.95118 7.84171 5.14645 7.64645L9.64645 3.14645C9.84171 2.95118 10.1583 2.95118 10.3536 3.14645Z",fill:"currentColor"}))}}),Ba=ce({name:"ChevronRight",render(){return g("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}}),C8=Er("clear",()=>g("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},g("g",{fill:"currentColor","fill-rule":"nonzero"},g("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),v0=Er("close",()=>g("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},g("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},g("g",{fill:"currentColor","fill-rule":"nonzero"},g("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),Fx=Er("date",()=>g("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M21.75,3 C23.5449254,3 25,4.45507456 25,6.25 L25,21.75 C25,23.5449254 23.5449254,25 21.75,25 L6.25,25 C4.45507456,25 3,23.5449254 3,21.75 L3,6.25 C3,4.45507456 4.45507456,3 6.25,3 L21.75,3 Z M23.5,9.503 L4.5,9.503 L4.5,21.75 C4.5,22.7164983 5.28350169,23.5 6.25,23.5 L21.75,23.5 C22.7164983,23.5 23.5,22.7164983 23.5,21.75 L23.5,9.503 Z M21.75,4.5 L6.25,4.5 C5.28350169,4.5 4.5,5.28350169 4.5,6.25 L4.5,8.003 L23.5,8.003 L23.5,6.25 C23.5,5.28350169 22.7164983,4.5 21.75,4.5 Z"}))))),vE=Er("download",()=>g("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},g("g",{fill:"currentColor","fill-rule":"nonzero"},g("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),S8=ce({name:"Empty",render(){return g("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),g("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),za=Er("error",()=>g("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),bE=ce({name:"Eye",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},g("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),g("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),w8=ce({name:"EyeOff",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},g("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),g("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),g("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),g("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),g("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),Bs=ce({name:"FastBackward",render(){return g("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},g("g",{fill:"currentColor","fill-rule":"nonzero"},g("path",{d:"M8.73171,16.7949 C9.03264,17.0795 9.50733,17.0663 9.79196,16.7654 C10.0766,16.4644 10.0634,15.9897 9.76243,15.7051 L4.52339,10.75 L17.2471,10.75 C17.6613,10.75 17.9971,10.4142 17.9971,10 C17.9971,9.58579 17.6613,9.25 17.2471,9.25 L4.52112,9.25 L9.76243,4.29275 C10.0634,4.00812 10.0766,3.53343 9.79196,3.2325 C9.50733,2.93156 9.03264,2.91834 8.73171,3.20297 L2.31449,9.27241 C2.14819,9.4297 2.04819,9.62981 2.01448,9.8386 C2.00308,9.89058 1.99707,9.94459 1.99707,10 C1.99707,10.0576 2.00356,10.1137 2.01585,10.1675 C2.05084,10.3733 2.15039,10.5702 2.31449,10.7254 L8.73171,16.7949 Z"}))))}}),zs=ce({name:"FastForward",render(){return g("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},g("g",{fill:"currentColor","fill-rule":"nonzero"},g("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))}}),R8=ce({name:"Filter",render(){return g("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M17,19 C17.5522847,19 18,19.4477153 18,20 C18,20.5522847 17.5522847,21 17,21 L11,21 C10.4477153,21 10,20.5522847 10,20 C10,19.4477153 10.4477153,19 11,19 L17,19 Z M21,13 C21.5522847,13 22,13.4477153 22,14 C22,14.5522847 21.5522847,15 21,15 L7,15 C6.44771525,15 6,14.5522847 6,14 C6,13.4477153 6.44771525,13 7,13 L21,13 Z M24,7 C24.5522847,7 25,7.44771525 25,8 C25,8.55228475 24.5522847,9 24,9 L4,9 C3.44771525,9 3,8.55228475 3,8 C3,7.44771525 3.44771525,7 4,7 L24,7 Z"}))))}}),Ns=ce({name:"Forward",render(){return g("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M7.73271 4.20694C8.03263 3.92125 8.50737 3.93279 8.79306 4.23271L13.7944 9.48318C14.0703 9.77285 14.0703 10.2281 13.7944 10.5178L8.79306 15.7682C8.50737 16.0681 8.03263 16.0797 7.73271 15.794C7.43279 15.5083 7.42125 15.0336 7.70694 14.7336L12.2155 10.0005L7.70694 5.26729C7.42125 4.96737 7.43279 4.49264 7.73271 4.20694Z",fill:"currentColor"}))}}),Us=Er("info",()=>g("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),Mx=ce({name:"More",render(){return g("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},g("g",{fill:"currentColor","fill-rule":"nonzero"},g("path",{d:"M4,7 C4.55228,7 5,7.44772 5,8 C5,8.55229 4.55228,9 4,9 C3.44772,9 3,8.55229 3,8 C3,7.44772 3.44772,7 4,7 Z M8,7 C8.55229,7 9,7.44772 9,8 C9,8.55229 8.55229,9 8,9 C7.44772,9 7,8.55229 7,8 C7,7.44772 7.44772,7 8,7 Z M12,7 C12.5523,7 13,7.44772 13,8 C13,8.55229 12.5523,9 12,9 C11.4477,9 11,8.55229 11,8 C11,7.44772 11.4477,7 12,7 Z"}))))}}),yE=ce({name:"Remove",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},g("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),T8=ce({name:"ResizeSmall",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},g("g",{fill:"none"},g("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),E8=Er("retry",()=>g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},g("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),g("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),k8=Er("rotateClockwise",()=>g("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),g("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),P8=Er("rotateClockwise",()=>g("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),g("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),xE=ce({name:"Search",render(){return g("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:"enable-background: new 0 0 512 512"},g("path",{d:`M443.5,420.2L336.7,312.4c20.9-26.2,33.5-59.4,33.5-95.5c0-84.5-68.5-153-153.1-153S64,132.5,64,217s68.5,153,153.1,153
  c36.6,0,70.1-12.8,96.5-34.2l106.1,107.1c3.2,3.4,7.6,5.1,11.9,5.1c4.1,0,8.2-1.5,11.3-4.5C449.5,437.2,449.7,426.8,443.5,420.2z
   M217.1,337.1c-32.1,0-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-84.9c0-32.1,12.5-62.3,35.2-84.9c22.7-22.7,52.9-35.2,85-35.2
  c32.1,0,62.3,12.5,85,35.2c22.7,22.7,35.2,52.9,35.2,84.9c0,32.1-12.5,62.3-35.2,84.9C279.4,324.6,249.2,337.1,217.1,337.1z`}))}}),Na=Er("success",()=>g("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),A8=ce({name:"Switcher",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},g("path",{d:"M12 8l10 8l-10 8z"}))}}),I8=Er("time",()=>g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},g("path",{d:"M256,64C150,64,64,150,64,256s86,192,192,192,192-86,192-192S362,64,256,64Z",style:`
        fill: none;
        stroke: currentColor;
        stroke-miterlimit: 10;
        stroke-width: 32px;
      `}),g("polyline",{points:"256 128 256 272 352 272",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))),_8=Er("to",()=>g("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},g("g",{fill:"currentColor","fill-rule":"nonzero"},g("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))),L8=Er("trash",()=>g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},g("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),g("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),g("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),g("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),qs=Er("warning",()=>g("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),D8=Er("zoomIn",()=>g("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),g("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),O8=Er("zoomOut",()=>g("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),g("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),{cubicBezierEaseInOut:$8}=no;function wr({originalTransform:t="",left:e=0,top:n=0,transition:r=`all .3s ${$8} !important`}={}){return[O("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:`${t} scale(0.75)`,left:e,top:n,opacity:0}),O("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${t}`,left:e,top:n,opacity:1}),O("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:e,top:n,transition:r})]}const F8=k("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[O(">",[F("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[O("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),O("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),F("placeholder",`
 display: flex;
 `),F("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[wr({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),pp=ce({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(t){return xo("-base-clear",F8,Se(t,"clsPrefix")),{handleMouseDown(e){e.preventDefault()}}},render(){const{clsPrefix:t}=this;return g("div",{class:`${t}-base-clear`},g(Pi,null,{default:()=>{var e,n;return this.show?g("div",{key:"dismiss",class:`${t}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},Et(this.$slots.icon,()=>[g(yt,{clsPrefix:t},{default:()=>g(C8,null)})])):g("div",{key:"icon",class:`${t}-base-clear__placeholder`},(n=(e=this.$slots).placeholder)===null||n===void 0?void 0:n.call(e))}}))}}),M8=k("base-close",`
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`,[M("absolute",`
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `),O("&::before",`
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `),wt("disabled",[O("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),O("&:hover::before",`
 background-color: var(--n-close-color-hover);
 `),O("&:focus::before",`
 background-color: var(--n-close-color-hover);
 `),O("&:active",`
 color: var(--n-close-icon-color-pressed);
 `),O("&:active::before",`
 background-color: var(--n-close-color-pressed);
 `)]),M("disabled",`
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `),M("round",[O("&::before",`
 border-radius: 50%;
 `)])]),ns=ce({name:"BaseClose",props:{isButtonTag:{type:Boolean,default:!0},clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(t){return xo("-base-close",M8,Se(t,"clsPrefix")),()=>{const{clsPrefix:e,disabled:n,absolute:r,round:o,isButtonTag:i}=t;return g(i?"button":"div",{type:i?"button":void 0,tabindex:n||!t.focusable?-1:0,"aria-disabled":n,"aria-label":"close",role:i?void 0:"button",disabled:n,class:[`${e}-base-close`,r&&`${e}-base-close--absolute`,n&&`${e}-base-close--disabled`,o&&`${e}-base-close--round`],onMousedown:a=>{t.focusable||a.preventDefault()},onClick:t.onClick},g(yt,{clsPrefix:e},{default:()=>g(v0,null)}))}}}),Ai=ce({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(t,{slots:e}){function n(a){t.width?a.style.maxWidth=`${a.offsetWidth}px`:a.style.maxHeight=`${a.offsetHeight}px`,a.offsetWidth}function r(a){t.width?a.style.maxWidth="0":a.style.maxHeight="0",a.offsetWidth;const{onLeave:l}=t;l&&l()}function o(a){t.width?a.style.maxWidth="":a.style.maxHeight="";const{onAfterLeave:l}=t;l&&l()}function i(a){if(a.style.transition="none",t.width){const l=a.offsetWidth;a.style.maxWidth="0",a.offsetWidth,a.style.transition="",a.style.maxWidth=`${l}px`}else if(t.reverse)a.style.maxHeight=`${a.offsetHeight}px`,a.offsetHeight,a.style.transition="",a.style.maxHeight="0";else{const l=a.offsetHeight;a.style.maxHeight="0",a.offsetWidth,a.style.transition="",a.style.maxHeight=`${l}px`}a.offsetWidth}function s(a){var l;t.width?a.style.maxWidth="":t.reverse||(a.style.maxHeight=""),(l=t.onAfterEnter)===null||l===void 0||l.call(t)}return()=>{const{group:a,width:l,appear:c,mode:d}=t,u=a?hh:en,f={name:l?"fade-in-width-expand-transition":"fade-in-height-expand-transition",appear:c,onEnter:i,onAfterEnter:s,onBeforeLeave:n,onLeave:r,onAfterLeave:o};return a||(f.mode=d),g(u,f,e)}}}),Ii=ce({props:{onFocus:Function,onBlur:Function},setup(t){return()=>g("div",{style:"width: 0; height: 0",tabindex:0,onFocus:t.onFocus,onBlur:t.onBlur})}}),B8=O([O("@keyframes rotator",`
 0% {
 -webkit-transform: rotate(0deg);
 transform: rotate(0deg);
 }
 100% {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }`),k("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[F("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[wr()]),F("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[wr({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),F("container",`
 animation: rotator 3s linear infinite both;
 `,[F("icon",`
 height: 1em;
 width: 1em;
 `)])])]),Eg="1.6s",z8={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},Qo=ce({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},z8),setup(t){xo("-base-loading",B8,Se(t,"clsPrefix"))},render(){const{clsPrefix:t,radius:e,strokeWidth:n,stroke:r,scale:o}=this,i=e/o;return g("div",{class:`${t}-base-loading`,role:"img","aria-label":"loading"},g(Pi,null,{default:()=>this.show?g("div",{key:"icon",class:`${t}-base-loading__transition-wrapper`},g("div",{class:`${t}-base-loading__container`},g("svg",{class:`${t}-base-loading__icon`,viewBox:`0 0 ${2*i} ${2*i}`,xmlns:"http://www.w3.org/2000/svg",style:{color:r}},g("g",null,g("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${i} ${i};270 ${i} ${i}`,begin:"0s",dur:Eg,fill:"freeze",repeatCount:"indefinite"}),g("circle",{class:`${t}-base-loading__icon`,fill:"none",stroke:"currentColor","stroke-width":n,"stroke-linecap":"round",cx:i,cy:i,r:e-n/2,"stroke-dasharray":5.67*e,"stroke-dashoffset":18.48*e},g("animateTransform",{attributeName:"transform",type:"rotate",values:`0 ${i} ${i};135 ${i} ${i};450 ${i} ${i}`,begin:"0s",dur:Eg,fill:"freeze",repeatCount:"indefinite"}),g("animate",{attributeName:"stroke-dashoffset",values:`${5.67*e};${1.42*e};${5.67*e}`,begin:"0s",dur:Eg,fill:"freeze",repeatCount:"indefinite"})))))):g("div",{key:"placeholder",class:`${t}-base-loading__placeholder`},this.$slots)}))}}),{cubicBezierEaseInOut:Bx}=no;function Ki({name:t="fade-in",enterDuration:e="0.2s",leaveDuration:n="0.2s",enterCubicBezier:r=Bx,leaveCubicBezier:o=Bx}={}){return[O(`&.${t}-transition-enter-active`,{transition:`all ${e} ${r}!important`}),O(`&.${t}-transition-leave-active`,{transition:`all ${n} ${o}!important`}),O(`&.${t}-transition-enter-from, &.${t}-transition-leave-to`,{opacity:0}),O(`&.${t}-transition-leave-from, &.${t}-transition-enter-to`,{opacity:1})]}const N8=k("base-menu-mask",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 text-align: center;
 padding: 14px;
 overflow: hidden;
`,[Ki()]),U8=ce({name:"BaseMenuMask",props:{clsPrefix:{type:String,required:!0}},setup(t){xo("-base-menu-mask",N8,Se(t,"clsPrefix"));const e=z(null);let n=null;const r=z(!1);return Qt(()=>{n!==null&&window.clearTimeout(n)}),Object.assign({message:e,show:r},{showOnce(i,s=1500){n&&window.clearTimeout(n),r.value=!0,e.value=i,n=window.setTimeout(()=>{r.value=!1,e.value=null},s)}})},render(){return g(en,{name:"fade-in-transition"},{default:()=>this.show?g("div",{class:`${this.clsPrefix}-base-menu-mask`},this.message):null})}}),St={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},H8=rr(St.neutralBase),CE=rr(St.neutralInvertBase),V8=`rgba(${CE.slice(0,3).join(", ")}, `;function ln(t){return`${V8+String(t)})`}function j8(t){const e=Array.from(CE);return e[3]=Number(t),vt(H8,e)}const st=Object.assign(Object.assign({name:"common"},no),{baseColor:St.neutralBase,primaryColor:St.primaryDefault,primaryColorHover:St.primaryHover,primaryColorPressed:St.primaryActive,primaryColorSuppl:St.primarySuppl,infoColor:St.infoDefault,infoColorHover:St.infoHover,infoColorPressed:St.infoActive,infoColorSuppl:St.infoSuppl,successColor:St.successDefault,successColorHover:St.successHover,successColorPressed:St.successActive,successColorSuppl:St.successSuppl,warningColor:St.warningDefault,warningColorHover:St.warningHover,warningColorPressed:St.warningActive,warningColorSuppl:St.warningSuppl,errorColor:St.errorDefault,errorColorHover:St.errorHover,errorColorPressed:St.errorActive,errorColorSuppl:St.errorSuppl,textColorBase:St.neutralTextBase,textColor1:ln(St.alpha1),textColor2:ln(St.alpha2),textColor3:ln(St.alpha3),textColorDisabled:ln(St.alpha4),placeholderColor:ln(St.alpha4),placeholderColorDisabled:ln(St.alpha5),iconColor:ln(St.alpha4),iconColorDisabled:ln(St.alpha5),iconColorHover:ln(Number(St.alpha4)*1.25),iconColorPressed:ln(Number(St.alpha4)*.8),opacity1:St.alpha1,opacity2:St.alpha2,opacity3:St.alpha3,opacity4:St.alpha4,opacity5:St.alpha5,dividerColor:ln(St.alphaDivider),borderColor:ln(St.alphaBorder),closeIconColorHover:ln(Number(St.alphaClose)),closeIconColor:ln(Number(St.alphaClose)),closeIconColorPressed:ln(Number(St.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:ln(St.alpha4),clearColorHover:Zn(ln(St.alpha4),{alpha:1.25}),clearColorPressed:Zn(ln(St.alpha4),{alpha:.8}),scrollbarColor:ln(St.alphaScrollbar),scrollbarColorHover:ln(St.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:ln(St.alphaProgressRail),railColor:ln(St.alphaRail),popoverColor:St.neutralPopover,tableColor:St.neutralCard,cardColor:St.neutralCard,modalColor:St.neutralModal,bodyColor:St.neutralBody,tagColor:j8(St.alphaTag),avatarColor:ln(St.alphaAvatar),invertedColor:St.neutralBase,inputColor:ln(St.alphaInput),codeColor:ln(St.alphaCode),tabColor:ln(St.alphaTab),actionColor:ln(St.alphaAction),tableHeaderColor:ln(St.alphaAction),hoverColor:ln(St.alphaPending),tableColorHover:ln(St.alphaTablePending),tableColorStriped:ln(St.alphaTableStriped),pressedColor:ln(St.alphaPressed),opacityDisabled:St.alphaDisabled,inputColorDisabled:ln(St.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Ot={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaAvatar:"0.2",alphaProgressRail:".08",alphaInput:"0",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},W8=rr(Ot.neutralBase),SE=rr(Ot.neutralInvertBase),K8=`rgba(${SE.slice(0,3).join(", ")}, `;function zx(t){return`${K8+String(t)})`}function _r(t){const e=Array.from(SE);return e[3]=Number(t),vt(W8,e)}const lt=Object.assign(Object.assign({name:"common"},no),{baseColor:Ot.neutralBase,primaryColor:Ot.primaryDefault,primaryColorHover:Ot.primaryHover,primaryColorPressed:Ot.primaryActive,primaryColorSuppl:Ot.primarySuppl,infoColor:Ot.infoDefault,infoColorHover:Ot.infoHover,infoColorPressed:Ot.infoActive,infoColorSuppl:Ot.infoSuppl,successColor:Ot.successDefault,successColorHover:Ot.successHover,successColorPressed:Ot.successActive,successColorSuppl:Ot.successSuppl,warningColor:Ot.warningDefault,warningColorHover:Ot.warningHover,warningColorPressed:Ot.warningActive,warningColorSuppl:Ot.warningSuppl,errorColor:Ot.errorDefault,errorColorHover:Ot.errorHover,errorColorPressed:Ot.errorActive,errorColorSuppl:Ot.errorSuppl,textColorBase:Ot.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:_r(Ot.alpha4),placeholderColor:_r(Ot.alpha4),placeholderColorDisabled:_r(Ot.alpha5),iconColor:_r(Ot.alpha4),iconColorHover:Zn(_r(Ot.alpha4),{lightness:.75}),iconColorPressed:Zn(_r(Ot.alpha4),{lightness:.9}),iconColorDisabled:_r(Ot.alpha5),opacity1:Ot.alpha1,opacity2:Ot.alpha2,opacity3:Ot.alpha3,opacity4:Ot.alpha4,opacity5:Ot.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:_r(Number(Ot.alphaClose)),closeIconColorHover:_r(Number(Ot.alphaClose)),closeIconColorPressed:_r(Number(Ot.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:_r(Ot.alpha4),clearColorHover:Zn(_r(Ot.alpha4),{lightness:.75}),clearColorPressed:Zn(_r(Ot.alpha4),{lightness:.9}),scrollbarColor:zx(Ot.alphaScrollbar),scrollbarColorHover:zx(Ot.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:_r(Ot.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:Ot.neutralPopover,tableColor:Ot.neutralCard,cardColor:Ot.neutralCard,modalColor:Ot.neutralModal,bodyColor:Ot.neutralBody,tagColor:"#eee",avatarColor:_r(Ot.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:_r(Ot.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:Ot.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),G8={railInsetHorizontalBottom:"auto 2px 4px 2px",railInsetHorizontalTop:"4px 2px auto 2px",railInsetVerticalRight:"2px 4px 2px auto",railInsetVerticalLeft:"2px auto 2px 4px",railColor:"transparent"};function wE(t){const{scrollbarColor:e,scrollbarColorHover:n,scrollbarHeight:r,scrollbarWidth:o,scrollbarBorderRadius:i}=t;return Object.assign(Object.assign({},G8),{height:r,width:o,borderRadius:i,color:e,colorHover:n})}const ro={name:"Scrollbar",common:lt,self:wE},oo={name:"Scrollbar",common:st,self:wE},q8=k("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[O(">",[k("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 min-height: inherit;
 max-height: inherit;
 scrollbar-width: none;
 `,[O("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),O(">",[k("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),O(">, +",[k("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 background: var(--n-scrollbar-rail-color);
 -webkit-user-select: none;
 `,[M("horizontal",`
 height: var(--n-scrollbar-height);
 `,[O(">",[F("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),M("horizontal--top",`
 top: var(--n-scrollbar-rail-top-horizontal-top); 
 right: var(--n-scrollbar-rail-right-horizontal-top); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-top); 
 left: var(--n-scrollbar-rail-left-horizontal-top); 
 `),M("horizontal--bottom",`
 top: var(--n-scrollbar-rail-top-horizontal-bottom); 
 right: var(--n-scrollbar-rail-right-horizontal-bottom); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-bottom); 
 left: var(--n-scrollbar-rail-left-horizontal-bottom); 
 `),M("vertical",`
 width: var(--n-scrollbar-width);
 `,[O(">",[F("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),M("vertical--left",`
 top: var(--n-scrollbar-rail-top-vertical-left); 
 right: var(--n-scrollbar-rail-right-vertical-left); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-left); 
 left: var(--n-scrollbar-rail-left-vertical-left); 
 `),M("vertical--right",`
 top: var(--n-scrollbar-rail-top-vertical-right); 
 right: var(--n-scrollbar-rail-right-vertical-right); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-right); 
 left: var(--n-scrollbar-rail-left-vertical-right); 
 `),M("disabled",[O(">",[F("scrollbar","pointer-events: none;")])]),O(">",[F("scrollbar",`
 z-index: 1;
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[Ki(),O("&:hover","background-color: var(--n-scrollbar-color-hover);")])])])])]),Y8=Object.assign(Object.assign({},ke.props),{duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),Sn=ce({name:"Scrollbar",props:Y8,inheritAttrs:!1,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=Ge(t),o=rn("Scrollbar",r,e),i=z(null),s=z(null),a=z(null),l=z(null),c=z(null),d=z(null),u=z(null),f=z(null),m=z(null),h=z(null),p=z(null),v=z(0),b=z(0),y=z(!1),x=z(!1);let C=!1,S=!1,T,w,E=0,R=0,P=0,_=0;const I=WM(),L=ke("Scrollbar","-scrollbar",q8,ro,t,e),N=A(()=>{const{value:oe}=f,{value:ee}=d,{value:Pe}=h;return oe===null||ee===null||Pe===null?0:Math.min(oe,Pe*oe/ee+on(L.value.self.width)*1.5)}),H=A(()=>`${N.value}px`),G=A(()=>{const{value:oe}=m,{value:ee}=u,{value:Pe}=p;return oe===null||ee===null||Pe===null?0:Pe*oe/ee+on(L.value.self.height)*1.5}),W=A(()=>`${G.value}px`),J=A(()=>{const{value:oe}=f,{value:ee}=v,{value:Pe}=d,{value:Ne}=h;if(oe===null||Pe===null||Ne===null)return 0;{const Ue=Pe-oe;return Ue?ee/Ue*(Ne-N.value):0}}),ne=A(()=>`${J.value}px`),D=A(()=>{const{value:oe}=m,{value:ee}=b,{value:Pe}=u,{value:Ne}=p;if(oe===null||Pe===null||Ne===null)return 0;{const Ue=Pe-oe;return Ue?ee/Ue*(Ne-G.value):0}}),B=A(()=>`${D.value}px`),j=A(()=>{const{value:oe}=f,{value:ee}=d;return oe!==null&&ee!==null&&ee>oe}),$=A(()=>{const{value:oe}=m,{value:ee}=u;return oe!==null&&ee!==null&&ee>oe}),V=A(()=>{const{trigger:oe}=t;return oe==="none"||y.value}),X=A(()=>{const{trigger:oe}=t;return oe==="none"||x.value}),Z=A(()=>{const{container:oe}=t;return oe?oe():s.value}),q=A(()=>{const{content:oe}=t;return oe?oe():a.value}),ue=(oe,ee)=>{if(!t.scrollable)return;if(typeof oe=="number"){Y(oe,ee??0,0,!1,"auto");return}const{left:Pe,top:Ne,index:Ue,elSize:pe,position:$e,behavior:me,el:Oe,debounce:Ze=!0}=oe;(Pe!==void 0||Ne!==void 0)&&Y(Pe??0,Ne??0,0,!1,me),Oe!==void 0?Y(0,Oe.offsetTop,Oe.offsetHeight,Ze,me):Ue!==void 0&&pe!==void 0?Y(0,Ue*pe,pe,Ze,me):$e==="bottom"?Y(0,Number.MAX_SAFE_INTEGER,0,!1,me):$e==="top"&&Y(0,0,0,!1,me)},K=t0(()=>{t.container||ue({top:v.value,left:b.value})}),he=()=>{K.isDeactivated||ge()},Ie=oe=>{if(K.isDeactivated)return;const{onResize:ee}=t;ee&&ee(oe),ge()},Q=(oe,ee)=>{if(!t.scrollable)return;const{value:Pe}=Z;Pe&&(typeof oe=="object"?Pe.scrollBy(oe):Pe.scrollBy(oe,ee||0))};function Y(oe,ee,Pe,Ne,Ue){const{value:pe}=Z;if(pe){if(Ne){const{scrollTop:$e,offsetHeight:me}=pe;if(ee>$e){ee+Pe<=$e+me||pe.scrollTo({left:oe,top:ee+Pe-me,behavior:Ue});return}}pe.scrollTo({left:oe,top:ee,behavior:Ue})}}function re(){fe(),te(),ge()}function be(){Ce()}function Ce(){le(),de()}function le(){w!==void 0&&window.clearTimeout(w),w=window.setTimeout(()=>{x.value=!1},t.duration)}function de(){T!==void 0&&window.clearTimeout(T),T=window.setTimeout(()=>{y.value=!1},t.duration)}function fe(){T!==void 0&&window.clearTimeout(T),y.value=!0}function te(){w!==void 0&&window.clearTimeout(w),x.value=!0}function ae(oe){const{onScroll:ee}=t;ee&&ee(oe),Ee()}function Ee(){const{value:oe}=Z;oe&&(v.value=oe.scrollTop,b.value=oe.scrollLeft*(o!=null&&o.value?-1:1))}function se(){const{value:oe}=q;oe&&(d.value=oe.offsetHeight,u.value=oe.offsetWidth);const{value:ee}=Z;ee&&(f.value=ee.offsetHeight,m.value=ee.offsetWidth);const{value:Pe}=c,{value:Ne}=l;Pe&&(p.value=Pe.offsetWidth),Ne&&(h.value=Ne.offsetHeight)}function ie(){const{value:oe}=Z;oe&&(v.value=oe.scrollTop,b.value=oe.scrollLeft*(o!=null&&o.value?-1:1),f.value=oe.offsetHeight,m.value=oe.offsetWidth,d.value=oe.scrollHeight,u.value=oe.scrollWidth);const{value:ee}=c,{value:Pe}=l;ee&&(p.value=ee.offsetWidth),Pe&&(h.value=Pe.offsetHeight)}function ge(){t.scrollable&&(t.useUnifiedContainer?ie():(se(),Ee()))}function Le(oe){var ee;return!(!((ee=i.value)===null||ee===void 0)&&ee.contains(Jr(oe)))}function xe(oe){oe.preventDefault(),oe.stopPropagation(),S=!0,_t("mousemove",window,We,!0),_t("mouseup",window,at,!0),R=b.value,P=o!=null&&o.value?window.innerWidth-oe.clientX:oe.clientX}function We(oe){if(!S)return;T!==void 0&&window.clearTimeout(T),w!==void 0&&window.clearTimeout(w);const{value:ee}=m,{value:Pe}=u,{value:Ne}=G;if(ee===null||Pe===null)return;const pe=(o!=null&&o.value?window.innerWidth-oe.clientX-P:oe.clientX-P)*(Pe-ee)/(ee-Ne),$e=Pe-ee;let me=R+pe;me=Math.min($e,me),me=Math.max(me,0);const{value:Oe}=Z;if(Oe){Oe.scrollLeft=me*(o!=null&&o.value?-1:1);const{internalOnUpdateScrollLeft:Ze}=t;Ze&&Ze(me)}}function at(oe){oe.preventDefault(),oe.stopPropagation(),It("mousemove",window,We,!0),It("mouseup",window,at,!0),S=!1,ge(),Le(oe)&&Ce()}function bt(oe){oe.preventDefault(),oe.stopPropagation(),C=!0,_t("mousemove",window,dt,!0),_t("mouseup",window,Ct,!0),E=v.value,_=oe.clientY}function dt(oe){if(!C)return;T!==void 0&&window.clearTimeout(T),w!==void 0&&window.clearTimeout(w);const{value:ee}=f,{value:Pe}=d,{value:Ne}=N;if(ee===null||Pe===null)return;const pe=(oe.clientY-_)*(Pe-ee)/(ee-Ne),$e=Pe-ee;let me=E+pe;me=Math.min($e,me),me=Math.max(me,0);const{value:Oe}=Z;Oe&&(Oe.scrollTop=me)}function Ct(oe){oe.preventDefault(),oe.stopPropagation(),It("mousemove",window,dt,!0),It("mouseup",window,Ct,!0),C=!1,ge(),Le(oe)&&Ce()}Xt(()=>{const{value:oe}=$,{value:ee}=j,{value:Pe}=e,{value:Ne}=c,{value:Ue}=l;Ne&&(oe?Ne.classList.remove(`${Pe}-scrollbar-rail--disabled`):Ne.classList.add(`${Pe}-scrollbar-rail--disabled`)),Ue&&(ee?Ue.classList.remove(`${Pe}-scrollbar-rail--disabled`):Ue.classList.add(`${Pe}-scrollbar-rail--disabled`))}),Gt(()=>{t.container||ge()}),Qt(()=>{T!==void 0&&window.clearTimeout(T),w!==void 0&&window.clearTimeout(w),It("mousemove",window,dt,!0),It("mouseup",window,Ct,!0)});const Tt=A(()=>{const{common:{cubicBezierEaseInOut:oe},self:{color:ee,colorHover:Pe,height:Ne,width:Ue,borderRadius:pe,railInsetHorizontalTop:$e,railInsetHorizontalBottom:me,railInsetVerticalRight:Oe,railInsetVerticalLeft:Ze,railColor:tt}}=L.value,{top:Re,right:He,bottom:ve,left:Be}=Un($e),{top:Ke,right:ct,bottom:mt,left:ye}=Un(me),{top:Me,right:Je,bottom:Te,left:ze}=Un(o!=null&&o.value?ex(Oe):Oe),{top:Xe,right:it,bottom:ut,left:Nt}=Un(o!=null&&o.value?ex(Ze):Ze);return{"--n-scrollbar-bezier":oe,"--n-scrollbar-color":ee,"--n-scrollbar-color-hover":Pe,"--n-scrollbar-border-radius":pe,"--n-scrollbar-width":Ue,"--n-scrollbar-height":Ne,"--n-scrollbar-rail-top-horizontal-top":Re,"--n-scrollbar-rail-right-horizontal-top":He,"--n-scrollbar-rail-bottom-horizontal-top":ve,"--n-scrollbar-rail-left-horizontal-top":Be,"--n-scrollbar-rail-top-horizontal-bottom":Ke,"--n-scrollbar-rail-right-horizontal-bottom":ct,"--n-scrollbar-rail-bottom-horizontal-bottom":mt,"--n-scrollbar-rail-left-horizontal-bottom":ye,"--n-scrollbar-rail-top-vertical-right":Me,"--n-scrollbar-rail-right-vertical-right":Je,"--n-scrollbar-rail-bottom-vertical-right":Te,"--n-scrollbar-rail-left-vertical-right":ze,"--n-scrollbar-rail-top-vertical-left":Xe,"--n-scrollbar-rail-right-vertical-left":it,"--n-scrollbar-rail-bottom-vertical-left":ut,"--n-scrollbar-rail-left-vertical-left":Nt,"--n-scrollbar-rail-color":tt}}),Qe=n?ot("scrollbar",void 0,Tt,t):void 0;return Object.assign(Object.assign({},{scrollTo:ue,scrollBy:Q,sync:ge,syncUnifiedContainer:ie,handleMouseEnterWrapper:re,handleMouseLeaveWrapper:be}),{mergedClsPrefix:e,rtlEnabled:o,containerScrollTop:v,wrapperRef:i,containerRef:s,contentRef:a,yRailRef:l,xRailRef:c,needYBar:j,needXBar:$,yBarSizePx:H,xBarSizePx:W,yBarTopPx:ne,xBarLeftPx:B,isShowXBar:V,isShowYBar:X,isIos:I,handleScroll:ae,handleContentResize:he,handleContainerResize:Ie,handleYScrollMouseDown:bt,handleXScrollMouseDown:xe,cssVars:n?void 0:Tt,themeClass:Qe==null?void 0:Qe.themeClass,onRender:Qe==null?void 0:Qe.onRender})},render(){var t;const{$slots:e,mergedClsPrefix:n,triggerDisplayManually:r,rtlEnabled:o,internalHoistYRail:i,yPlacement:s,xPlacement:a,xScrollable:l}=this;if(!this.scrollable)return(t=e.default)===null||t===void 0?void 0:t.call(e);const c=this.trigger==="none",d=(m,h)=>g("div",{ref:"yRailRef",class:[`${n}-scrollbar-rail`,`${n}-scrollbar-rail--vertical`,`${n}-scrollbar-rail--vertical--${s}`,m],"data-scrollbar-rail":!0,style:[h||"",this.verticalRailStyle],"aria-hidden":!0},g(c?ap:en,c?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?g("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),u=()=>{var m,h;return(m=this.onRender)===null||m===void 0||m.call(this),g("div",sr(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${n}-scrollbar`,this.themeClass,o&&`${n}-scrollbar--rtl`],style:this.cssVars,onMouseenter:r?void 0:this.handleMouseEnterWrapper,onMouseleave:r?void 0:this.handleMouseLeaveWrapper}),[this.container?(h=e.default)===null||h===void 0?void 0:h.call(e):g("div",{role:"none",ref:"containerRef",class:[`${n}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},g(Fr,{onResize:this.handleContentResize},{default:()=>g("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${n}-scrollbar-content`,this.contentClass]},e)})),i?null:d(void 0,void 0),l&&g("div",{ref:"xRailRef",class:[`${n}-scrollbar-rail`,`${n}-scrollbar-rail--horizontal`,`${n}-scrollbar-rail--horizontal--${a}`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},g(c?ap:en,c?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?g("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:o?this.xBarLeftPx:void 0,left:o?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},f=this.container?u():g(Fr,{onResize:this.handleContainerResize},{default:u});return i?g(Vt,null,f,d(this.themeClass,this.cssVars)):f}}),$l=Sn;function Nx(t){return Array.isArray(t)?t:[t]}const vp={STOP:"STOP"};function RE(t,e){const n=e(t);t.children!==void 0&&n!==vp.STOP&&t.children.forEach(r=>RE(r,e))}function X8(t,e={}){const{preserveGroup:n=!1}=e,r=[],o=n?s=>{s.isLeaf||(r.push(s.key),i(s.children))}:s=>{s.isLeaf||(s.isGroup||r.push(s.key),i(s.children))};function i(s){s.forEach(o)}return i(t),r}function Q8(t,e){const{isLeaf:n}=t;return n!==void 0?n:!e(t)}function Z8(t){return t.children}function J8(t){return t.key}function eU(){return!1}function tU(t,e){const{isLeaf:n}=t;return!(n===!1&&!Array.isArray(e(t)))}function nU(t){return t.disabled===!0}function rU(t,e){return t.isLeaf===!1&&!Array.isArray(e(t))}function kg(t){var e;return t==null?[]:Array.isArray(t)?t:(e=t.checkedKeys)!==null&&e!==void 0?e:[]}function Pg(t){var e;return t==null||Array.isArray(t)?[]:(e=t.indeterminateKeys)!==null&&e!==void 0?e:[]}function oU(t,e){const n=new Set(t);return e.forEach(r=>{n.has(r)||n.add(r)}),Array.from(n)}function iU(t,e){const n=new Set(t);return e.forEach(r=>{n.has(r)&&n.delete(r)}),Array.from(n)}function sU(t){return(t==null?void 0:t.type)==="group"}function TE(t){const e=new Map;return t.forEach((n,r)=>{e.set(n.key,r)}),n=>{var r;return(r=e.get(n))!==null&&r!==void 0?r:null}}class EE extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function aU(t,e,n,r){return Lf(e.concat(t),n,r,!1)}function lU(t,e){const n=new Set;return t.forEach(r=>{const o=e.treeNodeMap.get(r);if(o!==void 0){let i=o.parent;for(;i!==null&&!(i.disabled||n.has(i.key));)n.add(i.key),i=i.parent}}),n}function cU(t,e,n,r){const o=Lf(e,n,r,!1),i=Lf(t,n,r,!0),s=lU(t,n),a=[];return o.forEach(l=>{(i.has(l)||s.has(l))&&a.push(l)}),a.forEach(l=>o.delete(l)),o}function Ag(t,e){const{checkedKeys:n,keysToCheck:r,keysToUncheck:o,indeterminateKeys:i,cascade:s,leafOnly:a,checkStrategy:l,allowNotLoaded:c}=t;if(!s)return r!==void 0?{checkedKeys:oU(n,r),indeterminateKeys:Array.from(i)}:o!==void 0?{checkedKeys:iU(n,o),indeterminateKeys:Array.from(i)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(i)};const{levelTreeNodeMap:d}=e;let u;o!==void 0?u=cU(o,n,e,c):r!==void 0?u=aU(r,n,e,c):u=Lf(n,e,c,!1);const f=l==="parent",m=l==="child"||a,h=u,p=new Set,v=Math.max.apply(null,Array.from(d.keys()));for(let b=v;b>=0;b-=1){const y=b===0,x=d.get(b);for(const C of x){if(C.isLeaf)continue;const{key:S,shallowLoaded:T}=C;if(m&&T&&C.children.forEach(P=>{!P.disabled&&!P.isLeaf&&P.shallowLoaded&&h.has(P.key)&&h.delete(P.key)}),C.disabled||!T)continue;let w=!0,E=!1,R=!0;for(const P of C.children){const _=P.key;if(!P.disabled){if(R&&(R=!1),h.has(_))E=!0;else if(p.has(_)){E=!0,w=!1;break}else if(w=!1,E)break}}w&&!R?(f&&C.children.forEach(P=>{!P.disabled&&h.has(P.key)&&h.delete(P.key)}),h.add(S)):E&&p.add(S),y&&m&&h.has(S)&&h.delete(S)}}return{checkedKeys:Array.from(h),indeterminateKeys:Array.from(p)}}function Lf(t,e,n,r){const{treeNodeMap:o,getChildren:i}=e,s=new Set,a=new Set(t);return t.forEach(l=>{const c=o.get(l);c!==void 0&&RE(c,d=>{if(d.disabled)return vp.STOP;const{key:u}=d;if(!s.has(u)&&(s.add(u),a.add(u),rU(d.rawNode,i))){if(r)return vp.STOP;if(!n)throw new EE}})}),a}function dU(t,{includeGroup:e=!1,includeSelf:n=!0},r){var o;const i=r.treeNodeMap;let s=t==null?null:(o=i.get(t))!==null&&o!==void 0?o:null;const a={keyPath:[],treeNodePath:[],treeNode:s};if(s!=null&&s.ignored)return a.treeNode=null,a;for(;s;)!s.ignored&&(e||!s.isGroup)&&a.treeNodePath.push(s),s=s.parent;return a.treeNodePath.reverse(),n||a.treeNodePath.pop(),a.keyPath=a.treeNodePath.map(l=>l.key),a}function uU(t){if(t.length===0)return null;const e=t[0];return e.isGroup||e.ignored||e.disabled?e.getNext():e}function fU(t,e){const n=t.siblings,r=n.length,{index:o}=t;return e?n[(o+1)%r]:o===n.length-1?null:n[o+1]}function Ux(t,e,{loop:n=!1,includeDisabled:r=!1}={}){const o=e==="prev"?hU:fU,i={reverse:e==="prev"};let s=!1,a=null;function l(c){if(c!==null){if(c===t){if(!s)s=!0;else if(!t.disabled&&!t.isGroup){a=t;return}}else if((!c.disabled||r)&&!c.ignored&&!c.isGroup){a=c;return}if(c.isGroup){const d=b0(c,i);d!==null?a=d:l(o(c,n))}else{const d=o(c,!1);if(d!==null)l(d);else{const u=gU(c);u!=null&&u.isGroup?l(o(u,n)):n&&l(o(c,!0))}}}}return l(t),a}function hU(t,e){const n=t.siblings,r=n.length,{index:o}=t;return e?n[(o-1+r)%r]:o===0?null:n[o-1]}function gU(t){return t.parent}function b0(t,e={}){const{reverse:n=!1}=e,{children:r}=t;if(r){const{length:o}=r,i=n?o-1:0,s=n?-1:o,a=n?-1:1;for(let l=i;l!==s;l+=a){const c=r[l];if(!c.disabled&&!c.ignored)if(c.isGroup){const d=b0(c,e);if(d!==null)return d}else return c}}return null}const mU={getChild(){return this.ignored?null:b0(this)},getParent(){const{parent:t}=this;return t!=null&&t.isGroup?t.getParent():t},getNext(t={}){return Ux(this,"next",t)},getPrev(t={}){return Ux(this,"prev",t)}};function bp(t,e){const n=e?new Set(e):void 0,r=[];function o(i){i.forEach(s=>{r.push(s),!(s.isLeaf||!s.children||s.ignored)&&(s.isGroup||n===void 0||n.has(s.key))&&o(s.children)})}return o(t),r}function pU(t,e){const n=t.key;for(;e;){if(e.key===n)return!0;e=e.parent}return!1}function kE(t,e,n,r,o,i=null,s=0){const a=[];return t.forEach((l,c)=>{var d;const u=Object.create(r);if(u.rawNode=l,u.siblings=a,u.level=s,u.index=c,u.isFirstChild=c===0,u.isLastChild=c+1===t.length,u.parent=i,!u.ignored){const f=o(l);Array.isArray(f)&&(u.children=kE(f,e,n,r,o,u,s+1))}a.push(u),e.set(u.key,u),n.has(s)||n.set(s,[]),(d=n.get(s))===null||d===void 0||d.push(u)}),a}function Xr(t,e={}){var n;const r=new Map,o=new Map,{getDisabled:i=nU,getIgnored:s=eU,getIsGroup:a=sU,getKey:l=J8}=e,c=(n=e.getChildren)!==null&&n!==void 0?n:Z8,d=e.ignoreEmptyChildren?C=>{const S=c(C);return Array.isArray(S)?S.length?S:null:S}:c,u=Object.assign({get key(){return l(this.rawNode)},get disabled(){return i(this.rawNode)},get isGroup(){return a(this.rawNode)},get isLeaf(){return Q8(this.rawNode,d)},get shallowLoaded(){return tU(this.rawNode,d)},get ignored(){return s(this.rawNode)},contains(C){return pU(this,C)}},mU),f=kE(t,r,o,u,d);function m(C){if(C==null)return null;const S=r.get(C);return S&&!S.isGroup&&!S.ignored?S:null}function h(C){if(C==null)return null;const S=r.get(C);return S&&!S.ignored?S:null}function p(C,S){const T=h(C);return T?T.getPrev(S):null}function v(C,S){const T=h(C);return T?T.getNext(S):null}function b(C){const S=h(C);return S?S.getParent():null}function y(C){const S=h(C);return S?S.getChild():null}const x={treeNodes:f,treeNodeMap:r,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:d,getFlattenedNodes(C){return bp(f,C)},getNode:m,getPrev:p,getNext:v,getParent:b,getChild:y,getFirstAvailableNode(){return uU(f)},getPath(C,S={}){return dU(C,S,x)},getCheckedKeys(C,S={}){const{cascade:T=!0,leafOnly:w=!1,checkStrategy:E="all",allowNotLoaded:R=!1}=S;return Ag({checkedKeys:kg(C),indeterminateKeys:Pg(C),cascade:T,leafOnly:w,checkStrategy:E,allowNotLoaded:R},x)},check(C,S,T={}){const{cascade:w=!0,leafOnly:E=!1,checkStrategy:R="all",allowNotLoaded:P=!1}=T;return Ag({checkedKeys:kg(S),indeterminateKeys:Pg(S),keysToCheck:C==null?[]:Nx(C),cascade:w,leafOnly:E,checkStrategy:R,allowNotLoaded:P},x)},uncheck(C,S,T={}){const{cascade:w=!0,leafOnly:E=!1,checkStrategy:R="all",allowNotLoaded:P=!1}=T;return Ag({checkedKeys:kg(S),indeterminateKeys:Pg(S),keysToUncheck:C==null?[]:Nx(C),cascade:w,leafOnly:E,checkStrategy:R,allowNotLoaded:P},x)},getNonLeafKeys(C={}){return X8(f,C)}};return x}const vU={iconSizeTiny:"28px",iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};function PE(t){const{textColorDisabled:e,iconColor:n,textColor2:r,fontSizeTiny:o,fontSizeSmall:i,fontSizeMedium:s,fontSizeLarge:a,fontSizeHuge:l}=t;return Object.assign(Object.assign({},vU),{fontSizeTiny:o,fontSizeSmall:i,fontSizeMedium:s,fontSizeLarge:a,fontSizeHuge:l,textColor:e,iconColor:n,extraTextColor:r})}const rs={name:"Empty",common:lt,self:PE},Ua={name:"Empty",common:st,self:PE},bU=k("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[F("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[O("+",[F("description",`
 margin-top: 8px;
 `)])]),F("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),F("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),AE=Object.assign(Object.assign({},ke.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Gi=ce({name:"Empty",props:AE,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedComponentPropsRef:r}=Ge(t),o=ke("Empty","-empty",bU,rs,t,e),{localeRef:i}=Mn("Empty"),s=A(()=>{var d,u,f;return(d=t.description)!==null&&d!==void 0?d:(f=(u=r==null?void 0:r.value)===null||u===void 0?void 0:u.Empty)===null||f===void 0?void 0:f.description}),a=A(()=>{var d,u;return((u=(d=r==null?void 0:r.value)===null||d===void 0?void 0:d.Empty)===null||u===void 0?void 0:u.renderIcon)||(()=>g(S8,null))}),l=A(()=>{const{size:d}=t,{common:{cubicBezierEaseInOut:u},self:{[Ae("iconSize",d)]:f,[Ae("fontSize",d)]:m,textColor:h,iconColor:p,extraTextColor:v}}=o.value;return{"--n-icon-size":f,"--n-font-size":m,"--n-bezier":u,"--n-text-color":h,"--n-icon-color":p,"--n-extra-text-color":v}}),c=n?ot("empty",A(()=>{let d="";const{size:u}=t;return d+=u[0],d}),l,t):void 0;return{mergedClsPrefix:e,mergedRenderIcon:a,localizedDescription:A(()=>s.value||i.value.description),cssVars:n?void 0:l,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){const{$slots:t,mergedClsPrefix:e,onRender:n}=this;return n==null||n(),g("div",{class:[`${e}-empty`,this.themeClass],style:this.cssVars},this.showIcon?g("div",{class:`${e}-empty__icon`},t.icon?t.icon():g(yt,{clsPrefix:e},{default:this.mergedRenderIcon})):null,this.showDescription?g("div",{class:`${e}-empty__description`},t.default?t.default():this.localizedDescription):null,t.extra?g("div",{class:`${e}-empty__extra`},t.extra()):null)}}),yU={height:"calc(var(--n-option-height) * 7.6)",paddingTiny:"4px 0",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingTiny:"0 12px",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};function IE(t){const{borderRadius:e,popoverColor:n,textColor3:r,dividerColor:o,textColor2:i,primaryColorPressed:s,textColorDisabled:a,primaryColor:l,opacityDisabled:c,hoverColor:d,fontSizeTiny:u,fontSizeSmall:f,fontSizeMedium:m,fontSizeLarge:h,fontSizeHuge:p,heightTiny:v,heightSmall:b,heightMedium:y,heightLarge:x,heightHuge:C}=t;return Object.assign(Object.assign({},yU),{optionFontSizeTiny:u,optionFontSizeSmall:f,optionFontSizeMedium:m,optionFontSizeLarge:h,optionFontSizeHuge:p,optionHeightTiny:v,optionHeightSmall:b,optionHeightMedium:y,optionHeightLarge:x,optionHeightHuge:C,borderRadius:e,color:n,groupHeaderTextColor:r,actionDividerColor:o,optionTextColor:i,optionTextColorPressed:s,optionTextColorDisabled:a,optionTextColorActive:l,optionOpacityDisabled:c,optionCheckColor:l,optionColorPending:d,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:d,actionTextColor:i,loadingColor:l})}const Yl={name:"InternalSelectMenu",common:lt,peers:{Scrollbar:ro,Empty:rs},self:IE},Fd={name:"InternalSelectMenu",common:st,peers:{Scrollbar:oo,Empty:Ua},self:IE},Hx=ce({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:t,renderOptionRef:e,labelFieldRef:n,nodePropsRef:r}=Ve(Qv);return{labelField:n,nodeProps:r,renderLabel:t,renderOption:e}},render(){const{clsPrefix:t,renderLabel:e,renderOption:n,nodeProps:r,tmNode:{rawNode:o}}=this,i=r==null?void 0:r(o),s=e?e(o,!1):dn(o[this.labelField],o,!1),a=g("div",Object.assign({},i,{class:[`${t}-base-select-group-header`,i==null?void 0:i.class]}),s);return o.render?o.render({node:a,option:o}):n?n({node:a,option:o,selected:!1}):a}});function xU(t,e){return g(en,{name:"fade-in-scale-up-transition"},{default:()=>t?g(yt,{clsPrefix:e,class:`${e}-base-select-option__check`},{default:()=>g(m0)}):null})}const Vx=ce({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(t){const{valueRef:e,pendingTmNodeRef:n,multipleRef:r,valueSetRef:o,renderLabelRef:i,renderOptionRef:s,labelFieldRef:a,valueFieldRef:l,showCheckmarkRef:c,nodePropsRef:d,handleOptionClick:u,handleOptionMouseEnter:f}=Ve(Qv),m=pt(()=>{const{value:b}=n;return b?t.tmNode.key===b.key:!1});function h(b){const{tmNode:y}=t;y.disabled||u(b,y)}function p(b){const{tmNode:y}=t;y.disabled||f(b,y)}function v(b){const{tmNode:y}=t,{value:x}=m;y.disabled||x||f(b,y)}return{multiple:r,isGrouped:pt(()=>{const{tmNode:b}=t,{parent:y}=b;return y&&y.rawNode.type==="group"}),showCheckmark:c,nodeProps:d,isPending:m,isSelected:pt(()=>{const{value:b}=e,{value:y}=r;if(b===null)return!1;const x=t.tmNode.rawNode[l.value];if(y){const{value:C}=o;return C.has(x)}else return b===x}),labelField:a,renderLabel:i,renderOption:s,handleMouseMove:v,handleMouseEnter:p,handleClick:h}},render(){const{clsPrefix:t,tmNode:{rawNode:e},isSelected:n,isPending:r,isGrouped:o,showCheckmark:i,nodeProps:s,renderOption:a,renderLabel:l,handleClick:c,handleMouseEnter:d,handleMouseMove:u}=this,f=xU(n,t),m=l?[l(e,n),i&&f]:[dn(e[this.labelField],e,n),i&&f],h=s==null?void 0:s(e),p=g("div",Object.assign({},h,{class:[`${t}-base-select-option`,e.class,h==null?void 0:h.class,{[`${t}-base-select-option--disabled`]:e.disabled,[`${t}-base-select-option--selected`]:n,[`${t}-base-select-option--grouped`]:o,[`${t}-base-select-option--pending`]:r,[`${t}-base-select-option--show-checkmark`]:i}],style:[(h==null?void 0:h.style)||"",e.style||""],onClick:Nc([c,h==null?void 0:h.onClick]),onMouseenter:Nc([d,h==null?void 0:h.onMouseenter]),onMousemove:Nc([u,h==null?void 0:h.onMousemove])}),g("div",{class:`${t}-base-select-option__content`},m));return e.render?e.render({node:p,option:e,selected:n}):a?a({node:p,option:e,selected:n}):p}}),{cubicBezierEaseIn:jx,cubicBezierEaseOut:Wx}=no;function ar({transformOrigin:t="inherit",duration:e=".2s",enterScale:n=".9",originalTransform:r="",originalTransition:o=""}={}){return[O("&.fade-in-scale-up-transition-leave-active",{transformOrigin:t,transition:`opacity ${e} ${jx}, transform ${e} ${jx} ${o&&`,${o}`}`}),O("&.fade-in-scale-up-transition-enter-active",{transformOrigin:t,transition:`opacity ${e} ${Wx}, transform ${e} ${Wx} ${o&&`,${o}`}`}),O("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${r} scale(${n})`}),O("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${r} scale(1)`})]}const CU=k("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[k("scrollbar",`
 max-height: var(--n-height);
 `),k("virtual-list",`
 max-height: var(--n-height);
 `),k("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[F("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),k("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),k("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),F("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),F("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),F("header",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),F("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),k("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),k("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[M("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),O("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),O("&:active",`
 color: var(--n-option-text-color-pressed);
 `),M("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),M("pending",[O("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),M("selected",`
 color: var(--n-option-text-color-active);
 `,[O("&::before",`
 background-color: var(--n-option-color-active);
 `),M("pending",[O("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),M("disabled",`
 cursor: not-allowed;
 `,[wt("selected",`
 color: var(--n-option-text-color-disabled);
 `),M("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),F("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[ar({enterScale:"0.5"})])])]),Md=ce({name:"InternalSelectMenu",props:Object.assign(Object.assign({},ke.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=Ge(t),r=rn("InternalSelectMenu",n,e),o=ke("InternalSelectMenu","-internal-select-menu",CU,Yl,t,Se(t,"clsPrefix")),i=z(null),s=z(null),a=z(null),l=A(()=>t.treeMate.getFlattenedNodes()),c=A(()=>TE(l.value)),d=z(null);function u(){const{treeMate:j}=t;let $=null;const{value:V}=t;V===null?$=j.getFirstAvailableNode():(t.multiple?$=j.getNode((V||[])[(V||[]).length-1]):$=j.getNode(V),(!$||$.disabled)&&($=j.getFirstAvailableNode())),N($||null)}function f(){const{value:j}=d;j&&!t.treeMate.getNode(j.key)&&(d.value=null)}let m;gt(()=>t.show,j=>{j?m=gt(()=>t.treeMate,()=>{t.resetMenuOnOptionsChange?(t.autoPending?u():f(),$t(H)):f()},{immediate:!0}):m==null||m()},{immediate:!0}),Qt(()=>{m==null||m()});const h=A(()=>on(o.value.self[Ae("optionHeight",t.size)])),p=A(()=>Un(o.value.self[Ae("padding",t.size)])),v=A(()=>t.multiple&&Array.isArray(t.value)?new Set(t.value):new Set),b=A(()=>{const j=l.value;return j&&j.length===0});function y(j){const{onToggle:$}=t;$&&$(j)}function x(j){const{onScroll:$}=t;$&&$(j)}function C(j){var $;($=a.value)===null||$===void 0||$.sync(),x(j)}function S(){var j;(j=a.value)===null||j===void 0||j.sync()}function T(){const{value:j}=d;return j||null}function w(j,$){$.disabled||N($,!1)}function E(j,$){$.disabled||y($)}function R(j){var $;An(j,"action")||($=t.onKeyup)===null||$===void 0||$.call(t,j)}function P(j){var $;An(j,"action")||($=t.onKeydown)===null||$===void 0||$.call(t,j)}function _(j){var $;($=t.onMousedown)===null||$===void 0||$.call(t,j),!t.focusable&&j.preventDefault()}function I(){const{value:j}=d;j&&N(j.getNext({loop:!0}),!0)}function L(){const{value:j}=d;j&&N(j.getPrev({loop:!0}),!0)}function N(j,$=!1){d.value=j,$&&H()}function H(){var j,$;const V=d.value;if(!V)return;const X=c.value(V.key);X!==null&&(t.virtualScroll?(j=s.value)===null||j===void 0||j.scrollTo({index:X}):($=a.value)===null||$===void 0||$.scrollTo({index:X,elSize:h.value}))}function G(j){var $,V;!(($=i.value)===null||$===void 0)&&$.contains(j.target)&&((V=t.onFocus)===null||V===void 0||V.call(t,j))}function W(j){var $,V;!(($=i.value)===null||$===void 0)&&$.contains(j.relatedTarget)||(V=t.onBlur)===null||V===void 0||V.call(t,j)}ft(Qv,{handleOptionMouseEnter:w,handleOptionClick:E,valueSetRef:v,pendingTmNodeRef:d,nodePropsRef:Se(t,"nodeProps"),showCheckmarkRef:Se(t,"showCheckmark"),multipleRef:Se(t,"multiple"),valueRef:Se(t,"value"),renderLabelRef:Se(t,"renderLabel"),renderOptionRef:Se(t,"renderOption"),labelFieldRef:Se(t,"labelField"),valueFieldRef:Se(t,"valueField")}),ft(ZR,i),Gt(()=>{const{value:j}=a;j&&j.sync()});const J=A(()=>{const{size:j}=t,{common:{cubicBezierEaseInOut:$},self:{height:V,borderRadius:X,color:Z,groupHeaderTextColor:q,actionDividerColor:ue,optionTextColorPressed:K,optionTextColor:he,optionTextColorDisabled:Ie,optionTextColorActive:Q,optionOpacityDisabled:Y,optionCheckColor:re,actionTextColor:be,optionColorPending:Ce,optionColorActive:le,loadingColor:de,loadingSize:fe,optionColorActivePending:te,[Ae("optionFontSize",j)]:ae,[Ae("optionHeight",j)]:Ee,[Ae("optionPadding",j)]:se}}=o.value;return{"--n-height":V,"--n-action-divider-color":ue,"--n-action-text-color":be,"--n-bezier":$,"--n-border-radius":X,"--n-color":Z,"--n-option-font-size":ae,"--n-group-header-text-color":q,"--n-option-check-color":re,"--n-option-color-pending":Ce,"--n-option-color-active":le,"--n-option-color-active-pending":te,"--n-option-height":Ee,"--n-option-opacity-disabled":Y,"--n-option-text-color":he,"--n-option-text-color-active":Q,"--n-option-text-color-disabled":Ie,"--n-option-text-color-pressed":K,"--n-option-padding":se,"--n-option-padding-left":Un(se,"left"),"--n-option-padding-right":Un(se,"right"),"--n-loading-color":de,"--n-loading-size":fe}}),{inlineThemeDisabled:ne}=t,D=ne?ot("internal-select-menu",A(()=>t.size[0]),J,t):void 0,B={selfRef:i,next:I,prev:L,getPendingTmNode:T};return bh(i,t.onResize),Object.assign({mergedTheme:o,mergedClsPrefix:e,rtlEnabled:r,virtualListRef:s,scrollbarRef:a,itemSize:h,padding:p,flattenedNodes:l,empty:b,virtualListContainer(){const{value:j}=s;return j==null?void 0:j.listElRef},virtualListContent(){const{value:j}=s;return j==null?void 0:j.itemsElRef},doScroll:x,handleFocusin:G,handleFocusout:W,handleKeyUp:R,handleKeyDown:P,handleMouseDown:_,handleVirtualListResize:S,handleVirtualListScroll:C,cssVars:ne?void 0:J,themeClass:D==null?void 0:D.themeClass,onRender:D==null?void 0:D.onRender},B)},render(){const{$slots:t,virtualScroll:e,clsPrefix:n,mergedTheme:r,themeClass:o,onRender:i}=this;return i==null||i(),g("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,this.rtlEnabled&&`${n}-base-select-menu--rtl`,o,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},Lt(t.header,s=>s&&g("div",{class:`${n}-base-select-menu__header`,"data-header":!0,key:"header"},s)),this.loading?g("div",{class:`${n}-base-select-menu__loading`},g(Qo,{clsPrefix:n,strokeWidth:20})):this.empty?g("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},Et(t.empty,()=>[g(Gi,{theme:r.peers.Empty,themeOverrides:r.peerOverrides.Empty,size:this.size})])):g(Sn,{ref:"scrollbarRef",theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,scrollable:this.scrollable,container:e?this.virtualListContainer:void 0,content:e?this.virtualListContent:void 0,onScroll:e?void 0:this.doScroll},{default:()=>e?g(qo,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:s})=>s.isGroup?g(Hx,{key:s.key,clsPrefix:n,tmNode:s}):s.ignored?null:g(Vx,{clsPrefix:n,key:s.key,tmNode:s})}):g("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(s=>s.isGroup?g(Hx,{key:s.key,clsPrefix:n,tmNode:s}):g(Vx,{clsPrefix:n,key:s.key,tmNode:s})))}),Lt(t.action,s=>s&&[g("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},s),g(Ii,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),SU={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};function _E(t){const{boxShadow2:e,popoverColor:n,textColor2:r,borderRadius:o,fontSize:i,dividerColor:s}=t;return Object.assign(Object.assign({},SU),{fontSize:i,borderRadius:o,color:n,dividerColor:s,textColor:r,boxShadow:e})}const Ha={name:"Popover",common:lt,self:_E},Va={name:"Popover",common:st,self:_E},Ig={top:"bottom",bottom:"top",left:"right",right:"left"},lr="var(--n-arrow-height) * 1.414",wU=O([k("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[O(">",[k("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),wt("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[wt("scrollable",[wt("show-header-or-footer","padding: var(--n-padding);")])]),F("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),F("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),M("scrollable, show-header-or-footer",[F("content",`
 padding: var(--n-padding);
 `)])]),k("popover-shared",`
 transform-origin: inherit;
 `,[k("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[k("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${lr});
 height: calc(${lr});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),O("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),O("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),O("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),O("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),Ro("top-start",`
 top: calc(${lr} / -2);
 left: calc(${Di("top-start")} - var(--v-offset-left));
 `),Ro("top",`
 top: calc(${lr} / -2);
 transform: translateX(calc(${lr} / -2)) rotate(45deg);
 left: 50%;
 `),Ro("top-end",`
 top: calc(${lr} / -2);
 right: calc(${Di("top-end")} + var(--v-offset-left));
 `),Ro("bottom-start",`
 bottom: calc(${lr} / -2);
 left: calc(${Di("bottom-start")} - var(--v-offset-left));
 `),Ro("bottom",`
 bottom: calc(${lr} / -2);
 transform: translateX(calc(${lr} / -2)) rotate(45deg);
 left: 50%;
 `),Ro("bottom-end",`
 bottom: calc(${lr} / -2);
 right: calc(${Di("bottom-end")} + var(--v-offset-left));
 `),Ro("left-start",`
 left: calc(${lr} / -2);
 top: calc(${Di("left-start")} - var(--v-offset-top));
 `),Ro("left",`
 left: calc(${lr} / -2);
 transform: translateY(calc(${lr} / -2)) rotate(45deg);
 top: 50%;
 `),Ro("left-end",`
 left: calc(${lr} / -2);
 bottom: calc(${Di("left-end")} + var(--v-offset-top));
 `),Ro("right-start",`
 right: calc(${lr} / -2);
 top: calc(${Di("right-start")} - var(--v-offset-top));
 `),Ro("right",`
 right: calc(${lr} / -2);
 transform: translateY(calc(${lr} / -2)) rotate(45deg);
 top: 50%;
 `),Ro("right-end",`
 right: calc(${lr} / -2);
 bottom: calc(${Di("right-end")} + var(--v-offset-top));
 `),...i8({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(t,e)=>{const n=["right","left"].includes(e),r=n?"width":"height";return t.map(o=>{const i=o.split("-")[1]==="end",a=`calc((${`var(--v-target-${r}, 0px)`} - ${lr}) / 2)`,l=Di(o);return O(`[v-placement="${o}"] >`,[k("popover-shared",[M("center-arrow",[k("popover-arrow",`${e}: calc(max(${a}, ${l}) ${i?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})})]);function Di(t){return["top","bottom"].includes(t.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function Ro(t,e){const n=t.split("-")[0],r=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return O(`[v-placement="${t}"] >`,[k("popover-shared",`
 margin-${Ig[n]}: var(--n-space);
 `,[M("show-arrow",`
 margin-${Ig[n]}: var(--n-space-arrow);
 `),M("overlap",`
 margin: 0;
 `),PM("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${n}: 100%;
 ${Ig[n]}: auto;
 ${r}
 `,[k("popover-arrow",e)])])])}const LE=Object.assign(Object.assign({},ke.props),{to:an.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function DE({arrowClass:t,arrowStyle:e,arrowWrapperClass:n,arrowWrapperStyle:r,clsPrefix:o}){return g("div",{key:"__popover-arrow__",style:r,class:[`${o}-popover-arrow-wrapper`,n]},g("div",{class:[`${o}-popover-arrow`,t],style:e}))}const RU=ce({name:"PopoverBody",inheritAttrs:!1,props:LE,setup(t,{slots:e,attrs:n}){const{namespaceRef:r,mergedClsPrefixRef:o,inlineThemeDisabled:i}=Ge(t),s=ke("Popover","-popover",wU,Ha,t,o),a=z(null),l=Ve("NPopover"),c=z(null),d=z(t.show),u=z(!1);Xt(()=>{const{show:w}=t;w&&!G3()&&!t.internalDeactivateImmediately&&(u.value=!0)});const f=A(()=>{const{trigger:w,onClickoutside:E}=t,R=[],{positionManuallyRef:{value:P}}=l;return P||(w==="click"&&!E&&R.push([eo,C,void 0,{capture:!0}]),w==="hover"&&R.push([n3,x])),E&&R.push([eo,C,void 0,{capture:!0}]),(t.displayDirective==="show"||t.animated&&u.value)&&R.push([bo,t.show]),R}),m=A(()=>{const{common:{cubicBezierEaseInOut:w,cubicBezierEaseIn:E,cubicBezierEaseOut:R},self:{space:P,spaceArrow:_,padding:I,fontSize:L,textColor:N,dividerColor:H,color:G,boxShadow:W,borderRadius:J,arrowHeight:ne,arrowOffset:D,arrowOffsetVertical:B}}=s.value;return{"--n-box-shadow":W,"--n-bezier":w,"--n-bezier-ease-in":E,"--n-bezier-ease-out":R,"--n-font-size":L,"--n-text-color":N,"--n-color":G,"--n-divider-color":H,"--n-border-radius":J,"--n-arrow-height":ne,"--n-arrow-offset":D,"--n-arrow-offset-vertical":B,"--n-padding":I,"--n-space":P,"--n-space-arrow":_}}),h=A(()=>{const w=t.width==="trigger"?void 0:Mt(t.width),E=[];w&&E.push({width:w});const{maxWidth:R,minWidth:P}=t;return R&&E.push({maxWidth:Mt(R)}),P&&E.push({maxWidth:Mt(P)}),i||E.push(m.value),E}),p=i?ot("popover",void 0,m,t):void 0;l.setBodyInstance({syncPosition:v}),Qt(()=>{l.setBodyInstance(null)}),gt(Se(t,"show"),w=>{t.animated||(w?d.value=!0:d.value=!1)});function v(){var w;(w=a.value)===null||w===void 0||w.syncPosition()}function b(w){t.trigger==="hover"&&t.keepAliveOnHover&&t.show&&l.handleMouseEnter(w)}function y(w){t.trigger==="hover"&&t.keepAliveOnHover&&l.handleMouseLeave(w)}function x(w){t.trigger==="hover"&&!S().contains(Jr(w))&&l.handleMouseMoveOutside(w)}function C(w){(t.trigger==="click"&&!S().contains(Jr(w))||t.onClickoutside)&&l.handleClickOutside(w)}function S(){return l.getTriggerElement()}ft(Kl,c),ft(_d,null),ft(Ld,null);function T(){if(p==null||p.onRender(),!(t.displayDirective==="show"||t.show||t.animated&&u.value))return null;let E;const R=l.internalRenderBodyRef.value,{value:P}=o;if(R)E=R([`${P}-popover-shared`,p==null?void 0:p.themeClass.value,t.overlap&&`${P}-popover-shared--overlap`,t.showArrow&&`${P}-popover-shared--show-arrow`,t.arrowPointToCenter&&`${P}-popover-shared--center-arrow`],c,h.value,b,y);else{const{value:_}=l.extraClassRef,{internalTrapFocus:I}=t,L=!xa(e.header)||!xa(e.footer),N=()=>{var H,G;const W=L?g(Vt,null,Lt(e.header,D=>D?g("div",{class:[`${P}-popover__header`,t.headerClass],style:t.headerStyle},D):null),Lt(e.default,D=>D?g("div",{class:[`${P}-popover__content`,t.contentClass],style:t.contentStyle},e):null),Lt(e.footer,D=>D?g("div",{class:[`${P}-popover__footer`,t.footerClass],style:t.footerStyle},D):null)):t.scrollable?(H=e.default)===null||H===void 0?void 0:H.call(e):g("div",{class:[`${P}-popover__content`,t.contentClass],style:t.contentStyle},e),J=t.scrollable?g($l,{contentClass:L?void 0:`${P}-popover__content ${(G=t.contentClass)!==null&&G!==void 0?G:""}`,contentStyle:L?void 0:t.contentStyle},{default:()=>W}):W,ne=t.showArrow?DE({arrowClass:t.arrowClass,arrowStyle:t.arrowStyle,arrowWrapperClass:t.arrowWrapperClass,arrowWrapperStyle:t.arrowWrapperStyle,clsPrefix:P}):null;return[J,ne]};E=g("div",sr({class:[`${P}-popover`,`${P}-popover-shared`,p==null?void 0:p.themeClass.value,_.map(H=>`${P}-${H}`),{[`${P}-popover--scrollable`]:t.scrollable,[`${P}-popover--show-header-or-footer`]:L,[`${P}-popover--raw`]:t.raw,[`${P}-popover-shared--overlap`]:t.overlap,[`${P}-popover-shared--show-arrow`]:t.showArrow,[`${P}-popover-shared--center-arrow`]:t.arrowPointToCenter}],ref:c,style:h.value,onKeydown:l.handleKeydown,onMouseenter:b,onMouseleave:y},n),I?g(r0,{active:t.show,autoFocus:!0},{default:N}):N())}return $n(E,f.value)}return{displayed:u,namespace:r,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:a,adjustedTo:an(t),followerEnabled:d,renderContentNode:T}},render(){return g(yo,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===an.tdkey},{default:()=>this.animated?g(en,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var t;(t=this.internalOnAfterLeave)===null||t===void 0||t.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),TU=Object.keys(LE),EU={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function kU(t,e,n){EU[e].forEach(r=>{t.props?t.props=Object.assign({},t.props):t.props={};const o=t.props[r],i=n[r];o?t.props[r]=(...s)=>{o(...s),i(...s)}:t.props[r]=i})}const Ia={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:an.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},OE=Object.assign(Object.assign(Object.assign({},ke.props),Ia),{internalOnAfterLeave:Function,internalRenderBody:Function}),ja=ce({name:"Popover",inheritAttrs:!1,props:OE,slots:Object,__popover__:!0,setup(t){const e=br(),n=z(null),r=A(()=>t.show),o=z(t.defaultShow),i=Ft(r,o),s=pt(()=>t.disabled?!1:i.value),a=()=>{if(t.disabled)return!0;const{getDisabled:H}=t;return!!(H!=null&&H())},l=()=>a()?!1:i.value,c=Os(t,["arrow","showArrow"]),d=A(()=>t.overlap?!1:c.value);let u=null;const f=z(null),m=z(null),h=pt(()=>t.x!==void 0&&t.y!==void 0);function p(H){const{"onUpdate:show":G,onUpdateShow:W,onShow:J,onHide:ne}=t;o.value=H,G&&we(G,H),W&&we(W,H),H&&J&&we(J,!0),H&&ne&&we(ne,!1)}function v(){u&&u.syncPosition()}function b(){const{value:H}=f;H&&(window.clearTimeout(H),f.value=null)}function y(){const{value:H}=m;H&&(window.clearTimeout(H),m.value=null)}function x(){const H=a();if(t.trigger==="focus"&&!H){if(l())return;p(!0)}}function C(){const H=a();if(t.trigger==="focus"&&!H){if(!l())return;p(!1)}}function S(){const H=a();if(t.trigger==="hover"&&!H){if(y(),f.value!==null||l())return;const G=()=>{p(!0),f.value=null},{delay:W}=t;W===0?G():f.value=window.setTimeout(G,W)}}function T(){const H=a();if(t.trigger==="hover"&&!H){if(b(),m.value!==null||!l())return;const G=()=>{p(!1),m.value=null},{duration:W}=t;W===0?G():m.value=window.setTimeout(G,W)}}function w(){T()}function E(H){var G;l()&&(t.trigger==="click"&&(b(),y(),p(!1)),(G=t.onClickoutside)===null||G===void 0||G.call(t,H))}function R(){if(t.trigger==="click"&&!a()){b(),y();const H=!l();p(H)}}function P(H){t.internalTrapFocus&&H.key==="Escape"&&(b(),y(),p(!1))}function _(H){o.value=H}function I(){var H;return(H=n.value)===null||H===void 0?void 0:H.targetRef}function L(H){u=H}return ft("NPopover",{getTriggerElement:I,handleKeydown:P,handleMouseEnter:S,handleMouseLeave:T,handleClickOutside:E,handleMouseMoveOutside:w,setBodyInstance:L,positionManuallyRef:h,isMountedRef:e,zIndexRef:Se(t,"zIndex"),extraClassRef:Se(t,"internalExtraClass"),internalRenderBodyRef:Se(t,"internalRenderBody")}),Xt(()=>{i.value&&a()&&p(!1)}),{binderInstRef:n,positionManually:h,mergedShowConsideringDisabledProp:s,uncontrolledShow:o,mergedShowArrow:d,getMergedShow:l,setShow:_,handleClick:R,handleMouseEnter:S,handleMouseLeave:T,handleFocus:x,handleBlur:C,syncPosition:v}},render(){var t;const{positionManually:e,$slots:n}=this;let r,o=!1;if(!e&&(r=X3(n,"trigger"),r)){r=Hr(r),r=r.type===Ad?g("span",[r]):r;const i={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((t=r.type)===null||t===void 0)&&t.__popover__)o=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[i,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[i];else{const{internalInheritedEventHandlers:s}=this,a=[i,...s],l={onBlur:c=>{a.forEach(d=>{d.onBlur(c)})},onFocus:c=>{a.forEach(d=>{d.onFocus(c)})},onClick:c=>{a.forEach(d=>{d.onClick(c)})},onMouseenter:c=>{a.forEach(d=>{d.onMouseenter(c)})},onMouseleave:c=>{a.forEach(d=>{d.onMouseleave(c)})}};kU(r,s?"nested":e?"manual":this.trigger,l)}}return g(Mo,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const i=this.getMergedShow();return[this.internalTrapFocus&&i?$n(g("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[Dd,{enabled:i,zIndex:this.zIndex}]]):null,e?null:g(Bo,null,{default:()=>r}),g(RU,Gn(this.$props,TU,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:i})),{default:()=>{var s,a;return(a=(s=this.$slots).default)===null||a===void 0?void 0:a.call(s)},header:()=>{var s,a;return(a=(s=this.$slots).header)===null||a===void 0?void 0:a.call(s)},footer:()=>{var s,a;return(a=(s=this.$slots).footer)===null||a===void 0?void 0:a.call(s)}})]}})}}),$E={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px"},FE={name:"Tag",common:st,self(t){const{textColor2:e,primaryColorHover:n,primaryColorPressed:r,primaryColor:o,infoColor:i,successColor:s,warningColor:a,errorColor:l,baseColor:c,borderColor:d,tagColor:u,opacityDisabled:f,closeIconColor:m,closeIconColorHover:h,closeIconColorPressed:p,closeColorHover:v,closeColorPressed:b,borderRadiusSmall:y,fontSizeMini:x,fontSizeTiny:C,fontSizeSmall:S,fontSizeMedium:T,heightMini:w,heightTiny:E,heightSmall:R,heightMedium:P,buttonColor2Hover:_,buttonColor2Pressed:I,fontWeightStrong:L}=t;return Object.assign(Object.assign({},$E),{closeBorderRadius:y,heightTiny:w,heightSmall:E,heightMedium:R,heightLarge:P,borderRadius:y,opacityDisabled:f,fontSizeTiny:x,fontSizeSmall:C,fontSizeMedium:S,fontSizeLarge:T,fontWeightStrong:L,textColorCheckable:e,textColorHoverCheckable:e,textColorPressedCheckable:e,textColorChecked:c,colorCheckable:"#0000",colorHoverCheckable:_,colorPressedCheckable:I,colorChecked:o,colorCheckedHover:n,colorCheckedPressed:r,border:`1px solid ${d}`,textColor:e,color:u,colorBordered:"#0000",closeIconColor:m,closeIconColorHover:h,closeIconColorPressed:p,closeColorHover:v,closeColorPressed:b,borderPrimary:`1px solid ${Ye(o,{alpha:.3})}`,textColorPrimary:o,colorPrimary:Ye(o,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:Zn(o,{lightness:.7}),closeIconColorHoverPrimary:Zn(o,{lightness:.7}),closeIconColorPressedPrimary:Zn(o,{lightness:.7}),closeColorHoverPrimary:Ye(o,{alpha:.16}),closeColorPressedPrimary:Ye(o,{alpha:.12}),borderInfo:`1px solid ${Ye(i,{alpha:.3})}`,textColorInfo:i,colorInfo:Ye(i,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:Zn(i,{alpha:.7}),closeIconColorHoverInfo:Zn(i,{alpha:.7}),closeIconColorPressedInfo:Zn(i,{alpha:.7}),closeColorHoverInfo:Ye(i,{alpha:.16}),closeColorPressedInfo:Ye(i,{alpha:.12}),borderSuccess:`1px solid ${Ye(s,{alpha:.3})}`,textColorSuccess:s,colorSuccess:Ye(s,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:Zn(s,{alpha:.7}),closeIconColorHoverSuccess:Zn(s,{alpha:.7}),closeIconColorPressedSuccess:Zn(s,{alpha:.7}),closeColorHoverSuccess:Ye(s,{alpha:.16}),closeColorPressedSuccess:Ye(s,{alpha:.12}),borderWarning:`1px solid ${Ye(a,{alpha:.3})}`,textColorWarning:a,colorWarning:Ye(a,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:Zn(a,{alpha:.7}),closeIconColorHoverWarning:Zn(a,{alpha:.7}),closeIconColorPressedWarning:Zn(a,{alpha:.7}),closeColorHoverWarning:Ye(a,{alpha:.16}),closeColorPressedWarning:Ye(a,{alpha:.11}),borderError:`1px solid ${Ye(l,{alpha:.3})}`,textColorError:l,colorError:Ye(l,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:Zn(l,{alpha:.7}),closeIconColorHoverError:Zn(l,{alpha:.7}),closeIconColorPressedError:Zn(l,{alpha:.7}),closeColorHoverError:Ye(l,{alpha:.16}),closeColorPressedError:Ye(l,{alpha:.12})})}};function PU(t){const{textColor2:e,primaryColorHover:n,primaryColorPressed:r,primaryColor:o,infoColor:i,successColor:s,warningColor:a,errorColor:l,baseColor:c,borderColor:d,opacityDisabled:u,tagColor:f,closeIconColor:m,closeIconColorHover:h,closeIconColorPressed:p,borderRadiusSmall:v,fontSizeMini:b,fontSizeTiny:y,fontSizeSmall:x,fontSizeMedium:C,heightMini:S,heightTiny:T,heightSmall:w,heightMedium:E,closeColorHover:R,closeColorPressed:P,buttonColor2Hover:_,buttonColor2Pressed:I,fontWeightStrong:L}=t;return Object.assign(Object.assign({},$E),{closeBorderRadius:v,heightTiny:S,heightSmall:T,heightMedium:w,heightLarge:E,borderRadius:v,opacityDisabled:u,fontSizeTiny:b,fontSizeSmall:y,fontSizeMedium:x,fontSizeLarge:C,fontWeightStrong:L,textColorCheckable:e,textColorHoverCheckable:e,textColorPressedCheckable:e,textColorChecked:c,colorCheckable:"#0000",colorHoverCheckable:_,colorPressedCheckable:I,colorChecked:o,colorCheckedHover:n,colorCheckedPressed:r,border:`1px solid ${d}`,textColor:e,color:f,colorBordered:"rgb(250, 250, 252)",closeIconColor:m,closeIconColorHover:h,closeIconColorPressed:p,closeColorHover:R,closeColorPressed:P,borderPrimary:`1px solid ${Ye(o,{alpha:.3})}`,textColorPrimary:o,colorPrimary:Ye(o,{alpha:.12}),colorBorderedPrimary:Ye(o,{alpha:.1}),closeIconColorPrimary:o,closeIconColorHoverPrimary:o,closeIconColorPressedPrimary:o,closeColorHoverPrimary:Ye(o,{alpha:.12}),closeColorPressedPrimary:Ye(o,{alpha:.18}),borderInfo:`1px solid ${Ye(i,{alpha:.3})}`,textColorInfo:i,colorInfo:Ye(i,{alpha:.12}),colorBorderedInfo:Ye(i,{alpha:.1}),closeIconColorInfo:i,closeIconColorHoverInfo:i,closeIconColorPressedInfo:i,closeColorHoverInfo:Ye(i,{alpha:.12}),closeColorPressedInfo:Ye(i,{alpha:.18}),borderSuccess:`1px solid ${Ye(s,{alpha:.3})}`,textColorSuccess:s,colorSuccess:Ye(s,{alpha:.12}),colorBorderedSuccess:Ye(s,{alpha:.1}),closeIconColorSuccess:s,closeIconColorHoverSuccess:s,closeIconColorPressedSuccess:s,closeColorHoverSuccess:Ye(s,{alpha:.12}),closeColorPressedSuccess:Ye(s,{alpha:.18}),borderWarning:`1px solid ${Ye(a,{alpha:.35})}`,textColorWarning:a,colorWarning:Ye(a,{alpha:.15}),colorBorderedWarning:Ye(a,{alpha:.12}),closeIconColorWarning:a,closeIconColorHoverWarning:a,closeIconColorPressedWarning:a,closeColorHoverWarning:Ye(a,{alpha:.12}),closeColorPressedWarning:Ye(a,{alpha:.18}),borderError:`1px solid ${Ye(l,{alpha:.23})}`,textColorError:l,colorError:Ye(l,{alpha:.1}),colorBorderedError:Ye(l,{alpha:.08}),closeIconColorError:l,closeIconColorHoverError:l,closeIconColorPressedError:l,closeColorHoverError:Ye(l,{alpha:.12}),closeColorPressedError:Ye(l,{alpha:.18})})}const ME={name:"Tag",common:lt,self:PU},BE={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},AU=k("tag",`
 --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[M("strong",`
 font-weight: var(--n-font-weight-strong);
 `),F("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),F("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),F("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),F("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),M("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[F("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),F("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),M("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),M("icon, avatar",[M("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),M("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),M("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[wt("disabled",[O("&:hover","background-color: var(--n-color-hover-checkable);",[wt("checked","color: var(--n-text-color-hover-checkable);")]),O("&:active","background-color: var(--n-color-pressed-checkable);",[wt("checked","color: var(--n-text-color-pressed-checkable);")])]),M("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[wt("disabled",[O("&:hover","background-color: var(--n-color-checked-hover);"),O("&:active","background-color: var(--n-color-checked-pressed);")])])])]),zE=Object.assign(Object.assign(Object.assign({},ke.props),BE),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),NE="n-tag",Vc=ce({name:"Tag",props:zE,slots:Object,setup(t){const e=z(null),{mergedBorderedRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:o,mergedRtlRef:i}=Ge(t),s=ke("Tag","-tag",AU,ME,t,r);ft(NE,{roundRef:Se(t,"round")});function a(){if(!t.disabled&&t.checkable){const{checked:m,onCheckedChange:h,onUpdateChecked:p,"onUpdate:checked":v}=t;p&&p(!m),v&&v(!m),h&&h(!m)}}function l(m){if(t.triggerClickOnClose||m.stopPropagation(),!t.disabled){const{onClose:h}=t;h&&we(h,m)}}const c={setTextContent(m){const{value:h}=e;h&&(h.textContent=m)}},d=rn("Tag",i,r),u=A(()=>{const{type:m,size:h,color:{color:p,textColor:v}={}}=t,{common:{cubicBezierEaseInOut:b},self:{padding:y,closeMargin:x,borderRadius:C,opacityDisabled:S,textColorCheckable:T,textColorHoverCheckable:w,textColorPressedCheckable:E,textColorChecked:R,colorCheckable:P,colorHoverCheckable:_,colorPressedCheckable:I,colorChecked:L,colorCheckedHover:N,colorCheckedPressed:H,closeBorderRadius:G,fontWeightStrong:W,[Ae("colorBordered",m)]:J,[Ae("closeSize",h)]:ne,[Ae("closeIconSize",h)]:D,[Ae("fontSize",h)]:B,[Ae("height",h)]:j,[Ae("color",m)]:$,[Ae("textColor",m)]:V,[Ae("border",m)]:X,[Ae("closeIconColor",m)]:Z,[Ae("closeIconColorHover",m)]:q,[Ae("closeIconColorPressed",m)]:ue,[Ae("closeColorHover",m)]:K,[Ae("closeColorPressed",m)]:he}}=s.value,Ie=Un(x);return{"--n-font-weight-strong":W,"--n-avatar-size-override":`calc(${j} - 8px)`,"--n-bezier":b,"--n-border-radius":C,"--n-border":X,"--n-close-icon-size":D,"--n-close-color-pressed":he,"--n-close-color-hover":K,"--n-close-border-radius":G,"--n-close-icon-color":Z,"--n-close-icon-color-hover":q,"--n-close-icon-color-pressed":ue,"--n-close-icon-color-disabled":Z,"--n-close-margin-top":Ie.top,"--n-close-margin-right":Ie.right,"--n-close-margin-bottom":Ie.bottom,"--n-close-margin-left":Ie.left,"--n-close-size":ne,"--n-color":p||(n.value?J:$),"--n-color-checkable":P,"--n-color-checked":L,"--n-color-checked-hover":N,"--n-color-checked-pressed":H,"--n-color-hover-checkable":_,"--n-color-pressed-checkable":I,"--n-font-size":B,"--n-height":j,"--n-opacity-disabled":S,"--n-padding":y,"--n-text-color":v||V,"--n-text-color-checkable":T,"--n-text-color-checked":R,"--n-text-color-hover-checkable":w,"--n-text-color-pressed-checkable":E}}),f=o?ot("tag",A(()=>{let m="";const{type:h,size:p,color:{color:v,textColor:b}={}}=t;return m+=h[0],m+=p[0],v&&(m+=`a${Ea(v)}`),b&&(m+=`b${Ea(b)}`),n.value&&(m+="c"),m}),u,t):void 0;return Object.assign(Object.assign({},c),{rtlEnabled:d,mergedClsPrefix:r,contentRef:e,mergedBordered:n,handleClick:a,handleCloseClick:l,cssVars:o?void 0:u,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender})},render(){var t,e;const{mergedClsPrefix:n,rtlEnabled:r,closable:o,color:{borderColor:i}={},round:s,onRender:a,$slots:l}=this;a==null||a();const c=Lt(l.avatar,u=>u&&g("div",{class:`${n}-tag__avatar`},u)),d=Lt(l.icon,u=>u&&g("div",{class:`${n}-tag__icon`},u));return g("div",{class:[`${n}-tag`,this.themeClass,{[`${n}-tag--rtl`]:r,[`${n}-tag--strong`]:this.strong,[`${n}-tag--disabled`]:this.disabled,[`${n}-tag--checkable`]:this.checkable,[`${n}-tag--checked`]:this.checkable&&this.checked,[`${n}-tag--round`]:s,[`${n}-tag--avatar`]:c,[`${n}-tag--icon`]:d,[`${n}-tag--closable`]:o}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},d||c,g("span",{class:`${n}-tag__content`,ref:"contentRef"},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t)),!this.checkable&&o?g(ns,{clsPrefix:n,class:`${n}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:s,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?g("div",{class:`${n}-tag__border`,style:{borderColor:i}}):null)}}),UE=ce({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(t,{slots:e}){return()=>{const{clsPrefix:n}=t;return g(Qo,{clsPrefix:n,class:`${n}-base-suffix`,strokeWidth:24,scale:.85,show:t.loading},{default:()=>t.showArrow?g(pp,{clsPrefix:n,show:t.showClear,onClear:t.onClear},{placeholder:()=>g(yt,{clsPrefix:n,class:`${n}-base-suffix__arrow`},{default:()=>Et(e.default,()=>[g(pE,null)])})}):null})}}}),HE={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},y0={name:"InternalSelection",common:st,peers:{Popover:Va},self(t){const{borderRadius:e,textColor2:n,textColorDisabled:r,inputColor:o,inputColorDisabled:i,primaryColor:s,primaryColorHover:a,warningColor:l,warningColorHover:c,errorColor:d,errorColorHover:u,iconColor:f,iconColorDisabled:m,clearColor:h,clearColorHover:p,clearColorPressed:v,placeholderColor:b,placeholderColorDisabled:y,fontSizeTiny:x,fontSizeSmall:C,fontSizeMedium:S,fontSizeLarge:T,heightTiny:w,heightSmall:E,heightMedium:R,heightLarge:P,fontWeight:_}=t;return Object.assign(Object.assign({},HE),{fontWeight:_,fontSizeTiny:x,fontSizeSmall:C,fontSizeMedium:S,fontSizeLarge:T,heightTiny:w,heightSmall:E,heightMedium:R,heightLarge:P,borderRadius:e,textColor:n,textColorDisabled:r,placeholderColor:b,placeholderColorDisabled:y,color:o,colorDisabled:i,colorActive:Ye(s,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${a}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${a}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${Ye(s,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${Ye(s,{alpha:.4})}`,caretColor:s,arrowColor:f,arrowColorDisabled:m,loadingColor:s,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${Ye(l,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${Ye(l,{alpha:.4})}`,colorActiveWarning:Ye(l,{alpha:.1}),caretColorWarning:l,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${u}`,borderActiveError:`1px solid ${d}`,borderFocusError:`1px solid ${u}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${Ye(d,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${Ye(d,{alpha:.4})}`,colorActiveError:Ye(d,{alpha:.1}),caretColorError:d,clearColor:h,clearColorHover:p,clearColorPressed:v})}};function IU(t){const{borderRadius:e,textColor2:n,textColorDisabled:r,inputColor:o,inputColorDisabled:i,primaryColor:s,primaryColorHover:a,warningColor:l,warningColorHover:c,errorColor:d,errorColorHover:u,borderColor:f,iconColor:m,iconColorDisabled:h,clearColor:p,clearColorHover:v,clearColorPressed:b,placeholderColor:y,placeholderColorDisabled:x,fontSizeTiny:C,fontSizeSmall:S,fontSizeMedium:T,fontSizeLarge:w,heightTiny:E,heightSmall:R,heightMedium:P,heightLarge:_,fontWeight:I}=t;return Object.assign(Object.assign({},HE),{fontSizeTiny:C,fontSizeSmall:S,fontSizeMedium:T,fontSizeLarge:w,heightTiny:E,heightSmall:R,heightMedium:P,heightLarge:_,borderRadius:e,fontWeight:I,textColor:n,textColorDisabled:r,placeholderColor:y,placeholderColorDisabled:x,color:o,colorDisabled:i,colorActive:o,border:`1px solid ${f}`,borderHover:`1px solid ${a}`,borderActive:`1px solid ${s}`,borderFocus:`1px solid ${a}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${Ye(s,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${Ye(s,{alpha:.2})}`,caretColor:s,arrowColor:m,arrowColorDisabled:h,loadingColor:s,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${Ye(l,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${Ye(l,{alpha:.2})}`,colorActiveWarning:o,caretColorWarning:l,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${u}`,borderActiveError:`1px solid ${d}`,borderFocusError:`1px solid ${u}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${Ye(d,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${Ye(d,{alpha:.2})}`,colorActiveError:o,caretColorError:d,clearColor:p,clearColorHover:v,clearColorPressed:b})}const Eh={name:"InternalSelection",common:lt,peers:{Popover:Ha},self:IU},_U=O([k("base-selection",`
 --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);
 --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[k("base-loading",`
 color: var(--n-loading-color);
 `),k("base-selection-tags","min-height: var(--n-height);"),F("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),F("state-border",`
 z-index: 1;
 border-color: #0000;
 `),k("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[F("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),k("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[F("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),k("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[F("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),k("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),k("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[k("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[F("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),F("render-label",`
 color: var(--n-text-color);
 `)]),wt("disabled",[O("&:hover",[F("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),M("focus",[F("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),M("active",[F("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),k("base-selection-label","background-color: var(--n-color-active);"),k("base-selection-tags","background-color: var(--n-color-active);")])]),M("disabled","cursor: not-allowed;",[F("arrow",`
 color: var(--n-arrow-color-disabled);
 `),k("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[k("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),F("render-label",`
 color: var(--n-text-color-disabled);
 `)]),k("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),k("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),k("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[F("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),F("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(t=>M(`${t}-status`,[F("state-border",`border: var(--n-border-${t});`),wt("disabled",[O("&:hover",[F("state-border",`
 box-shadow: var(--n-box-shadow-hover-${t});
 border: var(--n-border-hover-${t});
 `)]),M("active",[F("state-border",`
 box-shadow: var(--n-box-shadow-active-${t});
 border: var(--n-border-active-${t});
 `),k("base-selection-label",`background-color: var(--n-color-active-${t});`),k("base-selection-tags",`background-color: var(--n-color-active-${t});`)]),M("focus",[F("state-border",`
 box-shadow: var(--n-box-shadow-focus-${t});
 border: var(--n-border-focus-${t});
 `)])])]))]),k("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),k("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[O("&:last-child","padding-right: 0;"),k("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[F("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),x0=ce({name:"InternalSelection",props:Object.assign(Object.assign({},ke.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=Ge(t),r=rn("InternalSelection",n,e),o=z(null),i=z(null),s=z(null),a=z(null),l=z(null),c=z(null),d=z(null),u=z(null),f=z(null),m=z(null),h=z(!1),p=z(!1),v=z(!1),b=ke("InternalSelection","-internal-selection",_U,Eh,t,Se(t,"clsPrefix")),y=A(()=>t.clearable&&!t.disabled&&(v.value||t.active)),x=A(()=>t.selectedOption?t.renderTag?t.renderTag({option:t.selectedOption,handleClose:()=>{}}):t.renderLabel?t.renderLabel(t.selectedOption,!0):dn(t.selectedOption[t.labelField],t.selectedOption,!0):t.placeholder),C=A(()=>{const ie=t.selectedOption;if(ie)return ie[t.labelField]}),S=A(()=>t.multiple?!!(Array.isArray(t.selectedOptions)&&t.selectedOptions.length):t.selectedOption!==null);function T(){var ie;const{value:ge}=o;if(ge){const{value:Le}=i;Le&&(Le.style.width=`${ge.offsetWidth}px`,t.maxTagCount!=="responsive"&&((ie=f.value)===null||ie===void 0||ie.sync({showAllItemsBeforeCalculate:!1})))}}function w(){const{value:ie}=m;ie&&(ie.style.display="none")}function E(){const{value:ie}=m;ie&&(ie.style.display="inline-block")}gt(Se(t,"active"),ie=>{ie||w()}),gt(Se(t,"pattern"),()=>{t.multiple&&$t(T)});function R(ie){const{onFocus:ge}=t;ge&&ge(ie)}function P(ie){const{onBlur:ge}=t;ge&&ge(ie)}function _(ie){const{onDeleteOption:ge}=t;ge&&ge(ie)}function I(ie){const{onClear:ge}=t;ge&&ge(ie)}function L(ie){const{onPatternInput:ge}=t;ge&&ge(ie)}function N(ie){var ge;(!ie.relatedTarget||!(!((ge=s.value)===null||ge===void 0)&&ge.contains(ie.relatedTarget)))&&R(ie)}function H(ie){var ge;!((ge=s.value)===null||ge===void 0)&&ge.contains(ie.relatedTarget)||P(ie)}function G(ie){I(ie)}function W(){v.value=!0}function J(){v.value=!1}function ne(ie){!t.active||!t.filterable||ie.target!==i.value&&ie.preventDefault()}function D(ie){_(ie)}const B=z(!1);function j(ie){if(ie.key==="Backspace"&&!B.value&&!t.pattern.length){const{selectedOptions:ge}=t;ge!=null&&ge.length&&D(ge[ge.length-1])}}let $=null;function V(ie){const{value:ge}=o;if(ge){const Le=ie.target.value;ge.textContent=Le,T()}t.ignoreComposition&&B.value?$=ie:L(ie)}function X(){B.value=!0}function Z(){B.value=!1,t.ignoreComposition&&L($),$=null}function q(ie){var ge;p.value=!0,(ge=t.onPatternFocus)===null||ge===void 0||ge.call(t,ie)}function ue(ie){var ge;p.value=!1,(ge=t.onPatternBlur)===null||ge===void 0||ge.call(t,ie)}function K(){var ie,ge;if(t.filterable)p.value=!1,(ie=c.value)===null||ie===void 0||ie.blur(),(ge=i.value)===null||ge===void 0||ge.blur();else if(t.multiple){const{value:Le}=a;Le==null||Le.blur()}else{const{value:Le}=l;Le==null||Le.blur()}}function he(){var ie,ge,Le;t.filterable?(p.value=!1,(ie=c.value)===null||ie===void 0||ie.focus()):t.multiple?(ge=a.value)===null||ge===void 0||ge.focus():(Le=l.value)===null||Le===void 0||Le.focus()}function Ie(){const{value:ie}=i;ie&&(E(),ie.focus())}function Q(){const{value:ie}=i;ie&&ie.blur()}function Y(ie){const{value:ge}=d;ge&&ge.setTextContent(`+${ie}`)}function re(){const{value:ie}=u;return ie}function be(){return i.value}let Ce=null;function le(){Ce!==null&&window.clearTimeout(Ce)}function de(){t.active||(le(),Ce=window.setTimeout(()=>{S.value&&(h.value=!0)},100))}function fe(){le()}function te(ie){ie||(le(),h.value=!1)}gt(S,ie=>{ie||(h.value=!1)}),Gt(()=>{Xt(()=>{const ie=c.value;ie&&(t.disabled?ie.removeAttribute("tabindex"):ie.tabIndex=p.value?-1:0)})}),bh(s,t.onResize);const{inlineThemeDisabled:ae}=t,Ee=A(()=>{const{size:ie}=t,{common:{cubicBezierEaseInOut:ge},self:{fontWeight:Le,borderRadius:xe,color:We,placeholderColor:at,textColor:bt,paddingSingle:dt,paddingMultiple:Ct,caretColor:Tt,colorDisabled:Qe,textColorDisabled:rt,placeholderColorDisabled:oe,colorActive:ee,boxShadowFocus:Pe,boxShadowActive:Ne,boxShadowHover:Ue,border:pe,borderFocus:$e,borderHover:me,borderActive:Oe,arrowColor:Ze,arrowColorDisabled:tt,loadingColor:Re,colorActiveWarning:He,boxShadowFocusWarning:ve,boxShadowActiveWarning:Be,boxShadowHoverWarning:Ke,borderWarning:ct,borderFocusWarning:mt,borderHoverWarning:ye,borderActiveWarning:Me,colorActiveError:Je,boxShadowFocusError:Te,boxShadowActiveError:ze,boxShadowHoverError:Xe,borderError:it,borderFocusError:ut,borderHoverError:Nt,borderActiveError:Rn,clearColor:En,clearColorHover:yr,clearColorPressed:Ir,clearSize:Wn,arrowSize:tn,[Ae("height",ie)]:_e,[Ae("fontSize",ie)]:et}}=b.value,nt=Un(dt),jt=Un(Ct);return{"--n-bezier":ge,"--n-border":pe,"--n-border-active":Oe,"--n-border-focus":$e,"--n-border-hover":me,"--n-border-radius":xe,"--n-box-shadow-active":Ne,"--n-box-shadow-focus":Pe,"--n-box-shadow-hover":Ue,"--n-caret-color":Tt,"--n-color":We,"--n-color-active":ee,"--n-color-disabled":Qe,"--n-font-size":et,"--n-height":_e,"--n-padding-single-top":nt.top,"--n-padding-multiple-top":jt.top,"--n-padding-single-right":nt.right,"--n-padding-multiple-right":jt.right,"--n-padding-single-left":nt.left,"--n-padding-multiple-left":jt.left,"--n-padding-single-bottom":nt.bottom,"--n-padding-multiple-bottom":jt.bottom,"--n-placeholder-color":at,"--n-placeholder-color-disabled":oe,"--n-text-color":bt,"--n-text-color-disabled":rt,"--n-arrow-color":Ze,"--n-arrow-color-disabled":tt,"--n-loading-color":Re,"--n-color-active-warning":He,"--n-box-shadow-focus-warning":ve,"--n-box-shadow-active-warning":Be,"--n-box-shadow-hover-warning":Ke,"--n-border-warning":ct,"--n-border-focus-warning":mt,"--n-border-hover-warning":ye,"--n-border-active-warning":Me,"--n-color-active-error":Je,"--n-box-shadow-focus-error":Te,"--n-box-shadow-active-error":ze,"--n-box-shadow-hover-error":Xe,"--n-border-error":it,"--n-border-focus-error":ut,"--n-border-hover-error":Nt,"--n-border-active-error":Rn,"--n-clear-size":Wn,"--n-clear-color":En,"--n-clear-color-hover":yr,"--n-clear-color-pressed":Ir,"--n-arrow-size":tn,"--n-font-weight":Le}}),se=ae?ot("internal-selection",A(()=>t.size[0]),Ee,t):void 0;return{mergedTheme:b,mergedClearable:y,mergedClsPrefix:e,rtlEnabled:r,patternInputFocused:p,filterablePlaceholder:x,label:C,selected:S,showTagsPanel:h,isComposing:B,counterRef:d,counterWrapperRef:u,patternInputMirrorRef:o,patternInputRef:i,selfRef:s,multipleElRef:a,singleElRef:l,patternInputWrapperRef:c,overflowRef:f,inputTagElRef:m,handleMouseDown:ne,handleFocusin:N,handleClear:G,handleMouseEnter:W,handleMouseLeave:J,handleDeleteOption:D,handlePatternKeyDown:j,handlePatternInputInput:V,handlePatternInputBlur:ue,handlePatternInputFocus:q,handleMouseEnterCounter:de,handleMouseLeaveCounter:fe,handleFocusout:H,handleCompositionEnd:Z,handleCompositionStart:X,onPopoverUpdateShow:te,focus:he,focusInput:Ie,blur:K,blurInput:Q,updateCounter:Y,getCounter:re,getTail:be,renderLabel:t.renderLabel,cssVars:ae?void 0:Ee,themeClass:se==null?void 0:se.themeClass,onRender:se==null?void 0:se.onRender}},render(){const{status:t,multiple:e,size:n,disabled:r,filterable:o,maxTagCount:i,bordered:s,clsPrefix:a,ellipsisTagPopoverProps:l,onRender:c,renderTag:d,renderLabel:u}=this;c==null||c();const f=i==="responsive",m=typeof i=="number",h=f||m,p=g(ap,null,{default:()=>g(UE,{clsPrefix:a,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var b,y;return(y=(b=this.$slots).arrow)===null||y===void 0?void 0:y.call(b)}})});let v;if(e){const{labelField:b}=this,y=L=>g("div",{class:`${a}-base-selection-tag-wrapper`,key:L.value},d?d({option:L,handleClose:()=>{this.handleDeleteOption(L)}}):g(Vc,{size:n,closable:!L.disabled,disabled:r,onClose:()=>{this.handleDeleteOption(L)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>u?u(L,!0):dn(L[b],L,!0)})),x=()=>(m?this.selectedOptions.slice(0,i):this.selectedOptions).map(y),C=o?g("div",{class:`${a}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},g("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:r,value:this.pattern,autofocus:this.autofocus,class:`${a}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),g("span",{ref:"patternInputMirrorRef",class:`${a}-base-selection-input-tag__mirror`},this.pattern)):null,S=f?()=>g("div",{class:`${a}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},g(Vc,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:r})):void 0;let T;if(m){const L=this.selectedOptions.length-i;L>0&&(T=g("div",{class:`${a}-base-selection-tag-wrapper`,key:"__counter__"},g(Vc,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:r},{default:()=>`+${L}`})))}const w=f?o?g(ip,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:x,counter:S,tail:()=>C}):g(ip,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:x,counter:S}):m&&T?x().concat(T):x(),E=h?()=>g("div",{class:`${a}-base-selection-popover`},f?x():this.selectedOptions.map(y)):void 0,R=h?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},l):null,_=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?g("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`},g("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)):null,I=o?g("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-tags`},w,f?null:C,p):g("div",{ref:"multipleElRef",class:`${a}-base-selection-tags`,tabindex:r?void 0:0},w,p);v=g(Vt,null,h?g(ja,Object.assign({},R,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>I,default:E}):I,_)}else if(o){const b=this.pattern||this.isComposing,y=this.active?!b:!this.selected,x=this.active?!1:this.selected;v=g("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-label`,title:this.patternInputFocused?void 0:Ll(this.label)},g("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${a}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:r,disabled:r,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),x?g("div",{class:`${a}-base-selection-label__render-label ${a}-base-selection-overlay`,key:"input"},g("div",{class:`${a}-base-selection-overlay__wrapper`},d?d({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):dn(this.label,this.selectedOption,!0))):null,y?g("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},g("div",{class:`${a}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,p)}else v=g("div",{ref:"singleElRef",class:`${a}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?g("div",{class:`${a}-base-selection-input`,title:Ll(this.label),key:"input"},g("div",{class:`${a}-base-selection-input__content`},d?d({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):dn(this.label,this.selectedOption,!0))):g("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},g("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)),p);return g("div",{ref:"selfRef",class:[`${a}-base-selection`,this.rtlEnabled&&`${a}-base-selection--rtl`,this.themeClass,t&&`${a}-base-selection--${t}-status`,{[`${a}-base-selection--active`]:this.active,[`${a}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${a}-base-selection--disabled`]:this.disabled,[`${a}-base-selection--multiple`]:this.multiple,[`${a}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},v,s?g("div",{class:`${a}-base-selection__border`}):null,s?g("div",{class:`${a}-base-selection__state-border`}):null)}}),Kx=ce({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(t){const e=z(null),n=z(t.value),r=z(t.value),o=z("up"),i=z(!1),s=A(()=>i.value?`${t.clsPrefix}-base-slot-machine-current-number--${o.value}-scroll`:null),a=A(()=>i.value?`${t.clsPrefix}-base-slot-machine-old-number--${o.value}-scroll`:null);gt(Se(t,"value"),(d,u)=>{n.value=u,r.value=d,$t(l)});function l(){const d=t.newOriginalNumber,u=t.oldOriginalNumber;u===void 0||d===void 0||(d>u?c("up"):u>d&&c("down"))}function c(d){o.value=d,i.value=!1,$t(()=>{var u;(u=e.value)===null||u===void 0||u.offsetWidth,i.value=!0})}return()=>{const{clsPrefix:d}=t;return g("span",{ref:e,class:`${d}-base-slot-machine-number`},n.value!==null?g("span",{class:[`${d}-base-slot-machine-old-number ${d}-base-slot-machine-old-number--top`,a.value]},n.value):null,g("span",{class:[`${d}-base-slot-machine-current-number`,s.value]},g("span",{ref:"numberWrapper",class:[`${d}-base-slot-machine-current-number__inner`,typeof t.value!="number"&&`${d}-base-slot-machine-current-number__inner--not-number`]},r.value)),n.value!==null?g("span",{class:[`${d}-base-slot-machine-old-number ${d}-base-slot-machine-old-number--bottom`,a.value]},n.value):null)}}}),{cubicBezierEaseInOut:ls}=no;function VE({duration:t=".2s",delay:e=".1s"}={}){return[O("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),O("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),O("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${t} ${ls},
 max-width ${t} ${ls} ${e},
 margin-left ${t} ${ls} ${e},
 margin-right ${t} ${ls} ${e};
 `),O("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${t} ${ls} ${e},
 max-width ${t} ${ls},
 margin-left ${t} ${ls},
 margin-right ${t} ${ls};
 `)]}const{cubicBezierEaseOut:Qa}=no;function LU({duration:t=".2s"}={}){return[O("&.fade-up-width-expand-transition-leave-active",{transition:`
 opacity ${t} ${Qa},
 max-width ${t} ${Qa},
 transform ${t} ${Qa}
 `}),O("&.fade-up-width-expand-transition-enter-active",{transition:`
 opacity ${t} ${Qa},
 max-width ${t} ${Qa},
 transform ${t} ${Qa}
 `}),O("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),O("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),O("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),O("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}const DU=O([O("@keyframes n-base-slot-machine-fade-up-in",`
 from {
 transform: translateY(60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),O("@keyframes n-base-slot-machine-fade-down-in",`
 from {
 transform: translateY(-60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),O("@keyframes n-base-slot-machine-fade-up-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(-60%);
 opacity: 0;
 }
 `),O("@keyframes n-base-slot-machine-fade-down-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(60%);
 opacity: 0;
 }
 `),k("base-slot-machine",`
 overflow: hidden;
 white-space: nowrap;
 display: inline-block;
 height: 18px;
 line-height: 18px;
 `,[k("base-slot-machine-number",`
 display: inline-block;
 position: relative;
 height: 18px;
 width: .6em;
 max-width: .6em;
 `,[LU({duration:".2s"}),VE({duration:".2s",delay:"0s"}),k("base-slot-machine-old-number",`
 display: inline-block;
 opacity: 0;
 position: absolute;
 left: 0;
 right: 0;
 `,[M("top",{transform:"translateY(-100%)"}),M("bottom",{transform:"translateY(100%)"}),M("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),M("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),k("base-slot-machine-current-number",`
 display: inline-block;
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 1;
 transform: translateY(0);
 width: .6em;
 `,[M("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),M("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),F("inner",`
 display: inline-block;
 position: absolute;
 right: 0;
 top: 0;
 width: .6em;
 `,[M("not-number",`
 right: unset;
 left: 0;
 `)])])])])]),OU=ce({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(t){xo("-base-slot-machine",DU,Se(t,"clsPrefix"));const e=z(),n=z(),r=A(()=>{if(typeof t.value=="string")return[];if(t.value<1)return[0];const o=[];let i=t.value;for(t.max!==void 0&&(i=Math.min(t.max,i));i>=1;)o.push(i%10),i/=10,i=Math.floor(i);return o.reverse(),o});return gt(Se(t,"value"),(o,i)=>{typeof o=="string"?(n.value=void 0,e.value=void 0):typeof i=="string"?(n.value=o,e.value=void 0):(n.value=o,e.value=i)}),()=>{const{value:o,clsPrefix:i}=t;return typeof o=="number"?g("span",{class:`${i}-base-slot-machine`},g(hh,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>r.value.map((s,a)=>g(Kx,{clsPrefix:i,key:r.value.length-a-1,oldOriginalNumber:e.value,newOriginalNumber:n.value,value:s}))}),g(Ai,{key:"+",width:!0},{default:()=>t.max!==void 0&&t.max<o?g(Kx,{clsPrefix:i,value:"+"}):null})):g("span",{class:`${i}-base-slot-machine`},o)}}}),$U=k("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),jE=ce({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(t){xo("-base-wave",$U,Se(t,"clsPrefix"));const e=z(null),n=z(!1);let r=null;return Qt(()=>{r!==null&&window.clearTimeout(r)}),{active:n,selfRef:e,play(){r!==null&&(window.clearTimeout(r),n.value=!1,r=null),$t(()=>{var o;(o=e.value)===null||o===void 0||o.offsetHeight,n.value=!0,r=window.setTimeout(()=>{n.value=!1,r=null},1e3)})}}},render(){const{clsPrefix:t}=this;return g("div",{ref:"selfRef","aria-hidden":!0,class:[`${t}-base-wave`,this.active&&`${t}-base-wave--active`]})}}),WE={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},FU={name:"Alert",common:st,self(t){const{lineHeight:e,borderRadius:n,fontWeightStrong:r,dividerColor:o,inputColor:i,textColor1:s,textColor2:a,closeColorHover:l,closeColorPressed:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,infoColorSuppl:m,successColorSuppl:h,warningColorSuppl:p,errorColorSuppl:v,fontSize:b}=t;return Object.assign(Object.assign({},WE),{fontSize:b,lineHeight:e,titleFontWeight:r,borderRadius:n,border:`1px solid ${o}`,color:i,titleTextColor:s,iconColor:a,contentTextColor:a,closeBorderRadius:n,closeColorHover:l,closeColorPressed:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,borderInfo:`1px solid ${Ye(m,{alpha:.35})}`,colorInfo:Ye(m,{alpha:.25}),titleTextColorInfo:s,iconColorInfo:m,contentTextColorInfo:a,closeColorHoverInfo:l,closeColorPressedInfo:c,closeIconColorInfo:d,closeIconColorHoverInfo:u,closeIconColorPressedInfo:f,borderSuccess:`1px solid ${Ye(h,{alpha:.35})}`,colorSuccess:Ye(h,{alpha:.25}),titleTextColorSuccess:s,iconColorSuccess:h,contentTextColorSuccess:a,closeColorHoverSuccess:l,closeColorPressedSuccess:c,closeIconColorSuccess:d,closeIconColorHoverSuccess:u,closeIconColorPressedSuccess:f,borderWarning:`1px solid ${Ye(p,{alpha:.35})}`,colorWarning:Ye(p,{alpha:.25}),titleTextColorWarning:s,iconColorWarning:p,contentTextColorWarning:a,closeColorHoverWarning:l,closeColorPressedWarning:c,closeIconColorWarning:d,closeIconColorHoverWarning:u,closeIconColorPressedWarning:f,borderError:`1px solid ${Ye(v,{alpha:.35})}`,colorError:Ye(v,{alpha:.25}),titleTextColorError:s,iconColorError:v,contentTextColorError:a,closeColorHoverError:l,closeColorPressedError:c,closeIconColorError:d,closeIconColorHoverError:u,closeIconColorPressedError:f})}};function MU(t){const{lineHeight:e,borderRadius:n,fontWeightStrong:r,baseColor:o,dividerColor:i,actionColor:s,textColor1:a,textColor2:l,closeColorHover:c,closeColorPressed:d,closeIconColor:u,closeIconColorHover:f,closeIconColorPressed:m,infoColor:h,successColor:p,warningColor:v,errorColor:b,fontSize:y}=t;return Object.assign(Object.assign({},WE),{fontSize:y,lineHeight:e,titleFontWeight:r,borderRadius:n,border:`1px solid ${i}`,color:s,titleTextColor:a,iconColor:l,contentTextColor:l,closeBorderRadius:n,closeColorHover:c,closeColorPressed:d,closeIconColor:u,closeIconColorHover:f,closeIconColorPressed:m,borderInfo:`1px solid ${vt(o,Ye(h,{alpha:.25}))}`,colorInfo:vt(o,Ye(h,{alpha:.08})),titleTextColorInfo:a,iconColorInfo:h,contentTextColorInfo:l,closeColorHoverInfo:c,closeColorPressedInfo:d,closeIconColorInfo:u,closeIconColorHoverInfo:f,closeIconColorPressedInfo:m,borderSuccess:`1px solid ${vt(o,Ye(p,{alpha:.25}))}`,colorSuccess:vt(o,Ye(p,{alpha:.08})),titleTextColorSuccess:a,iconColorSuccess:p,contentTextColorSuccess:l,closeColorHoverSuccess:c,closeColorPressedSuccess:d,closeIconColorSuccess:u,closeIconColorHoverSuccess:f,closeIconColorPressedSuccess:m,borderWarning:`1px solid ${vt(o,Ye(v,{alpha:.33}))}`,colorWarning:vt(o,Ye(v,{alpha:.08})),titleTextColorWarning:a,iconColorWarning:v,contentTextColorWarning:l,closeColorHoverWarning:c,closeColorPressedWarning:d,closeIconColorWarning:u,closeIconColorHoverWarning:f,closeIconColorPressedWarning:m,borderError:`1px solid ${vt(o,Ye(b,{alpha:.25}))}`,colorError:vt(o,Ye(b,{alpha:.08})),titleTextColorError:a,iconColorError:b,contentTextColorError:l,closeColorHoverError:c,closeColorPressedError:d,closeIconColorError:u,closeIconColorHoverError:f,closeIconColorPressedError:m})}const BU={common:lt,self:MU},{cubicBezierEaseInOut:ni,cubicBezierEaseOut:zU,cubicBezierEaseIn:NU}=no;function qi({overflow:t="hidden",duration:e=".3s",originalTransition:n="",leavingDelay:r="0s",foldPadding:o=!1,enterToProps:i=void 0,leaveToProps:s=void 0,reverse:a=!1}={}){const l=a?"leave":"enter",c=a?"enter":"leave";return[O(`&.fade-in-height-expand-transition-${c}-from,
 &.fade-in-height-expand-transition-${l}-to`,Object.assign(Object.assign({},i),{opacity:1})),O(`&.fade-in-height-expand-transition-${c}-to,
 &.fade-in-height-expand-transition-${l}-from`,Object.assign(Object.assign({},s),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:o?"0 !important":void 0,paddingBottom:o?"0 !important":void 0})),O(`&.fade-in-height-expand-transition-${c}-active`,`
 overflow: ${t};
 transition:
 max-height ${e} ${ni} ${r},
 opacity ${e} ${zU} ${r},
 margin-top ${e} ${ni} ${r},
 margin-bottom ${e} ${ni} ${r},
 padding-top ${e} ${ni} ${r},
 padding-bottom ${e} ${ni} ${r}
 ${n?`,${n}`:""}
 `),O(`&.fade-in-height-expand-transition-${l}-active`,`
 overflow: ${t};
 transition:
 max-height ${e} ${ni},
 opacity ${e} ${NU},
 margin-top ${e} ${ni},
 margin-bottom ${e} ${ni},
 padding-top ${e} ${ni},
 padding-bottom ${e} ${ni}
 ${n?`,${n}`:""}
 `)]}const UU=k("alert",`
 line-height: var(--n-line-height);
 border-radius: var(--n-border-radius);
 position: relative;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 text-align: start;
 word-break: break-word;
`,[F("border",`
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 transition: border-color .3s var(--n-bezier);
 border: var(--n-border);
 pointer-events: none;
 `),M("closable",[k("alert-body",[F("title",`
 padding-right: 24px;
 `)])]),F("icon",{color:"var(--n-icon-color)"}),k("alert-body",{padding:"var(--n-padding)"},[F("title",{color:"var(--n-title-text-color)"}),F("content",{color:"var(--n-content-text-color)"})]),qi({originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.9)"}}),F("icon",`
 position: absolute;
 left: 0;
 top: 0;
 align-items: center;
 justify-content: center;
 display: flex;
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 margin: var(--n-icon-margin);
 `),F("close",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 `),M("show-icon",[k("alert-body",{paddingLeft:"calc(var(--n-icon-margin-left) + var(--n-icon-size) + var(--n-icon-margin-right))"})]),M("right-adjust",[k("alert-body",{paddingRight:"calc(var(--n-close-size) + var(--n-padding) + 2px)"})]),k("alert-body",`
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 `,[F("title",`
 transition: color .3s var(--n-bezier);
 font-size: 16px;
 line-height: 19px;
 font-weight: var(--n-title-font-weight);
 `,[O("& +",[F("content",{marginTop:"9px"})])]),F("content",{transition:"color .3s var(--n-bezier)",fontSize:"var(--n-font-size)"})]),F("icon",{transition:"color .3s var(--n-bezier)"})]),KE=Object.assign(Object.assign({},ke.props),{title:String,showIcon:{type:Boolean,default:!0},type:{type:String,default:"default"},bordered:{type:Boolean,default:!0},closable:Boolean,onClose:Function,onAfterLeave:Function,onAfterHide:Function}),HU=ce({name:"Alert",inheritAttrs:!1,props:KE,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedBorderedRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=Ge(t),i=ke("Alert","-alert",UU,BU,t,e),s=rn("Alert",o,e),a=A(()=>{const{common:{cubicBezierEaseInOut:m},self:h}=i.value,{fontSize:p,borderRadius:v,titleFontWeight:b,lineHeight:y,iconSize:x,iconMargin:C,iconMarginRtl:S,closeIconSize:T,closeBorderRadius:w,closeSize:E,closeMargin:R,closeMarginRtl:P,padding:_}=h,{type:I}=t,{left:L,right:N}=Un(C);return{"--n-bezier":m,"--n-color":h[Ae("color",I)],"--n-close-icon-size":T,"--n-close-border-radius":w,"--n-close-color-hover":h[Ae("closeColorHover",I)],"--n-close-color-pressed":h[Ae("closeColorPressed",I)],"--n-close-icon-color":h[Ae("closeIconColor",I)],"--n-close-icon-color-hover":h[Ae("closeIconColorHover",I)],"--n-close-icon-color-pressed":h[Ae("closeIconColorPressed",I)],"--n-icon-color":h[Ae("iconColor",I)],"--n-border":h[Ae("border",I)],"--n-title-text-color":h[Ae("titleTextColor",I)],"--n-content-text-color":h[Ae("contentTextColor",I)],"--n-line-height":y,"--n-border-radius":v,"--n-font-size":p,"--n-title-font-weight":b,"--n-icon-size":x,"--n-icon-margin":C,"--n-icon-margin-rtl":S,"--n-close-size":E,"--n-close-margin":R,"--n-close-margin-rtl":P,"--n-padding":_,"--n-icon-margin-left":L,"--n-icon-margin-right":N}}),l=r?ot("alert",A(()=>t.type[0]),a,t):void 0,c=z(!0),d=()=>{const{onAfterLeave:m,onAfterHide:h}=t;m&&m(),h&&h()};return{rtlEnabled:s,mergedClsPrefix:e,mergedBordered:n,visible:c,handleCloseClick:()=>{var m;Promise.resolve((m=t.onClose)===null||m===void 0?void 0:m.call(t)).then(h=>{h!==!1&&(c.value=!1)})},handleAfterLeave:()=>{d()},mergedTheme:i,cssVars:r?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),g(Ai,{onAfterLeave:this.handleAfterLeave},{default:()=>{const{mergedClsPrefix:e,$slots:n}=this,r={class:[`${e}-alert`,this.themeClass,this.closable&&`${e}-alert--closable`,this.showIcon&&`${e}-alert--show-icon`,!this.title&&this.closable&&`${e}-alert--right-adjust`,this.rtlEnabled&&`${e}-alert--rtl`],style:this.cssVars,role:"alert"};return this.visible?g("div",Object.assign({},sr(this.$attrs,r)),this.closable&&g(ns,{clsPrefix:e,class:`${e}-alert__close`,onClick:this.handleCloseClick}),this.bordered&&g("div",{class:`${e}-alert__border`}),this.showIcon&&g("div",{class:`${e}-alert__icon`,"aria-hidden":"true"},Et(n.icon,()=>[g(yt,{clsPrefix:e},{default:()=>{switch(this.type){case"success":return g(Na,null);case"info":return g(Us,null);case"warning":return g(qs,null);case"error":return g(za,null);default:return null}}})])),g("div",{class:[`${e}-alert-body`,this.mergedBordered&&`${e}-alert-body--bordered`]},Lt(n.header,o=>{const i=o||this.title;return i?g("div",{class:`${e}-alert-body__title`},i):null}),n.default&&g("div",{class:`${e}-alert-body__content`},n))):null}})}}),VU={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"};function GE(t){const{borderRadius:e,railColor:n,primaryColor:r,primaryColorHover:o,primaryColorPressed:i,textColor2:s}=t;return Object.assign(Object.assign({},VU),{borderRadius:e,railColor:n,railColorActive:r,linkColor:Ye(r,{alpha:.15}),linkTextColor:s,linkTextColorHover:o,linkTextColorPressed:i,linkTextColorActive:r})}const jU={common:lt,self:GE},WU={name:"Anchor",common:st,self:GE},Qu="n-anchor",qE={title:String,href:String},KU=ce({name:"AnchorLink",props:qE,slots:Object,setup(t,{slots:e}){const n=z(null),r=Ve(Qu),o=Se(t,"href"),i=pt(()=>o.value&&o.value===r.activeHref.value);QM(Qu,"collectedLinkHrefs",o),ZM(Qu,"titleEls",()=>n.value),gt(i,a=>{a&&n.value&&r.updateBarPosition(n.value)});function s(){t.href!==void 0&&r.setActiveHref(t.href)}return()=>{var a;const{value:l}=r.mergedClsPrefix;return g("div",{class:[`${l}-anchor-link`,i.value&&`${l}-anchor-link--active`]},g("a",{ref:n,class:[`${l}-anchor-link__title`],href:t.href,title:Ll(t.title),onClick:s},{default:()=>Et(e.title,()=>[t.title])}),(a=e.default)===null||a===void 0?void 0:a.call(e))}}});function GU(t,e){const{top:n,height:r}=t.getBoundingClientRect(),o=e instanceof HTMLElement?e.getBoundingClientRect().top:0;return{top:n-o,height:r}}const C0={type:{type:String,default:"rail"},showRail:{type:Boolean,default:!0},showBackground:{type:Boolean,default:!0},bound:{type:Number,default:12},internalScrollable:Boolean,ignoreGap:Boolean,offsetTarget:[String,Object,Function]},qU=Tr(C0),YU=ce({name:"BaseAnchor",props:Object.assign(Object.assign({},C0),{mergedClsPrefix:{type:String,required:!0}}),setup(t){const e=[],n=[],r=z(null),o=z(null),i=z(null),s=z(null),a=A(()=>t.type==="block"),l=A(()=>!a.value&&t.showRail);function c(){const{value:h}=i,{value:p}=o;h&&(h.style.transition="none"),p&&(p.style.transition="none"),n&&n.forEach(v=>{v.style.transition="none"}),$t(()=>{const{value:v}=i,{value:b}=o;v&&(v.offsetWidth,v.style.transition=""),b&&(b.offsetWidth,b.style.transition=""),n&&n.forEach(y=>{y.offsetWidth,y.style.transition=""})})}function d(h,p=!0){const{value:v}=i,{value:b}=o,{value:y}=s;if(!y||!v)return;p||(v.style.transition="none",b&&(b.style.transition="none"));const{offsetHeight:x,offsetWidth:C}=h,{top:S,left:T}=h.getBoundingClientRect(),{top:w,left:E}=y.getBoundingClientRect(),R=S-w,P=T-E;v.style.top=`${R}px`,v.style.height=`${x}px`,b&&(b.style.top=`${R}px`,b.style.height=`${x}px`,b.style.maxWidth=`${C+P}px`),v.offsetHeight,b&&b.offsetHeight,p||(v.style.transition="",b&&(b.style.transition=""))}const u=Hc(()=>{m(!0)},128);function f(h,p=!0){const v=/^#([^#]+)$/.exec(h);if(!v)return;const b=document.getElementById(v[1]);b&&(r.value=h,b.scrollIntoView(),p||c(),u())}function m(h=!0){var p;const v=[],b=Hv((p=t.offsetTarget)!==null&&p!==void 0?p:document);e.forEach(T=>{const w=/#([^#]+)$/.exec(T);if(!w)return;const E=document.getElementById(w[1]);if(E&&b){const{top:R,height:P}=GU(E,b);v.push({top:R,height:P,href:T})}}),v.sort((T,w)=>T.top>w.top?1:(T.top===w.top&&T.height<w.height,-1));const y=r.value,{bound:x,ignoreGap:C}=t,S=v.reduce((T,w)=>w.top+w.height<0?C?w:T:w.top<=x?T===null?w:w.top===T.top?w.href===y?w:T:w.top>T.top?w:T:T,null);h||c(),S?r.value=S.href:r.value=null}return ft(Qu,{activeHref:r,mergedClsPrefix:Se(t,"mergedClsPrefix"),updateBarPosition:d,setActiveHref:f,collectedLinkHrefs:e,titleEls:n}),Gt(()=>{document.addEventListener("scroll",u,!0),f(window.location.hash),m(!1)}),ph(()=>{f(window.location.hash),m(!1)}),Qt(()=>{document.removeEventListener("scroll",u,!0)}),gt(r,h=>{if(h===null){const{value:p}=o;p&&!a.value&&(p.style.maxWidth="0")}}),{selfRef:s,barRef:i,slotRef:o,setActiveHref:f,activeHref:r,isBlockType:a,mergedShowRail:l}},render(){var t;const{mergedClsPrefix:e,mergedShowRail:n,isBlockType:r,$slots:o}=this,i=g("div",{class:[`${e}-anchor`,r&&`${e}-anchor--block`,n&&`${e}-anchor--show-rail`],ref:"selfRef"},n&&this.showBackground?g("div",{ref:"slotRef",class:`${e}-anchor-link-background`}):null,n?g("div",{class:`${e}-anchor-rail`},g("div",{ref:"barRef",class:[`${e}-anchor-rail__bar`,this.activeHref!==null&&`${e}-anchor-rail__bar--active`]})):null,(t=o.default)===null||t===void 0?void 0:t.call(o));return this.internalScrollable?g(Sn,null,{default:()=>i}):i}}),XU=k("anchor",`
 position: relative;
`,[wt("block",`
 padding-left: var(--n-rail-width);
 `,[k("anchor-link",[O("+, >",[k("anchor-link",`
 margin-top: .5em;
 `)])]),k("anchor-link-background",`
 max-width: 0;
 border-top-right-radius: 10.5px;
 border-bottom-right-radius: 10.5px;
 `),wt("show-rail",[O(">",[k("anchor-link","padding-left: 0;")])])]),M("block",[k("anchor-link",`
 margin-bottom: 4px;
 padding: 2px 8px;
 transition: background-color .3s var(--n-bezier);
 background-color: transparent;
 border-radius: var(--n-link-border-radius);
 `,[M("active",`
 background-color: var(--n-link-color);
 `)])]),k("anchor-link-background",`
 position: absolute;
 left: calc(var(--n-rail-width) / 2);
 width: 100%;
 background-color: var(--n-link-color);
 transition:
 top .15s var(--n-bezier),
 max-width .15s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),k("anchor-rail",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 width: var(--n-rail-width);
 border-radius: calc(var(--n-rail-width) / 2);
 overflow: hidden;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[F("bar",`
 position: absolute;
 left: 0;
 width: var(--n-rail-width);
 height: 21px;
 background-color: #0000;
 transition: 
 top .15s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[M("active",{backgroundColor:"var(--n-rail-color-active)"})])]),k("anchor-link",`
 padding: var(--n-link-padding);
 position: relative;
 line-height: 1.5;
 font-size: var(--n-link-font-size);
 min-height: 1.5em;
 display: flex;
 flex-direction: column;
 `,[M("active",[O(">",[F("title",`
 color: var(--n-link-text-color-active);
 `)])]),F("title",`
 outline: none;
 max-width: 100%;
 text-decoration: none;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 cursor: pointer;
 display: inline-block;
 padding-right: 16px;
 transition: color .3s var(--n-bezier);
 color: var(--n-link-text-color);
 `,[O("&:hover, &:focus",`
 color: var(--n-link-text-color-hover);
 `),O("&:active",`
 color: var(--n-link-text-color-pressed);
 `)])])]),YE=Object.assign(Object.assign(Object.assign(Object.assign({},ke.props),{affix:Boolean}),Th),C0),QU=ce({name:"Anchor",props:YE,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ge(t),o=ke("Anchor","-anchor",XU,jU,t,n),i=z(null),s=A(()=>{const{self:{railColor:l,linkColor:c,railColorActive:d,linkTextColor:u,linkTextColorHover:f,linkTextColorPressed:m,linkTextColorActive:h,linkFontSize:p,railWidth:v,linkPadding:b,borderRadius:y},common:{cubicBezierEaseInOut:x}}=o.value;return{"--n-link-border-radius":y,"--n-link-color":c,"--n-link-font-size":p,"--n-link-text-color":u,"--n-link-text-color-hover":f,"--n-link-text-color-active":h,"--n-link-text-color-pressed":m,"--n-link-padding":b,"--n-bezier":x,"--n-rail-color":l,"--n-rail-color-active":d,"--n-rail-width":v}}),a=r?ot("anchor",void 0,s,t):void 0;return{scrollTo(l){var c;(c=i.value)===null||c===void 0||c.setActiveHref(l)},renderAnchor:()=>(a==null||a.onRender(),g(YU,Object.assign({ref:i,style:r?void 0:s.value,class:a==null?void 0:a.themeClass.value},Gn(t,qU),{mergedClsPrefix:n.value}),e))}},render(){return this.affix?g(gE,Object.assign({},Gn(this,g8)),{default:this.renderAnchor}):this.renderAnchor()}}),ZU=jr&&"chrome"in window;jr&&navigator.userAgent.includes("Firefox");const XE=jr&&navigator.userAgent.includes("Safari")&&!ZU,QE={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},Co={name:"Input",common:st,self(t){const{textColor2:e,textColor3:n,textColorDisabled:r,primaryColor:o,primaryColorHover:i,inputColor:s,inputColorDisabled:a,warningColor:l,warningColorHover:c,errorColor:d,errorColorHover:u,borderRadius:f,lineHeight:m,fontSizeTiny:h,fontSizeSmall:p,fontSizeMedium:v,fontSizeLarge:b,heightTiny:y,heightSmall:x,heightMedium:C,heightLarge:S,clearColor:T,clearColorHover:w,clearColorPressed:E,placeholderColor:R,placeholderColorDisabled:P,iconColor:_,iconColorDisabled:I,iconColorHover:L,iconColorPressed:N,fontWeight:H}=t;return Object.assign(Object.assign({},QE),{fontWeight:H,countTextColorDisabled:r,countTextColor:n,heightTiny:y,heightSmall:x,heightMedium:C,heightLarge:S,fontSizeTiny:h,fontSizeSmall:p,fontSizeMedium:v,fontSizeLarge:b,lineHeight:m,lineHeightTextarea:m,borderRadius:f,iconSize:"16px",groupLabelColor:s,textColor:e,textColorDisabled:r,textDecorationColor:e,groupLabelTextColor:e,caretColor:o,placeholderColor:R,placeholderColorDisabled:P,color:s,colorDisabled:a,colorFocus:Ye(o,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${i}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${i}`,boxShadowFocus:`0 0 8px 0 ${Ye(o,{alpha:.3})}`,loadingColor:o,loadingColorWarning:l,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${c}`,colorFocusWarning:Ye(l,{alpha:.1}),borderFocusWarning:`1px solid ${c}`,boxShadowFocusWarning:`0 0 8px 0 ${Ye(l,{alpha:.3})}`,caretColorWarning:l,loadingColorError:d,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${u}`,colorFocusError:Ye(d,{alpha:.1}),borderFocusError:`1px solid ${u}`,boxShadowFocusError:`0 0 8px 0 ${Ye(d,{alpha:.3})}`,caretColorError:d,clearColor:T,clearColorHover:w,clearColorPressed:E,iconColor:_,iconColorDisabled:I,iconColorHover:L,iconColorPressed:N,suffixTextColor:e})}};function JU(t){const{textColor2:e,textColor3:n,textColorDisabled:r,primaryColor:o,primaryColorHover:i,inputColor:s,inputColorDisabled:a,borderColor:l,warningColor:c,warningColorHover:d,errorColor:u,errorColorHover:f,borderRadius:m,lineHeight:h,fontSizeTiny:p,fontSizeSmall:v,fontSizeMedium:b,fontSizeLarge:y,heightTiny:x,heightSmall:C,heightMedium:S,heightLarge:T,actionColor:w,clearColor:E,clearColorHover:R,clearColorPressed:P,placeholderColor:_,placeholderColorDisabled:I,iconColor:L,iconColorDisabled:N,iconColorHover:H,iconColorPressed:G,fontWeight:W}=t;return Object.assign(Object.assign({},QE),{fontWeight:W,countTextColorDisabled:r,countTextColor:n,heightTiny:x,heightSmall:C,heightMedium:S,heightLarge:T,fontSizeTiny:p,fontSizeSmall:v,fontSizeMedium:b,fontSizeLarge:y,lineHeight:h,lineHeightTextarea:h,borderRadius:m,iconSize:"16px",groupLabelColor:w,groupLabelTextColor:e,textColor:e,textColorDisabled:r,textDecorationColor:e,caretColor:o,placeholderColor:_,placeholderColorDisabled:I,color:s,colorDisabled:a,colorFocus:s,groupLabelBorder:`1px solid ${l}`,border:`1px solid ${l}`,borderHover:`1px solid ${i}`,borderDisabled:`1px solid ${l}`,borderFocus:`1px solid ${i}`,boxShadowFocus:`0 0 0 2px ${Ye(o,{alpha:.2})}`,loadingColor:o,loadingColorWarning:c,borderWarning:`1px solid ${c}`,borderHoverWarning:`1px solid ${d}`,colorFocusWarning:s,borderFocusWarning:`1px solid ${d}`,boxShadowFocusWarning:`0 0 0 2px ${Ye(c,{alpha:.2})}`,caretColorWarning:c,loadingColorError:u,borderError:`1px solid ${u}`,borderHoverError:`1px solid ${f}`,colorFocusError:s,borderFocusError:`1px solid ${f}`,boxShadowFocusError:`0 0 0 2px ${Ye(u,{alpha:.2})}`,caretColorError:u,clearColor:E,clearColorHover:R,clearColorPressed:P,iconColor:L,iconColorDisabled:N,iconColorHover:H,iconColorPressed:G,suffixTextColor:e})}const io={name:"Input",common:lt,self:JU},ZE="n-input",eH=k("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[F("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),F("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),F("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[O("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),O("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),O("&:-webkit-autofill ~",[F("placeholder","display: none;")])]),M("round",[wt("textarea","border-radius: calc(var(--n-height) / 2);")]),F("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[O("span",`
 width: 100%;
 display: inline-block;
 `)]),M("textarea",[F("placeholder","overflow: visible;")]),wt("autosize","width: 100%;"),M("autosize",[F("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),k("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),F("input-mirror",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre;
 pointer-events: none;
 `),F("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[O("&[type=password]::-ms-reveal","display: none;"),O("+",[F("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),wt("textarea",[F("placeholder","white-space: nowrap;")]),F("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `),M("textarea","width: 100%;",[k("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),M("resizable",[k("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),F("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 scroll-padding-block-end: var(--n-padding-vertical);
 `),F("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),M("pair",[F("input-el, placeholder","text-align: center;"),F("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[k("icon",`
 color: var(--n-icon-color);
 `),k("base-icon",`
 color: var(--n-icon-color);
 `)])]),M("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[F("border","border: var(--n-border-disabled);"),F("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),F("placeholder","color: var(--n-placeholder-color-disabled);"),F("separator","color: var(--n-text-color-disabled);",[k("icon",`
 color: var(--n-icon-color-disabled);
 `),k("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),k("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),F("suffix, prefix","color: var(--n-text-color-disabled);",[k("icon",`
 color: var(--n-icon-color-disabled);
 `),k("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),wt("disabled",[F("eye",`
 color: var(--n-icon-color);
 cursor: pointer;
 `,[O("&:hover",`
 color: var(--n-icon-color-hover);
 `),O("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),O("&:hover",[F("state-border","border: var(--n-border-hover);")]),M("focus","background-color: var(--n-color-focus);",[F("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),F("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),F("state-border",`
 border-color: #0000;
 z-index: 1;
 `),F("prefix","margin-right: 4px;"),F("suffix",`
 margin-left: 4px;
 `),F("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[k("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),k("base-clear",`
 font-size: var(--n-icon-size);
 `,[F("placeholder",[k("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),O(">",[k("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),k("base-icon",`
 font-size: var(--n-icon-size);
 `)]),k("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(t=>M(`${t}-status`,[wt("disabled",[k("base-loading",`
 color: var(--n-loading-color-${t})
 `),F("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${t});
 `),F("state-border",`
 border: var(--n-border-${t});
 `),O("&:hover",[F("state-border",`
 border: var(--n-border-hover-${t});
 `)]),O("&:focus",`
 background-color: var(--n-color-focus-${t});
 `,[F("state-border",`
 box-shadow: var(--n-box-shadow-focus-${t});
 border: var(--n-border-focus-${t});
 `)]),M("focus",`
 background-color: var(--n-color-focus-${t});
 `,[F("state-border",`
 box-shadow: var(--n-box-shadow-focus-${t});
 border: var(--n-border-focus-${t});
 `)])])]))]),tH=k("input",[M("disabled",[F("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]);function nH(t){let e=0;for(const n of t)e++;return e}function fu(t){return t===""||t==null}function rH(t){const e=z(null);function n(){const{value:i}=t;if(!(i!=null&&i.focus)){o();return}const{selectionStart:s,selectionEnd:a,value:l}=i;if(s==null||a==null){o();return}e.value={start:s,end:a,beforeText:l.slice(0,s),afterText:l.slice(a)}}function r(){var i;const{value:s}=e,{value:a}=t;if(!s||!a)return;const{value:l}=a,{start:c,beforeText:d,afterText:u}=s;let f=l.length;if(l.endsWith(u))f=l.length-u.length;else if(l.startsWith(d))f=d.length;else{const m=d[c-1],h=l.indexOf(m,c-1);h!==-1&&(f=h+1)}(i=a.setSelectionRange)===null||i===void 0||i.call(a,f,f)}function o(){e.value=null}return gt(t,o),{recordCursor:n,restoreCursor:r}}const Gx=ce({name:"InputWordCount",setup(t,{slots:e}){const{mergedValueRef:n,maxlengthRef:r,mergedClsPrefixRef:o,countGraphemesRef:i}=Ve(ZE),s=A(()=>{const{value:a}=n;return a===null||Array.isArray(a)?0:(i.value||nH)(a)});return()=>{const{value:a}=r,{value:l}=n;return g("span",{class:`${o.value}-input-word-count`},Vn(e.default,{value:l===null||Array.isArray(l)?"":l},()=>[a===void 0?s.value:`${s.value} / ${a}`]))}}}),JE=Object.assign(Object.assign({},ke.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:[Function,Array],onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:{type:Boolean,default:!0},showPasswordToggle:Boolean}),tr=ce({name:"Input",props:JE,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedBorderedRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=Ge(t),i=ke("Input","-input",eH,io,t,e);XE&&xo("-input-safari",tH,e);const s=z(null),a=z(null),l=z(null),c=z(null),d=z(null),u=z(null),f=z(null),m=rH(f),h=z(null),{localeRef:p}=Mn("Input"),v=z(t.defaultValue),b=Se(t,"value"),y=Ft(b,v),x=jn(t),{mergedSizeRef:C,mergedDisabledRef:S,mergedStatusRef:T}=x,w=z(!1),E=z(!1),R=z(!1),P=z(!1);let _=null;const I=A(()=>{const{placeholder:ye,pair:Me}=t;return Me?Array.isArray(ye)?ye:ye===void 0?["",""]:[ye,ye]:ye===void 0?[p.value.placeholder]:[ye]}),L=A(()=>{const{value:ye}=R,{value:Me}=y,{value:Je}=I;return!ye&&(fu(Me)||Array.isArray(Me)&&fu(Me[0]))&&Je[0]}),N=A(()=>{const{value:ye}=R,{value:Me}=y,{value:Je}=I;return!ye&&Je[1]&&(fu(Me)||Array.isArray(Me)&&fu(Me[1]))}),H=pt(()=>t.internalForceFocus||w.value),G=pt(()=>{if(S.value||t.readonly||!t.clearable||!H.value&&!E.value)return!1;const{value:ye}=y,{value:Me}=H;return t.pair?!!(Array.isArray(ye)&&(ye[0]||ye[1]))&&(E.value||Me):!!ye&&(E.value||Me)}),W=A(()=>{const{showPasswordOn:ye}=t;if(ye)return ye;if(t.showPasswordToggle)return"click"}),J=z(!1),ne=A(()=>{const{textDecoration:ye}=t;return ye?Array.isArray(ye)?ye.map(Me=>({textDecoration:Me})):[{textDecoration:ye}]:["",""]}),D=z(void 0),B=()=>{var ye,Me;if(t.type==="textarea"){const{autosize:Je}=t;if(Je&&(D.value=(Me=(ye=h.value)===null||ye===void 0?void 0:ye.$el)===null||Me===void 0?void 0:Me.offsetWidth),!a.value||typeof Je=="boolean")return;const{paddingTop:Te,paddingBottom:ze,lineHeight:Xe}=window.getComputedStyle(a.value),it=Number(Te.slice(0,-2)),ut=Number(ze.slice(0,-2)),Nt=Number(Xe.slice(0,-2)),{value:Rn}=l;if(!Rn)return;if(Je.minRows){const En=Math.max(Je.minRows,1),yr=`${it+ut+Nt*En}px`;Rn.style.minHeight=yr}if(Je.maxRows){const En=`${it+ut+Nt*Je.maxRows}px`;Rn.style.maxHeight=En}}},j=A(()=>{const{maxlength:ye}=t;return ye===void 0?void 0:Number(ye)});Gt(()=>{const{value:ye}=y;Array.isArray(ye)||Oe(ye)});const $=Zi().proxy;function V(ye,Me){const{onUpdateValue:Je,"onUpdate:value":Te,onInput:ze}=t,{nTriggerFormInput:Xe}=x;Je&&we(Je,ye,Me),Te&&we(Te,ye,Me),ze&&we(ze,ye,Me),v.value=ye,Xe()}function X(ye,Me){const{onChange:Je}=t,{nTriggerFormChange:Te}=x;Je&&we(Je,ye,Me),v.value=ye,Te()}function Z(ye){const{onBlur:Me}=t,{nTriggerFormBlur:Je}=x;Me&&we(Me,ye),Je()}function q(ye){const{onFocus:Me}=t,{nTriggerFormFocus:Je}=x;Me&&we(Me,ye),Je()}function ue(ye){const{onClear:Me}=t;Me&&we(Me,ye)}function K(ye){const{onInputBlur:Me}=t;Me&&we(Me,ye)}function he(ye){const{onInputFocus:Me}=t;Me&&we(Me,ye)}function Ie(){const{onDeactivate:ye}=t;ye&&we(ye)}function Q(){const{onActivate:ye}=t;ye&&we(ye)}function Y(ye){const{onClick:Me}=t;Me&&we(Me,ye)}function re(ye){const{onWrapperFocus:Me}=t;Me&&we(Me,ye)}function be(ye){const{onWrapperBlur:Me}=t;Me&&we(Me,ye)}function Ce(){R.value=!0}function le(ye){R.value=!1,ye.target===u.value?de(ye,1):de(ye,0)}function de(ye,Me=0,Je="input"){const Te=ye.target.value;if(Oe(Te),ye instanceof InputEvent&&!ye.isComposing&&(R.value=!1),t.type==="textarea"){const{value:Xe}=h;Xe&&Xe.syncUnifiedContainer()}if(_=Te,R.value)return;m.recordCursor();const ze=fe(Te);if(ze)if(!t.pair)Je==="input"?V(Te,{source:Me}):X(Te,{source:Me});else{let{value:Xe}=y;Array.isArray(Xe)?Xe=[Xe[0],Xe[1]]:Xe=["",""],Xe[Me]=Te,Je==="input"?V(Xe,{source:Me}):X(Xe,{source:Me})}$.$forceUpdate(),ze||$t(m.restoreCursor)}function fe(ye){const{countGraphemes:Me,maxlength:Je,minlength:Te}=t;if(Me){let Xe;if(Je!==void 0&&(Xe===void 0&&(Xe=Me(ye)),Xe>Number(Je))||Te!==void 0&&(Xe===void 0&&(Xe=Me(ye)),Xe<Number(Je)))return!1}const{allowInput:ze}=t;return typeof ze=="function"?ze(ye):!0}function te(ye){K(ye),ye.relatedTarget===s.value&&Ie(),ye.relatedTarget!==null&&(ye.relatedTarget===d.value||ye.relatedTarget===u.value||ye.relatedTarget===a.value)||(P.value=!1),ie(ye,"blur"),f.value=null}function ae(ye,Me){he(ye),w.value=!0,P.value=!0,Q(),ie(ye,"focus"),Me===0?f.value=d.value:Me===1?f.value=u.value:Me===2&&(f.value=a.value)}function Ee(ye){t.passivelyActivated&&(be(ye),ie(ye,"blur"))}function se(ye){t.passivelyActivated&&(w.value=!0,re(ye),ie(ye,"focus"))}function ie(ye,Me){ye.relatedTarget!==null&&(ye.relatedTarget===d.value||ye.relatedTarget===u.value||ye.relatedTarget===a.value||ye.relatedTarget===s.value)||(Me==="focus"?(q(ye),w.value=!0):Me==="blur"&&(Z(ye),w.value=!1))}function ge(ye,Me){de(ye,Me,"change")}function Le(ye){Y(ye)}function xe(ye){ue(ye),We()}function We(){t.pair?(V(["",""],{source:"clear"}),X(["",""],{source:"clear"})):(V("",{source:"clear"}),X("",{source:"clear"}))}function at(ye){const{onMousedown:Me}=t;Me&&Me(ye);const{tagName:Je}=ye.target;if(Je!=="INPUT"&&Je!=="TEXTAREA"){if(t.resizable){const{value:Te}=s;if(Te){const{left:ze,top:Xe,width:it,height:ut}=Te.getBoundingClientRect(),Nt=14;if(ze+it-Nt<ye.clientX&&ye.clientX<ze+it&&Xe+ut-Nt<ye.clientY&&ye.clientY<Xe+ut)return}}ye.preventDefault(),w.value||Pe()}}function bt(){var ye;E.value=!0,t.type==="textarea"&&((ye=h.value)===null||ye===void 0||ye.handleMouseEnterWrapper())}function dt(){var ye;E.value=!1,t.type==="textarea"&&((ye=h.value)===null||ye===void 0||ye.handleMouseLeaveWrapper())}function Ct(){S.value||W.value==="click"&&(J.value=!J.value)}function Tt(ye){if(S.value)return;ye.preventDefault();const Me=Te=>{Te.preventDefault(),It("mouseup",document,Me)};if(_t("mouseup",document,Me),W.value!=="mousedown")return;J.value=!0;const Je=()=>{J.value=!1,It("mouseup",document,Je)};_t("mouseup",document,Je)}function Qe(ye){t.onKeyup&&we(t.onKeyup,ye)}function rt(ye){switch(t.onKeydown&&we(t.onKeydown,ye),ye.key){case"Escape":ee();break;case"Enter":oe(ye);break}}function oe(ye){var Me,Je;if(t.passivelyActivated){const{value:Te}=P;if(Te){t.internalDeactivateOnEnter&&ee();return}ye.preventDefault(),t.type==="textarea"?(Me=a.value)===null||Me===void 0||Me.focus():(Je=d.value)===null||Je===void 0||Je.focus()}}function ee(){t.passivelyActivated&&(P.value=!1,$t(()=>{var ye;(ye=s.value)===null||ye===void 0||ye.focus()}))}function Pe(){var ye,Me,Je;S.value||(t.passivelyActivated?(ye=s.value)===null||ye===void 0||ye.focus():((Me=a.value)===null||Me===void 0||Me.focus(),(Je=d.value)===null||Je===void 0||Je.focus()))}function Ne(){var ye;!((ye=s.value)===null||ye===void 0)&&ye.contains(document.activeElement)&&document.activeElement.blur()}function Ue(){var ye,Me;(ye=a.value)===null||ye===void 0||ye.select(),(Me=d.value)===null||Me===void 0||Me.select()}function pe(){S.value||(a.value?a.value.focus():d.value&&d.value.focus())}function $e(){const{value:ye}=s;ye!=null&&ye.contains(document.activeElement)&&ye!==document.activeElement&&ee()}function me(ye){if(t.type==="textarea"){const{value:Me}=a;Me==null||Me.scrollTo(ye)}else{const{value:Me}=d;Me==null||Me.scrollTo(ye)}}function Oe(ye){const{type:Me,pair:Je,autosize:Te}=t;if(!Je&&Te)if(Me==="textarea"){const{value:ze}=l;ze&&(ze.textContent=`${ye??""}\r
`)}else{const{value:ze}=c;ze&&(ye?ze.textContent=ye:ze.innerHTML="&nbsp;")}}function Ze(){B()}const tt=z({top:"0"});function Re(ye){var Me;const{scrollTop:Je}=ye.target;tt.value.top=`${-Je}px`,(Me=h.value)===null||Me===void 0||Me.syncUnifiedContainer()}let He=null;Xt(()=>{const{autosize:ye,type:Me}=t;ye&&Me==="textarea"?He=gt(y,Je=>{!Array.isArray(Je)&&Je!==_&&Oe(Je)}):He==null||He()});let ve=null;Xt(()=>{t.type==="textarea"?ve=gt(y,ye=>{var Me;!Array.isArray(ye)&&ye!==_&&((Me=h.value)===null||Me===void 0||Me.syncUnifiedContainer())}):ve==null||ve()}),ft(ZE,{mergedValueRef:y,maxlengthRef:j,mergedClsPrefixRef:e,countGraphemesRef:Se(t,"countGraphemes")});const Be={wrapperElRef:s,inputElRef:d,textareaElRef:a,isCompositing:R,clear:We,focus:Pe,blur:Ne,select:Ue,deactivate:$e,activate:pe,scrollTo:me},Ke=rn("Input",o,e),ct=A(()=>{const{value:ye}=C,{common:{cubicBezierEaseInOut:Me},self:{color:Je,borderRadius:Te,textColor:ze,caretColor:Xe,caretColorError:it,caretColorWarning:ut,textDecorationColor:Nt,border:Rn,borderDisabled:En,borderHover:yr,borderFocus:Ir,placeholderColor:Wn,placeholderColorDisabled:tn,lineHeightTextarea:_e,colorDisabled:et,colorFocus:nt,textColorDisabled:jt,boxShadowFocus:Qn,iconSize:un,colorFocusWarning:So,boxShadowFocusWarning:No,borderWarning:lo,borderFocusWarning:nc,borderHoverWarning:rc,colorFocusError:oc,boxShadowFocusError:ic,borderError:sc,borderFocusError:ac,borderHoverError:eg,clearSize:dO,clearColor:uO,clearColorHover:fO,clearColorPressed:hO,iconColor:gO,iconColorDisabled:mO,suffixTextColor:pO,countTextColor:vO,countTextColorDisabled:bO,iconColorHover:yO,iconColorPressed:xO,loadingColor:CO,loadingColorError:SO,loadingColorWarning:wO,fontWeight:RO,[Ae("padding",ye)]:TO,[Ae("fontSize",ye)]:EO,[Ae("height",ye)]:kO}}=i.value,{left:PO,right:AO}=Un(TO);return{"--n-bezier":Me,"--n-count-text-color":vO,"--n-count-text-color-disabled":bO,"--n-color":Je,"--n-font-size":EO,"--n-font-weight":RO,"--n-border-radius":Te,"--n-height":kO,"--n-padding-left":PO,"--n-padding-right":AO,"--n-text-color":ze,"--n-caret-color":Xe,"--n-text-decoration-color":Nt,"--n-border":Rn,"--n-border-disabled":En,"--n-border-hover":yr,"--n-border-focus":Ir,"--n-placeholder-color":Wn,"--n-placeholder-color-disabled":tn,"--n-icon-size":un,"--n-line-height-textarea":_e,"--n-color-disabled":et,"--n-color-focus":nt,"--n-text-color-disabled":jt,"--n-box-shadow-focus":Qn,"--n-loading-color":CO,"--n-caret-color-warning":ut,"--n-color-focus-warning":So,"--n-box-shadow-focus-warning":No,"--n-border-warning":lo,"--n-border-focus-warning":nc,"--n-border-hover-warning":rc,"--n-loading-color-warning":wO,"--n-caret-color-error":it,"--n-color-focus-error":oc,"--n-box-shadow-focus-error":ic,"--n-border-error":sc,"--n-border-focus-error":ac,"--n-border-hover-error":eg,"--n-loading-color-error":SO,"--n-clear-color":uO,"--n-clear-size":dO,"--n-clear-color-hover":fO,"--n-clear-color-pressed":hO,"--n-icon-color":gO,"--n-icon-color-hover":yO,"--n-icon-color-pressed":xO,"--n-icon-color-disabled":mO,"--n-suffix-text-color":pO}}),mt=r?ot("input",A(()=>{const{value:ye}=C;return ye[0]}),ct,t):void 0;return Object.assign(Object.assign({},Be),{wrapperElRef:s,inputElRef:d,inputMirrorElRef:c,inputEl2Ref:u,textareaElRef:a,textareaMirrorElRef:l,textareaScrollbarInstRef:h,rtlEnabled:Ke,uncontrolledValue:v,mergedValue:y,passwordVisible:J,mergedPlaceholder:I,showPlaceholder1:L,showPlaceholder2:N,mergedFocus:H,isComposing:R,activated:P,showClearButton:G,mergedSize:C,mergedDisabled:S,textDecorationStyle:ne,mergedClsPrefix:e,mergedBordered:n,mergedShowPasswordOn:W,placeholderStyle:tt,mergedStatus:T,textAreaScrollContainerWidth:D,handleTextAreaScroll:Re,handleCompositionStart:Ce,handleCompositionEnd:le,handleInput:de,handleInputBlur:te,handleInputFocus:ae,handleWrapperBlur:Ee,handleWrapperFocus:se,handleMouseEnter:bt,handleMouseLeave:dt,handleMouseDown:at,handleChange:ge,handleClick:Le,handleClear:xe,handlePasswordToggleClick:Ct,handlePasswordToggleMousedown:Tt,handleWrapperKeydown:rt,handleWrapperKeyup:Qe,handleTextAreaMirrorResize:Ze,getTextareaScrollContainer:()=>a.value,mergedTheme:i,cssVars:r?void 0:ct,themeClass:mt==null?void 0:mt.themeClass,onRender:mt==null?void 0:mt.onRender})},render(){var t,e;const{mergedClsPrefix:n,mergedStatus:r,themeClass:o,type:i,countGraphemes:s,onRender:a}=this,l=this.$slots;return a==null||a(),g("div",{ref:"wrapperElRef",class:[`${n}-input`,o,r&&`${n}-input--${r}-status`,{[`${n}-input--rtl`]:this.rtlEnabled,[`${n}-input--disabled`]:this.mergedDisabled,[`${n}-input--textarea`]:i==="textarea",[`${n}-input--resizable`]:this.resizable&&!this.autosize,[`${n}-input--autosize`]:this.autosize,[`${n}-input--round`]:this.round&&i!=="textarea",[`${n}-input--pair`]:this.pair,[`${n}-input--focus`]:this.mergedFocus,[`${n}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.handleWrapperKeyup,onKeydown:this.handleWrapperKeydown},g("div",{class:`${n}-input-wrapper`},Lt(l.prefix,c=>c&&g("div",{class:`${n}-input__prefix`},c)),i==="textarea"?g(Sn,{ref:"textareaScrollbarInstRef",class:`${n}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var c,d;const{textAreaScrollContainerWidth:u}=this,f={width:this.autosize&&u&&`${u}px`};return g(Vt,null,g("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${n}-input__textarea-el`,(c=this.inputProps)===null||c===void 0?void 0:c.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:s?void 0:this.maxlength,minlength:s?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(d=this.inputProps)===null||d===void 0?void 0:d.style,f],onBlur:this.handleInputBlur,onFocus:m=>{this.handleInputFocus(m,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?g("div",{class:`${n}-input__placeholder`,style:[this.placeholderStyle,f],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?g(Fr,{onResize:this.handleTextAreaMirrorResize},{default:()=>g("div",{ref:"textareaMirrorElRef",class:`${n}-input__textarea-mirror`,key:"mirror"})}):null)}}):g("div",{class:`${n}-input__input`},g("input",Object.assign({type:i==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":i},this.inputProps,{ref:"inputElRef",class:[`${n}-input__input-el`,(t=this.inputProps)===null||t===void 0?void 0:t.class],style:[this.textDecorationStyle[0],(e=this.inputProps)===null||e===void 0?void 0:e.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:s?void 0:this.maxlength,minlength:s?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:c=>{this.handleInputFocus(c,0)},onInput:c=>{this.handleInput(c,0)},onChange:c=>{this.handleChange(c,0)}})),this.showPlaceholder1?g("div",{class:`${n}-input__placeholder`},g("span",null,this.mergedPlaceholder[0])):null,this.autosize?g("div",{class:`${n}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"}," "):null),!this.pair&&Lt(l.suffix,c=>c||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?g("div",{class:`${n}-input__suffix`},[Lt(l["clear-icon-placeholder"],d=>(this.clearable||d)&&g(pp,{clsPrefix:n,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>d,icon:()=>{var u,f;return(f=(u=this.$slots)["clear-icon"])===null||f===void 0?void 0:f.call(u)}})),this.internalLoadingBeforeSuffix?null:c,this.loading!==void 0?g(UE,{clsPrefix:n,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?c:null,this.showCount&&this.type!=="textarea"?g(Gx,null,{default:d=>{var u;const{renderCount:f}=this;return f?f(d):(u=l.count)===null||u===void 0?void 0:u.call(l,d)}}):null,this.mergedShowPasswordOn&&this.type==="password"?g("div",{class:`${n}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?Et(l["password-visible-icon"],()=>[g(yt,{clsPrefix:n},{default:()=>g(bE,null)})]):Et(l["password-invisible-icon"],()=>[g(yt,{clsPrefix:n},{default:()=>g(w8,null)})])):null]):null)),this.pair?g("span",{class:`${n}-input__separator`},Et(l.separator,()=>[this.separator])):null,this.pair?g("div",{class:`${n}-input-wrapper`},g("div",{class:`${n}-input__input`},g("input",{ref:"inputEl2Ref",type:this.type,class:`${n}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:s?void 0:this.maxlength,minlength:s?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:c=>{this.handleInputFocus(c,1)},onInput:c=>{this.handleInput(c,1)},onChange:c=>{this.handleChange(c,1)}}),this.showPlaceholder2?g("div",{class:`${n}-input__placeholder`},g("span",null,this.mergedPlaceholder[1])):null),Lt(l.suffix,c=>(this.clearable||c)&&g("div",{class:`${n}-input__suffix`},[this.clearable&&g(pp,{clsPrefix:n,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var d;return(d=l["clear-icon"])===null||d===void 0?void 0:d.call(l)},placeholder:()=>{var d;return(d=l["clear-icon-placeholder"])===null||d===void 0?void 0:d.call(l)}}),c]))):null,this.mergedBordered?g("div",{class:`${n}-input__border`}):null,this.mergedBordered?g("div",{class:`${n}-input__state-border`}):null,this.showCount&&i==="textarea"?g(Gx,null,{default:c=>{var d;const{renderCount:u}=this;return u?u(c):(d=l.count)===null||d===void 0?void 0:d.call(l,c)}}):null)}}),oH=k("input-group",`
 display: inline-flex;
 width: 100%;
 flex-wrap: nowrap;
 vertical-align: bottom;
`,[O(">",[k("input",[O("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),O("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 margin-left: -1px!important;
 `)]),k("button",[O("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[F("state-border, border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)]),O("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[F("state-border, border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])]),O("*",[O("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[O(">",[k("input",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),k("base-selection",[k("base-selection-label",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),k("base-selection-tags",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),F("box-shadow, border, state-border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)])])]),O("&:not(:first-child)",`
 margin-left: -1px!important;
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[O(">",[k("input",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),k("base-selection",[k("base-selection-label",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),k("base-selection-tags",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),F("box-shadow, border, state-border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])])])])])]),ek={},tk=ce({name:"InputGroup",props:ek,setup(t){const{mergedClsPrefixRef:e}=Ge(t);return xo("-input-group",oH,e),{mergedClsPrefix:e}},render(){const{mergedClsPrefix:t}=this;return g("div",{class:`${t}-input-group`},this.$slots)}}),iH=k("input-group-label",`
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 box-sizing: border-box;
 padding: 0 12px;
 display: inline-block;
 border-radius: var(--n-border-radius);
 background-color: var(--n-group-label-color);
 color: var(--n-group-label-text-color);
 font-size: var(--n-font-size);
 line-height: var(--n-height);
 height: var(--n-height);
 flex-shrink: 0;
 white-space: nowrap;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[F("border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-group-label-border);
 transition: border-color .3s var(--n-bezier);
 `)]),nk=Object.assign(Object.assign({},ke.props),{size:{type:String,default:"medium"},bordered:{type:Boolean,default:void 0}}),sH=ce({name:"InputGroupLabel",props:nk,setup(t){const{mergedBorderedRef:e,mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ge(t),o=ke("Input","-input-group-label",iH,io,t,n),i=A(()=>{const{size:a}=t,{common:{cubicBezierEaseInOut:l},self:{groupLabelColor:c,borderRadius:d,groupLabelTextColor:u,lineHeight:f,groupLabelBorder:m,[Ae("fontSize",a)]:h,[Ae("height",a)]:p}}=o.value;return{"--n-bezier":l,"--n-group-label-color":c,"--n-group-label-border":m,"--n-border-radius":d,"--n-group-label-text-color":u,"--n-font-size":h,"--n-line-height":f,"--n-height":p}}),s=r?ot("input-group-label",A(()=>t.size[0]),i,t):void 0;return{mergedClsPrefix:n,mergedBordered:e,cssVars:r?void 0:i,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var t,e,n;const{mergedClsPrefix:r}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{class:[`${r}-input-group-label`,this.themeClass],style:this.cssVars},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e),this.mergedBordered?g("div",{class:`${r}-input-group-label__border`}):null)}});function Df(t){return t.type==="group"}function rk(t){return t.type==="ignored"}function _g(t,e){try{return!!(1+e.toString().toLowerCase().indexOf(t.trim().toLowerCase()))}catch{return!1}}function kh(t,e){return{getIsGroup:Df,getIgnored:rk,getKey(r){return Df(r)?r.name||r.key||"key-required":r[t]},getChildren(r){return r[e]}}}function aH(t,e,n,r){if(!e)return t;function o(i){if(!Array.isArray(i))return[];const s=[];for(const a of i)if(Df(a)){const l=o(a[r]);l.length&&s.push(Object.assign({},a,{[r]:l}))}else{if(rk(a))continue;e(n,a)&&s.push(a)}return s}return o(t)}function lH(t,e,n){const r=new Map;return t.forEach(o=>{Df(o)?o[n].forEach(i=>{r.set(i[e],i)}):r.set(o[e],o)}),r}function ok(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const cH={name:"AutoComplete",common:lt,peers:{InternalSelectMenu:Yl,Input:io},self:ok},dH={name:"AutoComplete",common:st,peers:{InternalSelectMenu:Fd,Input:Co},self:ok},uH=O([k("auto-complete",`
 z-index: auto;
 position: relative;
 display: inline-flex;
 width: 100%;
 `),k("auto-complete-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[ar({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]);function fH(t){return t.map(ik)}function ik(t){var e,n;return typeof t=="string"?{label:t,value:t}:t.type==="group"?{type:"group",label:(e=t.label)!==null&&e!==void 0?e:t.name,value:(n=t.value)!==null&&n!==void 0?n:t.name,key:t.key||t.name,children:t.children.map(o=>ik(o))}:t}const sk=Object.assign(Object.assign({},ke.props),{to:an.propTo,menuProps:Object,append:Boolean,bordered:{type:Boolean,default:void 0},clearable:{type:Boolean,default:void 0},defaultValue:{type:String,default:null},loading:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:String,placement:{type:String,default:"bottom-start"},value:String,blurAfterSelect:Boolean,clearAfterSelect:Boolean,getShow:Function,showEmpty:Boolean,inputProps:Object,renderOption:Function,renderLabel:Function,size:String,options:{type:Array,default:()=>[]},zIndex:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onSelect:[Function,Array],onBlur:[Function,Array],onFocus:[Function,Array],onInput:[Function,Array]}),hH=ce({name:"AutoComplete",props:sk,slots:Object,setup(t){const{mergedBorderedRef:e,namespaceRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:o}=Ge(t),i=jn(t),{mergedSizeRef:s,mergedDisabledRef:a,mergedStatusRef:l}=i,c=z(null),d=z(null),u=z(t.defaultValue),f=Se(t,"value"),m=Ft(f,u),h=z(!1),p=z(!1),v=ke("AutoComplete","-auto-complete",uH,cH,t,r),b=A(()=>fH(t.options)),y=A(()=>{const{getShow:V}=t;return V?V(m.value||""):!!m.value}),x=A(()=>y.value&&h.value&&(t.showEmpty?!0:!!b.value.length)),C=A(()=>Xr(b.value,kh("value","children")));function S(V){const{"onUpdate:value":X,onUpdateValue:Z,onInput:q}=t,{nTriggerFormInput:ue,nTriggerFormChange:K}=i;Z&&we(Z,V),X&&we(X,V),q&&we(q,V),u.value=V,ue(),K()}function T(V){const{onSelect:X}=t,{nTriggerFormInput:Z,nTriggerFormChange:q}=i;X&&we(X,V),Z(),q()}function w(V){const{onBlur:X}=t,{nTriggerFormBlur:Z}=i;X&&we(X,V),Z()}function E(V){const{onFocus:X}=t,{nTriggerFormFocus:Z}=i;X&&we(X,V),Z()}function R(){p.value=!0}function P(){window.setTimeout(()=>{p.value=!1},0)}function _(V){var X,Z,q;switch(V.key){case"Enter":if(!p.value){const ue=(X=d.value)===null||X===void 0?void 0:X.getPendingTmNode();ue&&(I(ue.rawNode),V.preventDefault())}break;case"ArrowDown":(Z=d.value)===null||Z===void 0||Z.next();break;case"ArrowUp":(q=d.value)===null||q===void 0||q.prev();break}}function I(V){(V==null?void 0:V.value)!==void 0&&(T(V.value),t.clearAfterSelect?S(null):V.label!==void 0&&S(t.append?`${m.value}${V.label}`:V.label),h.value=!1,t.blurAfterSelect&&ne())}function L(){S(null)}function N(V){h.value=!0,E(V)}function H(V){h.value=!1,w(V)}function G(V){h.value=!0,S(V)}function W(V){I(V.rawNode)}function J(V){var X;!((X=c.value)===null||X===void 0)&&X.contains(Jr(V))||(h.value=!1)}function ne(){var V,X;!((V=c.value)===null||V===void 0)&&V.contains(document.activeElement)&&((X=document.activeElement)===null||X===void 0||X.blur())}const D=A(()=>{const{common:{cubicBezierEaseInOut:V},self:{menuBoxShadow:X}}=v.value;return{"--n-menu-box-shadow":X,"--n-bezier":V}}),B=o?ot("auto-complete",void 0,D,t):void 0,j=z(null),$={focus:()=>{var V;(V=j.value)===null||V===void 0||V.focus()},blur:()=>{var V;(V=j.value)===null||V===void 0||V.blur()}};return{focus:$.focus,blur:$.blur,inputInstRef:j,uncontrolledValue:u,mergedValue:m,isMounted:br(),adjustedTo:an(t),menuInstRef:d,triggerElRef:c,treeMate:C,mergedSize:s,mergedDisabled:a,active:x,mergedStatus:l,handleClear:L,handleFocus:N,handleBlur:H,handleInput:G,handleToggle:W,handleClickOutsideMenu:J,handleCompositionStart:R,handleCompositionEnd:P,handleKeyDown:_,mergedTheme:v,cssVars:o?void 0:D,themeClass:B==null?void 0:B.themeClass,onRender:B==null?void 0:B.onRender,mergedBordered:e,namespace:n,mergedClsPrefix:r}},render(){const{mergedClsPrefix:t}=this;return g("div",{class:`${t}-auto-complete`,ref:"triggerElRef",onKeydown:this.handleKeyDown,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd},g(Mo,null,{default:()=>[g(Bo,null,{default:()=>{const e=this.$slots.default;if(e)return CT("default",e,{handleInput:this.handleInput,handleFocus:this.handleFocus,handleBlur:this.handleBlur,value:this.mergedValue});const{mergedTheme:n}=this;return g(tr,{ref:"inputInstRef",status:this.mergedStatus,theme:n.peers.Input,themeOverrides:n.peerOverrides.Input,bordered:this.mergedBordered,value:this.mergedValue,placeholder:this.placeholder,size:this.mergedSize,disabled:this.mergedDisabled,clearable:this.clearable,loading:this.loading,inputProps:this.inputProps,onClear:this.handleClear,onFocus:this.handleFocus,onUpdateValue:this.handleInput,onBlur:this.handleBlur},{suffix:()=>{var r,o;return(o=(r=this.$slots).suffix)===null||o===void 0?void 0:o.call(r)},prefix:()=>{var r,o;return(o=(r=this.$slots).prefix)===null||o===void 0?void 0:o.call(r)}})}}),g(yo,{show:this.active,to:this.adjustedTo,containerClass:this.namespace,zIndex:this.zIndex,teleportDisabled:this.adjustedTo===an.tdkey,placement:this.placement,width:"target"},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var e;if((e=this.onRender)===null||e===void 0||e.call(this),!this.active)return null;const{menuProps:n}=this;return $n(g(Md,Object.assign({},n,{clsPrefix:t,ref:"menuInstRef",theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,"auto-pending":!0,class:[`${t}-auto-complete-menu`,this.themeClass,n==null?void 0:n.class],style:[n==null?void 0:n.style,this.cssVars],treeMate:this.treeMate,multiple:!1,renderLabel:this.renderLabel,renderOption:this.renderOption,size:"medium",onToggle:this.handleToggle}),{empty:()=>{var r,o;return(o=(r=this.$slots).empty)===null||o===void 0?void 0:o.call(r)}}),[[eo,this.handleClickOutsideMenu,void 0,{capture:!0}]])}})})]}))}}),ak=jr&&"loading"in document.createElement("img");function gH(t={}){var e;const{root:n=null}=t;return{hash:`${t.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(t.threshold)?t.threshold.join(","):(e=t.threshold)!==null&&e!==void 0?e:"0"}`,options:Object.assign(Object.assign({},t),{root:(typeof n=="string"?document.querySelector(n):n)||document.documentElement})}}const Lg=new WeakMap,Dg=new WeakMap,Og=new WeakMap,lk=(t,e,n)=>{if(!t)return()=>{};const r=gH(e),{root:o}=r.options;let i;const s=Lg.get(o);s?i=s:(i=new Map,Lg.set(o,i));let a,l;i.has(r.hash)?(l=i.get(r.hash),l[1].has(t)||(a=l[0],l[1].add(t),a.observe(t))):(a=new IntersectionObserver(u=>{u.forEach(f=>{if(f.isIntersecting){const m=Dg.get(f.target),h=Og.get(f.target);m&&m(),h&&(h.value=!0)}})},r.options),a.observe(t),l=[a,new Set([t])],i.set(r.hash,l));let c=!1;const d=()=>{c||(Dg.delete(t),Og.delete(t),c=!0,l[1].has(t)&&(l[0].unobserve(t),l[1].delete(t)),l[1].size<=0&&i.delete(r.hash),i.size||Lg.delete(o))};return Dg.set(t,d),Og.set(t,n),d};function ck(t){const{borderRadius:e,avatarColor:n,cardColor:r,fontSize:o,heightTiny:i,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:c,modalColor:d,popoverColor:u}=t;return{borderRadius:e,fontSize:o,border:`2px solid ${r}`,heightTiny:i,heightSmall:s,heightMedium:a,heightLarge:l,heightHuge:c,color:vt(r,n),colorModal:vt(d,n),colorPopover:vt(u,n)}}const dk={name:"Avatar",common:lt,self:ck},uk={name:"Avatar",common:st,self:ck},fk="n-avatar-group",mH=k("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[Ti(O("&","--n-merged-color: var(--n-color-modal);")),Ji(O("&","--n-merged-color: var(--n-color-popover);")),O("img",`
 width: 100%;
 height: 100%;
 `),F("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),k("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),F("text","line-height: 1.25")]),hk=Object.assign(Object.assign({},ke.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),yp=ce({name:"Avatar",props:hk,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=z(!1);let o=null;const i=z(null),s=z(null),a=()=>{const{value:y}=i;if(y&&(o===null||o!==y.innerHTML)){o=y.innerHTML;const{value:x}=s;if(x){const{offsetWidth:C,offsetHeight:S}=x,{offsetWidth:T,offsetHeight:w}=y,E=.9,R=Math.min(C/T*E,S/w*E,1);y.style.transform=`translateX(-50%) translateY(-50%) scale(${R})`}}},l=Ve(fk,null),c=A(()=>{const{size:y}=t;if(y)return y;const{size:x}=l||{};return x||"medium"}),d=ke("Avatar","-avatar",mH,dk,t,e),u=Ve(NE,null),f=A(()=>{if(l)return!0;const{round:y,circle:x}=t;return y!==void 0||x!==void 0?y||x:u?u.roundRef.value:!1}),m=A(()=>l?!0:t.bordered||!1),h=A(()=>{const y=c.value,x=f.value,C=m.value,{color:S}=t,{self:{borderRadius:T,fontSize:w,color:E,border:R,colorModal:P,colorPopover:_},common:{cubicBezierEaseInOut:I}}=d.value;let L;return typeof y=="number"?L=`${y}px`:L=d.value.self[Ae("height",y)],{"--n-font-size":w,"--n-border":C?R:"none","--n-border-radius":x?"50%":T,"--n-color":S||E,"--n-color-modal":S||P,"--n-color-popover":S||_,"--n-bezier":I,"--n-merged-size":`var(--n-avatar-size-override, ${L})`}}),p=n?ot("avatar",A(()=>{const y=c.value,x=f.value,C=m.value,{color:S}=t;let T="";return y&&(typeof y=="number"?T+=`a${y}`:T+=y[0]),x&&(T+="b"),C&&(T+="c"),S&&(T+=Ea(S)),T}),h,t):void 0,v=z(!t.lazy);Gt(()=>{if(t.lazy&&t.intersectionObserverOptions){let y;const x=Xt(()=>{y==null||y(),y=void 0,t.lazy&&(y=lk(s.value,t.intersectionObserverOptions,v))});Qt(()=>{x(),y==null||y()})}}),gt(()=>{var y;return t.src||((y=t.imgProps)===null||y===void 0?void 0:y.src)},()=>{r.value=!1});const b=z(!t.lazy);return{textRef:i,selfRef:s,mergedRoundRef:f,mergedClsPrefix:e,fitTextTransform:a,cssVars:n?void 0:h,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender,hasLoadError:r,shouldStartLoading:v,loaded:b,mergedOnError:y=>{if(!v.value)return;r.value=!0;const{onError:x,imgProps:{onError:C}={}}=t;x==null||x(y),C==null||C(y)},mergedOnLoad:y=>{const{onLoad:x,imgProps:{onLoad:C}={}}=t;x==null||x(y),C==null||C(y),b.value=!0}}},render(){var t,e;const{$slots:n,src:r,mergedClsPrefix:o,lazy:i,onRender:s,loaded:a,hasLoadError:l,imgProps:c={}}=this;s==null||s();let d;const u=!a&&!l&&(this.renderPlaceholder?this.renderPlaceholder():(e=(t=this.$slots).placeholder)===null||e===void 0?void 0:e.call(t));return this.hasLoadError?d=this.renderFallback?this.renderFallback():Et(n.fallback,()=>[g("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})]):d=Lt(n.default,f=>{if(f)return g(Fr,{onResize:this.fitTextTransform},{default:()=>g("span",{ref:"textRef",class:`${o}-avatar__text`},f)});if(r||c.src){const m=this.src||c.src;return g("img",Object.assign(Object.assign({},c),{loading:ak&&!this.intersectionObserverOptions&&i?"lazy":"eager",src:i&&this.intersectionObserverOptions?this.shouldStartLoading?m:void 0:m,"data-image-src":m,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[c.style||"",{objectFit:this.objectFit},u?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}}),g("span",{ref:"selfRef",class:[`${o}-avatar`,this.themeClass],style:this.cssVars},d,i&&u)}});function gk(){return{gap:"-12px"}}const pH={name:"AvatarGroup",common:lt,peers:{Avatar:dk},self:gk},vH={name:"AvatarGroup",common:st,peers:{Avatar:uk},self:gk},bH=k("avatar-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[M("expand-on-hover",[k("avatar",[O("&:not(:first-child)",`
 transition: margin .3s var(--n-bezier);
 `)]),O("&:hover",[wt("vertical",[k("avatar",[O("&:not(:first-child)",`
 margin-left: 0 !important;
 `)])]),M("vertical",[k("avatar",[O("&:not(:first-child)",`
 margin-top: 0 !important;
 `)])])])]),wt("vertical",`
 flex-direction: row;
 `,[k("avatar",[O("&:not(:first-child)",`
 margin-left: var(--n-gap);
 `)])]),M("vertical",`
 flex-direction: column;
 `,[k("avatar",[O("&:not(:first-child)",`
 margin-top: var(--n-gap);
 `)])])]),mk=Object.assign(Object.assign({},ke.props),{max:Number,maxStyle:[Object,String],options:{type:Array,default:()=>[]},vertical:Boolean,expandOnHover:Boolean,size:[String,Number]}),yH=ce({name:"AvatarGroup",props:mk,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=Ge(t),r=ke("AvatarGroup","-avatar-group",bH,pH,t,e);ft(fk,t);const o=rn("AvatarGroup",n,e),i=A(()=>{const{max:a}=t;if(a===void 0)return;const{options:l}=t;return l.length>a?l.slice(a-1,l.length):[]}),s=A(()=>{const{options:a,max:l}=t;return l===void 0?a:a.length>l?a.slice(0,l-1):a.length===l?a.slice(0,l):a});return{mergedTheme:r,rtlEnabled:o,mergedClsPrefix:e,restOptions:i,displayedOptions:s,cssVars:A(()=>({"--n-gap":r.value.self.gap}))}},render(){const{mergedClsPrefix:t,displayedOptions:e,restOptions:n,mergedTheme:r,$slots:o}=this;return g("div",{class:[`${t}-avatar-group`,this.rtlEnabled&&`${t}-avatar-group--rtl`,this.vertical&&`${t}-avatar-group--vertical`,this.expandOnHover&&`${t}-avatar-group--expand-on-hover`],style:this.cssVars,role:"group"},e.map(i=>o.avatar?o.avatar({option:i}):g(yp,{src:i.src,theme:r.peers.Avatar,themeOverrides:r.peerOverrides.Avatar})),n!==void 0&&n.length>0&&(o.rest?o.rest({options:n,rest:n.length}):g(yp,{style:this.maxStyle,theme:r.peers.Avatar,themeOverrides:r.peerOverrides.Avatar},{default:()=>`+${n.length}`})))}}),pk={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},xH={name:"BackTop",common:st,self(t){const{popoverColor:e,textColor2:n,primaryColorHover:r,primaryColorPressed:o}=t;return Object.assign(Object.assign({},pk),{color:e,textColor:n,iconColor:n,iconColorHover:r,iconColorPressed:o,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}};function CH(t){const{popoverColor:e,textColor2:n,primaryColorHover:r,primaryColorPressed:o}=t;return Object.assign(Object.assign({},pk),{color:e,textColor:n,iconColor:n,iconColorHover:r,iconColorPressed:o,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}const SH={common:lt,self:CH},wH=()=>g("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{transform:"translate(-139.000000, -4423.000000)","fill-rule":"nonzero"},g("g",{transform:"translate(120.000000, 4285.000000)"},g("g",{transform:"translate(7.000000, 126.000000)"},g("g",{transform:"translate(24.000000, 24.000000) scale(1, -1) translate(-24.000000, -24.000000) translate(12.000000, 12.000000)"},g("g",{transform:"translate(4.000000, 2.000000)"},g("path",{d:"M8,0 C8.51283584,0 8.93550716,0.38604019 8.99327227,0.883378875 L9,1 L9,10.584 L12.2928932,7.29289322 C12.6834175,6.90236893 13.3165825,6.90236893 13.7071068,7.29289322 C14.0675907,7.65337718 14.0953203,8.22060824 13.7902954,8.61289944 L13.7071068,8.70710678 L8.70710678,13.7071068 L8.62544899,13.7803112 L8.618,13.784 L8.59530661,13.8036654 L8.4840621,13.8753288 L8.37133602,13.9287745 L8.22929083,13.9735893 L8.14346259,13.9897165 L8.03324678,13.9994506 L7.9137692,13.9962979 L7.77070917,13.9735893 L7.6583843,13.9401293 L7.57677845,13.9063266 L7.47929125,13.8540045 L7.4048407,13.8036865 L7.38131006,13.7856883 C7.35030318,13.7612383 7.32077858,13.7349921 7.29289322,13.7071068 L2.29289322,8.70710678 L2.20970461,8.61289944 C1.90467972,8.22060824 1.93240926,7.65337718 2.29289322,7.29289322 C2.65337718,6.93240926 3.22060824,6.90467972 3.61289944,7.20970461 L3.70710678,7.29289322 L7,10.585 L7,1 L7.00672773,0.883378875 C7.06449284,0.38604019 7.48716416,0 8,0 Z"}),g("path",{d:"M14.9333333,15.9994506 C15.5224371,15.9994506 16,16.4471659 16,16.9994506 C16,17.5122865 15.5882238,17.9349578 15.0577292,17.9927229 L14.9333333,17.9994506 L1.06666667,17.9994506 C0.477562934,17.9994506 0,17.5517354 0,16.9994506 C0,16.4866148 0.411776203,16.0639435 0.9422708,16.0061783 L1.06666667,15.9994506 L14.9333333,15.9994506 Z"})))))))),RH=k("back-top",`
 position: fixed;
 right: 40px;
 bottom: 40px;
 cursor: pointer;
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 height: var(--n-height);
 min-width: var(--n-width);
 box-shadow: var(--n-box-shadow);
 background-color: var(--n-color);
`,[ar(),M("transition-disabled",{transition:"none !important"}),k("base-icon",`
 font-size: var(--n-icon-size);
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),O("svg",{pointerEvents:"none"}),O("&:hover",{boxShadow:"var(--n-box-shadow-hover)"},[k("base-icon",{color:"var(--n-icon-color-hover)"})]),O("&:active",{boxShadow:"var(--n-box-shadow-pressed)"},[k("base-icon",{color:"var(--n-icon-color-pressed)"})])]),vk=Object.assign(Object.assign({},ke.props),{show:{type:Boolean,default:void 0},right:{type:[Number,String],default:40},bottom:{type:[Number,String],default:40},to:{type:[String,Object],default:"body"},visibilityHeight:{type:Number,default:180},listenTo:[String,Object,Function],"onUpdate:show":{type:Function,default:()=>{}},target:Function,onShow:Function,onHide:Function}),TH=ce({name:"BackTop",inheritAttrs:!1,props:vk,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=z(null),o=z(!1);Xt(()=>{const{value:C}=r;if(C===null){o.value=!1;return}o.value=C>=t.visibilityHeight});const i=z(!1);gt(o,C=>{var S;i.value&&((S=t["onUpdate:show"])===null||S===void 0||S.call(t,C))});const s=Se(t,"show"),a=Ft(s,o),l=z(!0),c=z(null),d=A(()=>({right:`calc(${Mt(t.right)} + ${tp.value})`,bottom:Mt(t.bottom)}));let u,f;gt(a,C=>{var S,T;i.value&&(C&&((S=t.onShow)===null||S===void 0||S.call(t)),(T=t.onHide)===null||T===void 0||T.call(t))});const m=ke("BackTop","-back-top",RH,SH,t,e);function h(){var C;if(f)return;f=!0;const S=((C=t.target)===null||C===void 0?void 0:C.call(t))||Hv(t.listenTo)||VR(c.value);if(!S)return;u=S===document.documentElement?document:S;const{to:T}=t;typeof T=="string"&&document.querySelector(T),u.addEventListener("scroll",v),v()}function p(){(tx(u)?document.documentElement:u).scrollTo({top:0,behavior:"smooth"})}function v(){r.value=(tx(u)?document.documentElement:u).scrollTop,i.value||$t(()=>{i.value=!0})}function b(){l.value=!1}Gt(()=>{h(),l.value=a.value}),Qt(()=>{u&&u.removeEventListener("scroll",v)});const y=A(()=>{const{self:{color:C,boxShadow:S,boxShadowHover:T,boxShadowPressed:w,iconColor:E,iconColorHover:R,iconColorPressed:P,width:_,height:I,iconSize:L,borderRadius:N,textColor:H},common:{cubicBezierEaseInOut:G}}=m.value;return{"--n-bezier":G,"--n-border-radius":N,"--n-height":I,"--n-width":_,"--n-box-shadow":S,"--n-box-shadow-hover":T,"--n-box-shadow-pressed":w,"--n-color":C,"--n-icon-size":L,"--n-icon-color":E,"--n-icon-color-hover":R,"--n-icon-color-pressed":P,"--n-text-color":H}}),x=n?ot("back-top",void 0,y,t):void 0;return{placeholderRef:c,style:d,mergedShow:a,isMounted:br(),scrollElement:z(null),scrollTop:r,DomInfoReady:i,transitionDisabled:l,mergedClsPrefix:e,handleAfterEnter:b,handleScroll:v,handleClick:p,cssVars:n?void 0:y,themeClass:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender}},render(){const{mergedClsPrefix:t}=this;return g("div",{ref:"placeholderRef",class:`${t}-back-top-placeholder`,style:"display: none","aria-hidden":!0},g(Od,{to:this.to,show:this.mergedShow},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterEnter:this.handleAfterEnter},{default:()=>{var e;return(e=this.onRender)===null||e===void 0||e.call(this),this.mergedShow?g("div",sr(this.$attrs,{class:[`${t}-back-top`,this.themeClass,this.transitionDisabled&&`${t}-back-top--transition-disabled`],style:[this.style,this.cssVars],onClick:this.handleClick}),Et(this.$slots.default,()=>[g(yt,{clsPrefix:t},{default:wH})])):null}})}))}}),EH={name:"Badge",common:st,self(t){const{errorColorSuppl:e,infoColorSuppl:n,successColorSuppl:r,warningColorSuppl:o,fontFamily:i}=t;return{color:e,colorInfo:n,colorSuccess:r,colorError:e,colorWarning:o,fontSize:"12px",fontFamily:i}}};function kH(t){const{errorColor:e,infoColor:n,successColor:r,warningColor:o,fontFamily:i}=t;return{color:e,colorInfo:n,colorSuccess:r,colorError:e,colorWarning:o,fontSize:"12px",fontFamily:i}}const PH={common:lt,self:kH},AH=O([O("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),k("badge",`
 display: inline-flex;
 position: relative;
 vertical-align: middle;
 font-family: var(--n-font-family);
 `,[M("as-is",[k("badge-sup",{position:"static",transform:"translateX(0)"},[ar({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),M("dot",[k("badge-sup",`
 height: 8px;
 width: 8px;
 padding: 0;
 min-width: 8px;
 left: 100%;
 bottom: calc(100% - 4px);
 `,[O("::before","border-radius: 4px;")])]),k("badge-sup",`
 background: var(--n-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: #FFF;
 position: absolute;
 height: 18px;
 line-height: 18px;
 border-radius: 9px;
 padding: 0 6px;
 text-align: center;
 font-size: var(--n-font-size);
 transform: translateX(-50%);
 left: 100%;
 bottom: calc(100% - 9px);
 font-variant-numeric: tabular-nums;
 z-index: 2;
 display: flex;
 align-items: center;
 `,[ar({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),k("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),O("&::before",`
 opacity: 0;
 transform: scale(1);
 border-radius: 9px;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)])])]),bk=Object.assign(Object.assign({},ke.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String,offset:Array}),IH=ce({name:"Badge",props:bk,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=Ge(t),i=ke("Badge","-badge",AH,PH,t,n),s=z(!1),a=()=>{s.value=!0},l=()=>{s.value=!1},c=A(()=>t.show&&(t.dot||t.value!==void 0&&!(!t.showZero&&Number(t.value)<=0)||!xa(e.value)));Gt(()=>{c.value&&(s.value=!0)});const d=rn("Badge",o,n),u=A(()=>{const{type:h,color:p}=t,{common:{cubicBezierEaseInOut:v,cubicBezierEaseOut:b},self:{[Ae("color",h)]:y,fontFamily:x,fontSize:C}}=i.value;return{"--n-font-size":C,"--n-font-family":x,"--n-color":p||y,"--n-ripple-color":p||y,"--n-bezier":v,"--n-ripple-bezier":b}}),f=r?ot("badge",A(()=>{let h="";const{type:p,color:v}=t;return p&&(h+=p[0]),v&&(h+=Ea(v)),h}),u,t):void 0,m=A(()=>{const{offset:h}=t;if(!h)return;const[p,v]=h,b=typeof p=="number"?`${p}px`:p,y=typeof v=="number"?`${v}px`:v;return{transform:`translate(calc(${d!=null&&d.value?"50%":"-50%"} + ${b}), ${y})`}});return{rtlEnabled:d,mergedClsPrefix:n,appeared:s,showBadge:c,handleAfterEnter:a,handleAfterLeave:l,cssVars:r?void 0:u,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender,offsetStyle:m}},render(){var t;const{mergedClsPrefix:e,onRender:n,themeClass:r,$slots:o}=this;n==null||n();const i=(t=o.default)===null||t===void 0?void 0:t.call(o);return g("div",{class:[`${e}-badge`,this.rtlEnabled&&`${e}-badge--rtl`,r,{[`${e}-badge--dot`]:this.dot,[`${e}-badge--as-is`]:!i}],style:this.cssVars},i,g(en,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?g("sup",{class:`${e}-badge-sup`,title:Ll(this.value),style:this.offsetStyle},Et(o.value,()=>[this.dot?null:g(OU,{clsPrefix:e,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?g(jE,{clsPrefix:e}):null):null}))}}),_H={fontWeightActive:"400"};function yk(t){const{fontSize:e,textColor3:n,textColor2:r,borderRadius:o,buttonColor2Hover:i,buttonColor2Pressed:s}=t;return Object.assign(Object.assign({},_H),{fontSize:e,itemLineHeight:"1.25",itemTextColor:n,itemTextColorHover:r,itemTextColorPressed:r,itemTextColorActive:r,itemBorderRadius:o,itemColorHover:i,itemColorPressed:s,separatorColor:n})}const LH={common:lt,self:yk},DH={name:"Breadcrumb",common:st,self:yk},OH=k("breadcrumb",`
 white-space: nowrap;
 cursor: default;
 line-height: var(--n-item-line-height);
`,[O("ul",`
 list-style: none;
 padding: 0;
 margin: 0;
 `),O("a",`
 color: inherit;
 text-decoration: inherit;
 `),k("breadcrumb-item",`
 font-size: var(--n-font-size);
 transition: color .3s var(--n-bezier);
 display: inline-flex;
 align-items: center;
 `,[k("icon",`
 font-size: 18px;
 vertical-align: -.2em;
 transition: color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 `),O("&:not(:last-child)",[M("clickable",[F("link",`
 cursor: pointer;
 `,[O("&:hover",`
 background-color: var(--n-item-color-hover);
 `),O("&:active",`
 background-color: var(--n-item-color-pressed); 
 `)])])]),F("link",`
 padding: 4px;
 border-radius: var(--n-item-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 position: relative;
 `,[O("&:hover",`
 color: var(--n-item-text-color-hover);
 `,[k("icon",`
 color: var(--n-item-text-color-hover);
 `)]),O("&:active",`
 color: var(--n-item-text-color-pressed);
 `,[k("icon",`
 color: var(--n-item-text-color-pressed);
 `)])]),F("separator",`
 margin: 0 8px;
 color: var(--n-separator-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 -webkit-user-select: none;
 `),O("&:last-child",[F("link",`
 font-weight: var(--n-font-weight-active);
 cursor: unset;
 color: var(--n-item-text-color-active);
 `,[k("icon",`
 color: var(--n-item-text-color-active);
 `)]),F("separator",`
 display: none;
 `)])])]),xk="n-breadcrumb",Ck=Object.assign(Object.assign({},ke.props),{separator:{type:String,default:"/"}}),$H=ce({name:"Breadcrumb",props:Ck,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Breadcrumb","-breadcrumb",OH,LH,t,e);ft(xk,{separatorRef:Se(t,"separator"),mergedClsPrefixRef:e});const o=A(()=>{const{common:{cubicBezierEaseInOut:s},self:{separatorColor:a,itemTextColor:l,itemTextColorHover:c,itemTextColorPressed:d,itemTextColorActive:u,fontSize:f,fontWeightActive:m,itemBorderRadius:h,itemColorHover:p,itemColorPressed:v,itemLineHeight:b}}=r.value;return{"--n-font-size":f,"--n-bezier":s,"--n-item-text-color":l,"--n-item-text-color-hover":c,"--n-item-text-color-pressed":d,"--n-item-text-color-active":u,"--n-separator-color":a,"--n-item-color-hover":p,"--n-item-color-pressed":v,"--n-item-border-radius":h,"--n-font-weight-active":m,"--n-item-line-height":b}}),i=n?ot("breadcrumb",void 0,o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),g("nav",{class:[`${this.mergedClsPrefix}-breadcrumb`,this.themeClass],style:this.cssVars,"aria-label":"Breadcrumb"},g("ul",null,this.$slots))}});function FH(t=jr?window:null){const e=()=>{const{hash:o,host:i,hostname:s,href:a,origin:l,pathname:c,port:d,protocol:u,search:f}=(t==null?void 0:t.location)||{};return{hash:o,host:i,hostname:s,href:a,origin:l,pathname:c,port:d,protocol:u,search:f}},n=z(e()),r=()=>{n.value=e()};return Gt(()=>{t&&(t.addEventListener("popstate",r),t.addEventListener("hashchange",r))}),Wl(()=>{t&&(t.removeEventListener("popstate",r),t.removeEventListener("hashchange",r))}),n}const Sk={separator:String,href:String,clickable:{type:Boolean,default:!0},onClick:Function},MH=ce({name:"BreadcrumbItem",props:Sk,slots:Object,setup(t,{slots:e}){const n=Ve(xk,null);if(!n)return()=>null;const{separatorRef:r,mergedClsPrefixRef:o}=n,i=FH(),s=A(()=>t.href?"a":"span"),a=A(()=>i.value.href===t.href?"location":null);return()=>{const{value:l}=o;return g("li",{class:[`${l}-breadcrumb-item`,t.clickable&&`${l}-breadcrumb-item--clickable`]},g(s.value,{class:`${l}-breadcrumb-item__link`,"aria-current":a.value,href:t.href,onClick:t.onClick},e),g("span",{class:`${l}-breadcrumb-item__separator`,"aria-hidden":"true"},Et(e.separator,()=>{var c;return[(c=t.separator)!==null&&c!==void 0?c:r.value]})))}}});function Js(t){return vt(t,[255,255,255,.16])}function hu(t){return vt(t,[0,0,0,.12])}const wk="n-button-group",BH={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"};function Rk(t){const{heightTiny:e,heightSmall:n,heightMedium:r,heightLarge:o,borderRadius:i,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:c,opacityDisabled:d,textColor2:u,textColor3:f,primaryColorHover:m,primaryColorPressed:h,borderColor:p,primaryColor:v,baseColor:b,infoColor:y,infoColorHover:x,infoColorPressed:C,successColor:S,successColorHover:T,successColorPressed:w,warningColor:E,warningColorHover:R,warningColorPressed:P,errorColor:_,errorColorHover:I,errorColorPressed:L,fontWeight:N,buttonColor2:H,buttonColor2Hover:G,buttonColor2Pressed:W,fontWeightStrong:J}=t;return Object.assign(Object.assign({},BH),{heightTiny:e,heightSmall:n,heightMedium:r,heightLarge:o,borderRadiusTiny:i,borderRadiusSmall:i,borderRadiusMedium:i,borderRadiusLarge:i,fontSizeTiny:s,fontSizeSmall:a,fontSizeMedium:l,fontSizeLarge:c,opacityDisabled:d,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:H,colorSecondaryHover:G,colorSecondaryPressed:W,colorTertiary:H,colorTertiaryHover:G,colorTertiaryPressed:W,colorQuaternary:"#0000",colorQuaternaryHover:G,colorQuaternaryPressed:W,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:u,textColorTertiary:f,textColorHover:m,textColorPressed:h,textColorFocus:m,textColorDisabled:u,textColorText:u,textColorTextHover:m,textColorTextPressed:h,textColorTextFocus:m,textColorTextDisabled:u,textColorGhost:u,textColorGhostHover:m,textColorGhostPressed:h,textColorGhostFocus:m,textColorGhostDisabled:u,border:`1px solid ${p}`,borderHover:`1px solid ${m}`,borderPressed:`1px solid ${h}`,borderFocus:`1px solid ${m}`,borderDisabled:`1px solid ${p}`,rippleColor:v,colorPrimary:v,colorHoverPrimary:m,colorPressedPrimary:h,colorFocusPrimary:m,colorDisabledPrimary:v,textColorPrimary:b,textColorHoverPrimary:b,textColorPressedPrimary:b,textColorFocusPrimary:b,textColorDisabledPrimary:b,textColorTextPrimary:v,textColorTextHoverPrimary:m,textColorTextPressedPrimary:h,textColorTextFocusPrimary:m,textColorTextDisabledPrimary:u,textColorGhostPrimary:v,textColorGhostHoverPrimary:m,textColorGhostPressedPrimary:h,textColorGhostFocusPrimary:m,textColorGhostDisabledPrimary:v,borderPrimary:`1px solid ${v}`,borderHoverPrimary:`1px solid ${m}`,borderPressedPrimary:`1px solid ${h}`,borderFocusPrimary:`1px solid ${m}`,borderDisabledPrimary:`1px solid ${v}`,rippleColorPrimary:v,colorInfo:y,colorHoverInfo:x,colorPressedInfo:C,colorFocusInfo:x,colorDisabledInfo:y,textColorInfo:b,textColorHoverInfo:b,textColorPressedInfo:b,textColorFocusInfo:b,textColorDisabledInfo:b,textColorTextInfo:y,textColorTextHoverInfo:x,textColorTextPressedInfo:C,textColorTextFocusInfo:x,textColorTextDisabledInfo:u,textColorGhostInfo:y,textColorGhostHoverInfo:x,textColorGhostPressedInfo:C,textColorGhostFocusInfo:x,textColorGhostDisabledInfo:y,borderInfo:`1px solid ${y}`,borderHoverInfo:`1px solid ${x}`,borderPressedInfo:`1px solid ${C}`,borderFocusInfo:`1px solid ${x}`,borderDisabledInfo:`1px solid ${y}`,rippleColorInfo:y,colorSuccess:S,colorHoverSuccess:T,colorPressedSuccess:w,colorFocusSuccess:T,colorDisabledSuccess:S,textColorSuccess:b,textColorHoverSuccess:b,textColorPressedSuccess:b,textColorFocusSuccess:b,textColorDisabledSuccess:b,textColorTextSuccess:S,textColorTextHoverSuccess:T,textColorTextPressedSuccess:w,textColorTextFocusSuccess:T,textColorTextDisabledSuccess:u,textColorGhostSuccess:S,textColorGhostHoverSuccess:T,textColorGhostPressedSuccess:w,textColorGhostFocusSuccess:T,textColorGhostDisabledSuccess:S,borderSuccess:`1px solid ${S}`,borderHoverSuccess:`1px solid ${T}`,borderPressedSuccess:`1px solid ${w}`,borderFocusSuccess:`1px solid ${T}`,borderDisabledSuccess:`1px solid ${S}`,rippleColorSuccess:S,colorWarning:E,colorHoverWarning:R,colorPressedWarning:P,colorFocusWarning:R,colorDisabledWarning:E,textColorWarning:b,textColorHoverWarning:b,textColorPressedWarning:b,textColorFocusWarning:b,textColorDisabledWarning:b,textColorTextWarning:E,textColorTextHoverWarning:R,textColorTextPressedWarning:P,textColorTextFocusWarning:R,textColorTextDisabledWarning:u,textColorGhostWarning:E,textColorGhostHoverWarning:R,textColorGhostPressedWarning:P,textColorGhostFocusWarning:R,textColorGhostDisabledWarning:E,borderWarning:`1px solid ${E}`,borderHoverWarning:`1px solid ${R}`,borderPressedWarning:`1px solid ${P}`,borderFocusWarning:`1px solid ${R}`,borderDisabledWarning:`1px solid ${E}`,rippleColorWarning:E,colorError:_,colorHoverError:I,colorPressedError:L,colorFocusError:I,colorDisabledError:_,textColorError:b,textColorHoverError:b,textColorPressedError:b,textColorFocusError:b,textColorDisabledError:b,textColorTextError:_,textColorTextHoverError:I,textColorTextPressedError:L,textColorTextFocusError:I,textColorTextDisabledError:u,textColorGhostError:_,textColorGhostHoverError:I,textColorGhostPressedError:L,textColorGhostFocusError:I,textColorGhostDisabledError:_,borderError:`1px solid ${_}`,borderHoverError:`1px solid ${I}`,borderPressedError:`1px solid ${L}`,borderFocusError:`1px solid ${I}`,borderDisabledError:`1px solid ${_}`,rippleColorError:_,waveOpacity:"0.6",fontWeight:N,fontWeightStrong:J})}const so={name:"Button",common:lt,self:Rk},ao={name:"Button",common:st,self(t){const e=Rk(t);return e.waveOpacity="0.8",e.colorOpacitySecondary="0.16",e.colorOpacitySecondaryHover="0.2",e.colorOpacitySecondaryPressed="0.12",e}},zH=O([k("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[M("color",[F("border",{borderColor:"var(--n-border-color)"}),M("disabled",[F("border",{borderColor:"var(--n-border-color-disabled)"})]),wt("disabled",[O("&:focus",[F("state-border",{borderColor:"var(--n-border-color-focus)"})]),O("&:hover",[F("state-border",{borderColor:"var(--n-border-color-hover)"})]),O("&:active",[F("state-border",{borderColor:"var(--n-border-color-pressed)"})]),M("pressed",[F("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),M("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[F("border",{border:"var(--n-border-disabled)"})]),wt("disabled",[O("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[F("state-border",{border:"var(--n-border-focus)"})]),O("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[F("state-border",{border:"var(--n-border-hover)"})]),O("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[F("state-border",{border:"var(--n-border-pressed)"})]),M("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[F("state-border",{border:"var(--n-border-pressed)"})])]),M("loading","cursor: wait;"),k("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[M("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),jr&&"MozBoxSizing"in document.createElement("div").style?O("&::moz-focus-inner",{border:0}):null,F("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),F("border",{border:"var(--n-border)"}),F("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),F("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[k("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[wr({top:"50%",originalTransform:"translateY(-50%)"})]),VE()]),F("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[O("~",[F("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),M("block",`
 display: flex;
 width: 100%;
 `),M("dashed",[F("border, state-border",{borderStyle:"dashed !important"})]),M("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),O("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),O("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),Tk=Object.assign(Object.assign({},ke.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,renderIcon:Function,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!XE}}),At=ce({name:"Button",props:Tk,slots:Object,setup(t){const e=z(null),n=z(null),r=z(!1),o=pt(()=>!t.quaternary&&!t.tertiary&&!t.secondary&&!t.text&&(!t.color||t.ghost||t.dashed)&&t.bordered),i=Ve(wk,{}),{mergedSizeRef:s}=jn({},{defaultSize:"medium",mergedSize:C=>{const{size:S}=t;if(S)return S;const{size:T}=i;if(T)return T;const{mergedSize:w}=C||{};return w?w.value:"medium"}}),a=A(()=>t.focusable&&!t.disabled),l=C=>{var S;a.value||C.preventDefault(),!t.nativeFocusBehavior&&(C.preventDefault(),!t.disabled&&a.value&&((S=e.value)===null||S===void 0||S.focus({preventScroll:!0})))},c=C=>{var S;if(!t.disabled&&!t.loading){const{onClick:T}=t;T&&we(T,C),t.text||(S=n.value)===null||S===void 0||S.play()}},d=C=>{switch(C.key){case"Enter":if(!t.keyboard)return;r.value=!1}},u=C=>{switch(C.key){case"Enter":if(!t.keyboard||t.loading){C.preventDefault();return}r.value=!0}},f=()=>{r.value=!1},{inlineThemeDisabled:m,mergedClsPrefixRef:h,mergedRtlRef:p}=Ge(t),v=ke("Button","-button",zH,so,t,h),b=rn("Button",p,h),y=A(()=>{const C=v.value,{common:{cubicBezierEaseInOut:S,cubicBezierEaseOut:T},self:w}=C,{rippleDuration:E,opacityDisabled:R,fontWeight:P,fontWeightStrong:_}=w,I=s.value,{dashed:L,type:N,ghost:H,text:G,color:W,round:J,circle:ne,textColor:D,secondary:B,tertiary:j,quaternary:$,strong:V}=t,X={"--n-font-weight":V?_:P};let Z={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const q=N==="tertiary",ue=N==="default",K=q?"default":N;if(G){const te=D||W;Z={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":te||w[Ae("textColorText",K)],"--n-text-color-hover":te?Js(te):w[Ae("textColorTextHover",K)],"--n-text-color-pressed":te?hu(te):w[Ae("textColorTextPressed",K)],"--n-text-color-focus":te?Js(te):w[Ae("textColorTextHover",K)],"--n-text-color-disabled":te||w[Ae("textColorTextDisabled",K)]}}else if(H||L){const te=D||W;Z={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":W||w[Ae("rippleColor",K)],"--n-text-color":te||w[Ae("textColorGhost",K)],"--n-text-color-hover":te?Js(te):w[Ae("textColorGhostHover",K)],"--n-text-color-pressed":te?hu(te):w[Ae("textColorGhostPressed",K)],"--n-text-color-focus":te?Js(te):w[Ae("textColorGhostHover",K)],"--n-text-color-disabled":te||w[Ae("textColorGhostDisabled",K)]}}else if(B){const te=ue?w.textColor:q?w.textColorTertiary:w[Ae("color",K)],ae=W||te,Ee=N!=="default"&&N!=="tertiary";Z={"--n-color":Ee?Ye(ae,{alpha:Number(w.colorOpacitySecondary)}):w.colorSecondary,"--n-color-hover":Ee?Ye(ae,{alpha:Number(w.colorOpacitySecondaryHover)}):w.colorSecondaryHover,"--n-color-pressed":Ee?Ye(ae,{alpha:Number(w.colorOpacitySecondaryPressed)}):w.colorSecondaryPressed,"--n-color-focus":Ee?Ye(ae,{alpha:Number(w.colorOpacitySecondaryHover)}):w.colorSecondaryHover,"--n-color-disabled":w.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":ae,"--n-text-color-hover":ae,"--n-text-color-pressed":ae,"--n-text-color-focus":ae,"--n-text-color-disabled":ae}}else if(j||$){const te=ue?w.textColor:q?w.textColorTertiary:w[Ae("color",K)],ae=W||te;j?(Z["--n-color"]=w.colorTertiary,Z["--n-color-hover"]=w.colorTertiaryHover,Z["--n-color-pressed"]=w.colorTertiaryPressed,Z["--n-color-focus"]=w.colorSecondaryHover,Z["--n-color-disabled"]=w.colorTertiary):(Z["--n-color"]=w.colorQuaternary,Z["--n-color-hover"]=w.colorQuaternaryHover,Z["--n-color-pressed"]=w.colorQuaternaryPressed,Z["--n-color-focus"]=w.colorQuaternaryHover,Z["--n-color-disabled"]=w.colorQuaternary),Z["--n-ripple-color"]="#0000",Z["--n-text-color"]=ae,Z["--n-text-color-hover"]=ae,Z["--n-text-color-pressed"]=ae,Z["--n-text-color-focus"]=ae,Z["--n-text-color-disabled"]=ae}else Z={"--n-color":W||w[Ae("color",K)],"--n-color-hover":W?Js(W):w[Ae("colorHover",K)],"--n-color-pressed":W?hu(W):w[Ae("colorPressed",K)],"--n-color-focus":W?Js(W):w[Ae("colorFocus",K)],"--n-color-disabled":W||w[Ae("colorDisabled",K)],"--n-ripple-color":W||w[Ae("rippleColor",K)],"--n-text-color":D||(W?w.textColorPrimary:q?w.textColorTertiary:w[Ae("textColor",K)]),"--n-text-color-hover":D||(W?w.textColorHoverPrimary:w[Ae("textColorHover",K)]),"--n-text-color-pressed":D||(W?w.textColorPressedPrimary:w[Ae("textColorPressed",K)]),"--n-text-color-focus":D||(W?w.textColorFocusPrimary:w[Ae("textColorFocus",K)]),"--n-text-color-disabled":D||(W?w.textColorDisabledPrimary:w[Ae("textColorDisabled",K)])};let he={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};G?he={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:he={"--n-border":w[Ae("border",K)],"--n-border-hover":w[Ae("borderHover",K)],"--n-border-pressed":w[Ae("borderPressed",K)],"--n-border-focus":w[Ae("borderFocus",K)],"--n-border-disabled":w[Ae("borderDisabled",K)]};const{[Ae("height",I)]:Ie,[Ae("fontSize",I)]:Q,[Ae("padding",I)]:Y,[Ae("paddingRound",I)]:re,[Ae("iconSize",I)]:be,[Ae("borderRadius",I)]:Ce,[Ae("iconMargin",I)]:le,waveOpacity:de}=w,fe={"--n-width":ne&&!G?Ie:"initial","--n-height":G?"initial":Ie,"--n-font-size":Q,"--n-padding":ne||G?"initial":J?re:Y,"--n-icon-size":be,"--n-icon-margin":le,"--n-border-radius":G?"initial":ne||J?Ie:Ce};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":S,"--n-bezier-ease-out":T,"--n-ripple-duration":E,"--n-opacity-disabled":R,"--n-wave-opacity":de},X),Z),he),fe)}),x=m?ot("button",A(()=>{let C="";const{dashed:S,type:T,ghost:w,text:E,color:R,round:P,circle:_,textColor:I,secondary:L,tertiary:N,quaternary:H,strong:G}=t;S&&(C+="a"),w&&(C+="b"),E&&(C+="c"),P&&(C+="d"),_&&(C+="e"),L&&(C+="f"),N&&(C+="g"),H&&(C+="h"),G&&(C+="i"),R&&(C+=`j${Ea(R)}`),I&&(C+=`k${Ea(I)}`);const{value:W}=s;return C+=`l${W[0]}`,C+=`m${T[0]}`,C}),y,t):void 0;return{selfElRef:e,waveElRef:n,mergedClsPrefix:h,mergedFocusable:a,mergedSize:s,showBorder:o,enterPressed:r,rtlEnabled:b,handleMousedown:l,handleKeydown:u,handleBlur:f,handleKeyup:d,handleClick:c,customColorCssVars:A(()=>{const{color:C}=t;if(!C)return null;const S=Js(C);return{"--n-border-color":C,"--n-border-color-hover":S,"--n-border-color-pressed":hu(C),"--n-border-color-focus":S,"--n-border-color-disabled":C}}),cssVars:m?void 0:y,themeClass:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender}},render(){const{mergedClsPrefix:t,tag:e,onRender:n}=this;n==null||n();const r=Lt(this.$slots.default,o=>o&&g("span",{class:`${t}-button__content`},o));return g(e,{ref:"selfElRef",class:[this.themeClass,`${t}-button`,`${t}-button--${this.type}-type`,`${t}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${t}-button--rtl`,this.disabled&&`${t}-button--disabled`,this.block&&`${t}-button--block`,this.enterPressed&&`${t}-button--pressed`,!this.text&&this.dashed&&`${t}-button--dashed`,this.color&&`${t}-button--color`,this.secondary&&`${t}-button--secondary`,this.loading&&`${t}-button--loading`,this.ghost&&`${t}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&r,g(Ai,{width:!0},{default:()=>Lt(this.$slots.icon,o=>(this.loading||this.renderIcon||o)&&g("span",{class:`${t}-button__icon`,style:{margin:xa(this.$slots.default)?"0":""}},g(Pi,null,{default:()=>this.loading?g(Qo,{clsPrefix:t,key:"loading",class:`${t}-icon-slot`,strokeWidth:20}):g("div",{key:"icon",class:`${t}-icon-slot`,role:"none"},this.renderIcon?this.renderIcon():o)})))}),this.iconPlacement==="left"&&r,this.text?null:g(jE,{ref:"waveElRef",clsPrefix:t}),this.showBorder?g("div",{"aria-hidden":!0,class:`${t}-button__border`,style:this.customColorCssVars}):null,this.showBorder?g("div",{"aria-hidden":!0,class:`${t}-button__state-border`,style:this.customColorCssVars}):null)}}),Ko=At,Bn="0!important",Ek="-1px!important";function Za(t){return M(`${t}-type`,[O("& +",[k("button",{},[M(`${t}-type`,[F("border",{borderLeftWidth:Bn}),F("state-border",{left:Ek})])])])])}function Ja(t){return M(`${t}-type`,[O("& +",[k("button",[M(`${t}-type`,[F("border",{borderTopWidth:Bn}),F("state-border",{top:Ek})])])])])}const NH=k("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[wt("vertical",{flexDirection:"row"},[wt("rtl",[k("button",[O("&:first-child:not(:last-child)",`
 margin-right: ${Bn};
 border-top-right-radius: ${Bn};
 border-bottom-right-radius: ${Bn};
 `),O("&:last-child:not(:first-child)",`
 margin-left: ${Bn};
 border-top-left-radius: ${Bn};
 border-bottom-left-radius: ${Bn};
 `),O("&:not(:first-child):not(:last-child)",`
 margin-left: ${Bn};
 margin-right: ${Bn};
 border-radius: ${Bn};
 `),Za("default"),M("ghost",[Za("primary"),Za("info"),Za("success"),Za("warning"),Za("error")])])])]),M("vertical",{flexDirection:"column"},[k("button",[O("&:first-child:not(:last-child)",`
 margin-bottom: ${Bn};
 margin-left: ${Bn};
 margin-right: ${Bn};
 border-bottom-left-radius: ${Bn};
 border-bottom-right-radius: ${Bn};
 `),O("&:last-child:not(:first-child)",`
 margin-top: ${Bn};
 margin-left: ${Bn};
 margin-right: ${Bn};
 border-top-left-radius: ${Bn};
 border-top-right-radius: ${Bn};
 `),O("&:not(:first-child):not(:last-child)",`
 margin: ${Bn};
 border-radius: ${Bn};
 `),Ja("default"),M("ghost",[Ja("primary"),Ja("info"),Ja("success"),Ja("warning"),Ja("error")])])])]),kk={size:{type:String,default:void 0},vertical:Boolean},Ph=ce({name:"ButtonGroup",props:kk,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=Ge(t);return xo("-button-group",NH,e),ft(wk,t),{rtlEnabled:rn("ButtonGroup",n,e),mergedClsPrefix:e}},render(){const{mergedClsPrefix:t}=this;return g("div",{class:[`${t}-button-group`,this.rtlEnabled&&`${t}-button-group--rtl`,this.vertical&&`${t}-button-group--vertical`],role:"group"},this.$slots)}});function Tn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ml(t,e){const n=Dt(t);return isNaN(e)?Tn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function cr(t,e){const n=Dt(t);if(isNaN(e))return Tn(t,NaN);if(!e)return n;const r=n.getDate(),o=Tn(t,n.getTime());o.setMonth(n.getMonth()+e+1,0);const i=o.getDate();return r>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}const Pk=6048e5,UH=864e5,xp=6e4,HH=36e5,VH=1e3,qx=525600,Yx=43200,Xx=1440;function Fl(t){return Yo(t,{weekStartsOn:1})}function Ak(t){const e=Dt(t),n=e.getFullYear(),r=Tn(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=Fl(r),i=Tn(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const s=Fl(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Hs(t){const e=Dt(t);return e.setHours(0,0,0,0),e}function Ml(t){const e=Dt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function jH(t,e){const n=Hs(t),r=Hs(e),o=+n-Ml(n),i=+r-Ml(r);return Math.round((o-i)/UH)}function WH(t){const e=Ak(t),n=Tn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Fl(n)}function KH(t,e){const n=e*3;return cr(t,n)}function Cp(t,e){return cr(t,e*12)}function GH(t,e){const n=Dt(t),r=Dt(e),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function qH(t,e){const n=Hs(t),r=Hs(e);return+n==+r}function YH(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Io(t){if(!YH(t)&&typeof t!="number")return!1;const e=Dt(t);return!isNaN(Number(e))}function XH(t){const e=Dt(t);return Math.trunc(e.getMonth()/3)+1}function QH(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function ZH(t){const e=Dt(t);return e.setSeconds(0,0),e}function dd(t){const e=Dt(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Po(t){const e=Dt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Bd(t){const e=Dt(t),n=Tn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function JH(t){const e=Dt(t);return jH(e,Bd(e))+1}function Ik(t){const e=Dt(t),n=+Fl(e)-+WH(e);return Math.round(n/Pk)+1}function S0(t,e){var d,u,f,m;const n=Dt(t),r=n.getFullYear(),o=Oa(),i=(e==null?void 0:e.firstWeekContainsDate)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??o.firstWeekContainsDate??((m=(f=o.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=Tn(t,0);s.setFullYear(r+1,0,i),s.setHours(0,0,0,0);const a=Yo(s,e),l=Tn(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Yo(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function e9(t,e){var a,l,c,d;const n=Oa(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,o=S0(t,e),i=Tn(t,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),Yo(i,e)}function _k(t,e){const n=Dt(t),r=+Yo(n,e)-+e9(n,e);return Math.round(r/Pk)+1}function Cn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const cs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Cn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Cn(n+1,2)},d(t,e){return Cn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Cn(t.getHours()%12||12,e.length)},H(t,e){return Cn(t.getHours(),e.length)},m(t,e){return Cn(t.getMinutes(),e.length)},s(t,e){return Cn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Cn(o,e.length)}},el={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qx={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return cs.y(t,e)},Y:function(t,e,n,r){const o=S0(t,r),i=o>0?o:1-o;if(e==="YY"){const s=i%100;return Cn(s,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Cn(i,e.length)},R:function(t,e){const n=Ak(t);return Cn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Cn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Cn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Cn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return cs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Cn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const o=_k(t,r);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Cn(o,e.length)},I:function(t,e,n){const r=Ik(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Cn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):cs.d(t,e)},D:function(t,e,n){const r=JH(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Cn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Cn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Cn(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return Cn(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let o;switch(r===12?o=el.noon:r===0?o=el.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let o;switch(r>=17?o=el.evening:r>=12?o=el.afternoon:r>=4?o=el.morning:o=el.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return cs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):cs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Cn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Cn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):cs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):cs.s(t,e)},S:function(t,e){return cs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Jx(r);case"XXXX":case"XX":return sa(r);case"XXXXX":case"XXX":default:return sa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Jx(r);case"xxxx":case"xx":return sa(r);case"xxxxx":case"xxx":default:return sa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Zx(r,":");case"OOOO":default:return"GMT"+sa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Zx(r,":");case"zzzz":default:return"GMT"+sa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Cn(r,e.length)},T:function(t,e,n){const r=t.getTime();return Cn(r,e.length)}};function Zx(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),i=r%60;return i===0?n+String(o):n+String(o)+e+Cn(i,2)}function Jx(t,e){return t%60===0?(t>0?"-":"+")+Cn(Math.abs(t)/60,2):sa(t,e)}function sa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Cn(Math.trunc(r/60),2),i=Cn(r%60,2);return n+o+e+i}const eC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Lk=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},t9=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return eC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",eC(r,e)).replace("{{time}}",Lk(o,e))},Sp={p:Lk,P:t9},n9=/^D+$/,r9=/^Y+$/,o9=["D","DD","YY","YYYY"];function Dk(t){return n9.test(t)}function Ok(t){return r9.test(t)}function wp(t,e,n){const r=i9(t,e,n);if(console.warn(r),o9.includes(t))throw new RangeError(r)}function i9(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l9=/^'([^]*?)'?$/,c9=/''/g,d9=/[a-zA-Z]/;function cn(t,e,n){var d,u,f,m,h,p,v,b;const r=Oa(),o=(n==null?void 0:n.locale)??r.locale??xh,i=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((p=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,a=Dt(t);if(!Io(a))throw new RangeError("Invalid time value");let l=e.match(a9).map(y=>{const x=y[0];if(x==="p"||x==="P"){const C=Sp[x];return C(y,o.formatLong)}return y}).join("").match(s9).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:u9(y)};if(Qx[x])return{isToken:!0,value:y};if(x.match(d9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});o.localize.preprocessor&&(l=o.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:o};return l.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ok(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Dk(x))&&wp(x,e,String(t));const C=Qx[x[0]];return C(a,x,o.localize,c)}).join("")}function u9(t){const e=t.match(l9);return e?e[1].replace(c9,"'"):t}function f9(t,e,n){const r=Oa(),o=(n==null?void 0:n.locale)??r.locale??xh,i=GH(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let a,l;i>0?(a=Dt(e),l=Dt(t)):(a=Dt(t),l=Dt(e));const c=QH((n==null?void 0:n.roundingMethod)??"round"),d=l.getTime()-a.getTime(),u=d/xp,f=Ml(l)-Ml(a),m=(d-f)/xp,h=n==null?void 0:n.unit;let p;if(h?p=h:u<1?p="second":u<60?p="minute":u<Xx?p="hour":m<Yx?p="day":m<qx?p="month":p="year",p==="second"){const v=c(d/1e3);return o.formatDistance("xSeconds",v,s)}else if(p==="minute"){const v=c(u);return o.formatDistance("xMinutes",v,s)}else if(p==="hour"){const v=c(u/60);return o.formatDistance("xHours",v,s)}else if(p==="day"){const v=c(m/Xx);return o.formatDistance("xDays",v,s)}else if(p==="month"){const v=c(m/Yx);return v===12&&h!=="month"?o.formatDistance("xYears",1,s):o.formatDistance("xMonths",v,s)}else{const v=c(m/qx);return o.formatDistance("xYears",v,s)}}function tC(t){return Dt(t*1e3)}function Eo(t){return Dt(t).getDate()}function h9(t){return Dt(t).getDay()}function g9(t){const e=Dt(t),n=e.getFullYear(),r=e.getMonth(),o=Tn(t,0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function $k(){return Object.assign({},Oa())}function ws(t){return Dt(t).getHours()}function m9(t){let n=Dt(t).getDay();return n===0&&(n=7),n}function p9(t){return Dt(t).getMilliseconds()}function Of(t){return Dt(t).getMinutes()}function fn(t){return Dt(t).getMonth()}function $f(t){return Dt(t).getSeconds()}function ht(t){return Dt(t).getTime()}function vn(t){return Dt(t).getFullYear()}function v9(t,e){const n=e instanceof Date?Tn(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const b9=10;class Fk{constructor(){Rt(this,"subPriority",0)}validate(e,n){return!0}}class y9 extends Fk{constructor(e,n,r,o,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=o,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class x9 extends Fk{constructor(){super(...arguments);Rt(this,"priority",b9);Rt(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Tn(n,v9(n,Date))}}class mn{run(e,n,r,o){const i=this.parse(e,n,r,o);return i?{setter:new y9(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class C9 extends mn{constructor(){super(...arguments);Rt(this,"priority",140);Rt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,o){switch(r){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"})||o.era(n,{width:"narrow"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})||o.era(n,{width:"abbreviated"})||o.era(n,{width:"narrow"})}}set(n,r,o){return r.era=o,n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}const Jn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ui={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function er(t,e){return t&&{value:e(t.value),rest:t.rest}}function Nn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function fi(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*HH+i*xp+s*VH),rest:e.slice(n[0].length)}}function Mk(t){return Nn(Jn.anyDigitsSigned,t)}function Yn(t,e){switch(t){case 1:return Nn(Jn.singleDigit,e);case 2:return Nn(Jn.twoDigits,e);case 3:return Nn(Jn.threeDigits,e);case 4:return Nn(Jn.fourDigits,e);default:return Nn(new RegExp("^\\d{1,"+t+"}"),e)}}function Ff(t,e){switch(t){case 1:return Nn(Jn.singleDigitSigned,e);case 2:return Nn(Jn.twoDigitsSigned,e);case 3:return Nn(Jn.threeDigitsSigned,e);case 4:return Nn(Jn.fourDigitsSigned,e);default:return Nn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function w0(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Bk(t,e){const n=e>0,r=n?e:1-e;let o;if(r<=50)o=t||100;else{const i=r+50,s=Math.trunc(i/100)*100,a=t>=i%100;o=t+s-(a?100:0)}return n?o:1-o}function zk(t){return t%400===0||t%4===0&&t%100!==0}class S9 extends mn{constructor(){super(...arguments);Rt(this,"priority",130);Rt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,o){const i=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return er(Yn(4,n),i);case"yo":return er(o.ordinalNumber(n,{unit:"year"}),i);default:return er(Yn(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,o){const i=n.getFullYear();if(o.isTwoDigitYear){const a=Bk(o.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?o.year:1-o.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class w9 extends mn{constructor(){super(...arguments);Rt(this,"priority",130);Rt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,o){const i=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return er(Yn(4,n),i);case"Yo":return er(o.ordinalNumber(n,{unit:"year"}),i);default:return er(Yn(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,o,i){const s=S0(n,i);if(o.isTwoDigitYear){const l=Bk(o.year,s);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Yo(n,i)}const a=!("era"in r)||r.era===1?o.year:1-o.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Yo(n,i)}}class R9 extends mn{constructor(){super(...arguments);Rt(this,"priority",130);Rt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Ff(r==="R"?4:r.length,n)}set(n,r,o){const i=Tn(n,0);return i.setFullYear(o,0,4),i.setHours(0,0,0,0),Fl(i)}}class T9 extends mn{constructor(){super(...arguments);Rt(this,"priority",130);Rt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Ff(r==="u"?4:r.length,n)}set(n,r,o){return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class E9 extends mn{constructor(){super(...arguments);Rt(this,"priority",120);Rt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,o){switch(r){case"Q":case"QQ":return Yn(r.length,n);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"})||o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})||o.quarter(n,{width:"abbreviated",context:"formatting"})||o.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,o){return n.setMonth((o-1)*3,1),n.setHours(0,0,0,0),n}}class k9 extends mn{constructor(){super(...arguments);Rt(this,"priority",120);Rt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,o){switch(r){case"q":case"qq":return Yn(r.length,n);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"})||o.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})||o.quarter(n,{width:"abbreviated",context:"standalone"})||o.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,o){return n.setMonth((o-1)*3,1),n.setHours(0,0,0,0),n}}class P9 extends mn{constructor(){super(...arguments);Rt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Rt(this,"priority",110)}parse(n,r,o){const i=s=>s-1;switch(r){case"M":return er(Nn(Jn.month,n),i);case"MM":return er(Yn(2,n),i);case"Mo":return er(o.ordinalNumber(n,{unit:"month"}),i);case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"})||o.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})||o.month(n,{width:"abbreviated",context:"formatting"})||o.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,o){return n.setMonth(o,1),n.setHours(0,0,0,0),n}}class A9 extends mn{constructor(){super(...arguments);Rt(this,"priority",110);Rt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,o){const i=s=>s-1;switch(r){case"L":return er(Nn(Jn.month,n),i);case"LL":return er(Yn(2,n),i);case"Lo":return er(o.ordinalNumber(n,{unit:"month"}),i);case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"})||o.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})||o.month(n,{width:"abbreviated",context:"standalone"})||o.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,o){return n.setMonth(o,1),n.setHours(0,0,0,0),n}}function I9(t,e,n){const r=Dt(t),o=_k(r,n)-e;return r.setDate(r.getDate()-o*7),r}class _9 extends mn{constructor(){super(...arguments);Rt(this,"priority",100);Rt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,o){switch(r){case"w":return Nn(Jn.week,n);case"wo":return o.ordinalNumber(n,{unit:"week"});default:return Yn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,o,i){return Yo(I9(n,o,i),i)}}function L9(t,e){const n=Dt(t),r=Ik(n)-e;return n.setDate(n.getDate()-r*7),n}class D9 extends mn{constructor(){super(...arguments);Rt(this,"priority",100);Rt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,o){switch(r){case"I":return Nn(Jn.week,n);case"Io":return o.ordinalNumber(n,{unit:"week"});default:return Yn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,o){return Fl(L9(n,o))}}const O9=[31,28,31,30,31,30,31,31,30,31,30,31],$9=[31,29,31,30,31,30,31,31,30,31,30,31];class F9 extends mn{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"subPriority",1);Rt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,o){switch(r){case"d":return Nn(Jn.date,n);case"do":return o.ordinalNumber(n,{unit:"date"});default:return Yn(r.length,n)}}validate(n,r){const o=n.getFullYear(),i=zk(o),s=n.getMonth();return i?r>=1&&r<=$9[s]:r>=1&&r<=O9[s]}set(n,r,o){return n.setDate(o),n.setHours(0,0,0,0),n}}class M9 extends mn{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"subpriority",1);Rt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,o){switch(r){case"D":case"DD":return Nn(Jn.dayOfYear,n);case"Do":return o.ordinalNumber(n,{unit:"date"});default:return Yn(r.length,n)}}validate(n,r){const o=n.getFullYear();return zk(o)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,o){return n.setMonth(0,o),n.setHours(0,0,0,0),n}}function R0(t,e,n){var u,f,m,h;const r=Oa(),o=(n==null?void 0:n.weekStartsOn)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((h=(m=r.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,i=Dt(t),s=i.getDay(),l=(e%7+7)%7,c=7-o,d=e<0||e>6?e-(s+c)%7:(l+c)%7-(s+c)%7;return ml(i,d)}class B9 extends mn{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,o){switch(r){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,o,i){return n=R0(n,o,i),n.setHours(0,0,0,0),n}}class z9 extends mn{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,o,i){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return er(Yn(r.length,n),s);case"eo":return er(o.ordinalNumber(n,{unit:"day"}),s);case"eee":return o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,o,i){return n=R0(n,o,i),n.setHours(0,0,0,0),n}}class N9 extends mn{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,o,i){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return er(Yn(r.length,n),s);case"co":return er(o.ordinalNumber(n,{unit:"day"}),s);case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"})||o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})||o.day(n,{width:"abbreviated",context:"standalone"})||o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,o,i){return n=R0(n,o,i),n.setHours(0,0,0,0),n}}function U9(t,e){const n=Dt(t),r=m9(n),o=e-r;return ml(n,o)}class H9 extends mn{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,o){const i=s=>s===0?7:s;switch(r){case"i":case"ii":return Yn(r.length,n);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return er(o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return er(o.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return er(o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return er(o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,o){return n=U9(n,o),n.setHours(0,0,0,0),n}}class V9 extends mn{constructor(){super(...arguments);Rt(this,"priority",80);Rt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,o){switch(r){case"a":case"aa":case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,o){return n.setHours(w0(o),0,0,0),n}}class j9 extends mn{constructor(){super(...arguments);Rt(this,"priority",80);Rt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,o){switch(r){case"b":case"bb":case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,o){return n.setHours(w0(o),0,0,0),n}}class W9 extends mn{constructor(){super(...arguments);Rt(this,"priority",80);Rt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,o){switch(r){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,o){return n.setHours(w0(o),0,0,0),n}}class K9 extends mn{constructor(){super(...arguments);Rt(this,"priority",70);Rt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,o){switch(r){case"h":return Nn(Jn.hour12h,n);case"ho":return o.ordinalNumber(n,{unit:"hour"});default:return Yn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,o){const i=n.getHours()>=12;return i&&o<12?n.setHours(o+12,0,0,0):!i&&o===12?n.setHours(0,0,0,0):n.setHours(o,0,0,0),n}}class G9 extends mn{constructor(){super(...arguments);Rt(this,"priority",70);Rt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,o){switch(r){case"H":return Nn(Jn.hour23h,n);case"Ho":return o.ordinalNumber(n,{unit:"hour"});default:return Yn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,o){return n.setHours(o,0,0,0),n}}class q9 extends mn{constructor(){super(...arguments);Rt(this,"priority",70);Rt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,o){switch(r){case"K":return Nn(Jn.hour11h,n);case"Ko":return o.ordinalNumber(n,{unit:"hour"});default:return Yn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,o){return n.getHours()>=12&&o<12?n.setHours(o+12,0,0,0):n.setHours(o,0,0,0),n}}class Y9 extends mn{constructor(){super(...arguments);Rt(this,"priority",70);Rt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,o){switch(r){case"k":return Nn(Jn.hour24h,n);case"ko":return o.ordinalNumber(n,{unit:"hour"});default:return Yn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,o){const i=o<=24?o%24:o;return n.setHours(i,0,0,0),n}}class X9 extends mn{constructor(){super(...arguments);Rt(this,"priority",60);Rt(this,"incompatibleTokens",["t","T"])}parse(n,r,o){switch(r){case"m":return Nn(Jn.minute,n);case"mo":return o.ordinalNumber(n,{unit:"minute"});default:return Yn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,o){return n.setMinutes(o,0,0),n}}class Q9 extends mn{constructor(){super(...arguments);Rt(this,"priority",50);Rt(this,"incompatibleTokens",["t","T"])}parse(n,r,o){switch(r){case"s":return Nn(Jn.second,n);case"so":return o.ordinalNumber(n,{unit:"second"});default:return Yn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,o){return n.setSeconds(o,0),n}}class Z9 extends mn{constructor(){super(...arguments);Rt(this,"priority",30);Rt(this,"incompatibleTokens",["t","T"])}parse(n,r){const o=i=>Math.trunc(i*Math.pow(10,-r.length+3));return er(Yn(r.length,n),o)}set(n,r,o){return n.setMilliseconds(o),n}}class J9 extends mn{constructor(){super(...arguments);Rt(this,"priority",10);Rt(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return fi(ui.basicOptionalMinutes,n);case"XX":return fi(ui.basic,n);case"XXXX":return fi(ui.basicOptionalSeconds,n);case"XXXXX":return fi(ui.extendedOptionalSeconds,n);case"XXX":default:return fi(ui.extended,n)}}set(n,r,o){return r.timestampIsSet?n:Tn(n,n.getTime()-Ml(n)-o)}}class e7 extends mn{constructor(){super(...arguments);Rt(this,"priority",10);Rt(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return fi(ui.basicOptionalMinutes,n);case"xx":return fi(ui.basic,n);case"xxxx":return fi(ui.basicOptionalSeconds,n);case"xxxxx":return fi(ui.extendedOptionalSeconds,n);case"xxx":default:return fi(ui.extended,n)}}set(n,r,o){return r.timestampIsSet?n:Tn(n,n.getTime()-Ml(n)-o)}}class t7 extends mn{constructor(){super(...arguments);Rt(this,"priority",40);Rt(this,"incompatibleTokens","*")}parse(n){return Mk(n)}set(n,r,o){return[Tn(n,o*1e3),{timestampIsSet:!0}]}}class n7 extends mn{constructor(){super(...arguments);Rt(this,"priority",20);Rt(this,"incompatibleTokens","*")}parse(n){return Mk(n)}set(n,r,o){return[Tn(n,o),{timestampIsSet:!0}]}}const r7={G:new C9,y:new S9,Y:new w9,R:new R9,u:new T9,Q:new E9,q:new k9,M:new P9,L:new A9,w:new _9,I:new D9,d:new F9,D:new M9,E:new B9,e:new z9,c:new N9,i:new H9,a:new V9,b:new j9,B:new W9,h:new K9,H:new G9,K:new q9,k:new Y9,m:new X9,s:new Q9,S:new Z9,X:new J9,x:new e7,t:new t7,T:new n7},o7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,s7=/^'([^]*?)'?$/,a7=/''/g,l7=/\S/,c7=/[a-zA-Z]/;function d7(t,e,n,r){var p,v,b,y,x,C,S,T;const o=$k(),i=(r==null?void 0:r.locale)??o.locale??xh,s=(r==null?void 0:r.firstWeekContainsDate)??((v=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(b=o.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((C=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:C.weekStartsOn)??o.weekStartsOn??((T=(S=o.locale)==null?void 0:S.options)==null?void 0:T.weekStartsOn)??0;if(e==="")return t===""?Dt(n):Tn(n,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:i},c=[new x9],d=e.match(i7).map(w=>{const E=w[0];if(E in Sp){const R=Sp[E];return R(w,i.formatLong)}return w}).join("").match(o7),u=[];for(let w of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&Ok(w)&&wp(w,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Dk(w)&&wp(w,e,t);const E=w[0],R=r7[E];if(R){const{incompatibleTokens:P}=R;if(Array.isArray(P)){const I=u.find(L=>P.includes(L.token)||L.token===E);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${w}\` at the same time`)}else if(R.incompatibleTokens==="*"&&u.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);u.push({token:E,fullToken:w});const _=R.run(t,w,i.match,l);if(!_)return Tn(n,NaN);c.push(_.setter),t=_.rest}else{if(E.match(c7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(w==="''"?w="'":E==="'"&&(w=u7(w)),t.indexOf(w)===0)t=t.slice(w.length);else return Tn(n,NaN)}}if(t.length>0&&l7.test(t))return Tn(n,NaN);const f=c.map(w=>w.priority).sort((w,E)=>E-w).filter((w,E,R)=>R.indexOf(w)===E).map(w=>c.filter(E=>E.priority===w).sort((E,R)=>R.subPriority-E.subPriority)).map(w=>w[0]);let m=Dt(n);if(isNaN(m.getTime()))return Tn(n,NaN);const h={};for(const w of f){if(!w.validate(m,l))return Tn(n,NaN);const E=w.set(m,h,l);Array.isArray(E)?(m=E[0],Object.assign(h,E[1])):m=E}return Tn(n,m)}function u7(t){return t.match(s7)[1].replace(a7,"'")}function f7(t){const e=Dt(t);return e.setMinutes(0,0,0),e}function zd(t,e){const n=Dt(t),r=Dt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Nk(t,e){const n=dd(t),r=dd(e);return+n==+r}function T0(t){const e=Dt(t);return e.setMilliseconds(0),e}function Uk(t,e){const n=Dt(t),r=Dt(e);return n.getFullYear()===r.getFullYear()}function E0(t,e){const n=Dt(t),r=n.getFullYear(),o=n.getDate(),i=Tn(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const s=g9(i);return n.setMonth(e,Math.min(o,s)),n}function kr(t,e){let n=Dt(t);return isNaN(+n)?Tn(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=E0(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function ea(t,e){const n=Dt(t);return n.setHours(e),n}function $g(t,e){const n=Dt(t);return n.setMinutes(e),n}function h7(t,e){const n=Dt(t),r=Math.trunc(n.getMonth()/3)+1,o=e-r;return E0(n,n.getMonth()+o*3)}function Fg(t,e){const n=Dt(t);return n.setSeconds(e),n}function Rp(t,e){const n=Dt(t);return isNaN(+n)?Tn(t,NaN):(n.setFullYear(e),n)}const g7={date:qH,month:zd,year:Uk,quarter:Nk};function m7(t){return(e,n)=>{const r=(t+1)%7;return oB(e,n,{weekStartsOn:r})}}function Nr(t,e,n,r=0){return(n==="week"?m7(r):g7[n])(t,e)}function Mg(t,e,n,r,o,i){return o==="date"?p7(t,e,n,r):v7(t,e,n,r,i)}function p7(t,e,n,r){let o=!1,i=!1,s=!1;Array.isArray(n)&&(n[0]<t&&t<n[1]&&(o=!0),Nr(n[0],t,"date")&&(i=!0),Nr(n[1],t,"date")&&(s=!0));const a=n!==null&&(Array.isArray(n)?Nr(n[0],t,"date")||Nr(n[1],t,"date"):Nr(n,t,"date"));return{type:"date",dateObject:{date:Eo(t),month:fn(t),year:vn(t)},inCurrentMonth:zd(t,e),isCurrentDate:Nr(r,t,"date"),inSpan:o,inSelectedWeek:!1,startOfSpan:i,endOfSpan:s,selected:a,ts:ht(t)}}function Hk(t,e,n){const r=new Date(2e3,t,1).getTime();return cn(r,e,{locale:n})}function Vk(t,e,n){const r=new Date(t,1,1).getTime();return cn(r,e,{locale:n})}function jk(t,e,n){const r=new Date(2e3,t*3-2,1).getTime();return cn(r,e,{locale:n})}function v7(t,e,n,r,o){let i=!1,s=!1,a=!1;Array.isArray(n)&&(n[0]<t&&t<n[1]&&(i=!0),Nr(n[0],t,"week",o)&&(s=!0),Nr(n[1],t,"week",o)&&(a=!0));const l=n!==null&&(Array.isArray(n)?Nr(n[0],t,"week",o)||Nr(n[1],t,"week",o):Nr(n,t,"week",o));return{type:"date",dateObject:{date:Eo(t),month:fn(t),year:vn(t)},inCurrentMonth:zd(t,e),isCurrentDate:Nr(r,t,"date"),inSpan:i,startOfSpan:s,endOfSpan:a,selected:!1,inSelectedWeek:l,ts:ht(t)}}function b7(t,e,n,{monthFormat:r}){return{type:"month",monthFormat:r,dateObject:{month:fn(t),year:vn(t)},isCurrent:zd(n,t),selected:e!==null&&Nr(e,t,"month"),ts:ht(t)}}function y7(t,e,n,{yearFormat:r}){return{type:"year",yearFormat:r,dateObject:{year:vn(t)},isCurrent:Uk(n,t),selected:e!==null&&Nr(e,t,"year"),ts:ht(t)}}function x7(t,e,n,{quarterFormat:r}){return{type:"quarter",quarterFormat:r,dateObject:{quarter:XH(t),year:vn(t)},isCurrent:Nk(n,t),selected:e!==null&&Nr(e,t,"quarter"),ts:ht(t)}}function Mf(t,e,n,r,o=!1,i=!1){const s=i?"week":"date",a=fn(t);let l=ht(Po(t)),c=ht(ml(l,-1));const d=[];let u=!o;for(;h9(c)!==r||u;)d.unshift(Mg(c,t,e,n,s,r)),c=ht(ml(c,-1)),u=!1;for(;fn(l)===a;)d.push(Mg(l,t,e,n,s,r)),l=ht(ml(l,1));const f=o?d.length<=28?28:d.length<=35?35:42:42;for(;d.length<f;)d.push(Mg(l,t,e,n,s,r)),l=ht(ml(l,1));return d}function Tp(t,e,n,r){const o=[],i=Bd(t);for(let s=0;s<12;s++)o.push(b7(ht(cr(i,s)),e,n,r));return o}function Ep(t,e,n,r){const o=[],i=Bd(t);for(let s=0;s<4;s++)o.push(x7(ht(KH(i,s)),e,n,r));return o}function kp(t,e,n,r){const o=r.value,i=[],s=Bd(Rp(new Date,o[0]));for(let a=0;a<o[1]-o[0];a++)i.push(y7(ht(Cp(s,a)),t,e,n));return i}function Gr(t,e,n,r){const o=d7(t,e,n,r);return Io(o)?cn(o,e,r)===t?o:new Date(Number.NaN):o}function Zu(t){if(t===void 0)return;if(typeof t=="number")return t;const[e,n,r]=t.split(":");return{hours:Number(e),minutes:Number(n),seconds:Number(r)}}function tl(t,e){return Array.isArray(t)?t[e==="start"?0:1]:null}const C7={titleFontSize:"22px"};function Wk(t){const{borderRadius:e,fontSize:n,lineHeight:r,textColor2:o,textColor1:i,textColorDisabled:s,dividerColor:a,fontWeightStrong:l,primaryColor:c,baseColor:d,hoverColor:u,cardColor:f,modalColor:m,popoverColor:h}=t;return Object.assign(Object.assign({},C7),{borderRadius:e,borderColor:vt(f,a),borderColorModal:vt(m,a),borderColorPopover:vt(h,a),textColor:o,titleFontWeight:l,titleTextColor:i,dayTextColor:s,fontSize:n,lineHeight:r,dateColorCurrent:c,dateTextColorCurrent:d,cellColorHover:vt(f,u),cellColorHoverModal:vt(m,u),cellColorHoverPopover:vt(h,u),cellColor:f,cellColorModal:m,cellColorPopover:h,barColor:c})}const S7={name:"Calendar",common:lt,peers:{Button:so},self:Wk},w7={name:"Calendar",common:st,peers:{Button:ao},self:Wk},R7=O([k("calendar",`
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 height: 720px;
 display: flex;
 flex-direction: column;
 `,[k("calendar-prev-btn",`
 cursor: pointer;
 `),k("calendar-next-btn",`
 cursor: pointer;
 `),k("calendar-header",`
 display: flex;
 align-items: center;
 line-height: 1;
 font-size: var(--n-title-font-size);
 padding: 0 0 18px 0;
 justify-content: space-between;
 `,[F("title",`
 color: var(--n-title-text-color);
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 `),F("extra",`
 display: flex;
 align-items: center;
 `)]),k("calendar-dates",`
 display: grid;
 grid-template-columns: repeat(7, minmax(0, 1fr));
 grid-auto-rows: 1fr;
 border-radius: var(--n-border-radius);
 flex: 1;
 border-top: 1px solid;
 border-left: 1px solid;
 border-color: var(--n-border-color);
 transition: border-color .3s var(--n-bezier);
 `),k("calendar-cell",`
 box-sizing: border-box;
 padding: 10px;
 border-right: 1px solid;
 border-bottom: 1px solid;
 border-color: var(--n-border-color);
 cursor: pointer;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[O("&:nth-child(7)",`
 border-top-right-radius: var(--n-border-radius);
 `),O("&:nth-last-child(7)",`
 border-bottom-left-radius: var(--n-border-radius);
 `),O("&:last-child",`
 border-bottom-right-radius: var(--n-border-radius);
 `),O("&:hover",`
 background-color: var(--n-cell-color-hover);
 `),F("bar",`
 position: absolute;
 left: 0;
 right: 0;
 bottom: -1px;
 height: 3px;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `),M("selected",[F("bar",`
 background-color: var(--n-bar-color);
 `)]),k("calendar-date",`
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 color: var(--n-text-color);
 `,[F("date",`
 color: var(--n-text-color);
 `)]),M("disabled, other-month",`
 color: var(--n-day-text-color);
 `,[k("calendar-date",[F("date",`
 color: var(--n-day-text-color);
 `)])]),M("disabled",`
 cursor: not-allowed;
 `),M("current",[k("calendar-date",[F("date",`
 color: var(--n-date-text-color-current);
 background-color: var(--n-date-color-current);
 `)])]),k("calendar-date",`
 position: relative;
 line-height: 1;
 display: flex;
 align-items: center;
 height: 1em;
 justify-content: space-between;
 padding-bottom: .75em;
 `,[F("date",`
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 margin-left: -0.4em;
 width: 1.8em;
 height: 1.8em;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),F("day",`
 color: var(--n-day-text-color);
 transition: color .3s var(--n-bezier);
 `)])])]),Ti(k("calendar",[k("calendar-dates",`
 border-color: var(--n-border-color-modal);
 `),k("calendar-cell",`
 border-color: var(--n-border-color-modal);
 `,[O("&:hover",`
 background-color: var(--n-cell-color-hover-modal);
 `)])])),Ji(k("calendar",[k("calendar-dates",`
 border-color: var(--n-border-color-popover);
 `),k("calendar-cell",`
 border-color: var(--n-border-color-popover);
 `,[O("&:hover",`
 background-color: var(--n-cell-color-hover-popover);
 `)])]))]),Kk=Object.assign(Object.assign({},ke.props),{isDateDisabled:Function,value:Number,defaultValue:{type:Number,default:null},onPanelChange:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),T7=ce({name:"Calendar",props:Kk,slots:Object,setup(t){var e;const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ge(t),o=ke("Calendar","-calendar",R7,S7,t,n),{localeRef:i,dateLocaleRef:s}=Mn("DatePicker"),a=Date.now(),l=z(Po((e=t.defaultValue)!==null&&e!==void 0?e:a).valueOf()),c=z(t.defaultValue||null),d=Ft(Se(t,"value"),c);function u(b,y){const{onUpdateValue:x,"onUpdate:value":C}=t;x&&we(x,b,y),C&&we(C,b,y),c.value=b}function f(){var b;const y=cr(l.value,-1).valueOf();l.value=y,(b=t.onPanelChange)===null||b===void 0||b.call(t,{year:vn(y),month:fn(y)+1})}function m(){var b;const y=cr(l.value,1).valueOf();l.value=y,(b=t.onPanelChange)===null||b===void 0||b.call(t,{year:vn(y),month:fn(y)+1})}function h(){var b;const{value:y}=l,x=vn(y),C=fn(y),S=Po(a).valueOf();l.value=S;const T=vn(S),w=fn(S);(x!==T||C!==w)&&((b=t.onPanelChange)===null||b===void 0||b.call(t,{year:T,month:w+1}))}const p=A(()=>{const{common:{cubicBezierEaseInOut:b},self:{borderColor:y,borderColorModal:x,borderColorPopover:C,borderRadius:S,titleFontSize:T,textColor:w,titleFontWeight:E,titleTextColor:R,dayTextColor:P,fontSize:_,lineHeight:I,dateColorCurrent:L,dateTextColorCurrent:N,cellColorHover:H,cellColor:G,cellColorModal:W,barColor:J,cellColorPopover:ne,cellColorHoverModal:D,cellColorHoverPopover:B}}=o.value;return{"--n-bezier":b,"--n-border-color":y,"--n-border-color-modal":x,"--n-border-color-popover":C,"--n-border-radius":S,"--n-text-color":w,"--n-title-font-weight":E,"--n-title-font-size":T,"--n-title-text-color":R,"--n-day-text-color":P,"--n-font-size":_,"--n-line-height":I,"--n-date-color-current":L,"--n-date-text-color-current":N,"--n-cell-color":G,"--n-cell-color-modal":W,"--n-cell-color-popover":ne,"--n-cell-color-hover":H,"--n-cell-color-hover-modal":D,"--n-cell-color-hover-popover":B,"--n-bar-color":J}}),v=r?ot("calendar",void 0,p,t):void 0;return{mergedClsPrefix:n,locale:i,dateLocale:s,now:a,mergedValue:d,monthTs:l,dateItems:A(()=>Mf(l.value,d.value,a,i.value.firstDayOfWeek,!0)),doUpdateValue:u,handleTodayClick:h,handlePrevClick:f,handleNextClick:m,mergedTheme:o,cssVars:r?void 0:p,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){const{isDateDisabled:t,mergedClsPrefix:e,monthTs:n,cssVars:r,mergedValue:o,mergedTheme:i,$slots:s,locale:{monthBeforeYear:a,today:l},dateLocale:{locale:c},handleTodayClick:d,handlePrevClick:u,handleNextClick:f,onRender:m}=this;m==null||m();const h=o&&Hs(o).valueOf(),p=vn(n),v=fn(n)+1;return g("div",{class:[`${e}-calendar`,this.themeClass],style:r},g("div",{class:`${e}-calendar-header`},g("div",{class:`${e}-calendar-header__title`},Vn(s.header,{year:p,month:v},()=>{const b=cn(n,"MMMM",{locale:c});return[a?`${b} ${p}`:`${p} ${b}`]})),g("div",{class:`${e}-calendar-header__extra`},g(Ph,null,{default:()=>g(Vt,null,g(At,{size:"small",onClick:u,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button},{icon:()=>g(yt,{clsPrefix:e,class:`${e}-calendar-prev-btn`},{default:()=>g(p0,null)})}),g(At,{size:"small",onClick:d,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button},{default:()=>l}),g(At,{size:"small",onClick:f,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button},{icon:()=>g(yt,{clsPrefix:e,class:`${e}-calendar-next-btn`},{default:()=>g(Ba,null)})}))}))),g("div",{class:`${e}-calendar-dates`},this.dateItems.map(({dateObject:b,ts:y,inCurrentMonth:x,isCurrentDate:C},S)=>{var T;const{year:w,month:E,date:R}=b,P=cn(y,"yyyy-MM-dd"),_=!x,I=(t==null?void 0:t(y))===!0,L=h===Hs(y).valueOf();return g("div",{key:`${v}-${S}`,class:[`${e}-calendar-cell`,I&&`${e}-calendar-cell--disabled`,_&&`${e}-calendar-cell--other-month`,I&&`${e}-calendar-cell--not-allowed`,C&&`${e}-calendar-cell--current`,L&&`${e}-calendar-cell--selected`],onClick:()=>{var N;if(I)return;const H=Po(y).valueOf();this.monthTs=H,_&&((N=this.onPanelChange)===null||N===void 0||N.call(this,{year:vn(H),month:fn(H)+1})),this.doUpdateValue(y,{year:w,month:E+1,date:R})}},g("div",{class:`${e}-calendar-date`},g("div",{class:`${e}-calendar-date__date`,title:P},R),S<7&&g("div",{class:`${e}-calendar-date__day`,title:P},cn(y,"EEE",{locale:c}))),(T=s.default)===null||T===void 0?void 0:T.call(s,{year:w,month:E+1,date:R}),g("div",{class:`${e}-calendar-cell__bar`}))})))}}),E7={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"};function Gk(t){const{primaryColor:e,borderRadius:n,lineHeight:r,fontSize:o,cardColor:i,textColor2:s,textColor1:a,dividerColor:l,fontWeightStrong:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,closeColorHover:m,closeColorPressed:h,modalColor:p,boxShadow1:v,popoverColor:b,actionColor:y}=t;return Object.assign(Object.assign({},E7),{lineHeight:r,color:i,colorModal:p,colorPopover:b,colorTarget:e,colorEmbedded:y,colorEmbeddedModal:y,colorEmbeddedPopover:y,textColor:s,titleTextColor:a,borderColor:l,actionColor:y,titleFontWeight:c,closeColorHover:m,closeColorPressed:h,closeBorderRadius:n,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,fontSizeSmall:o,fontSizeMedium:o,fontSizeLarge:o,fontSizeHuge:o,boxShadow:v,borderRadius:n})}const qk={name:"Card",common:lt,self:Gk},Yk={name:"Card",common:st,self(t){const e=Gk(t),{cardColor:n,modalColor:r,popoverColor:o}=t;return e.colorEmbedded=n,e.colorEmbeddedModal=r,e.colorEmbeddedPopover=o,e}},k7=O([k("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[UR({background:"var(--n-color-modal)"}),M("hoverable",[O("&:hover","box-shadow: var(--n-box-shadow);")]),M("content-segmented",[O(">",[F("content",{paddingTop:"var(--n-padding-bottom)"})])]),M("content-soft-segmented",[O(">",[F("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),M("footer-segmented",[O(">",[F("footer",{paddingTop:"var(--n-padding-bottom)"})])]),M("footer-soft-segmented",[O(">",[F("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),O(">",[k("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[F("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 min-width: 0;
 color: var(--n-title-text-color);
 `),F("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),F("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),F("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),F("content","flex: 1; min-width: 0;"),F("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[O("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),F("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),k("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[O("img",`
 display: block;
 width: 100%;
 `)]),M("bordered",`
 border: 1px solid var(--n-border-color);
 `,[O("&:target","border-color: var(--n-color-target);")]),M("action-segmented",[O(">",[F("action",[O("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),M("content-segmented, content-soft-segmented",[O(">",[F("content",{transition:"border-color 0.3s var(--n-bezier)"},[O("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),M("footer-segmented, footer-soft-segmented",[O(">",[F("footer",{transition:"border-color 0.3s var(--n-bezier)"},[O("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),M("embedded",`
 background-color: var(--n-color-embedded);
 `)]),Ti(k("card",`
 background: var(--n-color-modal);
 `,[M("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),Ji(k("card",`
 background: var(--n-color-popover);
 `,[M("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),k0={title:[String,Function],contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],headerExtraClass:String,headerExtraStyle:[Object,String],footerClass:String,footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:Boolean,hoverable:Boolean,role:String,onClose:[Function,Array],tag:{type:String,default:"div"},cover:Function,content:[String,Function],footer:Function,action:Function,headerExtra:Function},P7=Tr(k0),Xk=Object.assign(Object.assign({},ke.props),k0),Qk=ce({name:"Card",props:Xk,slots:Object,setup(t){const e=()=>{const{onClose:c}=t;c&&we(c)},{inlineThemeDisabled:n,mergedClsPrefixRef:r,mergedRtlRef:o}=Ge(t),i=ke("Card","-card",k7,qk,t,r),s=rn("Card",o,r),a=A(()=>{const{size:c}=t,{self:{color:d,colorModal:u,colorTarget:f,textColor:m,titleTextColor:h,titleFontWeight:p,borderColor:v,actionColor:b,borderRadius:y,lineHeight:x,closeIconColor:C,closeIconColorHover:S,closeIconColorPressed:T,closeColorHover:w,closeColorPressed:E,closeBorderRadius:R,closeIconSize:P,closeSize:_,boxShadow:I,colorPopover:L,colorEmbedded:N,colorEmbeddedModal:H,colorEmbeddedPopover:G,[Ae("padding",c)]:W,[Ae("fontSize",c)]:J,[Ae("titleFontSize",c)]:ne},common:{cubicBezierEaseInOut:D}}=i.value,{top:B,left:j,bottom:$}=Un(W);return{"--n-bezier":D,"--n-border-radius":y,"--n-color":d,"--n-color-modal":u,"--n-color-popover":L,"--n-color-embedded":N,"--n-color-embedded-modal":H,"--n-color-embedded-popover":G,"--n-color-target":f,"--n-text-color":m,"--n-line-height":x,"--n-action-color":b,"--n-title-text-color":h,"--n-title-font-weight":p,"--n-close-icon-color":C,"--n-close-icon-color-hover":S,"--n-close-icon-color-pressed":T,"--n-close-color-hover":w,"--n-close-color-pressed":E,"--n-border-color":v,"--n-box-shadow":I,"--n-padding-top":B,"--n-padding-bottom":$,"--n-padding-left":j,"--n-font-size":J,"--n-title-font-size":ne,"--n-close-size":_,"--n-close-icon-size":P,"--n-close-border-radius":R}}),l=n?ot("card",A(()=>t.size[0]),a,t):void 0;return{rtlEnabled:s,mergedClsPrefix:r,mergedTheme:i,handleCloseClick:e,cssVars:n?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){const{segmented:t,bordered:e,hoverable:n,mergedClsPrefix:r,rtlEnabled:o,onRender:i,embedded:s,tag:a,$slots:l}=this;return i==null||i(),g(a,{class:[`${r}-card`,this.themeClass,s&&`${r}-card--embedded`,{[`${r}-card--rtl`]:o,[`${r}-card--content${typeof t!="boolean"&&t.content==="soft"?"-soft":""}-segmented`]:t===!0||t!==!1&&t.content,[`${r}-card--footer${typeof t!="boolean"&&t.footer==="soft"?"-soft":""}-segmented`]:t===!0||t!==!1&&t.footer,[`${r}-card--action-segmented`]:t===!0||t!==!1&&t.action,[`${r}-card--bordered`]:e,[`${r}-card--hoverable`]:n}],style:this.cssVars,role:this.role},Lt(l.cover,c=>{const d=this.cover?Ao([this.cover()]):c;return d&&g("div",{class:`${r}-card-cover`,role:"none"},d)}),Lt(l.header,c=>{const{title:d}=this,u=d?Ao(typeof d=="function"?[d()]:[d]):c;return u||this.closable?g("div",{class:[`${r}-card-header`,this.headerClass],style:this.headerStyle,role:"heading"},g("div",{class:`${r}-card-header__main`,role:"heading"},u),Lt(l["header-extra"],f=>{const m=this.headerExtra?Ao([this.headerExtra()]):f;return m&&g("div",{class:[`${r}-card-header__extra`,this.headerExtraClass],style:this.headerExtraStyle},m)}),this.closable&&g(ns,{clsPrefix:r,class:`${r}-card-header__close`,onClick:this.handleCloseClick,absolute:!0})):null}),Lt(l.default,c=>{const{content:d}=this,u=d?Ao(typeof d=="function"?[d()]:[d]):c;return u&&g("div",{class:[`${r}-card__content`,this.contentClass],style:this.contentStyle,role:"none"},u)}),Lt(l.footer,c=>{const d=this.footer?Ao([this.footer()]):c;return d&&g("div",{class:[`${r}-card__footer`,this.footerClass],style:this.footerStyle,role:"none"},d)}),Lt(l.action,c=>{const d=this.action?Ao([this.action()]):c;return d&&g("div",{class:`${r}-card__action`,role:"none"},d)}))}});function Zk(){return{dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}}const A7={common:lt,self:Zk},I7={name:"Carousel",common:st,self:Zk},Jk="n-carousel-methods";function _7(t){ft(Jk,t)}function P0(t="unknown",e="component"){const n=Ve(Jk);return n||nr(t,`\`${e}\` must be placed inside \`n-carousel\`.`),n}function L7(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},g("g",{fill:"none"},g("path",{d:"M10.26 3.2a.75.75 0 0 1 .04 1.06L6.773 8l3.527 3.74a.75.75 0 1 1-1.1 1.02l-4-4.25a.75.75 0 0 1 0-1.02l4-4.25a.75.75 0 0 1 1.06-.04z",fill:"currentColor"})))}function D7(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},g("g",{fill:"none"},g("path",{d:"M5.74 3.2a.75.75 0 0 0-.04 1.06L9.227 8L5.7 11.74a.75.75 0 1 0 1.1 1.02l4-4.25a.75.75 0 0 0 0-1.02l-4-4.25a.75.75 0 0 0-1.06-.04z",fill:"currentColor"})))}const O7=ce({name:"CarouselArrow",setup(t){const{mergedClsPrefixRef:e}=Ge(t),{isVertical:n,isPrevDisabled:r,isNextDisabled:o,prev:i,next:s}=P0();return{mergedClsPrefix:e,isVertical:n,isPrevDisabled:r,isNextDisabled:o,prev:i,next:s}},render(){const{mergedClsPrefix:t}=this;return g("div",{class:`${t}-carousel__arrow-group`},g("div",{class:[`${t}-carousel__arrow`,this.isPrevDisabled()&&`${t}-carousel__arrow--disabled`],role:"button",onClick:this.prev},L7()),g("div",{class:[`${t}-carousel__arrow`,this.isNextDisabled()&&`${t}-carousel__arrow--disabled`],role:"button",onClick:this.next},D7()))}}),$7={total:{type:Number,default:0},currentIndex:{type:Number,default:0},dotType:{type:String,default:"dot"},trigger:{type:String,default:"click"},keyboard:Boolean},F7=ce({name:"CarouselDots",props:$7,setup(t){const{mergedClsPrefixRef:e}=Ge(t),n=z([]),r=P0();function o(c,d){switch(c.key){case"Enter":case" ":c.preventDefault(),r.to(d);return}t.keyboard&&a(c)}function i(c){t.trigger==="hover"&&r.to(c)}function s(c){t.trigger==="click"&&r.to(c)}function a(c){var d;if(c.shiftKey||c.altKey||c.ctrlKey||c.metaKey)return;const u=(d=document.activeElement)===null||d===void 0?void 0:d.nodeName.toLowerCase();if(u==="input"||u==="textarea")return;const{code:f}=c,m=f==="PageUp"||f==="ArrowUp",h=f==="PageDown"||f==="ArrowDown",p=f==="PageUp"||f==="ArrowRight",v=f==="PageDown"||f==="ArrowLeft",b=r.isVertical(),y=b?m:p,x=b?h:v;!y&&!x||(c.preventDefault(),y&&!r.isNextDisabled()?(r.next(),l(r.currentIndexRef.value)):x&&!r.isPrevDisabled()&&(r.prev(),l(r.currentIndexRef.value)))}function l(c){var d;(d=n.value[c])===null||d===void 0||d.focus()}return Ov(()=>n.value.length=0),{mergedClsPrefix:e,dotEls:n,handleKeydown:o,handleMouseenter:i,handleClick:s}},render(){const{mergedClsPrefix:t,dotEls:e}=this;return g("div",{class:[`${t}-carousel__dots`,`${t}-carousel__dots--${this.dotType}`],role:"tablist"},FM(this.total,n=>{const r=n===this.currentIndex;return g("div",{"aria-selected":r,ref:o=>e.push(o),role:"button",tabindex:"0",class:[`${t}-carousel__dot`,r&&`${t}-carousel__dot--active`],key:n,onClick:()=>{this.handleClick(n)},onMouseenter:()=>{this.handleMouseenter(n)},onKeydown:o=>{this.handleKeydown(o,n)}})}))}}),Ju="CarouselItem";function M7(t){var e;return((e=t.type)===null||e===void 0?void 0:e.name)===Ju}const eP=ce({name:Ju,setup(t){const{mergedClsPrefixRef:e}=Ge(t),n=P0(Sx(Ju),`n-${Sx(Ju)}`),r=z(),o=A(()=>{const{value:d}=r;return d?n.getSlideIndex(d):-1}),i=A(()=>n.isPrev(o.value)),s=A(()=>n.isNext(o.value)),a=A(()=>n.isActive(o.value)),l=A(()=>n.getSlideStyle(o.value));Gt(()=>{n.addSlide(r.value)}),Qt(()=>{n.removeSlide(r.value)});function c(d){const{value:u}=o;u!==void 0&&(n==null||n.onCarouselItemClick(u,d))}return{mergedClsPrefix:e,selfElRef:r,isPrev:i,isNext:s,isActive:a,index:o,style:l,handleClick:c}},render(){var t;const{$slots:e,mergedClsPrefix:n,isPrev:r,isNext:o,isActive:i,index:s,style:a}=this,l=[`${n}-carousel__slide`,{[`${n}-carousel__slide--current`]:i,[`${n}-carousel__slide--prev`]:r,[`${n}-carousel__slide--next`]:o}];return g("div",{ref:"selfElRef",class:l,role:"option",tabindex:"-1","data-index":s,"aria-hidden":!i,style:a,onClickCapture:this.handleClick},(t=e.default)===null||t===void 0?void 0:t.call(e,{isPrev:r,isNext:o,isActive:i,index:s}))}}),B7=k("carousel",`
 position: relative;
 width: 100%;
 height: 100%;
 touch-action: pan-y;
 overflow: hidden;
`,[F("slides",`
 display: flex;
 width: 100%;
 height: 100%;
 transition-timing-function: var(--n-bezier);
 transition-property: transform;
 `,[F("slide",`
 flex-shrink: 0;
 position: relative;
 width: 100%;
 height: 100%;
 outline: none;
 overflow: hidden;
 `,[O("> img",`
 display: block;
 `)])]),F("dots",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `,[M("dot",[F("dot",`
 height: var(--n-dot-size);
 width: var(--n-dot-size);
 background-color: var(--n-dot-color);
 border-radius: 50%;
 cursor: pointer;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[O("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),M("active",`
 background-color: var(--n-dot-color-active);
 `)])]),M("line",[F("dot",`
 border-radius: 9999px;
 width: var(--n-dot-line-width);
 height: 4px;
 background-color: var(--n-dot-color);
 cursor: pointer;
 transition:
 width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[O("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),M("active",`
 width: var(--n-dot-line-width-active);
 background-color: var(--n-dot-color-active);
 `)])])]),F("arrow",`
 transition: background-color .3s var(--n-bezier);
 cursor: pointer;
 height: 28px;
 width: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 background-color: rgba(255, 255, 255, .2);
 color: var(--n-arrow-color);
 border-radius: 8px;
 user-select: none;
 -webkit-user-select: none;
 font-size: 18px;
 `,[O("svg",`
 height: 1em;
 width: 1em;
 `),O("&:hover",`
 background-color: rgba(255, 255, 255, .3);
 `)]),M("vertical",`
 touch-action: pan-x;
 `,[F("slides",`
 flex-direction: column;
 `),M("fade",[F("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%);
 `)]),M("card",[F("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%) translateZ(-400px);
 `,[M("current",`
 transform: translateY(-50%) translateZ(0);
 `),M("prev",`
 transform: translateY(-100%) translateZ(-200px);
 `),M("next",`
 transform: translateY(0%) translateZ(-200px);
 `)])])]),M("usercontrol",[F("slides",[O(">",[O("div",`
 position: absolute;
 top: 50%;
 left: 50%;
 width: 100%;
 height: 100%;
 transform: translate(-50%, -50%);
 `)])])]),M("left",[F("dots",`
 transform: translateY(-50%);
 top: 50%;
 left: 12px;
 flex-direction: column;
 `,[M("line",[F("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[M("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),F("dot",`
 margin: 4px 0;
 `)]),F("arrow-group",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `),M("vertical",[F("arrow",`
 transform: rotate(90deg);
 `)]),M("show-arrow",[M("bottom",[F("dots",`
 transform: translateX(0);
 bottom: 18px;
 left: 18px;
 `)]),M("top",[F("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),M("left",[F("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),M("right",[F("dots",`
 transform: translateX(0);
 top: 18px;
 right: 18px;
 `)])]),M("left",[F("arrow-group",`
 bottom: 12px;
 left: 12px;
 flex-direction: column;
 `,[O("> *:first-child",`
 margin-bottom: 12px;
 `)])]),M("right",[F("dots",`
 transform: translateY(-50%);
 top: 50%;
 right: 12px;
 flex-direction: column;
 `,[M("line",[F("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[M("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),F("dot",`
 margin: 4px 0;
 `),F("arrow-group",`
 bottom: 12px;
 right: 12px;
 flex-direction: column;
 `,[O("> *:first-child",`
 margin-bottom: 12px;
 `)])]),M("top",[F("dots",`
 transform: translateX(-50%);
 top: 12px;
 left: 50%;
 `,[M("line",[F("dot",`
 margin: 0 4px;
 `)])]),F("dot",`
 margin: 0 4px;
 `),F("arrow-group",`
 top: 12px;
 right: 12px;
 `,[O("> *:first-child",`
 margin-right: 12px;
 `)])]),M("bottom",[F("dots",`
 transform: translateX(-50%);
 bottom: 12px;
 left: 50%;
 `,[M("line",[F("dot",`
 margin: 0 4px;
 `)])]),F("dot",`
 margin: 0 4px;
 `),F("arrow-group",`
 bottom: 12px;
 right: 12px;
 `,[O("> *:first-child",`
 margin-right: 12px;
 `)])]),M("fade",[F("slide",`
 position: absolute;
 opacity: 0;
 transition-property: opacity;
 pointer-events: none;
 `,[M("current",`
 opacity: 1;
 pointer-events: auto;
 `)])]),M("card",[F("slides",`
 perspective: 1000px;
 `),F("slide",`
 position: absolute;
 left: 50%;
 opacity: 0;
 transform: translateX(-50%) translateZ(-400px);
 transition-property: opacity, transform;
 `,[M("current",`
 opacity: 1;
 transform: translateX(-50%) translateZ(0);
 z-index: 1;
 `),M("prev",`
 opacity: 0.4;
 transform: translateX(-100%) translateZ(-200px);
 `),M("next",`
 opacity: 0.4;
 transform: translateX(0%) translateZ(-200px);
 `)])])]);function z7(t){const{length:e}=t;return e>1&&(t.push(nC(t[0],0,"append")),t.unshift(nC(t[e-1],e-1,"prepend"))),t}function nC(t,e,n){return Hr(t,{key:`carousel-item-duplicate-${e}-${n}`})}function rC(t,e,n){return e===1?0:n?t===0?e-3:t===e-1?0:t-1:t}function Bg(t,e){return e?t+1:t}function N7(t,e,n){return t<0?null:t===0?n?e-1:null:t-1}function U7(t,e,n){return t>e-1?null:t===e-1?n?0:null:t+1}function H7(t,e){return e&&t>3?t-2:t}function oC(t){return window.TouchEvent&&t instanceof window.TouchEvent}function iC(t,e){let{offsetWidth:n,offsetHeight:r}=t;if(e){const o=getComputedStyle(t);n=n-Number.parseFloat(o.getPropertyValue("padding-left"))-Number.parseFloat(o.getPropertyValue("padding-right")),r=r-Number.parseFloat(o.getPropertyValue("padding-top"))-Number.parseFloat(o.getPropertyValue("padding-bottom"))}return{width:n,height:r}}function gu(t,e,n){return t<e?e:t>n?n:t}function V7(t){if(t===void 0)return 0;if(typeof t=="number")return t;const e=/^((\d+)?\.?\d+?)(ms|s)?$/,n=t.match(e);if(n){const[,r,,o="ms"]=n;return Number(r)*(o==="ms"?1:1e3)}return 0}const j7=["transitionDuration","transitionTimingFunction"],tP=Object.assign(Object.assign({},ke.props),{defaultIndex:{type:Number,default:0},currentIndex:Number,showArrow:Boolean,dotType:{type:String,default:"dot"},dotPlacement:{type:String,default:"bottom"},slidesPerView:{type:[Number,String],default:1},spaceBetween:{type:Number,default:0},centeredSlides:Boolean,direction:{type:String,default:"horizontal"},autoplay:Boolean,interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},effect:{type:String,default:"slide"},showDots:{type:Boolean,default:!0},trigger:{type:String,default:"click"},transitionStyle:{type:Object,default:()=>({transitionDuration:"300ms"})},transitionProps:Object,draggable:Boolean,prevSlideStyle:[Object,String],nextSlideStyle:[Object,String],touchable:{type:Boolean,default:!0},mousewheel:Boolean,keyboard:Boolean,"onUpdate:currentIndex":Function,onUpdateCurrentIndex:Function});let zg=!1;const W7=ce({name:"Carousel",props:tP,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=z(null),o=z(null),i=z([]),s={value:[]},a=A(()=>t.direction==="vertical"),l=A(()=>a.value?"height":"width"),c=A(()=>a.value?"bottom":"right"),d=A(()=>t.effect==="slide"),u=A(()=>t.loop&&t.slidesPerView===1&&d.value),f=A(()=>t.effect==="custom"),m=A(()=>!d.value||t.centeredSlides?1:t.slidesPerView),h=A(()=>f.value?1:t.slidesPerView),p=A(()=>m.value==="auto"||t.slidesPerView==="auto"&&t.centeredSlides),v=z({width:0,height:0}),b=z(0),y=A(()=>{const{value:ve}=i;if(!ve.length)return[];b.value;const{value:Be}=p;if(Be)return ve.map(Je=>iC(Je));const{value:Ke}=h,{value:ct}=v,{value:mt}=l;let ye=ct[mt];if(Ke!=="auto"){const{spaceBetween:Je}=t,Te=ye-(Ke-1)*Je,ze=1/Math.max(1,Ke);ye=Te*ze}const Me=Object.assign(Object.assign({},ct),{[mt]:ye});return ve.map(()=>Me)}),x=A(()=>{const{value:ve}=y;if(!ve.length)return[];const{centeredSlides:Be,spaceBetween:Ke}=t,{value:ct}=l,{[ct]:mt}=v.value;let ye=0;return ve.map(({[ct]:Me})=>{let Je=ye;return Be&&(Je+=(Me-mt)/2),ye+=Me+Ke,Je})}),C=z(!1),S=A(()=>{const{transitionStyle:ve}=t;return ve?Gn(ve,j7):{}}),T=A(()=>f.value?0:V7(S.value.transitionDuration)),w=A(()=>{const{value:ve}=i;if(!ve.length)return[];const Be=!(p.value||h.value===1),Ke=Me=>{if(Be){const{value:Je}=l;return{[Je]:`${y.value[Me][Je]}px`}}};if(f.value)return ve.map((Me,Je)=>Ke(Je));const{effect:ct,spaceBetween:mt}=t,{value:ye}=c;return ve.reduce((Me,Je,Te)=>{const ze=Object.assign(Object.assign({},Ke(Te)),{[`margin-${ye}`]:`${mt}px`});return Me.push(ze),C.value&&(ct==="fade"||ct==="card")&&Object.assign(ze,S.value),Me},[])}),E=A(()=>{const{value:ve}=m,{length:Be}=i.value;if(ve!=="auto")return Math.max(Be-ve,0)+1;{const{value:Ke}=y,{length:ct}=Ke;if(!ct)return Be;const{value:mt}=x,{value:ye}=l,Me=v.value[ye];let Je=Ke[Ke.length-1][ye],Te=ct;for(;Te>1&&Je<Me;)Te--,Je+=mt[Te]-mt[Te-1];return gu(Te+1,1,ct)}}),R=A(()=>H7(E.value,u.value)),P=Bg(t.defaultIndex,u.value),_=z(rC(P,E.value,u.value)),I=Ft(Se(t,"currentIndex"),_),L=A(()=>Bg(I.value,u.value));function N(ve){var Be,Ke;ve=gu(ve,0,E.value-1);const ct=rC(ve,E.value,u.value),{value:mt}=I;ct!==I.value&&(_.value=ct,(Be=t["onUpdate:currentIndex"])===null||Be===void 0||Be.call(t,ct,mt),(Ke=t.onUpdateCurrentIndex)===null||Ke===void 0||Ke.call(t,ct,mt))}function H(ve=L.value){return N7(ve,E.value,t.loop)}function G(ve=L.value){return U7(ve,E.value,t.loop)}function W(ve){const Be=te(ve);return Be!==null&&H()===Be}function J(ve){const Be=te(ve);return Be!==null&&G()===Be}function ne(ve){return L.value===te(ve)}function D(ve){return I.value===ve}function B(){return H()===null}function j(){return G()===null}let $=0;function V(ve){const Be=gu(Bg(ve,u.value),0,E.value);(ve!==I.value||Be!==L.value)&&N(Be)}function X(){const ve=H();ve!==null&&($=-1,N(ve))}function Z(){const ve=G();ve!==null&&($=1,N(ve))}let q=!1;function ue(){(!q||!u.value)&&X()}function K(){(!q||!u.value)&&Z()}let he=0;const Ie=z({});function Q(ve,Be=0){Ie.value=Object.assign({},S.value,{transform:a.value?`translateY(${-ve}px)`:`translateX(${-ve}px)`,transitionDuration:`${Be}ms`})}function Y(ve=0){d.value?re(L.value,ve):he!==0&&(!q&&ve>0&&(q=!0),Q(he=0,ve))}function re(ve,Be){const Ke=be(ve);Ke!==he&&Be>0&&(q=!0),he=be(L.value),Q(Ke,Be)}function be(ve){let Be;return ve>=E.value-1?Be=Ce():Be=x.value[ve]||0,Be}function Ce(){if(m.value==="auto"){const{value:ve}=l,{[ve]:Be}=v.value,{value:Ke}=x,ct=Ke[Ke.length-1];let mt;if(ct===void 0)mt=Be;else{const{value:ye}=y;mt=ct+ye[ye.length-1][ve]}return mt-Be}else{const{value:ve}=x;return ve[E.value-1]||0}}const le={currentIndexRef:I,to:V,prev:ue,next:K,isVertical:()=>a.value,isHorizontal:()=>!a.value,isPrev:W,isNext:J,isActive:ne,isPrevDisabled:B,isNextDisabled:j,getSlideIndex:te,getSlideStyle:ae,addSlide:de,removeSlide:fe,onCarouselItemClick:We};_7(le);function de(ve){ve&&i.value.push(ve)}function fe(ve){if(!ve)return;const Be=te(ve);Be!==-1&&i.value.splice(Be,1)}function te(ve){return typeof ve=="number"?ve:ve?i.value.indexOf(ve):-1}function ae(ve){const Be=te(ve);if(Be!==-1){const Ke=[w.value[Be]],ct=le.isPrev(Be),mt=le.isNext(Be);return ct&&Ke.push(t.prevSlideStyle||""),mt&&Ke.push(t.nextSlideStyle||""),vi(Ke)}}let Ee=0,se=0,ie=0,ge=0,Le=!1,xe=!1;function We(ve,Be){let Ke=!q&&!Le&&!xe;t.effect==="card"&&Ke&&!ne(ve)&&(V(ve),Ke=!1),Ke||(Be.preventDefault(),Be.stopPropagation())}let at=null;function bt(){at&&(clearInterval(at),at=null)}function dt(){bt(),!t.autoplay||R.value<2||(at=window.setInterval(Z,t.interval))}function Ct(ve){var Be;if(zg||!(!((Be=o.value)===null||Be===void 0)&&Be.contains(Jr(ve))))return;zg=!0,Le=!0,xe=!1,ge=Date.now(),bt(),ve.type!=="touchstart"&&!ve.target.isContentEditable&&ve.preventDefault();const Ke=oC(ve)?ve.touches[0]:ve;a.value?se=Ke.clientY:Ee=Ke.clientX,t.touchable&&(_t("touchmove",document,Tt),_t("touchend",document,Qe),_t("touchcancel",document,Qe)),t.draggable&&(_t("mousemove",document,Tt),_t("mouseup",document,Qe))}function Tt(ve){const{value:Be}=a,{value:Ke}=l,ct=oC(ve)?ve.touches[0]:ve,mt=Be?ct.clientY-se:ct.clientX-Ee,ye=v.value[Ke];ie=gu(mt,-ye,ye),ve.cancelable&&ve.preventDefault(),d.value&&Q(he-ie,0)}function Qe(){const{value:ve}=L;let Be=ve;if(!q&&ie!==0&&d.value){const Ke=he-ie,ct=[...x.value.slice(0,E.value-1),Ce()];let mt=null;for(let ye=0;ye<ct.length;ye++){const Me=Math.abs(ct[ye]-Ke);if(mt!==null&&mt<Me)break;mt=Me,Be=ye}}if(Be===ve){const Ke=Date.now()-ge,{value:ct}=l,mt=v.value[ct];ie>mt/2||ie/Ke>.4?X():(ie<-mt/2||ie/Ke<-.4)&&Z()}Be!==null&&Be!==ve?(xe=!0,N(Be),$t(()=>{(!u.value||_.value!==I.value)&&Y(T.value)})):Y(T.value),rt(),dt()}function rt(){Le&&(zg=!1),Le=!1,Ee=0,se=0,ie=0,ge=0,It("touchmove",document,Tt),It("touchend",document,Qe),It("touchcancel",document,Qe),It("mousemove",document,Tt),It("mouseup",document,Qe)}function oe(){if(d.value&&q){const{value:ve}=L;re(ve,0)}else dt();d.value&&(Ie.value.transitionDuration="0ms"),q=!1}function ee(ve){if(ve.preventDefault(),q)return;let{deltaX:Be,deltaY:Ke}=ve;ve.shiftKey&&!Be&&(Be=Ke);const ct=-1,mt=1,ye=(Be||Ke)>0?mt:ct;let Me=0,Je=0;a.value?Je=ye:Me=ye;const Te=10;(Je*Ke>=Te||Me*Be>=Te)&&(ye===mt&&!j()?Z():ye===ct&&!B()&&X())}function Pe(){v.value=iC(r.value,!0),dt()}function Ne(){p.value&&b.value++}function Ue(){t.autoplay&&bt()}function pe(){t.autoplay&&dt()}Gt(()=>{Xt(dt),requestAnimationFrame(()=>C.value=!0)}),Qt(()=>{rt(),bt()}),$v(()=>{const{value:ve}=i,{value:Be}=s,Ke=new Map,ct=ye=>Ke.has(ye)?Ke.get(ye):-1;let mt=!1;for(let ye=0;ye<ve.length;ye++){const Me=Be.findIndex(Je=>Je.el===ve[ye]);Me!==ye&&(mt=!0),Ke.set(ve[ye],Me)}mt&&ve.sort((ye,Me)=>ct(ye)-ct(Me))}),gt(L,(ve,Be)=>{if(ve===Be){$=0;return}if(dt(),d.value){if(u.value){const{value:Ke}=E;$===-1&&Be===1&&ve===Ke-2?ve=0:$===1&&Be===Ke-2&&ve===1&&(ve=Ke-1)}re(ve,T.value)}else Y();$=0},{immediate:!0}),gt([u,m],()=>void $t(()=>{N(L.value)})),gt(x,()=>{d.value&&Y()},{deep:!0}),gt(d,ve=>{ve?Y():(q=!1,Q(he=0))});const $e=A(()=>({onTouchstartPassive:t.touchable?Ct:void 0,onMousedown:t.draggable?Ct:void 0,onWheel:t.mousewheel?ee:void 0})),me=A(()=>Object.assign(Object.assign({},Gn(le,["to","prev","next","isPrevDisabled","isNextDisabled"])),{total:R.value,currentIndex:I.value})),Oe=A(()=>({total:R.value,currentIndex:I.value,to:le.to})),Ze={getCurrentIndex:()=>I.value,to:V,prev:X,next:Z},tt=ke("Carousel","-carousel",B7,A7,t,e),Re=A(()=>{const{common:{cubicBezierEaseInOut:ve},self:{dotSize:Be,dotColor:Ke,dotColorActive:ct,dotColorFocus:mt,dotLineWidth:ye,dotLineWidthActive:Me,arrowColor:Je}}=tt.value;return{"--n-bezier":ve,"--n-dot-color":Ke,"--n-dot-color-focus":mt,"--n-dot-color-active":ct,"--n-dot-size":Be,"--n-dot-line-width":ye,"--n-dot-line-width-active":Me,"--n-arrow-color":Je}}),He=n?ot("carousel",void 0,Re,t):void 0;return Object.assign(Object.assign({mergedClsPrefix:e,selfElRef:r,slidesElRef:o,slideVNodes:s,duplicatedable:u,userWantsControl:f,autoSlideSize:p,realIndex:L,slideStyles:w,translateStyle:Ie,slidesControlListeners:$e,handleTransitionEnd:oe,handleResize:Pe,handleSlideResize:Ne,handleMouseenter:Ue,handleMouseleave:pe,isActive:D,arrowSlotProps:me,dotSlotProps:Oe},Ze),{cssVars:n?void 0:Re,themeClass:He==null?void 0:He.themeClass,onRender:He==null?void 0:He.onRender})},render(){var t;const{mergedClsPrefix:e,showArrow:n,userWantsControl:r,slideStyles:o,dotType:i,dotPlacement:s,slidesControlListeners:a,transitionProps:l={},arrowSlotProps:c,dotSlotProps:d,$slots:{default:u,dots:f,arrow:m}}=this,h=u&&Yr(u())||[];let p=K7(h);return p.length||(p=h.map(v=>g(eP,null,{default:()=>Hr(v)}))),this.duplicatedable&&(p=z7(p)),this.slideVNodes.value=p,this.autoSlideSize&&(p=p.map(v=>g(Fr,{onResize:this.handleSlideResize},{default:()=>v}))),(t=this.onRender)===null||t===void 0||t.call(this),g("div",Object.assign({ref:"selfElRef",class:[this.themeClass,`${e}-carousel`,this.direction==="vertical"&&`${e}-carousel--vertical`,this.showArrow&&`${e}-carousel--show-arrow`,`${e}-carousel--${s}`,`${e}-carousel--${this.direction}`,`${e}-carousel--${this.effect}`,r&&`${e}-carousel--usercontrol`],style:this.cssVars},a,{onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave}),g(Fr,{onResize:this.handleResize},{default:()=>g("div",{ref:"slidesElRef",class:`${e}-carousel__slides`,role:"listbox",style:this.translateStyle,onTransitionend:this.handleTransitionEnd},r?p.map((v,b)=>g("div",{style:o[b],key:b},$n(g(en,Object.assign({},l),{default:()=>v}),[[bo,this.isActive(b)]]))):p)}),this.showDots&&d.total>1&&Vn(f,d,()=>[g(F7,{key:i+s,total:d.total,currentIndex:d.currentIndex,dotType:i,trigger:this.trigger,keyboard:this.keyboard})]),n&&Vn(m,c,()=>[g(O7,null)]))}});function K7(t){return t.reduce((e,n)=>(M7(n)&&e.push(n),e),[])}const G7={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"};function nP(t){const{baseColor:e,inputColorDisabled:n,cardColor:r,modalColor:o,popoverColor:i,textColorDisabled:s,borderColor:a,primaryColor:l,textColor2:c,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:f,borderRadiusSmall:m,lineHeight:h}=t;return Object.assign(Object.assign({},G7),{labelLineHeight:h,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:f,borderRadius:m,color:e,colorChecked:l,colorDisabled:n,colorDisabledChecked:n,colorTableHeader:r,colorTableHeaderModal:o,colorTableHeaderPopover:i,checkMarkColor:e,checkMarkColorDisabled:s,checkMarkColorDisabledChecked:s,border:`1px solid ${a}`,borderDisabled:`1px solid ${a}`,borderDisabledChecked:`1px solid ${a}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${Ye(l,{alpha:.3})}`,textColor:c,textColorDisabled:s})}const Xl={name:"Checkbox",common:lt,self:nP},Ql={name:"Checkbox",common:st,self(t){const{cardColor:e}=t,n=nP(t);return n.color="#0000",n.checkMarkColor=e,n}};function rP(t){const{borderRadius:e,boxShadow2:n,popoverColor:r,textColor2:o,textColor3:i,primaryColor:s,textColorDisabled:a,dividerColor:l,hoverColor:c,fontSizeMedium:d,heightMedium:u}=t;return{menuBorderRadius:e,menuColor:r,menuBoxShadow:n,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:i,optionHeight:u,optionFontSize:d,optionColorHover:c,optionTextColor:o,optionTextColorActive:s,optionTextColorDisabled:a,optionCheckMarkColor:s,loadingColor:s,columnWidth:"180px"}}const q7={name:"Cascader",common:lt,peers:{InternalSelectMenu:Yl,InternalSelection:Eh,Scrollbar:ro,Checkbox:Xl,Empty:rs},self:rP},Y7={name:"Cascader",common:st,peers:{InternalSelectMenu:Fd,InternalSelection:y0,Scrollbar:oo,Checkbox:Ql,Empty:rs},self:rP},oP="n-checkbox-group",iP={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]},sP=ce({name:"CheckboxGroup",props:iP,setup(t){const{mergedClsPrefixRef:e}=Ge(t),n=jn(t),{mergedSizeRef:r,mergedDisabledRef:o}=n,i=z(t.defaultValue),s=A(()=>t.value),a=Ft(s,i),l=A(()=>{var u;return((u=a.value)===null||u===void 0?void 0:u.length)||0}),c=A(()=>Array.isArray(a.value)?new Set(a.value):new Set);function d(u,f){const{nTriggerFormInput:m,nTriggerFormChange:h}=n,{onChange:p,"onUpdate:value":v,onUpdateValue:b}=t;if(Array.isArray(a.value)){const y=Array.from(a.value),x=y.findIndex(C=>C===f);u?~x||(y.push(f),b&&we(b,y,{actionType:"check",value:f}),v&&we(v,y,{actionType:"check",value:f}),m(),h(),i.value=y,p&&we(p,y)):~x&&(y.splice(x,1),b&&we(b,y,{actionType:"uncheck",value:f}),v&&we(v,y,{actionType:"uncheck",value:f}),p&&we(p,y),i.value=y,m(),h())}else u?(b&&we(b,[f],{actionType:"check",value:f}),v&&we(v,[f],{actionType:"check",value:f}),p&&we(p,[f]),i.value=[f],m(),h()):(b&&we(b,[],{actionType:"uncheck",value:f}),v&&we(v,[],{actionType:"uncheck",value:f}),p&&we(p,[]),i.value=[],m(),h())}return ft(oP,{checkedCountRef:l,maxRef:Se(t,"max"),minRef:Se(t,"min"),valueSetRef:c,disabledRef:o,mergedSizeRef:r,toggleCheckbox:d}),{mergedClsPrefix:e}},render(){return g("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}}),X7=()=>g("svg",{viewBox:"0 0 64 64",class:"check-icon"},g("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),Q7=()=>g("svg",{viewBox:"0 0 100 100",class:"line-icon"},g("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"})),Z7=O([k("checkbox",`
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 line-height: var(--n-size);
 --n-merged-color-table: var(--n-color-table);
 `,[M("show-label","line-height: var(--n-label-line-height);"),O("&:hover",[k("checkbox-box",[F("border","border: var(--n-border-checked);")])]),O("&:focus:not(:active)",[k("checkbox-box",[F("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),M("inside-table",[k("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),M("checked",[k("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[k("checkbox-icon",[O(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),M("indeterminate",[k("checkbox-box",[k("checkbox-icon",[O(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),O(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),M("checked, indeterminate",[O("&:focus:not(:active)",[k("checkbox-box",[F("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),k("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[F("border",{border:"var(--n-border-checked)"})])]),M("disabled",{cursor:"not-allowed"},[M("checked",[k("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[F("border",{border:"var(--n-border-disabled-checked)"}),k("checkbox-icon",[O(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),k("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[F("border",`
 border: var(--n-border-disabled);
 `),k("checkbox-icon",[O(".check-icon, .line-icon",`
 fill: var(--n-check-mark-color-disabled);
 `)])]),F("label",`
 color: var(--n-text-color-disabled);
 `)]),k("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 user-select: none;
 -webkit-user-select: none;
 `),k("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[F("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),k("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[O(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),wr({left:"1px",top:"1px"})])]),F("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 -webkit-user-select: none;
 padding: var(--n-label-padding);
 font-weight: var(--n-label-font-weight);
 `,[O("&:empty",{display:"none"})])]),Ti(k("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),Ji(k("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]),aP=Object.assign(Object.assign({},ke.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]}),os=ce({name:"Checkbox",props:aP,setup(t){const e=Ve(oP,null),n=z(null),{mergedClsPrefixRef:r,inlineThemeDisabled:o,mergedRtlRef:i}=Ge(t),s=z(t.defaultChecked),a=Se(t,"checked"),l=Ft(a,s),c=pt(()=>{if(e){const T=e.valueSetRef.value;return T&&t.value!==void 0?T.has(t.value):!1}else return l.value===t.checkedValue}),d=jn(t,{mergedSize(T){const{size:w}=t;if(w!==void 0)return w;if(e){const{value:E}=e.mergedSizeRef;if(E!==void 0)return E}if(T){const{mergedSize:E}=T;if(E!==void 0)return E.value}return"medium"},mergedDisabled(T){const{disabled:w}=t;if(w!==void 0)return w;if(e){if(e.disabledRef.value)return!0;const{maxRef:{value:E},checkedCountRef:R}=e;if(E!==void 0&&R.value>=E&&!c.value)return!0;const{minRef:{value:P}}=e;if(P!==void 0&&R.value<=P&&c.value)return!0}return T?T.disabled.value:!1}}),{mergedDisabledRef:u,mergedSizeRef:f}=d,m=ke("Checkbox","-checkbox",Z7,Xl,t,r);function h(T){if(e&&t.value!==void 0)e.toggleCheckbox(!c.value,t.value);else{const{onChange:w,"onUpdate:checked":E,onUpdateChecked:R}=t,{nTriggerFormInput:P,nTriggerFormChange:_}=d,I=c.value?t.uncheckedValue:t.checkedValue;E&&we(E,I,T),R&&we(R,I,T),w&&we(w,I,T),P(),_(),s.value=I}}function p(T){u.value||h(T)}function v(T){if(!u.value)switch(T.key){case" ":case"Enter":h(T)}}function b(T){switch(T.key){case" ":T.preventDefault()}}const y={focus:()=>{var T;(T=n.value)===null||T===void 0||T.focus()},blur:()=>{var T;(T=n.value)===null||T===void 0||T.blur()}},x=rn("Checkbox",i,r),C=A(()=>{const{value:T}=f,{common:{cubicBezierEaseInOut:w},self:{borderRadius:E,color:R,colorChecked:P,colorDisabled:_,colorTableHeader:I,colorTableHeaderModal:L,colorTableHeaderPopover:N,checkMarkColor:H,checkMarkColorDisabled:G,border:W,borderFocus:J,borderDisabled:ne,borderChecked:D,boxShadowFocus:B,textColor:j,textColorDisabled:$,checkMarkColorDisabledChecked:V,colorDisabledChecked:X,borderDisabledChecked:Z,labelPadding:q,labelLineHeight:ue,labelFontWeight:K,[Ae("fontSize",T)]:he,[Ae("size",T)]:Ie}}=m.value;return{"--n-label-line-height":ue,"--n-label-font-weight":K,"--n-size":Ie,"--n-bezier":w,"--n-border-radius":E,"--n-border":W,"--n-border-checked":D,"--n-border-focus":J,"--n-border-disabled":ne,"--n-border-disabled-checked":Z,"--n-box-shadow-focus":B,"--n-color":R,"--n-color-checked":P,"--n-color-table":I,"--n-color-table-modal":L,"--n-color-table-popover":N,"--n-color-disabled":_,"--n-color-disabled-checked":X,"--n-text-color":j,"--n-text-color-disabled":$,"--n-check-mark-color":H,"--n-check-mark-color-disabled":G,"--n-check-mark-color-disabled-checked":V,"--n-font-size":he,"--n-label-padding":q}}),S=o?ot("checkbox",A(()=>f.value[0]),C,t):void 0;return Object.assign(d,y,{rtlEnabled:x,selfRef:n,mergedClsPrefix:r,mergedDisabled:u,renderedChecked:c,mergedTheme:m,labelId:Vr(),handleClick:p,handleKeyUp:v,handleKeyDown:b,cssVars:o?void 0:C,themeClass:S==null?void 0:S.themeClass,onRender:S==null?void 0:S.onRender})},render(){var t;const{$slots:e,renderedChecked:n,mergedDisabled:r,indeterminate:o,privateInsideTable:i,cssVars:s,labelId:a,label:l,mergedClsPrefix:c,focusable:d,handleKeyUp:u,handleKeyDown:f,handleClick:m}=this;(t=this.onRender)===null||t===void 0||t.call(this);const h=Lt(e.default,p=>l||p?g("span",{class:`${c}-checkbox__label`,id:a},l||p):null);return g("div",{ref:"selfRef",class:[`${c}-checkbox`,this.themeClass,this.rtlEnabled&&`${c}-checkbox--rtl`,n&&`${c}-checkbox--checked`,r&&`${c}-checkbox--disabled`,o&&`${c}-checkbox--indeterminate`,i&&`${c}-checkbox--inside-table`,h&&`${c}-checkbox--show-label`],tabindex:r||!d?void 0:0,role:"checkbox","aria-checked":o?"mixed":n,"aria-labelledby":a,style:s,onKeyup:u,onKeydown:f,onClick:m,onMousedown:()=>{_t("selectstart",window,p=>{p.preventDefault()},{once:!0})}},g("div",{class:`${c}-checkbox-box-wrapper`}," ",g("div",{class:`${c}-checkbox-box`},g(Pi,null,{default:()=>this.indeterminate?g("div",{key:"indeterminate",class:`${c}-checkbox-icon`},Q7()):g("div",{key:"check",class:`${c}-checkbox-icon`},X7())}),g("div",{class:`${c}-checkbox-box__border`}))),h)}}),Nd="n-cascader",sC=ce({name:"NCascaderOption",props:{tmNode:{type:Object,required:!0}},setup(t){const{expandTriggerRef:e,remoteRef:n,multipleRef:r,mergedValueRef:o,checkedKeysRef:i,indeterminateKeysRef:s,hoverKeyPathRef:a,keyboardKeyRef:l,loadingKeySetRef:c,cascadeRef:d,mergedCheckStrategyRef:u,onLoadRef:f,mergedClsPrefixRef:m,mergedThemeRef:h,labelFieldRef:p,showCheckboxRef:v,renderPrefixRef:b,renderSuffixRef:y,updateHoverKey:x,updateKeyboardKey:C,addLoadingKey:S,deleteLoadingKey:T,closeMenu:w,doCheck:E,doUncheck:R,renderLabelRef:P}=Ve(Nd),_=A(()=>t.tmNode.key),I=A(()=>{const{value:K}=e,{value:he}=n;return!he&&K==="hover"}),L=A(()=>{if(I.value)return X}),N=A(()=>{if(I.value)return Z}),H=pt(()=>{const{value:K}=r;return K?i.value.includes(_.value):o.value===_.value}),G=pt(()=>r.value?s.value.includes(_.value):!1),W=pt(()=>a.value.includes(_.value)),J=pt(()=>{const{value:K}=l;return K===null?!1:K===_.value}),ne=pt(()=>n.value?c.value.has(_.value):!1),D=A(()=>t.tmNode.isLeaf),B=A(()=>t.tmNode.disabled),j=A(()=>t.tmNode.rawNode[p.value]),$=A(()=>t.tmNode.shallowLoaded);function V(K){if(B.value)return;const{value:he}=n,{value:Ie}=c,{value:Q}=f,{value:Y}=_,{value:re}=D,{value:be}=$;An(K,"checkbox")||(he&&!be&&!Ie.has(Y)&&Q&&(S(Y),Q(t.tmNode.rawNode).then(()=>{T(Y)}).catch(()=>{T(Y)})),x(Y),C(Y)),re&&ue()}function X(){if(!I.value||B.value)return;const{value:K}=_;x(K),C(K)}function Z(){I.value&&X()}function q(){const{value:K}=D;K||ue()}function ue(){const{value:K}=r,{value:he}=_;K?G.value||H.value?R(he):E(he):(E(he),w(!0))}return{checkStrategy:u,multiple:r,cascade:d,checked:H,indeterminate:G,hoverPending:W,keyboardPending:J,isLoading:ne,showCheckbox:v,isLeaf:D,disabled:B,label:j,mergedClsPrefix:m,mergedTheme:h,handleClick:V,handleCheckboxUpdateValue:q,mergedHandleMouseEnter:L,mergedHandleMouseMove:N,renderLabel:P,renderPrefix:b,renderSuffix:y}},render(){const{mergedClsPrefix:t,showCheckbox:e,renderLabel:n,renderPrefix:r,renderSuffix:o}=this;let i=null;if(e||r){const l=this.showCheckbox?g(os,{focusable:!1,"data-checkbox":!0,disabled:this.disabled,checked:this.checked,indeterminate:this.indeterminate,theme:this.mergedTheme.peers.Checkbox,themeOverrides:this.mergedTheme.peerOverrides.Checkbox,onUpdateChecked:this.handleCheckboxUpdateValue}):null;i=g("div",{class:`${t}-cascader-option__prefix`},r?r({option:this.tmNode.rawNode,checked:this.checked,node:l}):l)}let s=null;const a=g("div",{class:`${t}-cascader-option-icon-placeholder`},this.isLeaf?this.checkStrategy==="child"&&!(this.multiple&&this.cascade)?g(en,{name:"fade-in-scale-up-transition"},{default:()=>this.checked?g(yt,{clsPrefix:t,class:`${t}-cascader-option-icon ${t}-cascader-option-icon--checkmark`},{default:()=>g(m0,null)}):null}):null:g(Qo,{clsPrefix:t,scale:.85,strokeWidth:24,show:this.isLoading,class:`${t}-cascader-option-icon`},{default:()=>g(yt,{clsPrefix:t,key:"arrow",class:`${t}-cascader-option-icon ${t}-cascader-option-icon--arrow`},{default:()=>g(Ba,null)})}));return s=g("div",{class:`${t}-cascader-option__suffix`},o?o({option:this.tmNode.rawNode,checked:this.checked,node:a}):a),g("div",{class:[`${t}-cascader-option`,this.keyboardPending||this.hoverPending&&`${t}-cascader-option--pending`,this.disabled&&`${t}-cascader-option--disabled`,this.showCheckbox&&`${t}-cascader-option--show-prefix`],onMouseenter:this.mergedHandleMouseEnter,onMousemove:this.mergedHandleMouseMove,onClick:this.handleClick},i,g("span",{class:`${t}-cascader-option__label`},n?n(this.tmNode.rawNode,this.checked):this.label),s)}}),J7=ce({name:"CascaderSubmenu",props:{depth:{type:Number,required:!0},tmNodes:{type:Array,required:!0}},setup(){const{virtualScrollRef:t,mergedClsPrefixRef:e,mergedThemeRef:n,optionHeightRef:r}=Ve(Nd),o=z(null),i=z(null),s={scroll(a,l){var c,d;t.value?(c=i.value)===null||c===void 0||c.scrollTo({index:a}):(d=o.value)===null||d===void 0||d.scrollTo({index:a,elSize:l})}};return Object.assign({mergedClsPrefix:e,mergedTheme:n,scrollbarInstRef:o,vlInstRef:i,virtualScroll:t,itemSize:A(()=>on(r.value)),handleVlScroll:()=>{var a;(a=o.value)===null||a===void 0||a.sync()},getVlContainer:()=>{var a;return(a=i.value)===null||a===void 0?void 0:a.listElRef},getVlContent:()=>{var a;return(a=i.value)===null||a===void 0?void 0:a.itemsElRef}},s)},render(){const{mergedClsPrefix:t,mergedTheme:e,virtualScroll:n}=this;return g("div",{class:[n&&`${t}-cascader-submenu--virtual`,`${t}-cascader-submenu`]},g(Sn,{ref:"scrollbarInstRef",theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,container:n?this.getVlContainer:void 0,content:n?this.getVlContent:void 0},{default:()=>n?g(qo,{items:this.tmNodes,itemSize:this.itemSize,onScroll:this.handleVlScroll,showScrollbar:!1,ref:"vlInstRef"},{default:({item:r})=>g(sC,{key:r.key,tmNode:r})}):this.tmNodes.map(r=>g(sC,{key:r.key,tmNode:r}))}))}}),eV=ce({name:"NCascaderMenu",props:{value:[String,Number,Array],placement:{type:String,default:"bottom-start"},show:Boolean,menuModel:{type:Array,required:!0},loading:Boolean,onFocus:{type:Function,required:!0},onBlur:{type:Function,required:!0},onKeydown:{type:Function,required:!0},onMousedown:{type:Function,required:!0},onTabout:{type:Function,required:!0}},setup(t){const{localeRef:e,isMountedRef:n,mergedClsPrefixRef:r,syncCascaderMenuPosition:o,handleCascaderMenuClickOutside:i,mergedThemeRef:s,getColumnStyleRef:a}=Ve(Nd),l=[],c=z(null),d=z(null);function u(){o()}bh(d,u);function f(b){var y;const{value:{loadingRequiredMessage:x}}=e;(y=c.value)===null||y===void 0||y.showOnce(x(b))}function m(b){i(b)}function h(b){const{value:y}=d;y&&(y.contains(b.relatedTarget)||t.onFocus(b))}function p(b){const{value:y}=d;y&&(y.contains(b.relatedTarget)||t.onBlur(b))}return Object.assign({isMounted:n,mergedClsPrefix:r,selfElRef:d,submenuInstRefs:l,maskInstRef:c,mergedTheme:s,getColumnStyle:a,handleFocusin:h,handleFocusout:p,handleClickOutside:m},{scroll(b,y,x){const C=l[b];C&&C.scroll(y,x)},showErrorMessage:f})},render(){const{submenuInstRefs:t,mergedClsPrefix:e,mergedTheme:n}=this;return g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.show?$n(g("div",{tabindex:"0",ref:"selfElRef",class:`${e}-cascader-menu`,onMousedown:this.onMousedown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeydown:this.onKeydown},this.menuModel[0].length?g("div",{class:`${e}-cascader-submenu-wrapper`},this.menuModel.map((r,o)=>{var i;return g(J7,{style:(i=this.getColumnStyle)===null||i===void 0?void 0:i.call(this,{level:o}),ref:s=>{s&&(t[o]=s)},key:o,tmNodes:r,depth:o+1})}),g(U8,{clsPrefix:e,ref:"maskInstRef"})):g("div",{class:`${e}-cascader-menu__empty`},Et(this.$slots.empty,()=>[g(Gi,{theme:n.peers.Empty,themeOverrides:n.peerOverrides.Empty})])),Lt(this.$slots.action,r=>r&&g("div",{class:`${e}-cascader-menu-action`,"data-action":!0},r)),g(Ii,{onFocus:this.onTabout})),[[eo,this.handleClickOutside,void 0,{capture:!0}]]):null})}});function mu(t){return t?t.map(e=>e.rawNode):null}function tV(t,e,n,r){const o=[],i=[];function s(a){for(const l of a){if(l.disabled)continue;const{rawNode:c}=l;i.push(c),(l.isLeaf||!e)&&o.push({label:Pp(l,r,n),value:l.key,rawNode:l.rawNode,path:Array.from(i)}),!l.isLeaf&&l.children&&s(l.children),i.pop()}}return s(t),o}function Pp(t,e,n){const r=[];for(;t;)r.push(t.rawNode[n]),t=t.parent;return r.reverse().join(e)}const nV=ce({name:"NCascaderSelectMenu",props:{value:{type:[String,Number,Array],default:null},show:Boolean,pattern:{type:String,default:""},multiple:Boolean,tmNodes:{type:Array,default:()=>[]},filter:Function,labelField:{type:String,required:!0},separator:{type:String,required:!0}},setup(t){const{isMountedRef:e,mergedValueRef:n,mergedClsPrefixRef:r,mergedThemeRef:o,mergedCheckStrategyRef:i,slots:s,syncSelectMenuPosition:a,closeMenu:l,handleSelectMenuClickOutside:c,doUncheck:d,doCheck:u,clearPattern:f}=Ve(Nd),m=z(null),h=A(()=>tV(t.tmNodes,i.value==="child",t.labelField,t.separator)),p=A(()=>{const{filter:P}=t;if(P)return P;const{labelField:_}=t;return(I,L,N)=>N.some(H=>H[_]&&~H[_].toLowerCase().indexOf(I.toLowerCase()))}),v=A(()=>{const{pattern:P}=t,{value:_}=p;return(P?h.value.filter(I=>_(P,I.rawNode,I.path)):h.value).map(I=>({value:I.value,label:I.label}))}),b=A(()=>Xr(v.value,kh("value","children")));function y(){a()}function x(P){C(P)}function C(P){if(t.multiple){const{value:_}=n;Array.isArray(_)?_.includes(P.key)?d(P.key):u(P.key):_===null&&u(P.key),f()}else u(P.key),l(!0)}function S(){var P;(P=m.value)===null||P===void 0||P.prev()}function T(){var P;(P=m.value)===null||P===void 0||P.next()}function w(){var P;if(m){const _=(P=m.value)===null||P===void 0?void 0:P.getPendingTmNode();return _&&C(_),!0}return!1}function E(P){c(P)}return Object.assign({isMounted:e,mergedTheme:o,mergedClsPrefix:r,menuInstRef:m,selectTreeMate:b,handleResize:y,handleToggle:x,handleClickOutside:E,cascaderSlots:s},{prev:S,next:T,enter:w})},render(){const{mergedClsPrefix:t,isMounted:e,mergedTheme:n,cascaderSlots:r}=this;return g(en,{name:"fade-in-scale-up-transition",appear:e},{default:()=>this.show?$n(g(Md,{ref:"menuInstRef",onResize:this.handleResize,clsPrefix:t,class:`${t}-cascader-menu`,autoPending:!0,themeOverrides:n.peerOverrides.InternalSelectMenu,theme:n.peers.InternalSelectMenu,treeMate:this.selectTreeMate,multiple:this.multiple,value:this.value,onToggle:this.handleToggle},{empty:()=>Et(r["not-found"],()=>[])}),[[eo,this.handleClickOutside,void 0,{capture:!0}]]):null})}}),rV=O([k("cascader-menu",`
 outline: none;
 position: relative;
 margin: 4px 0;
 display: flex;
 flex-flow: column nowrap;
 border-radius: var(--n-menu-border-radius);
 overflow: hidden;
 box-shadow: var(--n-menu-box-shadow);
 color: var(--n-option-text-color);
 background-color: var(--n-menu-color);
 `,[ar({transformOrigin:"inherit",duration:"0.2s"}),F("empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),k("scrollbar",`
 width: 100%;
 `),k("base-menu-mask",`
 background-color: var(--n-menu-mask-color);
 `),k("base-loading",`
 color: var(--n-loading-color);
 `),k("cascader-submenu-wrapper",`
 position: relative;
 display: flex;
 flex-wrap: nowrap;
 `),k("cascader-submenu",`
 height: var(--n-menu-height);
 min-width: var(--n-column-width);
 position: relative;
 `,[M("virtual",`
 width: var(--n-column-width);
 `),k("scrollbar-content",`
 position: relative;
 `),O("&:first-child",`
 border-top-left-radius: var(--n-menu-border-radius);
 border-bottom-left-radius: var(--n-menu-border-radius);
 `),O("&:last-child",`
 border-top-right-radius: var(--n-menu-border-radius);
 border-bottom-right-radius: var(--n-menu-border-radius);
 `),O("&:not(:first-child)",`
 border-left: 1px solid var(--n-menu-divider-color);
 `)]),k("cascader-menu-action",`
 box-sizing: border-box;
 padding: 8px;
 border-top: 1px solid var(--n-menu-divider-color);
 `),k("cascader-option",`
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 padding: 0 0 0 18px;
 box-sizing: border-box;
 min-width: 182px;
 background-color: #0000;
 display: flex;
 align-items: center;
 white-space: nowrap;
 position: relative;
 cursor: pointer;
 transition:
 background-color .2s var(--n-bezier),
 color 0.2s var(--n-bezier);
 `,[M("show-prefix",`
 padding-left: 0;
 `),F("label",`
 flex: 1 0 0;
 overflow: hidden;
 text-overflow: ellipsis;
 `),F("prefix",`
 min-width: 32px;
 display: flex;
 align-items: center;
 justify-content: center;
 `),F("suffix",`
 min-width: 32px;
 display: flex;
 align-items: center;
 justify-content: center;
 `),k("cascader-option-icon-placeholder",`
 line-height: 0;
 position: relative;
 width: 16px;
 height: 16px;
 font-size: 16px;
 `,[k("cascader-option-icon",[M("checkmark",`
 color: var(--n-option-check-mark-color);
 `,[ar({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})]),M("arrow",`
 color: var(--n-option-arrow-color);
 `)])]),M("selected",`
 color: var(--n-option-text-color-active);
 `),M("active",`
 color: var(--n-option-text-color-active);
 background-color: var(--n-option-color-hover);
 `),M("pending",`
 background-color: var(--n-option-color-hover);
 `),O("&:hover",`
 background-color: var(--n-option-color-hover);
 `),M("disabled",`
 color: var(--n-option-text-color-disabled);
 background-color: #0000;
 cursor: not-allowed;
 `,[k("cascader-option-icon",[M("arrow",`
 color: var(--n-option-text-color-disabled);
 `)])])])]),k("cascader",`
 z-index: auto;
 position: relative;
 width: 100%;
 `)]),lP=Object.assign(Object.assign({},ke.props),{allowCheckingNotLoaded:Boolean,to:an.propTo,bordered:{type:Boolean,default:void 0},options:{type:Array,default:()=>[]},value:[String,Number,Array],defaultValue:{type:[String,Number,Array],default:null},placeholder:String,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},disabledField:{type:String,default:"disabled"},expandTrigger:{type:String,default:"click"},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},remote:Boolean,onLoad:Function,separator:{type:String,default:" / "},filter:Function,placement:{type:String,default:"bottom-start"},cascade:{type:Boolean,default:!0},leafOnly:Boolean,showPath:{type:Boolean,default:!0},show:{type:Boolean,default:void 0},maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,menuProps:Object,filterMenuProps:Object,virtualScroll:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},valueField:{type:String,default:"value"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},renderLabel:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onBlur:Function,onFocus:Function,getColumnStyle:Function,renderPrefix:Function,renderSuffix:Function,onChange:[Function,Array]}),oV=ce({name:"Cascader",props:lP,slots:Object,setup(t,{slots:e}){const{mergedBorderedRef:n,mergedClsPrefixRef:r,namespaceRef:o,inlineThemeDisabled:i}=Ge(t),s=ke("Cascader","-cascader",rV,q7,t,r),{localeRef:a}=Mn("Cascader"),l=z(t.defaultValue),c=A(()=>t.value),d=Ft(c,l),u=A(()=>t.leafOnly?"child":t.checkStrategy),f=z(""),m=jn(t),{mergedSizeRef:h,mergedDisabledRef:p,mergedStatusRef:v}=m,b=z(null),y=z(null),x=z(null),C=z(null),S=z(null),T=z(new Set),w=z(null),E=z(null),R=an(t),P=z(!1),_=me=>{T.value.add(me)},I=me=>{T.value.delete(me)},L=A(()=>{const{valueField:me,childrenField:Oe,disabledField:Ze}=t;return Xr(t.options,{getDisabled(tt){return tt[Ze]},getKey(tt){return tt[me]},getChildren(tt){return tt[Oe]}})}),N=A(()=>{const{cascade:me,multiple:Oe}=t;return Oe&&Array.isArray(d.value)?L.value.getCheckedKeys(d.value,{cascade:me,allowNotLoaded:t.allowCheckingNotLoaded}):{checkedKeys:[],indeterminateKeys:[]}}),H=A(()=>N.value.checkedKeys),G=A(()=>N.value.indeterminateKeys),W=A(()=>{const{treeNodePath:me,treeNode:Oe}=L.value.getPath(S.value);let Ze;return Oe===null?Ze=[L.value.treeNodes]:(Ze=me.map(tt=>tt.siblings),!Oe.isLeaf&&!T.value.has(Oe.key)&&Oe.children&&Ze.push(Oe.children)),Ze}),J=A(()=>{const{keyPath:me}=L.value.getPath(S.value);return me}),ne=A(()=>s.value.self.optionHeight);bi(t.options)&&gt(t.options,(me,Oe)=>{me!==Oe&&(S.value=null,C.value=null)});const D=z(!1);function B(me){const{onUpdateShow:Oe,"onUpdate:show":Ze}=t;Oe&&we(Oe,me),Ze&&we(Ze,me),D.value=me}function j(me,Oe,Ze){const{onUpdateValue:tt,"onUpdate:value":Re,onChange:He}=t,{nTriggerFormInput:ve,nTriggerFormChange:Be}=m;tt&&we(tt,me,Oe,Ze),Re&&we(Re,me,Oe,Ze),He&&we(He,me,Oe,Ze),l.value=me,ve(),Be()}function $(me){C.value=me}function V(me){S.value=me}function X(me){const{value:{getNode:Oe}}=L;return me.map(Ze=>{var tt;return((tt=Oe(Ze))===null||tt===void 0?void 0:tt.rawNode)||null})}function Z(me){var Oe;const{cascade:Ze,multiple:tt,filterable:Re}=t,{value:{check:He,getNode:ve,getPath:Be}}=L;if(tt)try{const{checkedKeys:Ke}=He(me,N.value.checkedKeys,{cascade:Ze,checkStrategy:u.value,allowNotLoaded:t.allowCheckingNotLoaded});j(Ke,X(Ke),Ke.map(ct=>{var mt;return mu((mt=Be(ct))===null||mt===void 0?void 0:mt.treeNodePath)})),Re&&Ce(),C.value=me,S.value=me}catch(Ke){if(Ke instanceof EE){if(b.value){const ct=ve(me);ct!==null&&b.value.showErrorMessage(ct.rawNode[t.labelField])}}else throw Ke}else if(u.value==="child"){const Ke=ve(me);if(Ke!=null&&Ke.isLeaf)j(me,Ke.rawNode,mu(Be(me).treeNodePath));else return!1}else{const Ke=ve(me);j(me,(Ke==null?void 0:Ke.rawNode)||null,mu((Oe=Be(me))===null||Oe===void 0?void 0:Oe.treeNodePath))}return!0}function q(me){const{cascade:Oe,multiple:Ze}=t;if(Ze){const{value:{uncheck:tt,getNode:Re,getPath:He}}=L,{checkedKeys:ve}=tt(me,N.value.checkedKeys,{cascade:Oe,checkStrategy:u.value,allowNotLoaded:t.allowCheckingNotLoaded});j(ve,ve.map(Be=>{var Ke;return((Ke=Re(Be))===null||Ke===void 0?void 0:Ke.rawNode)||null}),ve.map(Be=>{var Ke;return mu((Ke=He(Be))===null||Ke===void 0?void 0:Ke.treeNodePath)})),C.value=me,S.value=me}}const ue=A(()=>{if(t.multiple){const{showPath:me,separator:Oe,labelField:Ze,cascade:tt}=t,{getCheckedKeys:Re,getNode:He}=L.value;return Re(H.value,{cascade:tt,checkStrategy:u.value,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys.map(Be=>{const Ke=He(Be);return Ke===null?{label:String(Be),value:Be}:{label:me?Pp(Ke,Oe,Ze):Ke.rawNode[Ze],value:Ke.key}})}else return[]}),K=A(()=>{const{multiple:me,showPath:Oe,separator:Ze,labelField:tt}=t,{value:Re}=d;if(!me&&!Array.isArray(Re)){const{getNode:He}=L.value;if(Re===null)return null;const ve=He(Re);return ve===null?{label:String(Re),value:Re}:{label:Oe?Pp(ve,Ze,tt):ve.rawNode[tt],value:ve.key}}else return null}),he=Se(t,"show"),Ie=Ft(he,D),Q=A(()=>{const{placeholder:me}=t;return me!==void 0?me:a.value.placeholder}),Y=A(()=>!!(t.filterable&&f.value));gt(Ie,me=>{if(!me||t.multiple)return;const{value:Oe}=d;!Array.isArray(Oe)&&Oe!==null?(C.value=Oe,S.value=Oe,$t(()=>{var Ze;if(!Ie.value)return;const{value:tt}=S;if(d.value!==null){const Re=L.value.getNode(tt);Re&&((Ze=b.value)===null||Ze===void 0||Ze.scroll(Re.level,Re.index,on(ne.value)))}})):(C.value=null,S.value=null)},{immediate:!0});function re(me){const{onBlur:Oe}=t,{nTriggerFormBlur:Ze}=m;Oe&&we(Oe,me),Ze()}function be(me){const{onFocus:Oe}=t,{nTriggerFormFocus:Ze}=m;Oe&&we(Oe,me),Ze()}function Ce(){var me;(me=x.value)===null||me===void 0||me.focusInput()}function le(){var me;(me=x.value)===null||me===void 0||me.focus()}function de(){p.value||(f.value="",B(!0),t.filterable&&Ce())}function fe(me=!1){me&&le(),B(!1),f.value=""}function te(me){var Oe;Y.value||Ie.value&&(!((Oe=x.value)===null||Oe===void 0)&&Oe.$el.contains(Jr(me))||fe())}function ae(me){Y.value&&te(me)}function Ee(){t.clearFilterAfterSelect&&(f.value="")}function se(me){var Oe,Ze,tt;const{value:Re}=C,{value:He}=L;switch(me){case"prev":if(Re!==null){const ve=He.getPrev(Re,{loop:!0});ve!==null&&($(ve.key),(Oe=b.value)===null||Oe===void 0||Oe.scroll(ve.level,ve.index,on(ne.value)))}break;case"next":if(Re===null){const ve=He.getFirstAvailableNode();ve!==null&&($(ve.key),(Ze=b.value)===null||Ze===void 0||Ze.scroll(ve.level,ve.index,on(ne.value)))}else{const ve=He.getNext(Re,{loop:!0});ve!==null&&($(ve.key),(tt=b.value)===null||tt===void 0||tt.scroll(ve.level,ve.index,on(ne.value)))}break;case"child":if(Re!==null){const ve=He.getNode(Re);if(ve!==null)if(ve.shallowLoaded){const Be=He.getChild(Re);Be!==null&&(V(Re),$(Be.key))}else{const{value:Be}=T;if(!Be.has(Re)){_(Re),V(Re);const{onLoad:Ke}=t;Ke&&Ke(ve.rawNode).then(()=>{I(Re)}).catch(()=>{I(Re)})}}}break;case"parent":if(Re!==null){const ve=He.getParent(Re);if(ve!==null){$(ve.key);const Be=ve.getParent();V(Be===null?null:Be.key)}}break}}function ie(me){var Oe,Ze;switch(me.key){case" ":case"ArrowDown":case"ArrowUp":if(t.filterable&&Ie.value)break;me.preventDefault();break}if(!An(me,"action"))switch(me.key){case" ":if(t.filterable)return;case"Enter":if(!Ie.value)de();else{const{value:tt}=Y,{value:Re}=C;if(tt)y.value&&y.value.enter()&&Ee();else if(Re!==null)if(H.value.includes(Re)||G.value.includes(Re))q(Re);else{const He=Z(Re);!t.multiple&&He&&fe(!0)}}break;case"ArrowUp":me.preventDefault(),Ie.value&&(Y.value?(Oe=y.value)===null||Oe===void 0||Oe.prev():se("prev"));break;case"ArrowDown":me.preventDefault(),Ie.value?Y.value?(Ze=y.value)===null||Ze===void 0||Ze.next():se("next"):de();break;case"ArrowLeft":me.preventDefault(),Ie.value&&!Y.value&&se("parent");break;case"ArrowRight":me.preventDefault(),Ie.value&&!Y.value&&se("child");break;case"Escape":Ie.value&&(ka(me),fe(!0))}}function ge(me){ie(me)}function Le(me){me.stopPropagation(),t.multiple?j([],[],[]):j(null,null,null)}function xe(me){var Oe;!((Oe=b.value)===null||Oe===void 0)&&Oe.$el.contains(me.relatedTarget)||(P.value=!0,be(me))}function We(me){var Oe;!((Oe=b.value)===null||Oe===void 0)&&Oe.$el.contains(me.relatedTarget)||(P.value=!1,re(me),fe())}function at(me){var Oe;!((Oe=x.value)===null||Oe===void 0)&&Oe.$el.contains(me.relatedTarget)||(P.value=!0,be(me))}function bt(me){var Oe;!((Oe=x.value)===null||Oe===void 0)&&Oe.$el.contains(me.relatedTarget)||(P.value=!1,re(me))}function dt(me){An(me,"action")||t.multiple&&t.filter&&(me.preventDefault(),Ce())}function Ct(){fe(!0)}function Tt(){t.filterable?de():Ie.value?fe(!0):de()}function Qe(me){f.value=me.target.value}function rt(me){const{multiple:Oe}=t,{value:Ze}=d;Oe&&Array.isArray(Ze)&&me.value!==void 0?q(me.value):j(null,null,null)}function oe(){var me;(me=w.value)===null||me===void 0||me.syncPosition()}function ee(){var me;(me=E.value)===null||me===void 0||me.syncPosition()}function Pe(){Ie.value&&(Y.value?oe():ee())}const Ne=A(()=>!!(t.multiple&&t.cascade||u.value!=="child"));ft(Nd,{slots:e,mergedClsPrefixRef:r,mergedThemeRef:s,mergedValueRef:d,checkedKeysRef:H,indeterminateKeysRef:G,hoverKeyPathRef:J,mergedCheckStrategyRef:u,showCheckboxRef:Ne,cascadeRef:Se(t,"cascade"),multipleRef:Se(t,"multiple"),keyboardKeyRef:C,hoverKeyRef:S,remoteRef:Se(t,"remote"),loadingKeySetRef:T,expandTriggerRef:Se(t,"expandTrigger"),isMountedRef:br(),onLoadRef:Se(t,"onLoad"),virtualScrollRef:Se(t,"virtualScroll"),optionHeightRef:ne,localeRef:a,labelFieldRef:Se(t,"labelField"),renderLabelRef:Se(t,"renderLabel"),getColumnStyleRef:Se(t,"getColumnStyle"),renderPrefixRef:Se(t,"renderPrefix"),renderSuffixRef:Se(t,"renderSuffix"),syncCascaderMenuPosition:ee,syncSelectMenuPosition:oe,updateKeyboardKey:$,updateHoverKey:V,addLoadingKey:_,deleteLoadingKey:I,doCheck:Z,doUncheck:q,closeMenu:fe,handleSelectMenuClickOutside:ae,handleCascaderMenuClickOutside:te,clearPattern:Ee});const Ue={focus:()=>{var me;(me=x.value)===null||me===void 0||me.focus()},blur:()=>{var me;(me=x.value)===null||me===void 0||me.blur()},getCheckedData:()=>{if(Ne.value){const me=H.value;return{keys:me,options:X(me)}}return{keys:[],options:[]}},getIndeterminateData:()=>{if(Ne.value){const me=G.value;return{keys:me,options:X(me)}}return{keys:[],options:[]}}},pe=A(()=>{const{self:{optionArrowColor:me,optionTextColor:Oe,optionTextColorActive:Ze,optionTextColorDisabled:tt,optionCheckMarkColor:Re,menuColor:He,menuBoxShadow:ve,menuDividerColor:Be,menuBorderRadius:Ke,menuHeight:ct,optionColorHover:mt,optionHeight:ye,optionFontSize:Me,loadingColor:Je,columnWidth:Te},common:{cubicBezierEaseInOut:ze}}=s.value;return{"--n-bezier":ze,"--n-menu-border-radius":Ke,"--n-menu-box-shadow":ve,"--n-menu-height":ct,"--n-column-width":Te,"--n-menu-color":He,"--n-menu-divider-color":Be,"--n-option-height":ye,"--n-option-font-size":Me,"--n-option-text-color":Oe,"--n-option-text-color-disabled":tt,"--n-option-text-color-active":Ze,"--n-option-color-hover":mt,"--n-option-check-mark-color":Re,"--n-option-arrow-color":me,"--n-menu-mask-color":Ye(He,{alpha:.75}),"--n-loading-color":Je}}),$e=i?ot("cascader",void 0,pe,t):void 0;return Object.assign(Object.assign({},Ue),{handleTriggerResize:Pe,mergedStatus:v,selectMenuFollowerRef:w,cascaderMenuFollowerRef:E,triggerInstRef:x,selectMenuInstRef:y,cascaderMenuInstRef:b,mergedBordered:n,mergedClsPrefix:r,namespace:o,mergedValue:d,mergedShow:Ie,showSelectMenu:Y,pattern:f,treeMate:L,mergedSize:h,mergedDisabled:p,localizedPlaceholder:Q,selectedOption:K,selectedOptions:ue,adjustedTo:R,menuModel:W,handleMenuTabout:Ct,handleMenuFocus:at,handleMenuBlur:bt,handleMenuKeydown:ge,handleMenuMousedown:dt,handleTriggerFocus:xe,handleTriggerBlur:We,handleTriggerClick:Tt,handleClear:Le,handleDeleteOption:rt,handlePatternInput:Qe,handleKeydown:ie,focused:P,optionHeight:ne,mergedTheme:s,cssVars:i?void 0:pe,themeClass:$e==null?void 0:$e.themeClass,onRender:$e==null?void 0:$e.onRender})},render(){const{mergedClsPrefix:t}=this;return g("div",{class:`${t}-cascader`},g(Mo,null,{default:()=>[g(Bo,null,{default:()=>g(x0,{onResize:this.handleTriggerResize,ref:"triggerInstRef",status:this.mergedStatus,clsPrefix:t,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,active:this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,focused:this.focused,onFocus:this.handleTriggerFocus,onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onClear:this.handleClear,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onKeydown:this.handleKeydown},{arrow:()=>{var e,n;return(n=(e=this.$slots).arrow)===null||n===void 0?void 0:n.call(e)}})}),g(yo,{key:"cascaderMenu",ref:"cascaderMenuFollowerRef",show:this.mergedShow&&!this.showSelectMenu,containerClass:this.namespace,placement:this.placement,width:this.options.length?void 0:"target",teleportDisabled:this.adjustedTo===an.tdkey,to:this.adjustedTo},{default:()=>{var e;(e=this.onRender)===null||e===void 0||e.call(this);const{menuProps:n}=this;return g(eV,Object.assign({},n,{ref:"cascaderMenuInstRef",class:[this.themeClass,n==null?void 0:n.class],value:this.mergedValue,show:this.mergedShow&&!this.showSelectMenu,menuModel:this.menuModel,style:[this.cssVars,n==null?void 0:n.style],onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onMousedown:this.handleMenuMousedown,onTabout:this.handleMenuTabout}),{action:()=>{var r,o;return(o=(r=this.$slots).action)===null||o===void 0?void 0:o.call(r)},empty:()=>{var r,o;return(o=(r=this.$slots).empty)===null||o===void 0?void 0:o.call(r)}})}}),g(yo,{key:"selectMenu",ref:"selectMenuFollowerRef",show:this.mergedShow&&this.showSelectMenu,containerClass:this.namespace,width:"target",placement:this.placement,to:this.adjustedTo,teleportDisabled:this.adjustedTo===an.tdkey},{default:()=>{var e;(e=this.onRender)===null||e===void 0||e.call(this);const{filterMenuProps:n}=this;return g(nV,Object.assign({},n,{ref:"selectMenuInstRef",class:[this.themeClass,n==null?void 0:n.class],value:this.mergedValue,show:this.mergedShow&&this.showSelectMenu,pattern:this.pattern,multiple:this.multiple,tmNodes:this.treeMate.treeNodes,filter:this.filter,labelField:this.labelField,separator:this.separator,style:[this.cssVars,n==null?void 0:n.style]}))}})]}))}}),cP={name:"Code",common:st,self(t){const{textColor2:e,fontSize:n,fontWeightStrong:r,textColor3:o}=t;return{textColor:e,fontSize:n,fontWeightStrong:r,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:o}}};function iV(t){const{textColor2:e,fontSize:n,fontWeightStrong:r,textColor3:o}=t;return{textColor:e,fontSize:n,fontWeightStrong:r,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401",lineNumberTextColor:o}}const dP={name:"Code",common:lt,self:iV},sV=O([k("code",`
 font-size: var(--n-font-size);
 font-family: var(--n-font-family);
 `,[M("show-line-numbers",`
 display: flex;
 `),F("line-numbers",`
 user-select: none;
 padding-right: 12px;
 text-align: right;
 transition: color .3s var(--n-bezier);
 color: var(--n-line-number-text-color);
 `),M("word-wrap",[O("pre",`
 white-space: pre-wrap;
 word-break: break-all;
 `)]),O("pre",`
 margin: 0;
 line-height: inherit;
 font-size: inherit;
 font-family: inherit;
 `),O("[class^=hljs]",`
 color: var(--n-text-color);
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),({props:t})=>{const e=`${t.bPrefix}code`;return[`${e} .hljs-comment,
 ${e} .hljs-quote {
 color: var(--n-mono-3);
 font-style: italic;
 }`,`${e} .hljs-doctag,
 ${e} .hljs-keyword,
 ${e} .hljs-formula {
 color: var(--n-hue-3);
 }`,`${e} .hljs-section,
 ${e} .hljs-name,
 ${e} .hljs-selector-tag,
 ${e} .hljs-deletion,
 ${e} .hljs-subst {
 color: var(--n-hue-5);
 }`,`${e} .hljs-literal {
 color: var(--n-hue-1);
 }`,`${e} .hljs-string,
 ${e} .hljs-regexp,
 ${e} .hljs-addition,
 ${e} .hljs-attribute,
 ${e} .hljs-meta-string {
 color: var(--n-hue-4);
 }`,`${e} .hljs-built_in,
 ${e} .hljs-class .hljs-title {
 color: var(--n-hue-6-2);
 }`,`${e} .hljs-attr,
 ${e} .hljs-variable,
 ${e} .hljs-template-variable,
 ${e} .hljs-type,
 ${e} .hljs-selector-class,
 ${e} .hljs-selector-attr,
 ${e} .hljs-selector-pseudo,
 ${e} .hljs-number {
 color: var(--n-hue-6);
 }`,`${e} .hljs-symbol,
 ${e} .hljs-bullet,
 ${e} .hljs-link,
 ${e} .hljs-meta,
 ${e} .hljs-selector-id,
 ${e} .hljs-title {
 color: var(--n-hue-2);
 }`,`${e} .hljs-emphasis {
 font-style: italic;
 }`,`${e} .hljs-strong {
 font-weight: var(--n-font-weight-strong);
 }`,`${e} .hljs-link {
 text-decoration: underline;
 }`]}]),uP=Object.assign(Object.assign({},ke.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,showLineNumbers:Boolean,internalFontSize:Number,internalNoHighlight:Boolean}),fP=ce({name:"Code",props:uP,setup(t,{slots:e}){const{internalNoHighlight:n}=t,{mergedClsPrefixRef:r,inlineThemeDisabled:o}=Ge(),i=z(null),s=n?{value:void 0}:wT(t),a=(m,h,p)=>{const{value:v}=s;return!v||!(m&&v.getLanguage(m))?null:v.highlight(p?h.trim():h,{language:m}).value},l=A(()=>t.inline||t.wordWrap?!1:t.showLineNumbers),c=()=>{if(e.default)return;const{value:m}=i;if(!m)return;const{language:h}=t,p=t.uri?window.decodeURIComponent(t.code):t.code;if(h){const b=a(h,p,t.trim);if(b!==null){if(t.inline)m.innerHTML=b;else{const y=m.querySelector(".__code__");y&&m.removeChild(y);const x=document.createElement("pre");x.className="__code__",x.innerHTML=b,m.appendChild(x)}return}}if(t.inline){m.textContent=p;return}const v=m.querySelector(".__code__");if(v)v.textContent=p;else{const b=document.createElement("pre");b.className="__code__",b.textContent=p,m.innerHTML="",m.appendChild(b)}};Gt(c),gt(Se(t,"language"),c),gt(Se(t,"code"),c),n||gt(s,c);const d=ke("Code","-code",sV,dP,t,r),u=A(()=>{const{common:{cubicBezierEaseInOut:m,fontFamilyMono:h},self:{textColor:p,fontSize:v,fontWeightStrong:b,lineNumberTextColor:y,"mono-3":x,"hue-1":C,"hue-2":S,"hue-3":T,"hue-4":w,"hue-5":E,"hue-5-2":R,"hue-6":P,"hue-6-2":_}}=d.value,{internalFontSize:I}=t;return{"--n-font-size":I?`${I}px`:v,"--n-font-family":h,"--n-font-weight-strong":b,"--n-bezier":m,"--n-text-color":p,"--n-mono-3":x,"--n-hue-1":C,"--n-hue-2":S,"--n-hue-3":T,"--n-hue-4":w,"--n-hue-5":E,"--n-hue-5-2":R,"--n-hue-6":P,"--n-hue-6-2":_,"--n-line-number-text-color":y}}),f=o?ot("code",A(()=>`${t.internalFontSize||"a"}`),u,t):void 0;return{mergedClsPrefix:r,codeRef:i,mergedShowLineNumbers:l,lineNumbers:A(()=>{let m=1;const h=[];let p=!1;for(const v of t.code)v===`
`?(p=!0,h.push(m++)):p=!1;return p||h.push(m++),h.join(`
`)}),cssVars:o?void 0:u,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){var t,e;const{mergedClsPrefix:n,wordWrap:r,mergedShowLineNumbers:o,onRender:i}=this;return i==null||i(),g("code",{class:[`${n}-code`,this.themeClass,r&&`${n}-code--word-wrap`,o&&`${n}-code--show-line-numbers`],style:this.cssVars,ref:"codeRef"},o?g("pre",{class:`${n}-code__line-numbers`},this.lineNumbers):null,(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});function hP(t){const{fontWeight:e,textColor1:n,textColor2:r,textColorDisabled:o,dividerColor:i,fontSize:s}=t;return{titleFontSize:s,titleFontWeight:e,dividerColor:i,titleTextColor:n,titleTextColorDisabled:o,fontSize:s,textColor:r,arrowColor:r,arrowColorDisabled:o,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}}const aV={common:lt,self:hP},lV={name:"Collapse",common:st,self:hP},cV=k("collapse","width: 100%;",[k("collapse-item",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 margin: var(--n-item-margin);
 `,[M("disabled",[F("header","cursor: not-allowed;",[F("header-main",`
 color: var(--n-title-text-color-disabled);
 `),k("collapse-item-arrow",`
 color: var(--n-arrow-color-disabled);
 `)])]),k("collapse-item","margin-left: 32px;"),O("&:first-child","margin-top: 0;"),O("&:first-child >",[F("header","padding-top: 0;")]),M("left-arrow-placement",[F("header",[k("collapse-item-arrow","margin-right: 4px;")])]),M("right-arrow-placement",[F("header",[k("collapse-item-arrow","margin-left: 4px;")])]),F("content-wrapper",[F("content-inner","padding-top: 16px;"),qi({duration:"0.15s"})]),M("active",[F("header",[M("active",[k("collapse-item-arrow","transform: rotate(90deg);")])])]),O("&:not(:first-child)","border-top: 1px solid var(--n-divider-color);"),wt("disabled",[M("trigger-area-main",[F("header",[F("header-main","cursor: pointer;"),k("collapse-item-arrow","cursor: default;")])]),M("trigger-area-arrow",[F("header",[k("collapse-item-arrow","cursor: pointer;")])]),M("trigger-area-extra",[F("header",[F("header-extra","cursor: pointer;")])])]),F("header",`
 font-size: var(--n-title-font-size);
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: color .3s var(--n-bezier);
 position: relative;
 padding: var(--n-title-padding);
 color: var(--n-title-text-color);
 `,[F("header-main",`
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),F("header-extra",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),k("collapse-item-arrow",`
 display: flex;
 transition:
 transform .15s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: 18px;
 color: var(--n-arrow-color);
 `)])])]),gP=Object.assign(Object.assign({},ke.props),{defaultExpandedNames:{type:[Array,String],default:null},expandedNames:[Array,String],arrowPlacement:{type:String,default:"left"},accordion:{type:Boolean,default:!1},displayDirective:{type:String,default:"if"},triggerAreas:{type:Array,default:()=>["main","extra","arrow"]},onItemHeaderClick:[Function,Array],"onUpdate:expandedNames":[Function,Array],onUpdateExpandedNames:[Function,Array],onExpandedNamesChange:{type:[Function,Array],validator:()=>!0,default:void 0}}),mP="n-collapse",dV=ce({name:"Collapse",props:gP,slots:Object,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=Ge(t),i=z(t.defaultExpandedNames),s=A(()=>t.expandedNames),a=Ft(s,i),l=ke("Collapse","-collapse",cV,aV,t,n);function c(p){const{"onUpdate:expandedNames":v,onUpdateExpandedNames:b,onExpandedNamesChange:y}=t;b&&we(b,p),v&&we(v,p),y&&we(y,p),i.value=p}function d(p){const{onItemHeaderClick:v}=t;v&&we(v,p)}function u(p,v,b){const{accordion:y}=t,{value:x}=a;if(y)p?(c([v]),d({name:v,expanded:!0,event:b})):(c([]),d({name:v,expanded:!1,event:b}));else if(!Array.isArray(x))c([v]),d({name:v,expanded:!0,event:b});else{const C=x.slice(),S=C.findIndex(T=>v===T);~S?(C.splice(S,1),c(C),d({name:v,expanded:!1,event:b})):(C.push(v),c(C),d({name:v,expanded:!0,event:b}))}}ft(mP,{props:t,mergedClsPrefixRef:n,expandedNamesRef:a,slots:e,toggleItem:u});const f=rn("Collapse",o,n),m=A(()=>{const{common:{cubicBezierEaseInOut:p},self:{titleFontWeight:v,dividerColor:b,titlePadding:y,titleTextColor:x,titleTextColorDisabled:C,textColor:S,arrowColor:T,fontSize:w,titleFontSize:E,arrowColorDisabled:R,itemMargin:P}}=l.value;return{"--n-font-size":w,"--n-bezier":p,"--n-text-color":S,"--n-divider-color":b,"--n-title-padding":y,"--n-title-font-size":E,"--n-title-text-color":x,"--n-title-text-color-disabled":C,"--n-title-font-weight":v,"--n-arrow-color":T,"--n-arrow-color-disabled":R,"--n-item-margin":P}}),h=r?ot("collapse",void 0,m,t):void 0;return{rtlEnabled:f,mergedTheme:l,mergedClsPrefix:n,cssVars:r?void 0:m,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{class:[`${this.mergedClsPrefix}-collapse`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse--rtl`,this.themeClass],style:this.cssVars},this.$slots)}}),uV=ce({name:"CollapseItemContent",props:{displayDirective:{type:String,required:!0},show:Boolean,clsPrefix:{type:String,required:!0}},setup(t){return{onceTrue:QR(Se(t,"show"))}},render(){return g(Ai,null,{default:()=>{const{show:t,displayDirective:e,onceTrue:n,clsPrefix:r}=this,o=e==="show"&&n,i=g("div",{class:`${r}-collapse-item__content-wrapper`},g("div",{class:`${r}-collapse-item__content-inner`},this.$slots));return o?$n(i,[[bo,t]]):t?i:null}})}}),pP={title:String,name:[String,Number],disabled:Boolean,displayDirective:String},fV=ce({name:"CollapseItem",props:pP,setup(t){const{mergedRtlRef:e}=Ge(t),n=Vr(),r=pt(()=>{var u;return(u=t.name)!==null&&u!==void 0?u:n}),o=Ve(mP);o||nr("collapse-item","`n-collapse-item` must be placed inside `n-collapse`.");const{expandedNamesRef:i,props:s,mergedClsPrefixRef:a,slots:l}=o,c=A(()=>{const{value:u}=i;if(Array.isArray(u)){const{value:f}=r;return!~u.findIndex(m=>m===f)}else if(u){const{value:f}=r;return f!==u}return!0});return{rtlEnabled:rn("Collapse",e,a),collapseSlots:l,randomName:n,mergedClsPrefix:a,collapsed:c,triggerAreas:Se(s,"triggerAreas"),mergedDisplayDirective:A(()=>{const{displayDirective:u}=t;return u||s.displayDirective}),arrowPlacement:A(()=>s.arrowPlacement),handleClick(u){let f="main";An(u,"arrow")&&(f="arrow"),An(u,"extra")&&(f="extra"),s.triggerAreas.includes(f)&&o&&!t.disabled&&o.toggleItem(c.value,r.value,u)}}},render(){const{collapseSlots:t,$slots:e,arrowPlacement:n,collapsed:r,mergedDisplayDirective:o,mergedClsPrefix:i,disabled:s,triggerAreas:a}=this,l=Vn(e.header,{collapsed:r},()=>[this.title]),c=e["header-extra"]||t["header-extra"],d=e.arrow||t.arrow;return g("div",{class:[`${i}-collapse-item`,`${i}-collapse-item--${n}-arrow-placement`,s&&`${i}-collapse-item--disabled`,!r&&`${i}-collapse-item--active`,a.map(u=>`${i}-collapse-item--trigger-area-${u}`)]},g("div",{class:[`${i}-collapse-item__header`,!r&&`${i}-collapse-item__header--active`]},g("div",{class:`${i}-collapse-item__header-main`,onClick:this.handleClick},n==="right"&&l,g("div",{class:`${i}-collapse-item-arrow`,key:this.rtlEnabled?0:1,"data-arrow":!0},Vn(d,{collapsed:r},()=>[g(yt,{clsPrefix:i},{default:()=>this.rtlEnabled?g(p0,null):g(Ba,null)})])),n==="left"&&l),Z3(c,{collapsed:r},u=>g("div",{class:`${i}-collapse-item__header-extra`,onClick:this.handleClick,"data-extra":!0},u))),g(uV,{clsPrefix:i,displayDirective:o,show:!r},e))}});function vP(t){const{cubicBezierEaseInOut:e}=t;return{bezier:e}}const hV={common:lt,self:vP},gV={name:"CollapseTransition",common:st,self:vP},mV=k("collapse-transition",{width:"100%"},[qi()]),bP=Object.assign(Object.assign({},ke.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),pV=ce({name:"CollapseTransition",props:bP,inheritAttrs:!1,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=Ge(t),o=ke("CollapseTransition","-collapse-transition",mV,hV,t,e),i=rn("CollapseTransition",r,e),s=A(()=>t.collapsed!==void 0?t.collapsed:t.show),a=A(()=>{const{self:{bezier:c}}=o.value;return{"--n-bezier":c}}),l=n?ot("collapse-transition",void 0,a,t):void 0;return{rtlEnabled:i,mergedShow:s,mergedClsPrefix:e,cssVars:n?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){return g(Ai,{appear:this.appear},{default:()=>{var t;if(this.mergedShow)return(t=this.onRender)===null||t===void 0||t.call(this),g("div",sr({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}});function yP(t){const{fontSize:e,boxShadow2:n,popoverColor:r,textColor2:o,borderRadius:i,borderColor:s,heightSmall:a,heightMedium:l,heightLarge:c,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:f,dividerColor:m}=t;return{panelFontSize:e,boxShadow:n,color:r,textColor:o,borderRadius:i,border:`1px solid ${s}`,heightSmall:a,heightMedium:l,heightLarge:c,fontSizeSmall:d,fontSizeMedium:u,fontSizeLarge:f,dividerColor:m}}const vV={name:"ColorPicker",common:lt,peers:{Input:io,Button:so},self:yP},bV={name:"ColorPicker",common:st,peers:{Input:Co,Button:ao},self:yP};function yV(t,e){switch(t[0]){case"hex":return e?"#000000FF":"#000000";case"rgb":return e?"rgba(0, 0, 0, 1)":"rgb(0, 0, 0)";case"hsl":return e?"hsla(0, 0%, 0%, 1)":"hsl(0, 0%, 0%)";case"hsv":return e?"hsva(0, 0%, 0%, 1)":"hsv(0, 0%, 0%)"}return"#000000"}function ud(t){return t===null?null:/^ *#/.test(t)?"hex":t.includes("rgb")?"rgb":t.includes("hsl")?"hsl":t.includes("hsv")?"hsv":null}function xV(t){return t=Math.round(t),t>=360?359:t<0?0:t}function CV(t){return t=Math.round(t*100)/100,t>1?1:t<0?0:t}const SV={rgb:{hex(t){return Ps(rr(t))},hsl(t){const[e,n,r,o]=rr(t);return ks([...Xm(e,n,r),o])},hsv(t){const[e,n,r,o]=rr(t);return va([...Ym(e,n,r),o])}},hex:{rgb(t){return yi(rr(t))},hsl(t){const[e,n,r,o]=rr(t);return ks([...Xm(e,n,r),o])},hsv(t){const[e,n,r,o]=rr(t);return va([...Ym(e,n,r),o])}},hsl:{hex(t){const[e,n,r,o]=pa(t);return Ps([...wf(e,n,r),o])},rgb(t){const[e,n,r,o]=pa(t);return yi([...wf(e,n,r),o])},hsv(t){const[e,n,r,o]=pa(t);return va([...WR(e,n,r),o])}},hsv:{hex(t){const[e,n,r,o]=Es(t);return Ps([...Hi(e,n,r),o])},rgb(t){const[e,n,r,o]=Es(t);return yi([...Hi(e,n,r),o])},hsl(t){const[e,n,r,o]=Es(t);return ks([...qu(e,n,r),o])}}};function xP(t,e,n){return n=n||ud(t),n?n===e?t:SV[n][e](t):null}const vc="12px",wV=12,ta="6px",RV=ce({name:"AlphaSlider",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},alpha:{type:Number,default:0},onUpdateAlpha:{type:Function,required:!0},onComplete:Function},setup(t){const e=z(null);function n(i){!e.value||!t.rgba||(_t("mousemove",document,r),_t("mouseup",document,o),r(i))}function r(i){const{value:s}=e;if(!s)return;const{width:a,left:l}=s.getBoundingClientRect(),c=(i.clientX-l)/(a-wV);t.onUpdateAlpha(CV(c))}function o(){var i;It("mousemove",document,r),It("mouseup",document,o),(i=t.onComplete)===null||i===void 0||i.call(t)}return{railRef:e,railBackgroundImage:A(()=>{const{rgba:i}=t;return i?`linear-gradient(to right, rgba(${i[0]}, ${i[1]}, ${i[2]}, 0) 0%, rgba(${i[0]}, ${i[1]}, ${i[2]}, 1) 100%)`:""}),handleMouseDown:n}},render(){const{clsPrefix:t}=this;return g("div",{class:`${t}-color-picker-slider`,ref:"railRef",style:{height:vc,borderRadius:ta},onMousedown:this.handleMouseDown},g("div",{style:{borderRadius:ta,position:"absolute",left:0,right:0,top:0,bottom:0,overflow:"hidden"}},g("div",{class:`${t}-color-picker-checkboard`}),g("div",{class:`${t}-color-picker-slider__image`,style:{backgroundImage:this.railBackgroundImage}})),this.rgba&&g("div",{style:{position:"absolute",left:ta,right:ta,top:0,bottom:0}},g("div",{class:`${t}-color-picker-handle`,style:{left:`calc(${this.alpha*100}% - ${ta})`,borderRadius:ta,width:vc,height:vc}},g("div",{class:`${t}-color-picker-handle__fill`,style:{backgroundColor:yi(this.rgba),borderRadius:ta,width:vc,height:vc}}))))}}),A0="n-color-picker";function TV(t){return/^\d{1,3}\.?\d*$/.test(t.trim())?Math.max(0,Math.min(Number.parseInt(t),255)):!1}function EV(t){return/^\d{1,3}\.?\d*$/.test(t.trim())?Math.max(0,Math.min(Number.parseInt(t),360)):!1}function kV(t){return/^\d{1,3}\.?\d*$/.test(t.trim())?Math.max(0,Math.min(Number.parseInt(t),100)):!1}function PV(t){const e=t.trim();return/^#[0-9a-fA-F]+$/.test(e)?[4,5,7,9].includes(e.length):!1}function AV(t){return/^\d{1,3}\.?\d*%$/.test(t.trim())?Math.max(0,Math.min(Number.parseInt(t)/100,100)):!1}const IV={paddingSmall:"0 4px"},aC=ce({name:"ColorInputUnit",props:{label:{type:String,required:!0},value:{type:[Number,String],default:null},showAlpha:Boolean,onUpdateValue:{type:Function,required:!0}},setup(t){const e=z(""),{themeRef:n}=Ve(A0,null);Xt(()=>{e.value=r()});function r(){const{value:s}=t;if(s===null)return"";const{label:a}=t;return a==="HEX"?s:a==="A"?`${Math.floor(s*100)}%`:String(Math.floor(s))}function o(s){e.value=s}function i(s){let a,l;switch(t.label){case"HEX":l=PV(s),l&&t.onUpdateValue(s),e.value=r();break;case"H":a=EV(s),a===!1?e.value=r():t.onUpdateValue(a);break;case"S":case"L":case"V":a=kV(s),a===!1?e.value=r():t.onUpdateValue(a);break;case"A":a=AV(s),a===!1?e.value=r():t.onUpdateValue(a);break;case"R":case"G":case"B":a=TV(s),a===!1?e.value=r():t.onUpdateValue(a);break}}return{mergedTheme:n,inputValue:e,handleInputChange:i,handleInputUpdateValue:o}},render(){const{mergedTheme:t}=this;return g(tr,{size:"small",placeholder:this.label,theme:t.peers.Input,themeOverrides:t.peerOverrides.Input,builtinThemeOverrides:IV,value:this.inputValue,onUpdateValue:this.handleInputUpdateValue,onChange:this.handleInputChange,style:this.label==="A"?"flex-grow: 1.25;":""})}}),_V=ce({name:"ColorInput",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},modes:{type:Array,required:!0},showAlpha:{type:Boolean,required:!0},value:{type:String,default:null},valueArr:{type:Array,default:null},onUpdateValue:{type:Function,required:!0},onUpdateMode:{type:Function,required:!0}},setup(t){return{handleUnitUpdateValue(e,n){const{showAlpha:r}=t;if(t.mode==="hex"){t.onUpdateValue((r?Ps:Fc)(n));return}let o;switch(t.valueArr===null?o=[0,0,0,0]:o=Array.from(t.valueArr),t.mode){case"hsv":o[e]=n,t.onUpdateValue((r?va:Jm)(o));break;case"rgb":o[e]=n,t.onUpdateValue((r?yi:Zm)(o));break;case"hsl":o[e]=n,t.onUpdateValue((r?ks:ep)(o));break}}}},render(){const{clsPrefix:t,modes:e}=this;return g("div",{class:`${t}-color-picker-input`},g("div",{class:`${t}-color-picker-input__mode`,onClick:this.onUpdateMode,style:{cursor:e.length===1?"":"pointer"}},this.mode.toUpperCase()+(this.showAlpha?"A":"")),g(tk,null,{default:()=>{const{mode:n,valueArr:r,showAlpha:o}=this;if(n==="hex"){let i=null;try{i=r===null?null:(o?Ps:Fc)(r)}catch{}return g(aC,{label:"HEX",showAlpha:o,value:i,onUpdateValue:s=>{this.handleUnitUpdateValue(0,s)}})}return(n+(o?"a":"")).split("").map((i,s)=>g(aC,{label:i.toUpperCase(),value:r===null?null:r[s],onUpdateValue:a=>{this.handleUnitUpdateValue(s,a)}}))}}))}});function LV(t,e){if(e==="hsv"){const[n,r,o,i]=Es(t);return yi([...Hi(n,r,o),i])}return t}function DV(t){const e=document.createElement("canvas").getContext("2d");return e?(e.fillStyle=t,e.fillStyle):"#000000"}const OV=ce({name:"ColorPickerSwatches",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},swatches:{type:Array,required:!0},onUpdateColor:{type:Function,required:!0}},setup(t){const e=A(()=>t.swatches.map(i=>{const s=ud(i);return{value:i,mode:s,legalValue:LV(i,s)}}));function n(i){const{mode:s}=t;let{value:a,mode:l}=i;return l||(l="hex",/^[a-zA-Z]+$/.test(a)?a=DV(a):(Rr("color-picker",`color ${a} in swatches is invalid.`),a="#000000")),l===s?a:xP(a,s,l)}function r(i){t.onUpdateColor(n(i))}function o(i,s){i.key==="Enter"&&r(s)}return{parsedSwatchesRef:e,handleSwatchSelect:r,handleSwatchKeyDown:o}},render(){const{clsPrefix:t}=this;return g("div",{class:`${t}-color-picker-swatches`},this.parsedSwatchesRef.map(e=>g("div",{class:`${t}-color-picker-swatch`,tabindex:0,onClick:()=>{this.handleSwatchSelect(e)},onKeydown:n=>{this.handleSwatchKeyDown(n,e)}},g("div",{class:`${t}-color-picker-swatch__fill`,style:{background:e.legalValue}}))))}}),$V=ce({name:"ColorPickerTrigger",slots:Object,props:{clsPrefix:{type:String,required:!0},value:{type:String,default:null},hsla:{type:Array,default:null},disabled:Boolean,onClick:Function},setup(t){const{colorPickerSlots:e,renderLabelRef:n}=Ve(A0,null);return()=>{const{hsla:r,value:o,clsPrefix:i,onClick:s,disabled:a}=t,l=e.label||n.value;return g("div",{class:[`${i}-color-picker-trigger`,a&&`${i}-color-picker-trigger--disabled`],onClick:a?void 0:s},g("div",{class:`${i}-color-picker-trigger__fill`},g("div",{class:`${i}-color-picker-checkboard`}),g("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:r?ks(r):""}}),o&&r?g("div",{class:`${i}-color-picker-trigger__value`,style:{color:r[2]>50||r[3]<.5?"black":"white"}},l?l(o):o):null))}}}),FV=ce({name:"ColorPreview",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},color:{type:String,default:null,validator:t=>{const e=ud(t);return!!(!t||e&&e!=="hsv")}},onUpdateColor:{type:Function,required:!0}},setup(t){function e(n){var r;const o=n.target.value;(r=t.onUpdateColor)===null||r===void 0||r.call(t,xP(o.toUpperCase(),t.mode,"hex")),n.stopPropagation()}return{handleChange:e}},render(){const{clsPrefix:t}=this;return g("div",{class:`${t}-color-picker-preview__preview`},g("span",{class:`${t}-color-picker-preview__fill`,style:{background:this.color||"#000000"}}),g("input",{class:`${t}-color-picker-preview__input`,type:"color",value:this.color,onChange:this.handleChange}))}}),nl="12px",MV=12,na="6px",BV=6,zV="linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)",NV=ce({name:"HueSlider",props:{clsPrefix:{type:String,required:!0},hue:{type:Number,required:!0},onUpdateHue:{type:Function,required:!0},onComplete:Function},setup(t){const e=z(null);function n(i){e.value&&(_t("mousemove",document,r),_t("mouseup",document,o),r(i))}function r(i){const{value:s}=e;if(!s)return;const{width:a,left:l}=s.getBoundingClientRect(),c=xV((i.clientX-l-BV)/(a-MV)*360);t.onUpdateHue(c)}function o(){var i;It("mousemove",document,r),It("mouseup",document,o),(i=t.onComplete)===null||i===void 0||i.call(t)}return{railRef:e,handleMouseDown:n}},render(){const{clsPrefix:t}=this;return g("div",{class:`${t}-color-picker-slider`,style:{height:nl,borderRadius:na}},g("div",{ref:"railRef",style:{boxShadow:"inset 0 0 2px 0 rgba(0, 0, 0, .24)",boxSizing:"border-box",backgroundImage:zV,height:nl,borderRadius:na,position:"relative"},onMousedown:this.handleMouseDown},g("div",{style:{position:"absolute",left:na,right:na,top:0,bottom:0}},g("div",{class:`${t}-color-picker-handle`,style:{left:`calc((${this.hue}%) / 359 * 100 - ${na})`,borderRadius:na,width:nl,height:nl}},g("div",{class:`${t}-color-picker-handle__fill`,style:{backgroundColor:`hsl(${this.hue}, 100%, 50%)`,borderRadius:na,width:nl,height:nl}})))))}}),pu="12px",vu="6px",UV=ce({name:"Pallete",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},displayedHue:{type:Number,required:!0},displayedSv:{type:Array,required:!0},onUpdateSV:{type:Function,required:!0},onComplete:Function},setup(t){const e=z(null);function n(i){e.value&&(_t("mousemove",document,r),_t("mouseup",document,o),r(i))}function r(i){const{value:s}=e;if(!s)return;const{width:a,height:l,left:c,bottom:d}=s.getBoundingClientRect(),u=(d-i.clientY)/l,f=(i.clientX-c)/a,m=100*(f>1?1:f<0?0:f),h=100*(u>1?1:u<0?0:u);t.onUpdateSV(m,h)}function o(){var i;It("mousemove",document,r),It("mouseup",document,o),(i=t.onComplete)===null||i===void 0||i.call(t)}return{palleteRef:e,handleColor:A(()=>{const{rgba:i}=t;return i?`rgb(${i[0]}, ${i[1]}, ${i[2]})`:""}),handleMouseDown:n}},render(){const{clsPrefix:t}=this;return g("div",{class:`${t}-color-picker-pallete`,onMousedown:this.handleMouseDown,ref:"palleteRef"},g("div",{class:`${t}-color-picker-pallete__layer`,style:{backgroundImage:`linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`}}),g("div",{class:`${t}-color-picker-pallete__layer ${t}-color-picker-pallete__layer--shadowed`,style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))"}}),this.rgba&&g("div",{class:`${t}-color-picker-handle`,style:{width:pu,height:pu,borderRadius:vu,left:`calc(${this.displayedSv[0]}% - ${vu})`,bottom:`calc(${this.displayedSv[1]}% - ${vu})`}},g("div",{class:`${t}-color-picker-handle__fill`,style:{backgroundColor:this.handleColor,borderRadius:vu,width:pu,height:pu}})))}}),HV=O([k("color-picker",`
 display: inline-block;
 box-sizing: border-box;
 height: var(--n-height);
 font-size: var(--n-font-size);
 width: 100%;
 position: relative;
 `),k("color-picker-panel",`
 margin: 4px 0;
 width: 240px;
 font-size: var(--n-panel-font-size);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 `,[ar(),k("input",`
 text-align: center;
 `)]),k("color-picker-checkboard",`
 background: white; 
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[O("&::after",`
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 12px 12px;
 background-position: 0 0, 0 6px, 6px -6px, -6px 0px;
 background-repeat: repeat;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),k("color-picker-slider",`
 margin-bottom: 8px;
 position: relative;
 box-sizing: border-box;
 `,[F("image",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `),O("&::after",`
 content: "";
 position: absolute;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 pointer-events: none;
 `)]),k("color-picker-handle",`
 z-index: 1;
 box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);
 position: absolute;
 background-color: white;
 overflow: hidden;
 `,[F("fill",`
 box-sizing: border-box;
 border: 2px solid white;
 `)]),k("color-picker-pallete",`
 height: 180px;
 position: relative;
 margin-bottom: 8px;
 cursor: crosshair;
 `,[F("layer",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[M("shadowed",`
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 `)])]),k("color-picker-preview",`
 display: flex;
 `,[F("sliders",`
 flex: 1 0 auto;
 `),F("preview",`
 position: relative;
 height: 30px;
 width: 30px;
 margin: 0 0 8px 6px;
 border-radius: 50%;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 overflow: hidden;
 `),F("fill",`
 display: block;
 width: 30px;
 height: 30px;
 `),F("input",`
 position: absolute;
 top: 0;
 left: 0;
 width: 30px;
 height: 30px;
 opacity: 0;
 z-index: 1;
 `)]),k("color-picker-input",`
 display: flex;
 align-items: center;
 `,[k("input",`
 flex-grow: 1;
 flex-basis: 0;
 `),F("mode",`
 width: 72px;
 text-align: center;
 `)]),k("color-picker-control",`
 padding: 12px;
 `),k("color-picker-action",`
 display: flex;
 margin-top: -4px;
 border-top: 1px solid var(--n-divider-color);
 padding: 8px 12px;
 justify-content: flex-end;
 `,[k("button","margin-left: 8px;")]),k("color-picker-trigger",`
 border: var(--n-border);
 height: 100%;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 cursor: pointer;
 `,[F("value",`
 white-space: nowrap;
 position: relative;
 `),F("fill",`
 border-radius: var(--n-border-radius);
 position: absolute;
 display: flex;
 align-items: center;
 justify-content: center;
 left: 4px;
 right: 4px;
 top: 4px;
 bottom: 4px;
 `),M("disabled","cursor: not-allowed"),k("color-picker-checkboard",`
 border-radius: var(--n-border-radius);
 `,[O("&::after",`
 --n-block-size: calc((var(--n-height) - 8px) / 3);
 background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);
 background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; 
 `)])]),k("color-picker-swatches",`
 display: grid;
 grid-gap: 8px;
 flex-wrap: wrap;
 position: relative;
 grid-template-columns: repeat(auto-fill, 18px);
 margin-top: 10px;
 `,[k("color-picker-swatch",`
 width: 18px;
 height: 18px;
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 8px 8px;
 background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;
 background-repeat: repeat;
 `,[F("fill",`
 position: relative;
 width: 100%;
 height: 100%;
 border-radius: 3px;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 cursor: pointer;
 `),O("&:focus",`
 outline: none;
 `,[F("fill",[O("&::after",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 background: inherit;
 filter: blur(2px);
 content: "";
 `)])])])])]),CP=Object.assign(Object.assign({},ke.props),{value:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,defaultValue:String,modes:{type:Array,default:()=>["rgb","hex","hsl"]},placement:{type:String,default:"bottom-start"},to:an.propTo,showAlpha:{type:Boolean,default:!0},showPreview:Boolean,swatches:Array,disabled:{type:Boolean,default:void 0},actions:{type:Array,default:null},internalActions:Array,size:String,renderLabel:Function,onComplete:Function,onConfirm:Function,onClear:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),VV=ce({name:"ColorPicker",props:CP,slots:Object,setup(t,{slots:e}){const n=z(null);let r=null;const o=jn(t),{mergedSizeRef:i,mergedDisabledRef:s}=o,{localeRef:a}=Mn("global"),{mergedClsPrefixRef:l,namespaceRef:c,inlineThemeDisabled:d}=Ge(t),u=ke("ColorPicker","-color-picker",HV,vV,t,l);ft(A0,{themeRef:u,renderLabelRef:Se(t,"renderLabel"),colorPickerSlots:e});const f=z(t.defaultShow),m=Ft(Se(t,"show"),f);function h(de){const{onUpdateShow:fe,"onUpdate:show":te}=t;fe&&we(fe,de),te&&we(te,de),f.value=de}const{defaultValue:p}=t,v=z(p===void 0?yV(t.modes,t.showAlpha):p),b=Ft(Se(t,"value"),v),y=z([b.value]),x=z(0),C=A(()=>ud(b.value)),{modes:S}=t,T=z(ud(b.value)||S[0]||"rgb");function w(){const{modes:de}=t,{value:fe}=T,te=de.findIndex(ae=>ae===fe);~te?T.value=de[(te+1)%de.length]:T.value="rgb"}let E,R,P,_,I,L,N,H;const G=A(()=>{const{value:de}=b;if(!de)return null;switch(C.value){case"hsv":return Es(de);case"hsl":return[E,R,P,H]=pa(de),[...WR(E,R,P),H];case"rgb":case"hex":return[I,L,N,H]=rr(de),[...Ym(I,L,N),H]}}),W=A(()=>{const{value:de}=b;if(!de)return null;switch(C.value){case"rgb":case"hex":return rr(de);case"hsv":return[E,R,_,H]=Es(de),[...Hi(E,R,_),H];case"hsl":return[E,R,P,H]=pa(de),[...wf(E,R,P),H]}}),J=A(()=>{const{value:de}=b;if(!de)return null;switch(C.value){case"hsl":return pa(de);case"hsv":return[E,R,_,H]=Es(de),[...qu(E,R,_),H];case"rgb":case"hex":return[I,L,N,H]=rr(de),[...Xm(I,L,N),H]}}),ne=A(()=>{switch(T.value){case"rgb":case"hex":return W.value;case"hsv":return G.value;case"hsl":return J.value}}),D=z(0),B=z(1),j=z([0,0]);function $(de,fe){const{value:te}=G,ae=D.value,Ee=te?te[3]:1;j.value=[de,fe];const{showAlpha:se}=t;switch(T.value){case"hsv":Z((se?va:Jm)([ae,de,fe,Ee]),"cursor");break;case"hsl":Z((se?ks:ep)([...qu(ae,de,fe),Ee]),"cursor");break;case"rgb":Z((se?yi:Zm)([...Hi(ae,de,fe),Ee]),"cursor");break;case"hex":Z((se?Ps:Fc)([...Hi(ae,de,fe),Ee]),"cursor");break}}function V(de){D.value=de;const{value:fe}=G;if(!fe)return;const[,te,ae,Ee]=fe,{showAlpha:se}=t;switch(T.value){case"hsv":Z((se?va:Jm)([de,te,ae,Ee]),"cursor");break;case"rgb":Z((se?yi:Zm)([...Hi(de,te,ae),Ee]),"cursor");break;case"hex":Z((se?Ps:Fc)([...Hi(de,te,ae),Ee]),"cursor");break;case"hsl":Z((se?ks:ep)([...qu(de,te,ae),Ee]),"cursor");break}}function X(de){switch(T.value){case"hsv":[E,R,_]=G.value,Z(va([E,R,_,de]),"cursor");break;case"rgb":[I,L,N]=W.value,Z(yi([I,L,N,de]),"cursor");break;case"hex":[I,L,N]=W.value,Z(Ps([I,L,N,de]),"cursor");break;case"hsl":[E,R,P]=J.value,Z(ks([E,R,P,de]),"cursor");break}B.value=de}function Z(de,fe){fe==="cursor"?r=de:r=null;const{nTriggerFormChange:te,nTriggerFormInput:ae}=o,{onUpdateValue:Ee,"onUpdate:value":se}=t;Ee&&we(Ee,de),se&&we(se,de),te(),ae(),v.value=de}function q(de){Z(de,"input"),$t(ue)}function ue(de=!0){const{value:fe}=b;if(fe){const{nTriggerFormChange:te,nTriggerFormInput:ae}=o,{onComplete:Ee}=t;Ee&&Ee(fe);const{value:se}=y,{value:ie}=x;de&&(se.splice(ie+1,se.length,fe),x.value=ie+1),te(),ae()}}function K(){const{value:de}=x;de-1<0||(Z(y.value[de-1],"input"),ue(!1),x.value=de-1)}function he(){const{value:de}=x;de<0||de+1>=y.value.length||(Z(y.value[de+1],"input"),ue(!1),x.value=de+1)}function Ie(){Z(null,"input");const{onClear:de}=t;de&&de(),h(!1)}function Q(){const{value:de}=b,{onConfirm:fe}=t;fe&&fe(de),h(!1)}const Y=A(()=>x.value>=1),re=A(()=>{const{value:de}=y;return de.length>1&&x.value<de.length-1});gt(m,de=>{de||(y.value=[b.value],x.value=0)}),Xt(()=>{if(!(r&&r===b.value)){const{value:de}=G;de&&(D.value=de[0],B.value=de[3],j.value=[de[1],de[2]])}r=null});const be=A(()=>{const{value:de}=i,{common:{cubicBezierEaseInOut:fe},self:{textColor:te,color:ae,panelFontSize:Ee,boxShadow:se,border:ie,borderRadius:ge,dividerColor:Le,[Ae("height",de)]:xe,[Ae("fontSize",de)]:We}}=u.value;return{"--n-bezier":fe,"--n-text-color":te,"--n-color":ae,"--n-panel-font-size":Ee,"--n-font-size":We,"--n-box-shadow":se,"--n-border":ie,"--n-border-radius":ge,"--n-height":xe,"--n-divider-color":Le}}),Ce=d?ot("color-picker",A(()=>i.value[0]),be,t):void 0;function le(){var de;const{value:fe}=W,{value:te}=D,{internalActions:ae,modes:Ee,actions:se}=t,{value:ie}=u,{value:ge}=l;return g("div",{class:[`${ge}-color-picker-panel`,Ce==null?void 0:Ce.themeClass.value],onDragstart:Le=>{Le.preventDefault()},style:d?void 0:be.value},g("div",{class:`${ge}-color-picker-control`},g(UV,{clsPrefix:ge,rgba:fe,displayedHue:te,displayedSv:j.value,onUpdateSV:$,onComplete:ue}),g("div",{class:`${ge}-color-picker-preview`},g("div",{class:`${ge}-color-picker-preview__sliders`},g(NV,{clsPrefix:ge,hue:te,onUpdateHue:V,onComplete:ue}),t.showAlpha?g(RV,{clsPrefix:ge,rgba:fe,alpha:B.value,onUpdateAlpha:X,onComplete:ue}):null),t.showPreview?g(FV,{clsPrefix:ge,mode:T.value,color:W.value&&Fc(W.value),onUpdateColor:Le=>{Z(Le,"input")}}):null),g(_V,{clsPrefix:ge,showAlpha:t.showAlpha,mode:T.value,modes:Ee,onUpdateMode:w,value:b.value,valueArr:ne.value,onUpdateValue:q}),((de=t.swatches)===null||de===void 0?void 0:de.length)&&g(OV,{clsPrefix:ge,mode:T.value,swatches:t.swatches,onUpdateColor:Le=>{Z(Le,"input")}})),se!=null&&se.length?g("div",{class:`${ge}-color-picker-action`},se.includes("confirm")&&g(At,{size:"small",onClick:Q,theme:ie.peers.Button,themeOverrides:ie.peerOverrides.Button},{default:()=>a.value.confirm}),se.includes("clear")&&g(At,{size:"small",onClick:Ie,disabled:!b.value,theme:ie.peers.Button,themeOverrides:ie.peerOverrides.Button},{default:()=>a.value.clear})):null,e.action?g("div",{class:`${ge}-color-picker-action`},{default:e.action}):ae?g("div",{class:`${ge}-color-picker-action`},ae.includes("undo")&&g(At,{size:"small",onClick:K,disabled:!Y.value,theme:ie.peers.Button,themeOverrides:ie.peerOverrides.Button},{default:()=>a.value.undo}),ae.includes("redo")&&g(At,{size:"small",onClick:he,disabled:!re.value,theme:ie.peers.Button,themeOverrides:ie.peerOverrides.Button},{default:()=>a.value.redo})):null)}return{mergedClsPrefix:l,namespace:c,selfRef:n,hsla:J,rgba:W,mergedShow:m,mergedDisabled:s,isMounted:br(),adjustedTo:an(t),mergedValue:b,handleTriggerClick(){h(!0)},handleClickOutside(de){var fe;!((fe=n.value)===null||fe===void 0)&&fe.contains(Jr(de))||h(!1)},renderPanel:le,cssVars:d?void 0:be,themeClass:Ce==null?void 0:Ce.themeClass,onRender:Ce==null?void 0:Ce.onRender}},render(){const{mergedClsPrefix:t,onRender:e}=this;return e==null||e(),g("div",{class:[this.themeClass,`${t}-color-picker`],ref:"selfRef",style:this.cssVars},g(Mo,null,{default:()=>[g(Bo,null,{default:()=>g($V,{clsPrefix:t,value:this.mergedValue,hsla:this.hsla,disabled:this.mergedDisabled,onClick:this.handleTriggerClick})}),g(yo,{placement:this.placement,show:this.mergedShow,containerClass:this.namespace,teleportDisabled:this.adjustedTo===an.tdkey,to:this.adjustedTo},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?$n(this.renderPanel(),[[eo,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}}),SP={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,katex:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,preflightStyleDisabled:Boolean,styleMountTarget:Object,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(Rr("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}},I0=ce({name:"ConfigProvider",alias:["App"],props:SP,setup(t){const e=Ve(to,null),n=A(()=>{const{theme:p}=t;if(p===null)return;const v=e==null?void 0:e.mergedThemeRef.value;return p===void 0?v:v===void 0?p:Object.assign({},v,p)}),r=A(()=>{const{themeOverrides:p}=t;if(p!==null){if(p===void 0)return e==null?void 0:e.mergedThemeOverridesRef.value;{const v=e==null?void 0:e.mergedThemeOverridesRef.value;return v===void 0?p:gl({},v,p)}}}),o=pt(()=>{const{namespace:p}=t;return p===void 0?e==null?void 0:e.mergedNamespaceRef.value:p}),i=pt(()=>{const{bordered:p}=t;return p===void 0?e==null?void 0:e.mergedBorderedRef.value:p}),s=A(()=>{const{icons:p}=t;return p===void 0?e==null?void 0:e.mergedIconsRef.value:p}),a=A(()=>{const{componentOptions:p}=t;return p!==void 0?p:e==null?void 0:e.mergedComponentPropsRef.value}),l=A(()=>{const{clsPrefix:p}=t;return p!==void 0?p:e?e.mergedClsPrefixRef.value:Rf}),c=A(()=>{var p;const{rtl:v}=t;if(v===void 0)return e==null?void 0:e.mergedRtlRef.value;const b={};for(const y of v)b[y.name]=Jc(y),(p=y.peers)===null||p===void 0||p.forEach(x=>{x.name in b||(b[x.name]=Jc(x))});return b}),d=A(()=>t.breakpoints||(e==null?void 0:e.mergedBreakpointsRef.value)),u=t.inlineThemeDisabled||(e==null?void 0:e.inlineThemeDisabled),f=t.preflightStyleDisabled||(e==null?void 0:e.preflightStyleDisabled),m=t.styleMountTarget||(e==null?void 0:e.styleMountTarget),h=A(()=>{const{value:p}=n,{value:v}=r,b=v&&Object.keys(v).length!==0,y=p==null?void 0:p.name;return y?b?`${y}-${od(JSON.stringify(r.value))}`:y:b?od(JSON.stringify(r.value)):""});return ft(to,{mergedThemeHashRef:h,mergedBreakpointsRef:d,mergedRtlRef:c,mergedIconsRef:s,mergedComponentPropsRef:a,mergedBorderedRef:i,mergedNamespaceRef:o,mergedClsPrefixRef:l,mergedLocaleRef:A(()=>{const{locale:p}=t;if(p!==null)return p===void 0?e==null?void 0:e.mergedLocaleRef.value:p}),mergedDateLocaleRef:A(()=>{const{dateLocale:p}=t;if(p!==null)return p===void 0?e==null?void 0:e.mergedDateLocaleRef.value:p}),mergedHljsRef:A(()=>{const{hljs:p}=t;return p===void 0?e==null?void 0:e.mergedHljsRef.value:p}),mergedKatexRef:A(()=>{const{katex:p}=t;return p===void 0?e==null?void 0:e.mergedKatexRef.value:p}),mergedThemeRef:n,mergedThemeOverridesRef:r,inlineThemeDisabled:u||!1,preflightStyleDisabled:f||!1,styleMountTarget:m}),{mergedClsPrefix:l,mergedBordered:i,mergedNamespace:o,mergedTheme:n,mergedThemeOverrides:r}},render(){var t,e,n,r;return this.abstract?(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n):g(this.as||this.tag,{class:`${this.mergedClsPrefix||Rf}-config-provider`},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}}),wP={duration:{type:Number,default:0},active:{type:Boolean,default:!0},precision:{type:Number,default:0},render:Function,onFinish:Function},jV=ce({name:"Countdown",props:wP,setup(t){let e=null,n=0,r=!1;const o=z(0);Xt(()=>{o.value=t.duration});let i=-1;function s(m){return t.duration-n+i-m}function a(m){const h=Math.floor(m/36e5),p=Math.floor(m%36e5/6e4),v=Math.floor(m%6e4/1e3),b=Math.floor(m%1e3);return{hours:h,minutes:p,seconds:v,milliseconds:b}}function l(m){const{hours:h,minutes:p,seconds:v,milliseconds:b}=m,{precision:y}=t;switch(y){case 0:return`${String(h).padStart(2,"0")}:${String(p).padStart(2,"0")}:${String(v).padStart(2,"0")}`;default:return`${String(h).padStart(2,"0")}:${String(p).padStart(2,"0")}:${String(v).padStart(2,"0")}.${String(Math.floor(b/(y===1?100:y===2?10:1))).padStart(y,"0")}`}}const c=()=>{var m;const{precision:h}=t,p=s(performance.now());if(p<=0){o.value=0,d(),r||(r=!0,(m=t.onFinish)===null||m===void 0||m.call(t));return}let v;switch(h){case 3:case 2:v=p%34;break;case 1:v=p%100;break;default:v=p%1e3}o.value=p,e=window.setTimeout(()=>{c()},v)};function d(){e!==null&&(window.clearTimeout(e),e=null)}Gt(()=>{Xt(()=>{if(t.active)i=performance.now(),c();else{const m=performance.now();i!==-1&&(n+=m-i),d()}})}),Qt(()=>{d()});function u(){o.value=t.duration,n=0,i=performance.now(),t.active&&r&&c(),r=!1}return Object.assign({reset:u},{distance:o,getTimeInfo:a,getDisplayValue:l})},render(){const{render:t,precision:e,distance:n,getTimeInfo:r,getDisplayValue:o}=this;let i;switch(e){case 0:i=r(n+999),i.milliseconds=0;break;case 1:i=r(n+99),i.milliseconds=Math.floor(i.milliseconds/100)*100;break;case 2:i=r(n+9),i.milliseconds=Math.floor(i.milliseconds/10)*10;break;case 3:i=r(n)}return t?t(i):o(i)}}),RP={name:"Popselect",common:st,peers:{Popover:Va,InternalSelectMenu:Fd}};function WV(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const _0={name:"Popselect",common:lt,peers:{Popover:Ha,InternalSelectMenu:Yl},self:WV},TP="n-popselect",KV=k("popselect-menu",`
 box-shadow: var(--n-menu-box-shadow);
`),L0={multiple:Boolean,value:{type:[String,Number,Array],default:null},cancelable:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:"medium"},scrollable:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onMouseenter:Function,onMouseleave:Function,renderLabel:Function,showCheckmark:{type:Boolean,default:void 0},nodeProps:Function,virtualScroll:Boolean,onChange:[Function,Array]},lC=Tr(L0),GV=ce({name:"PopselectPanel",props:L0,setup(t){const e=Ve(TP),{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ge(t),o=ke("Popselect","-pop-select",KV,_0,e.props,n),i=A(()=>Xr(t.options,kh("value","children")));function s(f,m){const{onUpdateValue:h,"onUpdate:value":p,onChange:v}=t;h&&we(h,f,m),p&&we(p,f,m),v&&we(v,f,m)}function a(f){c(f.key)}function l(f){!An(f,"action")&&!An(f,"empty")&&!An(f,"header")&&f.preventDefault()}function c(f){const{value:{getNode:m}}=i;if(t.multiple)if(Array.isArray(t.value)){const h=[],p=[];let v=!0;t.value.forEach(b=>{if(b===f){v=!1;return}const y=m(b);y&&(h.push(y.key),p.push(y.rawNode))}),v&&(h.push(f),p.push(m(f).rawNode)),s(h,p)}else{const h=m(f);h&&s([f],[h.rawNode])}else if(t.value===f&&t.cancelable)s(null,null);else{const h=m(f);h&&s(f,h.rawNode);const{"onUpdate:show":p,onUpdateShow:v}=e.props;p&&we(p,!1),v&&we(v,!1),e.setShow(!1)}$t(()=>{e.syncPosition()})}gt(Se(t,"options"),()=>{$t(()=>{e.syncPosition()})});const d=A(()=>{const{self:{menuBoxShadow:f}}=o.value;return{"--n-menu-box-shadow":f}}),u=r?ot("select",void 0,d,e.props):void 0;return{mergedTheme:e.mergedThemeRef,mergedClsPrefix:n,treeMate:i,handleToggle:a,handleMenuMousedown:l,cssVars:r?void 0:d,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),g(Md,{clsPrefix:this.mergedClsPrefix,focusable:!0,nodeProps:this.nodeProps,class:[`${this.mergedClsPrefix}-popselect-menu`,this.themeClass],style:this.cssVars,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,multiple:this.multiple,treeMate:this.treeMate,size:this.size,value:this.value,virtualScroll:this.virtualScroll,scrollable:this.scrollable,renderLabel:this.renderLabel,onToggle:this.handleToggle,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseenter,onMousedown:this.handleMenuMousedown,showCheckmark:this.showCheckmark},{header:()=>{var e,n;return((n=(e=this.$slots).header)===null||n===void 0?void 0:n.call(e))||[]},action:()=>{var e,n;return((n=(e=this.$slots).action)===null||n===void 0?void 0:n.call(e))||[]},empty:()=>{var e,n;return((n=(e=this.$slots).empty)===null||n===void 0?void 0:n.call(e))||[]}})}}),EP=Object.assign(Object.assign(Object.assign(Object.assign({},ke.props),Gs(Ia,["showArrow","arrow"])),{placement:Object.assign(Object.assign({},Ia.placement),{default:"bottom"}),trigger:{type:String,default:"hover"}}),L0),kP=ce({name:"Popselect",props:EP,slots:Object,inheritAttrs:!1,__popover__:!0,setup(t){const{mergedClsPrefixRef:e}=Ge(t),n=ke("Popselect","-popselect",void 0,_0,t,e),r=z(null);function o(){var a;(a=r.value)===null||a===void 0||a.syncPosition()}function i(a){var l;(l=r.value)===null||l===void 0||l.setShow(a)}return ft(TP,{props:t,mergedThemeRef:n,syncPosition:o,setShow:i}),Object.assign(Object.assign({},{syncPosition:o,setShow:i}),{popoverInstRef:r,mergedTheme:n})},render(){const{mergedTheme:t}=this,e={theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,builtinThemeOverrides:{padding:"0"},ref:"popoverInstRef",internalRenderBody:(n,r,o,i,s)=>{const{$attrs:a}=this;return g(GV,Object.assign({},a,{class:[a.class,n],style:[a.style,...o]},Gn(this.$props,lC),{ref:xT(r),onMouseenter:Nc([i,a.onMouseenter]),onMouseleave:Nc([s,a.onMouseleave])}),{header:()=>{var l,c;return(c=(l=this.$slots).header)===null||c===void 0?void 0:c.call(l)},action:()=>{var l,c;return(c=(l=this.$slots).action)===null||c===void 0?void 0:c.call(l)},empty:()=>{var l,c;return(c=(l=this.$slots).empty)===null||c===void 0?void 0:c.call(l)}})}};return g(ja,Object.assign({},Gs(this.$props,lC),e,{internalDeactivateImmediately:!0}),{trigger:()=>{var n,r;return(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n)}})}});function PP(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const AP={name:"Select",common:lt,peers:{InternalSelection:Eh,InternalSelectMenu:Yl},self:PP},IP={name:"Select",common:st,peers:{InternalSelection:y0,InternalSelectMenu:Fd},self:PP},qV=O([k("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 font-weight: var(--n-font-weight);
 `),k("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[ar({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),_P=Object.assign(Object.assign({},ke.props),{to:an.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),LP=ce({name:"Select",props:_P,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedBorderedRef:n,namespaceRef:r,inlineThemeDisabled:o}=Ge(t),i=ke("Select","-select",qV,AP,t,e),s=z(t.defaultValue),a=Se(t,"value"),l=Ft(a,s),c=z(!1),d=z(""),u=Os(t,["items","options"]),f=z([]),m=z([]),h=A(()=>m.value.concat(f.value).concat(u.value)),p=A(()=>{const{filter:oe}=t;if(oe)return oe;const{labelField:ee,valueField:Pe}=t;return(Ne,Ue)=>{if(!Ue)return!1;const pe=Ue[ee];if(typeof pe=="string")return _g(Ne,pe);const $e=Ue[Pe];return typeof $e=="string"?_g(Ne,$e):typeof $e=="number"?_g(Ne,String($e)):!1}}),v=A(()=>{if(t.remote)return u.value;{const{value:oe}=h,{value:ee}=d;return!ee.length||!t.filterable?oe:aH(oe,p.value,ee,t.childrenField)}}),b=A(()=>{const{valueField:oe,childrenField:ee}=t,Pe=kh(oe,ee);return Xr(v.value,Pe)}),y=A(()=>lH(h.value,t.valueField,t.childrenField)),x=z(!1),C=Ft(Se(t,"show"),x),S=z(null),T=z(null),w=z(null),{localeRef:E}=Mn("Select"),R=A(()=>{var oe;return(oe=t.placeholder)!==null&&oe!==void 0?oe:E.value.placeholder}),P=[],_=z(new Map),I=A(()=>{const{fallbackOption:oe}=t;if(oe===void 0){const{labelField:ee,valueField:Pe}=t;return Ne=>({[ee]:String(Ne),[Pe]:Ne})}return oe===!1?!1:ee=>Object.assign(oe(ee),{value:ee})});function L(oe){const ee=t.remote,{value:Pe}=_,{value:Ne}=y,{value:Ue}=I,pe=[];return oe.forEach($e=>{if(Ne.has($e))pe.push(Ne.get($e));else if(ee&&Pe.has($e))pe.push(Pe.get($e));else if(Ue){const me=Ue($e);me&&pe.push(me)}}),pe}const N=A(()=>{if(t.multiple){const{value:oe}=l;return Array.isArray(oe)?L(oe):[]}return null}),H=A(()=>{const{value:oe}=l;return!t.multiple&&!Array.isArray(oe)?oe===null?null:L([oe])[0]||null:null}),G=jn(t),{mergedSizeRef:W,mergedDisabledRef:J,mergedStatusRef:ne}=G;function D(oe,ee){const{onChange:Pe,"onUpdate:value":Ne,onUpdateValue:Ue}=t,{nTriggerFormChange:pe,nTriggerFormInput:$e}=G;Pe&&we(Pe,oe,ee),Ue&&we(Ue,oe,ee),Ne&&we(Ne,oe,ee),s.value=oe,pe(),$e()}function B(oe){const{onBlur:ee}=t,{nTriggerFormBlur:Pe}=G;ee&&we(ee,oe),Pe()}function j(){const{onClear:oe}=t;oe&&we(oe)}function $(oe){const{onFocus:ee,showOnFocus:Pe}=t,{nTriggerFormFocus:Ne}=G;ee&&we(ee,oe),Ne(),Pe&&ue()}function V(oe){const{onSearch:ee}=t;ee&&we(ee,oe)}function X(oe){const{onScroll:ee}=t;ee&&we(ee,oe)}function Z(){var oe;const{remote:ee,multiple:Pe}=t;if(ee){const{value:Ne}=_;if(Pe){const{valueField:Ue}=t;(oe=N.value)===null||oe===void 0||oe.forEach(pe=>{Ne.set(pe[Ue],pe)})}else{const Ue=H.value;Ue&&Ne.set(Ue[t.valueField],Ue)}}}function q(oe){const{onUpdateShow:ee,"onUpdate:show":Pe}=t;ee&&we(ee,oe),Pe&&we(Pe,oe),x.value=oe}function ue(){J.value||(q(!0),x.value=!0,t.filterable&&dt())}function K(){q(!1)}function he(){d.value="",m.value=P}const Ie=z(!1);function Q(){t.filterable&&(Ie.value=!0)}function Y(){t.filterable&&(Ie.value=!1,C.value||he())}function re(){J.value||(C.value?t.filterable?dt():K():ue())}function be(oe){var ee,Pe;!((Pe=(ee=w.value)===null||ee===void 0?void 0:ee.selfRef)===null||Pe===void 0)&&Pe.contains(oe.relatedTarget)||(c.value=!1,B(oe),K())}function Ce(oe){$(oe),c.value=!0}function le(){c.value=!0}function de(oe){var ee;!((ee=S.value)===null||ee===void 0)&&ee.$el.contains(oe.relatedTarget)||(c.value=!1,B(oe),K())}function fe(){var oe;(oe=S.value)===null||oe===void 0||oe.focus(),K()}function te(oe){var ee;C.value&&(!((ee=S.value)===null||ee===void 0)&&ee.$el.contains(Jr(oe))||K())}function ae(oe){if(!Array.isArray(oe))return[];if(I.value)return Array.from(oe);{const{remote:ee}=t,{value:Pe}=y;if(ee){const{value:Ne}=_;return oe.filter(Ue=>Pe.has(Ue)||Ne.has(Ue))}else return oe.filter(Ne=>Pe.has(Ne))}}function Ee(oe){se(oe.rawNode)}function se(oe){if(J.value)return;const{tag:ee,remote:Pe,clearFilterAfterSelect:Ne,valueField:Ue}=t;if(ee&&!Pe){const{value:pe}=m,$e=pe[0]||null;if($e){const me=f.value;me.length?me.push($e):f.value=[$e],m.value=P}}if(Pe&&_.value.set(oe[Ue],oe),t.multiple){const pe=ae(l.value),$e=pe.findIndex(me=>me===oe[Ue]);if(~$e){if(pe.splice($e,1),ee&&!Pe){const me=ie(oe[Ue]);~me&&(f.value.splice(me,1),Ne&&(d.value=""))}}else pe.push(oe[Ue]),Ne&&(d.value="");D(pe,L(pe))}else{if(ee&&!Pe){const pe=ie(oe[Ue]);~pe?f.value=[f.value[pe]]:f.value=P}bt(),K(),D(oe[Ue],oe)}}function ie(oe){return f.value.findIndex(Pe=>Pe[t.valueField]===oe)}function ge(oe){C.value||ue();const{value:ee}=oe.target;d.value=ee;const{tag:Pe,remote:Ne}=t;if(V(ee),Pe&&!Ne){if(!ee){m.value=P;return}const{onCreate:Ue}=t,pe=Ue?Ue(ee):{[t.labelField]:ee,[t.valueField]:ee},{valueField:$e,labelField:me}=t;u.value.some(Oe=>Oe[$e]===pe[$e]||Oe[me]===pe[me])||f.value.some(Oe=>Oe[$e]===pe[$e]||Oe[me]===pe[me])?m.value=P:m.value=[pe]}}function Le(oe){oe.stopPropagation();const{multiple:ee}=t;!ee&&t.filterable&&K(),j(),ee?D([],[]):D(null,null)}function xe(oe){!An(oe,"action")&&!An(oe,"empty")&&!An(oe,"header")&&oe.preventDefault()}function We(oe){X(oe)}function at(oe){var ee,Pe,Ne,Ue,pe;if(!t.keyboard){oe.preventDefault();return}switch(oe.key){case" ":if(t.filterable)break;oe.preventDefault();case"Enter":if(!(!((ee=S.value)===null||ee===void 0)&&ee.isComposing)){if(C.value){const $e=(Pe=w.value)===null||Pe===void 0?void 0:Pe.getPendingTmNode();$e?Ee($e):t.filterable||(K(),bt())}else if(ue(),t.tag&&Ie.value){const $e=m.value[0];if($e){const me=$e[t.valueField],{value:Oe}=l;t.multiple&&Array.isArray(Oe)&&Oe.includes(me)||se($e)}}}oe.preventDefault();break;case"ArrowUp":if(oe.preventDefault(),t.loading)return;C.value&&((Ne=w.value)===null||Ne===void 0||Ne.prev());break;case"ArrowDown":if(oe.preventDefault(),t.loading)return;C.value?(Ue=w.value)===null||Ue===void 0||Ue.next():ue();break;case"Escape":C.value&&(ka(oe),K()),(pe=S.value)===null||pe===void 0||pe.focus();break}}function bt(){var oe;(oe=S.value)===null||oe===void 0||oe.focus()}function dt(){var oe;(oe=S.value)===null||oe===void 0||oe.focusInput()}function Ct(){var oe;C.value&&((oe=T.value)===null||oe===void 0||oe.syncPosition())}Z(),gt(Se(t,"options"),Z);const Tt={focus:()=>{var oe;(oe=S.value)===null||oe===void 0||oe.focus()},focusInput:()=>{var oe;(oe=S.value)===null||oe===void 0||oe.focusInput()},blur:()=>{var oe;(oe=S.value)===null||oe===void 0||oe.blur()},blurInput:()=>{var oe;(oe=S.value)===null||oe===void 0||oe.blurInput()}},Qe=A(()=>{const{self:{menuBoxShadow:oe}}=i.value;return{"--n-menu-box-shadow":oe}}),rt=o?ot("select",void 0,Qe,t):void 0;return Object.assign(Object.assign({},Tt),{mergedStatus:ne,mergedClsPrefix:e,mergedBordered:n,namespace:r,treeMate:b,isMounted:br(),triggerRef:S,menuRef:w,pattern:d,uncontrolledShow:x,mergedShow:C,adjustedTo:an(t),uncontrolledValue:s,mergedValue:l,followerRef:T,localizedPlaceholder:R,selectedOption:H,selectedOptions:N,mergedSize:W,mergedDisabled:J,focused:c,activeWithoutMenuOpen:Ie,inlineThemeDisabled:o,onTriggerInputFocus:Q,onTriggerInputBlur:Y,handleTriggerOrMenuResize:Ct,handleMenuFocus:le,handleMenuBlur:de,handleMenuTabOut:fe,handleTriggerClick:re,handleToggle:Ee,handleDeleteOption:se,handlePatternInput:ge,handleClear:Le,handleTriggerBlur:be,handleTriggerFocus:Ce,handleKeydown:at,handleMenuAfterLeave:he,handleMenuClickOutside:te,handleMenuScroll:We,handleMenuKeydown:at,handleMenuMousedown:xe,mergedTheme:i,cssVars:o?void 0:Qe,themeClass:rt==null?void 0:rt.themeClass,onRender:rt==null?void 0:rt.onRender})},render(){return g("div",{class:`${this.mergedClsPrefix}-select`},g(Mo,null,{default:()=>[g(Bo,null,{default:()=>g(x0,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var t,e;return[(e=(t=this.$slots).arrow)===null||e===void 0?void 0:e.call(t)]}})}),g(yo,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===an.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var t,e,n;return this.mergedShow||this.displayDirective==="show"?((t=this.onRender)===null||t===void 0||t.call(this),$n(g(Md,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(e=this.menuProps)===null||e===void 0?void 0:e.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(n=this.menuProps)===null||n===void 0?void 0:n.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var r,o;return[(o=(r=this.$slots).empty)===null||o===void 0?void 0:o.call(r)]},header:()=>{var r,o;return[(o=(r=this.$slots).header)===null||o===void 0?void 0:o.call(r)]},action:()=>{var r,o;return[(o=(r=this.$slots).action)===null||o===void 0?void 0:o.call(r)]}}),this.displayDirective==="show"?[[bo,this.mergedShow],[eo,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[eo,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),YV={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"};function DP(t){const{textColor2:e,primaryColor:n,primaryColorHover:r,primaryColorPressed:o,inputColorDisabled:i,textColorDisabled:s,borderColor:a,borderRadius:l,fontSizeTiny:c,fontSizeSmall:d,fontSizeMedium:u,heightTiny:f,heightSmall:m,heightMedium:h}=t;return Object.assign(Object.assign({},YV),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${a}`,buttonBorderHover:`1px solid ${a}`,buttonBorderPressed:`1px solid ${a}`,buttonIconColor:e,buttonIconColorHover:e,buttonIconColorPressed:e,itemTextColor:e,itemTextColorHover:r,itemTextColorPressed:o,itemTextColorActive:n,itemTextColorDisabled:s,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:i,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${n}`,itemBorderDisabled:`1px solid ${a}`,itemBorderRadius:l,itemSizeSmall:f,itemSizeMedium:m,itemSizeLarge:h,itemFontSizeSmall:c,itemFontSizeMedium:d,itemFontSizeLarge:u,jumperFontSizeSmall:c,jumperFontSizeMedium:d,jumperFontSizeLarge:u,jumperTextColor:e,jumperTextColorDisabled:s})}const OP={name:"Pagination",common:lt,peers:{Select:AP,Input:io,Popselect:_0},self:DP},$P={name:"Pagination",common:st,peers:{Select:IP,Input:Co,Popselect:RP},self(t){const{primaryColor:e,opacity3:n}=t,r=Ye(e,{alpha:Number(n)}),o=DP(t);return o.itemBorderActive=`1px solid ${r}`,o.itemBorderDisabled="1px solid #0000",o}},cC=`
 background: var(--n-item-color-hover);
 color: var(--n-item-text-color-hover);
 border: var(--n-item-border-hover);
`,dC=[M("button",`
 background: var(--n-button-color-hover);
 border: var(--n-button-border-hover);
 color: var(--n-button-icon-color-hover);
 `)],XV=k("pagination",`
 display: flex;
 vertical-align: middle;
 font-size: var(--n-item-font-size);
 flex-wrap: nowrap;
`,[k("pagination-prefix",`
 display: flex;
 align-items: center;
 margin: var(--n-prefix-margin);
 `),k("pagination-suffix",`
 display: flex;
 align-items: center;
 margin: var(--n-suffix-margin);
 `),O("> *:not(:first-child)",`
 margin: var(--n-item-margin);
 `),k("select",`
 width: var(--n-select-width);
 `),O("&.transition-disabled",[k("pagination-item","transition: none!important;")]),k("pagination-quick-jumper",`
 white-space: nowrap;
 display: flex;
 color: var(--n-jumper-text-color);
 transition: color .3s var(--n-bezier);
 align-items: center;
 font-size: var(--n-jumper-font-size);
 `,[k("input",`
 margin: var(--n-input-margin);
 width: var(--n-input-width);
 `)]),k("pagination-item",`
 position: relative;
 cursor: pointer;
 user-select: none;
 -webkit-user-select: none;
 display: flex;
 align-items: center;
 justify-content: center;
 box-sizing: border-box;
 min-width: var(--n-item-size);
 height: var(--n-item-size);
 padding: var(--n-item-padding);
 background-color: var(--n-item-color);
 color: var(--n-item-text-color);
 border-radius: var(--n-item-border-radius);
 border: var(--n-item-border);
 fill: var(--n-button-icon-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 fill .3s var(--n-bezier);
 `,[M("button",`
 background: var(--n-button-color);
 color: var(--n-button-icon-color);
 border: var(--n-button-border);
 padding: 0;
 `,[k("base-icon",`
 font-size: var(--n-button-icon-size);
 `)]),wt("disabled",[M("hover",cC,dC),O("&:hover",cC,dC),O("&:active",`
 background: var(--n-item-color-pressed);
 color: var(--n-item-text-color-pressed);
 border: var(--n-item-border-pressed);
 `,[M("button",`
 background: var(--n-button-color-pressed);
 border: var(--n-button-border-pressed);
 color: var(--n-button-icon-color-pressed);
 `)]),M("active",`
 background: var(--n-item-color-active);
 color: var(--n-item-text-color-active);
 border: var(--n-item-border-active);
 `,[O("&:hover",`
 background: var(--n-item-color-active-hover);
 `)])]),M("disabled",`
 cursor: not-allowed;
 color: var(--n-item-text-color-disabled);
 `,[M("active, button",`
 background-color: var(--n-item-color-disabled);
 border: var(--n-item-border-disabled);
 `)])]),M("disabled",`
 cursor: not-allowed;
 `,[k("pagination-quick-jumper",`
 color: var(--n-jumper-text-color-disabled);
 `)]),M("simple",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 `,[k("pagination-quick-jumper",[k("input",`
 margin: 0;
 `)])])]);function FP(t){var e;if(!t)return 10;const{defaultPageSize:n}=t;if(n!==void 0)return n;const r=(e=t.pageSizes)===null||e===void 0?void 0:e[0];return typeof r=="number"?r:(r==null?void 0:r.value)||10}function QV(t,e,n,r){let o=!1,i=!1,s=1,a=e;if(e===1)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:a,fastBackwardTo:s,items:[{type:"page",label:1,active:t===1,mayBeFastBackward:!1,mayBeFastForward:!1}]};if(e===2)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:a,fastBackwardTo:s,items:[{type:"page",label:1,active:t===1,mayBeFastBackward:!1,mayBeFastForward:!1},{type:"page",label:2,active:t===2,mayBeFastBackward:!0,mayBeFastForward:!1}]};const l=1,c=e;let d=t,u=t;const f=(n-5)/2;u+=Math.ceil(f),u=Math.min(Math.max(u,l+n-3),c-2),d-=Math.floor(f),d=Math.max(Math.min(d,c-n+3),l+2);let m=!1,h=!1;d>l+2&&(m=!0),u<c-2&&(h=!0);const p=[];p.push({type:"page",label:1,active:t===1,mayBeFastBackward:!1,mayBeFastForward:!1}),m?(o=!0,s=d-1,p.push({type:"fast-backward",active:!1,label:void 0,options:r?uC(l+1,d-1):null})):c>=l+1&&p.push({type:"page",label:l+1,mayBeFastBackward:!0,mayBeFastForward:!1,active:t===l+1});for(let v=d;v<=u;++v)p.push({type:"page",label:v,mayBeFastBackward:!1,mayBeFastForward:!1,active:t===v});return h?(i=!0,a=u+1,p.push({type:"fast-forward",active:!1,label:void 0,options:r?uC(u+1,c-1):null})):u===c-2&&p[p.length-1].label!==c-1&&p.push({type:"page",mayBeFastForward:!0,mayBeFastBackward:!1,label:c-1,active:t===c-1}),p[p.length-1].label!==c&&p.push({type:"page",mayBeFastForward:!1,mayBeFastBackward:!1,label:c,active:t===c}),{hasFastBackward:o,hasFastForward:i,fastBackwardTo:s,fastForwardTo:a,items:p}}function uC(t,e){const n=[];for(let r=t;r<=e;++r)n.push({label:`${r}`,value:r});return n}const MP=Object.assign(Object.assign({},ke.props),{simple:Boolean,page:Number,defaultPage:{type:Number,default:1},itemCount:Number,pageCount:Number,defaultPageCount:{type:Number,default:1},showSizePicker:Boolean,pageSize:Number,defaultPageSize:Number,pageSizes:{type:Array,default(){return[10]}},showQuickJumper:Boolean,size:{type:String,default:"medium"},disabled:Boolean,pageSlot:{type:Number,default:9},selectProps:Object,prev:Function,next:Function,goto:Function,prefix:Function,suffix:Function,label:Function,displayOrder:{type:Array,default:["pages","size-picker","quick-jumper"]},to:an.propTo,showQuickJumpDropdown:{type:Boolean,default:!0},"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],onPageSizeChange:[Function,Array],onChange:[Function,Array]}),BP=ce({name:"Pagination",props:MP,slots:Object,setup(t){const{mergedComponentPropsRef:e,mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=Ge(t),i=ke("Pagination","-pagination",XV,OP,t,n),{localeRef:s}=Mn("Pagination"),a=z(null),l=z(t.defaultPage),c=z(FP(t)),d=Ft(Se(t,"page"),l),u=Ft(Se(t,"pageSize"),c),f=A(()=>{const{itemCount:K}=t;if(K!==void 0)return Math.max(1,Math.ceil(K/u.value));const{pageCount:he}=t;return he!==void 0?Math.max(he,1):1}),m=z("");Xt(()=>{t.simple,m.value=String(d.value)});const h=z(!1),p=z(!1),v=z(!1),b=z(!1),y=()=>{t.disabled||(h.value=!0,H())},x=()=>{t.disabled||(h.value=!1,H())},C=()=>{p.value=!0,H()},S=()=>{p.value=!1,H()},T=K=>{G(K)},w=A(()=>QV(d.value,f.value,t.pageSlot,t.showQuickJumpDropdown));Xt(()=>{w.value.hasFastBackward?w.value.hasFastForward||(h.value=!1,v.value=!1):(p.value=!1,b.value=!1)});const E=A(()=>{const K=s.value.selectionSuffix;return t.pageSizes.map(he=>typeof he=="number"?{label:`${he} / ${K}`,value:he}:he)}),R=A(()=>{var K,he;return((he=(K=e==null?void 0:e.value)===null||K===void 0?void 0:K.Pagination)===null||he===void 0?void 0:he.inputSize)||sp(t.size)}),P=A(()=>{var K,he;return((he=(K=e==null?void 0:e.value)===null||K===void 0?void 0:K.Pagination)===null||he===void 0?void 0:he.selectSize)||sp(t.size)}),_=A(()=>(d.value-1)*u.value),I=A(()=>{const K=d.value*u.value-1,{itemCount:he}=t;return he!==void 0&&K>he-1?he-1:K}),L=A(()=>{const{itemCount:K}=t;return K!==void 0?K:(t.pageCount||1)*u.value}),N=rn("Pagination",o,n);function H(){$t(()=>{var K;const{value:he}=a;he&&(he.classList.add("transition-disabled"),(K=a.value)===null||K===void 0||K.offsetWidth,he.classList.remove("transition-disabled"))})}function G(K){if(K===d.value)return;const{"onUpdate:page":he,onUpdatePage:Ie,onChange:Q,simple:Y}=t;he&&we(he,K),Ie&&we(Ie,K),Q&&we(Q,K),l.value=K,Y&&(m.value=String(K))}function W(K){if(K===u.value)return;const{"onUpdate:pageSize":he,onUpdatePageSize:Ie,onPageSizeChange:Q}=t;he&&we(he,K),Ie&&we(Ie,K),Q&&we(Q,K),c.value=K,f.value<d.value&&G(f.value)}function J(){if(t.disabled)return;const K=Math.min(d.value+1,f.value);G(K)}function ne(){if(t.disabled)return;const K=Math.max(d.value-1,1);G(K)}function D(){if(t.disabled)return;const K=Math.min(w.value.fastForwardTo,f.value);G(K)}function B(){if(t.disabled)return;const K=Math.max(w.value.fastBackwardTo,1);G(K)}function j(K){W(K)}function $(){const K=Number.parseInt(m.value);Number.isNaN(K)||(G(Math.max(1,Math.min(K,f.value))),t.simple||(m.value=""))}function V(){$()}function X(K){if(!t.disabled)switch(K.type){case"page":G(K.label);break;case"fast-backward":B();break;case"fast-forward":D();break}}function Z(K){m.value=K.replace(/\D+/g,"")}Xt(()=>{d.value,u.value,H()});const q=A(()=>{const{size:K}=t,{self:{buttonBorder:he,buttonBorderHover:Ie,buttonBorderPressed:Q,buttonIconColor:Y,buttonIconColorHover:re,buttonIconColorPressed:be,itemTextColor:Ce,itemTextColorHover:le,itemTextColorPressed:de,itemTextColorActive:fe,itemTextColorDisabled:te,itemColor:ae,itemColorHover:Ee,itemColorPressed:se,itemColorActive:ie,itemColorActiveHover:ge,itemColorDisabled:Le,itemBorder:xe,itemBorderHover:We,itemBorderPressed:at,itemBorderActive:bt,itemBorderDisabled:dt,itemBorderRadius:Ct,jumperTextColor:Tt,jumperTextColorDisabled:Qe,buttonColor:rt,buttonColorHover:oe,buttonColorPressed:ee,[Ae("itemPadding",K)]:Pe,[Ae("itemMargin",K)]:Ne,[Ae("inputWidth",K)]:Ue,[Ae("selectWidth",K)]:pe,[Ae("inputMargin",K)]:$e,[Ae("selectMargin",K)]:me,[Ae("jumperFontSize",K)]:Oe,[Ae("prefixMargin",K)]:Ze,[Ae("suffixMargin",K)]:tt,[Ae("itemSize",K)]:Re,[Ae("buttonIconSize",K)]:He,[Ae("itemFontSize",K)]:ve,[`${Ae("itemMargin",K)}Rtl`]:Be,[`${Ae("inputMargin",K)}Rtl`]:Ke},common:{cubicBezierEaseInOut:ct}}=i.value;return{"--n-prefix-margin":Ze,"--n-suffix-margin":tt,"--n-item-font-size":ve,"--n-select-width":pe,"--n-select-margin":me,"--n-input-width":Ue,"--n-input-margin":$e,"--n-input-margin-rtl":Ke,"--n-item-size":Re,"--n-item-text-color":Ce,"--n-item-text-color-disabled":te,"--n-item-text-color-hover":le,"--n-item-text-color-active":fe,"--n-item-text-color-pressed":de,"--n-item-color":ae,"--n-item-color-hover":Ee,"--n-item-color-disabled":Le,"--n-item-color-active":ie,"--n-item-color-active-hover":ge,"--n-item-color-pressed":se,"--n-item-border":xe,"--n-item-border-hover":We,"--n-item-border-disabled":dt,"--n-item-border-active":bt,"--n-item-border-pressed":at,"--n-item-padding":Pe,"--n-item-border-radius":Ct,"--n-bezier":ct,"--n-jumper-font-size":Oe,"--n-jumper-text-color":Tt,"--n-jumper-text-color-disabled":Qe,"--n-item-margin":Ne,"--n-item-margin-rtl":Be,"--n-button-icon-size":He,"--n-button-icon-color":Y,"--n-button-icon-color-hover":re,"--n-button-icon-color-pressed":be,"--n-button-color-hover":oe,"--n-button-color":rt,"--n-button-color-pressed":ee,"--n-button-border":he,"--n-button-border-hover":Ie,"--n-button-border-pressed":Q}}),ue=r?ot("pagination",A(()=>{let K="";const{size:he}=t;return K+=he[0],K}),q,t):void 0;return{rtlEnabled:N,mergedClsPrefix:n,locale:s,selfRef:a,mergedPage:d,pageItems:A(()=>w.value.items),mergedItemCount:L,jumperValue:m,pageSizeOptions:E,mergedPageSize:u,inputSize:R,selectSize:P,mergedTheme:i,mergedPageCount:f,startIndex:_,endIndex:I,showFastForwardMenu:v,showFastBackwardMenu:b,fastForwardActive:h,fastBackwardActive:p,handleMenuSelect:T,handleFastForwardMouseenter:y,handleFastForwardMouseleave:x,handleFastBackwardMouseenter:C,handleFastBackwardMouseleave:S,handleJumperInput:Z,handleBackwardClick:ne,handleForwardClick:J,handlePageItemClick:X,handleSizePickerChange:j,handleQuickJumperChange:V,cssVars:r?void 0:q,themeClass:ue==null?void 0:ue.themeClass,onRender:ue==null?void 0:ue.onRender}},render(){const{$slots:t,mergedClsPrefix:e,disabled:n,cssVars:r,mergedPage:o,mergedPageCount:i,pageItems:s,showSizePicker:a,showQuickJumper:l,mergedTheme:c,locale:d,inputSize:u,selectSize:f,mergedPageSize:m,pageSizeOptions:h,jumperValue:p,simple:v,prev:b,next:y,prefix:x,suffix:C,label:S,goto:T,handleJumperInput:w,handleSizePickerChange:E,handleBackwardClick:R,handlePageItemClick:P,handleForwardClick:_,handleQuickJumperChange:I,onRender:L}=this;L==null||L();const N=x||t.prefix,H=C||t.suffix,G=b||t.prev,W=y||t.next,J=S||t.label;return g("div",{ref:"selfRef",class:[`${e}-pagination`,this.themeClass,this.rtlEnabled&&`${e}-pagination--rtl`,n&&`${e}-pagination--disabled`,v&&`${e}-pagination--simple`],style:r},N?g("div",{class:`${e}-pagination-prefix`},N({page:o,pageSize:m,pageCount:i,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null,this.displayOrder.map(ne=>{switch(ne){case"pages":return g(Vt,null,g("div",{class:[`${e}-pagination-item`,!G&&`${e}-pagination-item--button`,(o<=1||o>i||n)&&`${e}-pagination-item--disabled`],onClick:R},G?G({page:o,pageSize:m,pageCount:i,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount}):g(yt,{clsPrefix:e},{default:()=>this.rtlEnabled?g(Ns,null):g(Ms,null)})),v?g(Vt,null,g("div",{class:`${e}-pagination-quick-jumper`},g(tr,{value:p,onUpdateValue:w,size:u,placeholder:"",disabled:n,theme:c.peers.Input,themeOverrides:c.peerOverrides.Input,onChange:I}))," /"," ",i):s.map((D,B)=>{let j,$,V;const{type:X}=D;switch(X){case"page":const q=D.label;J?j=J({type:"page",node:q,active:D.active}):j=q;break;case"fast-forward":const ue=this.fastForwardActive?g(yt,{clsPrefix:e},{default:()=>this.rtlEnabled?g(Bs,null):g(zs,null)}):g(yt,{clsPrefix:e},{default:()=>g(Mx,null)});J?j=J({type:"fast-forward",node:ue,active:this.fastForwardActive||this.showFastForwardMenu}):j=ue,$=this.handleFastForwardMouseenter,V=this.handleFastForwardMouseleave;break;case"fast-backward":const K=this.fastBackwardActive?g(yt,{clsPrefix:e},{default:()=>this.rtlEnabled?g(zs,null):g(Bs,null)}):g(yt,{clsPrefix:e},{default:()=>g(Mx,null)});J?j=J({type:"fast-backward",node:K,active:this.fastBackwardActive||this.showFastBackwardMenu}):j=K,$=this.handleFastBackwardMouseenter,V=this.handleFastBackwardMouseleave;break}const Z=g("div",{key:B,class:[`${e}-pagination-item`,D.active&&`${e}-pagination-item--active`,X!=="page"&&(X==="fast-backward"&&this.showFastBackwardMenu||X==="fast-forward"&&this.showFastForwardMenu)&&`${e}-pagination-item--hover`,n&&`${e}-pagination-item--disabled`,X==="page"&&`${e}-pagination-item--clickable`],onClick:()=>{P(D)},onMouseenter:$,onMouseleave:V},j);if(X==="page"&&!D.mayBeFastBackward&&!D.mayBeFastForward)return Z;{const q=D.type==="page"?D.mayBeFastBackward?"fast-backward":"fast-forward":D.type;return D.type!=="page"&&!D.options?Z:g(kP,{to:this.to,key:q,disabled:n,trigger:"hover",virtualScroll:!0,style:{width:"60px"},theme:c.peers.Popselect,themeOverrides:c.peerOverrides.Popselect,builtinThemeOverrides:{peers:{InternalSelectMenu:{height:"calc(var(--n-option-height) * 4.6)"}}},nodeProps:()=>({style:{justifyContent:"center"}}),show:X==="page"?!1:X==="fast-backward"?this.showFastBackwardMenu:this.showFastForwardMenu,onUpdateShow:ue=>{X!=="page"&&(ue?X==="fast-backward"?this.showFastBackwardMenu=ue:this.showFastForwardMenu=ue:(this.showFastBackwardMenu=!1,this.showFastForwardMenu=!1))},options:D.type!=="page"&&D.options?D.options:[],onUpdateValue:this.handleMenuSelect,scrollable:!0,showCheckmark:!1},{default:()=>Z})}}),g("div",{class:[`${e}-pagination-item`,!W&&`${e}-pagination-item--button`,{[`${e}-pagination-item--disabled`]:o<1||o>=i||n}],onClick:_},W?W({page:o,pageSize:m,pageCount:i,itemCount:this.mergedItemCount,startIndex:this.startIndex,endIndex:this.endIndex}):g(yt,{clsPrefix:e},{default:()=>this.rtlEnabled?g(Ms,null):g(Ns,null)})));case"size-picker":return!v&&a?g(LP,Object.assign({consistentMenuWidth:!1,placeholder:"",showCheckmark:!1,to:this.to},this.selectProps,{size:f,options:h,value:m,disabled:n,theme:c.peers.Select,themeOverrides:c.peerOverrides.Select,onUpdateValue:E})):null;case"quick-jumper":return!v&&l?g("div",{class:`${e}-pagination-quick-jumper`},T?T():Et(this.$slots.goto,()=>[d.goto]),g(tr,{value:p,onUpdateValue:w,size:u,placeholder:"",disabled:n,theme:c.peers.Input,themeOverrides:c.peerOverrides.Input,onChange:I})):null;default:return null}}),H?g("div",{class:`${e}-pagination-suffix`},H({page:o,pageSize:m,pageCount:i,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null)}}),ZV={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"};function zP(t){const{primaryColor:e,textColor2:n,dividerColor:r,hoverColor:o,popoverColor:i,invertedColor:s,borderRadius:a,fontSizeSmall:l,fontSizeMedium:c,fontSizeLarge:d,fontSizeHuge:u,heightSmall:f,heightMedium:m,heightLarge:h,heightHuge:p,textColor3:v,opacityDisabled:b}=t;return Object.assign(Object.assign({},ZV),{optionHeightSmall:f,optionHeightMedium:m,optionHeightLarge:h,optionHeightHuge:p,borderRadius:a,fontSizeSmall:l,fontSizeMedium:c,fontSizeLarge:d,fontSizeHuge:u,optionTextColor:n,optionTextColorHover:n,optionTextColorActive:e,optionTextColorChildActive:e,color:i,dividerColor:r,suffixColor:n,prefixColor:n,optionColorHover:o,optionColorActive:Ye(e,{alpha:.1}),groupHeaderTextColor:v,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:s,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:e,optionColorActiveInverted:e,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:b})}const D0={name:"Dropdown",common:lt,peers:{Popover:Ha},self:zP},O0={name:"Dropdown",common:st,peers:{Popover:Va},self(t){const{primaryColorSuppl:e,primaryColor:n,popoverColor:r}=t,o=zP(t);return o.colorInverted=r,o.optionColorActive=Ye(n,{alpha:.15}),o.optionColorActiveInverted=e,o.optionColorHoverInverted=e,o}},NP={padding:"8px 14px"},Ah={name:"Tooltip",common:st,peers:{Popover:Va},self(t){const{borderRadius:e,boxShadow2:n,popoverColor:r,textColor2:o}=t;return Object.assign(Object.assign({},NP),{borderRadius:e,boxShadow:n,color:r,textColor:o})}};function JV(t){const{borderRadius:e,boxShadow2:n,baseColor:r}=t;return Object.assign(Object.assign({},NP),{borderRadius:e,boxShadow:n,color:vt(r,"rgba(0, 0, 0, .85)"),textColor:r})}const Ih={name:"Tooltip",common:lt,peers:{Popover:Ha},self:JV},UP={name:"Ellipsis",common:st,peers:{Tooltip:Ah}},HP={name:"Ellipsis",common:lt,peers:{Tooltip:Ih}},VP={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},jP={name:"Radio",common:st,self(t){const{borderColor:e,primaryColor:n,baseColor:r,textColorDisabled:o,inputColorDisabled:i,textColor2:s,opacityDisabled:a,borderRadius:l,fontSizeSmall:c,fontSizeMedium:d,fontSizeLarge:u,heightSmall:f,heightMedium:m,heightLarge:h,lineHeight:p}=t;return Object.assign(Object.assign({},VP),{labelLineHeight:p,buttonHeightSmall:f,buttonHeightMedium:m,buttonHeightLarge:h,fontSizeSmall:c,fontSizeMedium:d,fontSizeLarge:u,boxShadow:`inset 0 0 0 1px ${e}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Ye(n,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${e}`,color:"#0000",colorDisabled:i,colorActive:"#0000",textColor:s,textColorDisabled:o,dotColorActive:n,dotColorDisabled:e,buttonBorderColor:e,buttonBorderColorActive:n,buttonBorderColorHover:n,buttonColor:"#0000",buttonColorActive:n,buttonTextColor:s,buttonTextColorActive:r,buttonTextColorHover:n,opacityDisabled:a,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Ye(n,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${n}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}};function ej(t){const{borderColor:e,primaryColor:n,baseColor:r,textColorDisabled:o,inputColorDisabled:i,textColor2:s,opacityDisabled:a,borderRadius:l,fontSizeSmall:c,fontSizeMedium:d,fontSizeLarge:u,heightSmall:f,heightMedium:m,heightLarge:h,lineHeight:p}=t;return Object.assign(Object.assign({},VP),{labelLineHeight:p,buttonHeightSmall:f,buttonHeightMedium:m,buttonHeightLarge:h,fontSizeSmall:c,fontSizeMedium:d,fontSizeLarge:u,boxShadow:`inset 0 0 0 1px ${e}`,boxShadowActive:`inset 0 0 0 1px ${n}`,boxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Ye(n,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${n}`,boxShadowDisabled:`inset 0 0 0 1px ${e}`,color:r,colorDisabled:i,colorActive:"#0000",textColor:s,textColorDisabled:o,dotColorActive:n,dotColorDisabled:e,buttonBorderColor:e,buttonBorderColorActive:n,buttonBorderColorHover:e,buttonColor:r,buttonColorActive:r,buttonTextColor:s,buttonTextColorActive:n,buttonTextColorHover:n,opacityDisabled:a,buttonBoxShadowFocus:`inset 0 0 0 1px ${n}, 0 0 0 2px ${Ye(n,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}const $0={name:"Radio",common:lt,self:ej},tj={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"};function WP(t){const{cardColor:e,modalColor:n,popoverColor:r,textColor2:o,textColor1:i,tableHeaderColor:s,tableColorHover:a,iconColor:l,primaryColor:c,fontWeightStrong:d,borderRadius:u,lineHeight:f,fontSizeSmall:m,fontSizeMedium:h,fontSizeLarge:p,dividerColor:v,heightSmall:b,opacityDisabled:y,tableColorStriped:x}=t;return Object.assign(Object.assign({},tj),{actionDividerColor:v,lineHeight:f,borderRadius:u,fontSizeSmall:m,fontSizeMedium:h,fontSizeLarge:p,borderColor:vt(e,v),tdColorHover:vt(e,a),tdColorSorting:vt(e,a),tdColorStriped:vt(e,x),thColor:vt(e,s),thColorHover:vt(vt(e,s),a),thColorSorting:vt(vt(e,s),a),tdColor:e,tdTextColor:o,thTextColor:i,thFontWeight:d,thButtonColorHover:a,thIconColor:l,thIconColorActive:c,borderColorModal:vt(n,v),tdColorHoverModal:vt(n,a),tdColorSortingModal:vt(n,a),tdColorStripedModal:vt(n,x),thColorModal:vt(n,s),thColorHoverModal:vt(vt(n,s),a),thColorSortingModal:vt(vt(n,s),a),tdColorModal:n,borderColorPopover:vt(r,v),tdColorHoverPopover:vt(r,a),tdColorSortingPopover:vt(r,a),tdColorStripedPopover:vt(r,x),thColorPopover:vt(r,s),thColorHoverPopover:vt(vt(r,s),a),thColorSortingPopover:vt(vt(r,s),a),tdColorPopover:r,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:c,loadingSize:b,opacityLoading:y})}const nj={name:"DataTable",common:lt,peers:{Button:so,Checkbox:Xl,Radio:$0,Pagination:OP,Scrollbar:ro,Empty:rs,Popover:Ha,Ellipsis:HP,Dropdown:D0},self:WP},rj={name:"DataTable",common:st,peers:{Button:ao,Checkbox:Ql,Radio:jP,Pagination:$P,Scrollbar:oo,Empty:Ua,Popover:Va,Ellipsis:UP,Dropdown:O0},self(t){const e=WP(t);return e.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",e.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",e}},KP=Object.assign(Object.assign({},ke.props),{onUnstableColumnResize:Function,pagination:{type:[Object,Boolean],default:!1},paginateSinglePage:{type:Boolean,default:!0},minHeight:[Number,String],maxHeight:[Number,String],columns:{type:Array,default:()=>[]},rowClassName:[String,Function],rowProps:Function,rowKey:Function,summary:[Function],data:{type:Array,default:()=>[]},loading:Boolean,bordered:{type:Boolean,default:void 0},bottomBordered:{type:Boolean,default:void 0},striped:Boolean,scrollX:[Number,String],defaultCheckedRowKeys:{type:Array,default:()=>[]},checkedRowKeys:Array,singleLine:{type:Boolean,default:!0},singleColumn:Boolean,size:{type:String,default:"medium"},remote:Boolean,defaultExpandedRowKeys:{type:Array,default:[]},defaultExpandAll:Boolean,expandedRowKeys:Array,stickyExpandedRows:Boolean,virtualScroll:Boolean,virtualScrollX:Boolean,virtualScrollHeader:Boolean,headerHeight:{type:Number,default:28},heightForRow:Function,minRowHeight:{type:Number,default:28},tableLayout:{type:String,default:"auto"},allowCheckingNotLoaded:Boolean,cascade:{type:Boolean,default:!0},childrenKey:{type:String,default:"children"},indent:{type:Number,default:16},flexHeight:Boolean,summaryPlacement:{type:String,default:"bottom"},paginationBehaviorOnFilter:{type:String,default:"current"},filterIconPopoverProps:Object,scrollbarProps:Object,renderCell:Function,renderExpandIcon:Function,spinProps:{type:Object,default:{}},getCsvCell:Function,getCsvHeader:Function,onLoad:Function,"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],"onUpdate:sorter":[Function,Array],onUpdateSorter:[Function,Array],"onUpdate:filters":[Function,Array],onUpdateFilters:[Function,Array],"onUpdate:checkedRowKeys":[Function,Array],onUpdateCheckedRowKeys:[Function,Array],"onUpdate:expandedRowKeys":[Function,Array],onUpdateExpandedRowKeys:[Function,Array],onScroll:Function,onPageChange:[Function,Array],onPageSizeChange:[Function,Array],onSorterChange:[Function,Array],onFiltersChange:[Function,Array],onCheckedRowKeysChange:[Function,Array]}),Zo="n-data-table",GP=40,qP=40;function fC(t){if(t.type==="selection")return t.width===void 0?GP:on(t.width);if(t.type==="expand")return t.width===void 0?qP:on(t.width);if(!("children"in t))return typeof t.width=="string"?on(t.width):t.width}function oj(t){var e,n;if(t.type==="selection")return Mt((e=t.width)!==null&&e!==void 0?e:GP);if(t.type==="expand")return Mt((n=t.width)!==null&&n!==void 0?n:qP);if(!("children"in t))return Mt(t.width)}function Ho(t){return t.type==="selection"?"__n_selection__":t.type==="expand"?"__n_expand__":t.key}function hC(t){return t&&(typeof t=="object"?Object.assign({},t):t)}function ij(t){return t==="ascend"?1:t==="descend"?-1:0}function sj(t,e,n){return n!==void 0&&(t=Math.min(t,typeof n=="number"?n:Number.parseFloat(n))),e!==void 0&&(t=Math.max(t,typeof e=="number"?e:Number.parseFloat(e))),t}function aj(t,e){if(e!==void 0)return{width:e,minWidth:e,maxWidth:e};const n=oj(t),{minWidth:r,maxWidth:o}=t;return{width:n,minWidth:Mt(r)||n,maxWidth:Mt(o)}}function lj(t,e,n){return typeof n=="function"?n(t,e):n||""}function Ng(t){return t.filterOptionValues!==void 0||t.filterOptionValue===void 0&&t.defaultFilterOptionValues!==void 0}function Ug(t){return"children"in t?!1:!!t.sorter}function YP(t){return"children"in t&&t.children.length?!1:!!t.resizable}function gC(t){return"children"in t?!1:!!t.filter&&(!!t.filterOptions||!!t.renderFilterMenu)}function mC(t){if(t){if(t==="descend")return"ascend"}else return"descend";return!1}function cj(t,e){return t.sorter===void 0?null:e===null||e.columnKey!==t.key?{columnKey:t.key,sorter:t.sorter,order:mC(!1)}:Object.assign(Object.assign({},e),{order:mC(e.order)})}function XP(t,e){return e.find(n=>n.columnKey===t.key&&n.order)!==void 0}function dj(t){return typeof t=="string"?t.replace(/,/g,"\\,"):t==null?"":`${t}`.replace(/,/g,"\\,")}function uj(t,e,n,r){const o=t.filter(a=>a.type!=="expand"&&a.type!=="selection"&&a.allowExport!==!1),i=o.map(a=>r?r(a):a.title).join(","),s=e.map(a=>o.map(l=>n?n(a[l.key],a,l):dj(a[l.key])).join(","));return[i,...s].join(`
`)}const fj=ce({name:"DataTableBodyCheckbox",props:{rowKey:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!0},onUpdateChecked:{type:Function,required:!0}},setup(t){const{mergedCheckedRowKeySetRef:e,mergedInderminateRowKeySetRef:n}=Ve(Zo);return()=>{const{rowKey:r}=t;return g(os,{privateInsideTable:!0,disabled:t.disabled,indeterminate:n.value.has(r),checked:e.value.has(r),onUpdateChecked:t.onUpdateChecked})}}}),hj=k("radio",`
 line-height: var(--n-label-line-height);
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 align-items: flex-start;
 flex-wrap: nowrap;
 font-size: var(--n-font-size);
 word-break: break-word;
`,[M("checked",[F("dot",`
 background-color: var(--n-color-active);
 `)]),F("dot-wrapper",`
 position: relative;
 flex-shrink: 0;
 flex-grow: 0;
 width: var(--n-radio-size);
 `),k("radio-input",`
 position: absolute;
 border: 0;
 width: 0;
 height: 0;
 opacity: 0;
 margin: 0;
 `),F("dot",`
 position: absolute;
 top: 50%;
 left: 0;
 transform: translateY(-50%);
 height: var(--n-radio-size);
 width: var(--n-radio-size);
 background: var(--n-color);
 box-shadow: var(--n-box-shadow);
 border-radius: 50%;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `,[O("&::before",`
 content: "";
 opacity: 0;
 position: absolute;
 left: 4px;
 top: 4px;
 height: calc(100% - 8px);
 width: calc(100% - 8px);
 border-radius: 50%;
 transform: scale(.8);
 background: var(--n-dot-color-active);
 transition: 
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),M("checked",{boxShadow:"var(--n-box-shadow-active)"},[O("&::before",`
 opacity: 1;
 transform: scale(1);
 `)])]),F("label",`
 color: var(--n-text-color);
 padding: var(--n-label-padding);
 font-weight: var(--n-label-font-weight);
 display: inline-block;
 transition: color .3s var(--n-bezier);
 `),wt("disabled",`
 cursor: pointer;
 `,[O("&:hover",[F("dot",{boxShadow:"var(--n-box-shadow-hover)"})]),M("focus",[O("&:not(:active)",[F("dot",{boxShadow:"var(--n-box-shadow-focus)"})])])]),M("disabled",`
 cursor: not-allowed;
 `,[F("dot",{boxShadow:"var(--n-box-shadow-disabled)",backgroundColor:"var(--n-color-disabled)"},[O("&::before",{backgroundColor:"var(--n-dot-color-disabled)"}),M("checked",`
 opacity: 1;
 `)]),F("label",{color:"var(--n-text-color-disabled)"}),k("radio-input",`
 cursor: not-allowed;
 `)])]),F0={name:String,value:{type:[String,Number,Boolean],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,default:void 0}},QP="n-radio-group";function ZP(t){const e=Ve(QP,null),n=jn(t,{mergedSize(y){const{size:x}=t;if(x!==void 0)return x;if(e){const{mergedSizeRef:{value:C}}=e;if(C!==void 0)return C}return y?y.mergedSize.value:"medium"},mergedDisabled(y){return!!(t.disabled||e!=null&&e.disabledRef.value||y!=null&&y.disabled.value)}}),{mergedSizeRef:r,mergedDisabledRef:o}=n,i=z(null),s=z(null),a=z(t.defaultChecked),l=Se(t,"checked"),c=Ft(l,a),d=pt(()=>e?e.valueRef.value===t.value:c.value),u=pt(()=>{const{name:y}=t;if(y!==void 0)return y;if(e)return e.nameRef.value}),f=z(!1);function m(){if(e){const{doUpdateValue:y}=e,{value:x}=t;we(y,x)}else{const{onUpdateChecked:y,"onUpdate:checked":x}=t,{nTriggerFormInput:C,nTriggerFormChange:S}=n;y&&we(y,!0),x&&we(x,!0),C(),S(),a.value=!0}}function h(){o.value||d.value||m()}function p(){h(),i.value&&(i.value.checked=d.value)}function v(){f.value=!1}function b(){f.value=!0}return{mergedClsPrefix:e?e.mergedClsPrefixRef:Ge(t).mergedClsPrefixRef,inputRef:i,labelRef:s,mergedName:u,mergedDisabled:o,renderSafeChecked:d,focus:f,mergedSize:r,handleRadioInputChange:p,handleRadioInputBlur:v,handleRadioInputFocus:b}}const JP=Object.assign(Object.assign({},ke.props),F0),M0=ce({name:"Radio",props:JP,setup(t){const e=ZP(t),n=ke("Radio","-radio",hj,$0,t,e.mergedClsPrefix),r=A(()=>{const{mergedSize:{value:c}}=e,{common:{cubicBezierEaseInOut:d},self:{boxShadow:u,boxShadowActive:f,boxShadowDisabled:m,boxShadowFocus:h,boxShadowHover:p,color:v,colorDisabled:b,colorActive:y,textColor:x,textColorDisabled:C,dotColorActive:S,dotColorDisabled:T,labelPadding:w,labelLineHeight:E,labelFontWeight:R,[Ae("fontSize",c)]:P,[Ae("radioSize",c)]:_}}=n.value;return{"--n-bezier":d,"--n-label-line-height":E,"--n-label-font-weight":R,"--n-box-shadow":u,"--n-box-shadow-active":f,"--n-box-shadow-disabled":m,"--n-box-shadow-focus":h,"--n-box-shadow-hover":p,"--n-color":v,"--n-color-active":y,"--n-color-disabled":b,"--n-dot-color-active":S,"--n-dot-color-disabled":T,"--n-font-size":P,"--n-radio-size":_,"--n-text-color":x,"--n-text-color-disabled":C,"--n-label-padding":w}}),{inlineThemeDisabled:o,mergedClsPrefixRef:i,mergedRtlRef:s}=Ge(t),a=rn("Radio",s,i),l=o?ot("radio",A(()=>e.mergedSize.value[0]),r,t):void 0;return Object.assign(e,{rtlEnabled:a,cssVars:o?void 0:r,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender})},render(){const{$slots:t,mergedClsPrefix:e,onRender:n,label:r}=this;return n==null||n(),g("label",{class:[`${e}-radio`,this.themeClass,this.rtlEnabled&&`${e}-radio--rtl`,this.mergedDisabled&&`${e}-radio--disabled`,this.renderSafeChecked&&`${e}-radio--checked`,this.focus&&`${e}-radio--focus`],style:this.cssVars},g("div",{class:`${e}-radio__dot-wrapper`}," ",g("div",{class:[`${e}-radio__dot`,this.renderSafeChecked&&`${e}-radio__dot--checked`]}),g("input",{ref:"inputRef",type:"radio",class:`${e}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur})),Lt(t.default,o=>!o&&!r?null:g("div",{ref:"labelRef",class:`${e}-radio__label`},o||r)))}}),gj=F0,mj=ce({name:"RadioButton",props:F0,setup:ZP,render(){const{mergedClsPrefix:t}=this;return g("label",{class:[`${t}-radio-button`,this.mergedDisabled&&`${t}-radio-button--disabled`,this.renderSafeChecked&&`${t}-radio-button--checked`,this.focus&&[`${t}-radio-button--focus`]]},g("input",{ref:"inputRef",type:"radio",class:`${t}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),g("div",{class:`${t}-radio-button__state-border`}),Lt(this.$slots.default,e=>!e&&!this.label?null:g("div",{ref:"labelRef",class:`${t}-radio__label`},e||this.label)))}}),pj=k("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[F("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[M("checked",{backgroundColor:"var(--n-button-border-color-active)"}),M("disabled",{opacity:"var(--n-opacity-disabled)"})]),M("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[k("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),F("splitor",{height:"var(--n-height)"})]),k("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background: var(--n-button-color);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[k("radio-input",`
 pointer-events: none;
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),F("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),O("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[F("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),O("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[F("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),wt("disabled",`
 cursor: pointer;
 `,[O("&:hover",[F("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),wt("checked",{color:"var(--n-button-text-color-hover)"})]),M("focus",[O("&:not(:active)",[F("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),M("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),M("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function vj(t,e,n){var r;const o=[];let i=!1;for(let s=0;s<t.length;++s){const a=t[s],l=(r=a.type)===null||r===void 0?void 0:r.name;l==="RadioButton"&&(i=!0);const c=a.props;if(l!=="RadioButton"){o.push(a);continue}if(s===0)o.push(a);else{const d=o[o.length-1].props,u=e===d.value,f=d.disabled,m=e===c.value,h=c.disabled,p=(u?2:0)+(f?0:1),v=(m?2:0)+(h?0:1),b={[`${n}-radio-group__splitor--disabled`]:f,[`${n}-radio-group__splitor--checked`]:u},y={[`${n}-radio-group__splitor--disabled`]:h,[`${n}-radio-group__splitor--checked`]:m},x=p<v?y:b;o.push(g("div",{class:[`${n}-radio-group__splitor`,x]}),a)}}return{children:o,isButtonGroup:i}}const eA=Object.assign(Object.assign({},ke.props),{name:String,value:[String,Number,Boolean],defaultValue:{type:[String,Number,Boolean],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),tA=ce({name:"RadioGroup",props:eA,setup(t){const e=z(null),{mergedSizeRef:n,mergedDisabledRef:r,nTriggerFormChange:o,nTriggerFormInput:i,nTriggerFormBlur:s,nTriggerFormFocus:a}=jn(t),{mergedClsPrefixRef:l,inlineThemeDisabled:c,mergedRtlRef:d}=Ge(t),u=ke("Radio","-radio-group",pj,$0,t,l),f=z(t.defaultValue),m=Se(t,"value"),h=Ft(m,f);function p(S){const{onUpdateValue:T,"onUpdate:value":w}=t;T&&we(T,S),w&&we(w,S),f.value=S,o(),i()}function v(S){const{value:T}=e;T&&(T.contains(S.relatedTarget)||a())}function b(S){const{value:T}=e;T&&(T.contains(S.relatedTarget)||s())}ft(QP,{mergedClsPrefixRef:l,nameRef:Se(t,"name"),valueRef:h,disabledRef:r,mergedSizeRef:n,doUpdateValue:p});const y=rn("Radio",d,l),x=A(()=>{const{value:S}=n,{common:{cubicBezierEaseInOut:T},self:{buttonBorderColor:w,buttonBorderColorActive:E,buttonBorderRadius:R,buttonBoxShadow:P,buttonBoxShadowFocus:_,buttonBoxShadowHover:I,buttonColor:L,buttonColorActive:N,buttonTextColor:H,buttonTextColorActive:G,buttonTextColorHover:W,opacityDisabled:J,[Ae("buttonHeight",S)]:ne,[Ae("fontSize",S)]:D}}=u.value;return{"--n-font-size":D,"--n-bezier":T,"--n-button-border-color":w,"--n-button-border-color-active":E,"--n-button-border-radius":R,"--n-button-box-shadow":P,"--n-button-box-shadow-focus":_,"--n-button-box-shadow-hover":I,"--n-button-color":L,"--n-button-color-active":N,"--n-button-text-color":H,"--n-button-text-color-hover":W,"--n-button-text-color-active":G,"--n-height":ne,"--n-opacity-disabled":J}}),C=c?ot("radio-group",A(()=>n.value[0]),x,t):void 0;return{selfElRef:e,rtlEnabled:y,mergedClsPrefix:l,mergedValue:h,handleFocusout:b,handleFocusin:v,cssVars:c?void 0:x,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender}},render(){var t;const{mergedValue:e,mergedClsPrefix:n,handleFocusin:r,handleFocusout:o}=this,{children:i,isButtonGroup:s}=vj(Yr(Gl(this)),e,n);return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{onFocusin:r,onFocusout:o,ref:"selfElRef",class:[`${n}-radio-group`,this.rtlEnabled&&`${n}-radio-group--rtl`,this.themeClass,s&&`${n}-radio-group--button-group`],style:this.cssVars},i)}}),bj=ce({name:"DataTableBodyRadio",props:{rowKey:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!0},onUpdateChecked:{type:Function,required:!0}},setup(t){const{mergedCheckedRowKeySetRef:e,componentId:n}=Ve(Zo);return()=>{const{rowKey:r}=t;return g(M0,{name:n,disabled:t.disabled,checked:e.value.has(r),onUpdateChecked:t.onUpdateChecked})}}}),nA=Object.assign(Object.assign({},Ia),ke.props),_h=ce({name:"Tooltip",props:nA,slots:Object,__popover__:!0,setup(t){const{mergedClsPrefixRef:e}=Ge(t),n=ke("Tooltip","-tooltip",void 0,Ih,t,e),r=z(null);return Object.assign(Object.assign({},{syncPosition(){r.value.syncPosition()},setShow(i){r.value.setShow(i)}}),{popoverRef:r,mergedTheme:n,popoverThemeOverrides:A(()=>n.value.self)})},render(){const{mergedTheme:t,internalExtraClass:e}=this;return g(ja,Object.assign(Object.assign({},this.$props),{theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:e.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),rA=k("ellipsis",{overflow:"hidden"},[wt("line-clamp",`
 white-space: nowrap;
 display: inline-block;
 vertical-align: bottom;
 max-width: 100%;
 `),M("line-clamp",`
 display: -webkit-inline-box;
 -webkit-box-orient: vertical;
 `),M("cursor-pointer",`
 cursor: pointer;
 `)]);function Ap(t){return`${t}-ellipsis--line-clamp`}function Ip(t,e){return`${t}-ellipsis--cursor-${e}`}const B0=Object.assign(Object.assign({},ke.props),{expandTrigger:String,lineClamp:[Number,String],tooltip:{type:[Boolean,Object],default:!0}}),Lh=ce({name:"Ellipsis",inheritAttrs:!1,props:B0,slots:Object,setup(t,{slots:e,attrs:n}){const r=ST(),o=ke("Ellipsis","-ellipsis",rA,HP,t,r),i=z(null),s=z(null),a=z(null),l=z(!1),c=A(()=>{const{lineClamp:v}=t,{value:b}=l;return v!==void 0?{textOverflow:"","-webkit-line-clamp":b?"":v}:{textOverflow:b?"":"ellipsis","-webkit-line-clamp":""}});function d(){let v=!1;const{value:b}=l;if(b)return!0;const{value:y}=i;if(y){const{lineClamp:x}=t;if(m(y),x!==void 0)v=y.scrollHeight<=y.offsetHeight;else{const{value:C}=s;C&&(v=C.getBoundingClientRect().width<=y.getBoundingClientRect().width)}h(y,v)}return v}const u=A(()=>t.expandTrigger==="click"?()=>{var v;const{value:b}=l;b&&((v=a.value)===null||v===void 0||v.setShow(!1)),l.value=!b}:void 0);ch(()=>{var v;t.tooltip&&((v=a.value)===null||v===void 0||v.setShow(!1))});const f=()=>g("span",Object.assign({},sr(n,{class:[`${r.value}-ellipsis`,t.lineClamp!==void 0?Ap(r.value):void 0,t.expandTrigger==="click"?Ip(r.value,"pointer"):void 0],style:c.value}),{ref:"triggerRef",onClick:u.value,onMouseenter:t.expandTrigger==="click"?d:void 0}),t.lineClamp?e:g("span",{ref:"triggerInnerRef"},e));function m(v){if(!v)return;const b=c.value,y=Ap(r.value);t.lineClamp!==void 0?p(v,y,"add"):p(v,y,"remove");for(const x in b)v.style[x]!==b[x]&&(v.style[x]=b[x])}function h(v,b){const y=Ip(r.value,"pointer");t.expandTrigger==="click"&&!b?p(v,y,"add"):p(v,y,"remove")}function p(v,b,y){y==="add"?v.classList.contains(b)||v.classList.add(b):v.classList.contains(b)&&v.classList.remove(b)}return{mergedTheme:o,triggerRef:i,triggerInnerRef:s,tooltipRef:a,handleClick:u,renderTrigger:f,getTooltipDisabled:d}},render(){var t;const{tooltip:e,renderTrigger:n,$slots:r}=this;if(e){const{mergedTheme:o}=this;return g(_h,Object.assign({ref:"tooltipRef",placement:"top"},e,{getDisabled:this.getTooltipDisabled,theme:o.peers.Tooltip,themeOverrides:o.peerOverrides.Tooltip}),{trigger:n,default:(t=r.tooltip)!==null&&t!==void 0?t:r.default})}else return n()}}),oA=ce({name:"PerformantEllipsis",props:B0,inheritAttrs:!1,setup(t,{attrs:e,slots:n}){const r=z(!1),o=ST();return xo("-ellipsis",rA,o),{mouseEntered:r,renderTrigger:()=>{const{lineClamp:s}=t,a=o.value;return g("span",Object.assign({},sr(e,{class:[`${a}-ellipsis`,s!==void 0?Ap(a):void 0,t.expandTrigger==="click"?Ip(a,"pointer"):void 0],style:s===void 0?{textOverflow:"ellipsis"}:{"-webkit-line-clamp":s}}),{onMouseenter:()=>{r.value=!0}}),s?n:g("span",null,n))}}},render(){return this.mouseEntered?g(Lh,sr({},this.$attrs,this.$props),this.$slots):this.renderTrigger()}}),yj=ce({name:"DataTableCell",props:{clsPrefix:{type:String,required:!0},row:{type:Object,required:!0},index:{type:Number,required:!0},column:{type:Object,required:!0},isSummary:Boolean,mergedTheme:{type:Object,required:!0},renderCell:Function},render(){var t;const{isSummary:e,column:n,row:r,renderCell:o}=this;let i;const{render:s,key:a,ellipsis:l}=n;if(s&&!e?i=s(r,this.index):e?i=(t=r[a])===null||t===void 0?void 0:t.value:i=o?o(cd(r,a),r,n):cd(r,a),l)if(typeof l=="object"){const{mergedTheme:c}=this;return n.ellipsisComponent==="performant-ellipsis"?g(oA,Object.assign({},l,{theme:c.peers.Ellipsis,themeOverrides:c.peerOverrides.Ellipsis}),{default:()=>i}):g(Lh,Object.assign({},l,{theme:c.peers.Ellipsis,themeOverrides:c.peerOverrides.Ellipsis}),{default:()=>i})}else return g("span",{class:`${this.clsPrefix}-data-table-td__ellipsis`},i);return i}}),pC=ce({name:"DataTableExpandTrigger",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,loading:Boolean,onClick:{type:Function,required:!0},renderExpandIcon:{type:Function},rowData:{type:Object,required:!0}},render(){const{clsPrefix:t}=this;return g("div",{class:[`${t}-data-table-expand-trigger`,this.expanded&&`${t}-data-table-expand-trigger--expanded`],onClick:this.onClick,onMousedown:e=>{e.preventDefault()}},g(Pi,null,{default:()=>this.loading?g(Qo,{key:"loading",clsPrefix:this.clsPrefix,radius:85,strokeWidth:15,scale:.88}):this.renderExpandIcon?this.renderExpandIcon({expanded:this.expanded,rowData:this.rowData}):g(yt,{clsPrefix:t,key:"base-icon"},{default:()=>g(Ba,null)})}))}}),xj=ce({name:"DataTableFilterMenu",props:{column:{type:Object,required:!0},radioGroupName:{type:String,required:!0},multiple:{type:Boolean,required:!0},value:{type:[Array,String,Number],default:null},options:{type:Array,required:!0},onConfirm:{type:Function,required:!0},onClear:{type:Function,required:!0},onChange:{type:Function,required:!0}},setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=Ge(t),r=rn("DataTable",n,e),{mergedClsPrefixRef:o,mergedThemeRef:i,localeRef:s}=Ve(Zo),a=z(t.value),l=A(()=>{const{value:h}=a;return Array.isArray(h)?h:null}),c=A(()=>{const{value:h}=a;return Ng(t.column)?Array.isArray(h)&&h.length&&h[0]||null:Array.isArray(h)?null:h});function d(h){t.onChange(h)}function u(h){t.multiple&&Array.isArray(h)?a.value=h:Ng(t.column)&&!Array.isArray(h)?a.value=[h]:a.value=h}function f(){d(a.value),t.onConfirm()}function m(){t.multiple||Ng(t.column)?d([]):d(null),t.onClear()}return{mergedClsPrefix:o,rtlEnabled:r,mergedTheme:i,locale:s,checkboxGroupValue:l,radioGroupValue:c,handleChange:u,handleConfirmClick:f,handleClearClick:m}},render(){const{mergedTheme:t,locale:e,mergedClsPrefix:n}=this;return g("div",{class:[`${n}-data-table-filter-menu`,this.rtlEnabled&&`${n}-data-table-filter-menu--rtl`]},g(Sn,null,{default:()=>{const{checkboxGroupValue:r,handleChange:o}=this;return this.multiple?g(sP,{value:r,class:`${n}-data-table-filter-menu__group`,onUpdateValue:o},{default:()=>this.options.map(i=>g(os,{key:i.value,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,value:i.value},{default:()=>i.label}))}):g(tA,{name:this.radioGroupName,class:`${n}-data-table-filter-menu__group`,value:this.radioGroupValue,onUpdateValue:this.handleChange},{default:()=>this.options.map(i=>g(M0,{key:i.value,value:i.value,theme:t.peers.Radio,themeOverrides:t.peerOverrides.Radio},{default:()=>i.label}))})}}),g("div",{class:`${n}-data-table-filter-menu__action`},g(At,{size:"tiny",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,onClick:this.handleClearClick},{default:()=>e.clear}),g(At,{theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,type:"primary",size:"tiny",onClick:this.handleConfirmClick},{default:()=>e.confirm})))}}),Cj=ce({name:"DataTableRenderFilter",props:{render:{type:Function,required:!0},active:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},render(){const{render:t,active:e,show:n}=this;return t({active:e,show:n})}});function Sj(t,e,n){const r=Object.assign({},t);return r[e]=n,r}const wj=ce({name:"DataTableFilterButton",props:{column:{type:Object,required:!0},options:{type:Array,default:()=>[]}},setup(t){const{mergedComponentPropsRef:e}=Ge(),{mergedThemeRef:n,mergedClsPrefixRef:r,mergedFilterStateRef:o,filterMenuCssVarsRef:i,paginationBehaviorOnFilterRef:s,doUpdatePage:a,doUpdateFilters:l,filterIconPopoverPropsRef:c}=Ve(Zo),d=z(!1),u=o,f=A(()=>t.column.filterMultiple!==!1),m=A(()=>{const x=u.value[t.column.key];if(x===void 0){const{value:C}=f;return C?[]:null}return x}),h=A(()=>{const{value:x}=m;return Array.isArray(x)?x.length>0:x!==null}),p=A(()=>{var x,C;return((C=(x=e==null?void 0:e.value)===null||x===void 0?void 0:x.DataTable)===null||C===void 0?void 0:C.renderFilter)||t.column.renderFilter});function v(x){const C=Sj(u.value,t.column.key,x);l(C,t.column),s.value==="first"&&a(1)}function b(){d.value=!1}function y(){d.value=!1}return{mergedTheme:n,mergedClsPrefix:r,active:h,showPopover:d,mergedRenderFilter:p,filterIconPopoverProps:c,filterMultiple:f,mergedFilterValue:m,filterMenuCssVars:i,handleFilterChange:v,handleFilterMenuConfirm:y,handleFilterMenuCancel:b}},render(){const{mergedTheme:t,mergedClsPrefix:e,handleFilterMenuCancel:n,filterIconPopoverProps:r}=this;return g(ja,Object.assign({show:this.showPopover,onUpdateShow:o=>this.showPopover=o,trigger:"click",theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,placement:"bottom"},r,{style:{padding:0}}),{trigger:()=>{const{mergedRenderFilter:o}=this;if(o)return g(Cj,{"data-data-table-filter":!0,render:o,active:this.active,show:this.showPopover});const{renderFilterIcon:i}=this.column;return g("div",{"data-data-table-filter":!0,class:[`${e}-data-table-filter`,{[`${e}-data-table-filter--active`]:this.active,[`${e}-data-table-filter--show`]:this.showPopover}]},i?i({active:this.active,show:this.showPopover}):g(yt,{clsPrefix:e},{default:()=>g(R8,null)}))},default:()=>{const{renderFilterMenu:o}=this.column;return o?o({hide:n}):g(xj,{style:this.filterMenuCssVars,radioGroupName:String(this.column.key),multiple:this.filterMultiple,value:this.mergedFilterValue,options:this.options,column:this.column,onChange:this.handleFilterChange,onClear:this.handleFilterMenuCancel,onConfirm:this.handleFilterMenuConfirm})}})}}),Rj=ce({name:"ColumnResizeButton",props:{onResizeStart:Function,onResize:Function,onResizeEnd:Function},setup(t){const{mergedClsPrefixRef:e}=Ve(Zo),n=z(!1);let r=0;function o(l){return l.clientX}function i(l){var c;l.preventDefault();const d=n.value;r=o(l),n.value=!0,d||(_t("mousemove",window,s),_t("mouseup",window,a),(c=t.onResizeStart)===null||c===void 0||c.call(t))}function s(l){var c;(c=t.onResize)===null||c===void 0||c.call(t,o(l)-r)}function a(){var l;n.value=!1,(l=t.onResizeEnd)===null||l===void 0||l.call(t),It("mousemove",window,s),It("mouseup",window,a)}return Qt(()=>{It("mousemove",window,s),It("mouseup",window,a)}),{mergedClsPrefix:e,active:n,handleMousedown:i}},render(){const{mergedClsPrefix:t}=this;return g("span",{"data-data-table-resizable":!0,class:[`${t}-data-table-resize-button`,this.active&&`${t}-data-table-resize-button--active`],onMousedown:this.handleMousedown})}}),Tj=ce({name:"DataTableRenderSorter",props:{render:{type:Function,required:!0},order:{type:[String,Boolean],default:!1}},render(){const{render:t,order:e}=this;return t({order:e})}}),Ej=ce({name:"SortIcon",props:{column:{type:Object,required:!0}},setup(t){const{mergedComponentPropsRef:e}=Ge(),{mergedSortStateRef:n,mergedClsPrefixRef:r}=Ve(Zo),o=A(()=>n.value.find(l=>l.columnKey===t.column.key)),i=A(()=>o.value!==void 0),s=A(()=>{const{value:l}=o;return l&&i.value?l.order:!1}),a=A(()=>{var l,c;return((c=(l=e==null?void 0:e.value)===null||l===void 0?void 0:l.DataTable)===null||c===void 0?void 0:c.renderSorter)||t.column.renderSorter});return{mergedClsPrefix:r,active:i,mergedSortOrder:s,mergedRenderSorter:a}},render(){const{mergedRenderSorter:t,mergedSortOrder:e,mergedClsPrefix:n}=this,{renderSorterIcon:r}=this.column;return t?g(Tj,{render:t,order:e}):g("span",{class:[`${n}-data-table-sorter`,e==="ascend"&&`${n}-data-table-sorter--asc`,e==="descend"&&`${n}-data-table-sorter--desc`]},r?r({order:e}):g(yt,{clsPrefix:n},{default:()=>g(mE,null)}))}}),z0="n-dropdown-menu",Dh="n-dropdown",vC="n-dropdown-option",iA=ce({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return g("div",{class:`${this.clsPrefix}-dropdown-divider`})}}),kj=ce({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:t,hasSubmenuRef:e}=Ve(z0),{renderLabelRef:n,labelFieldRef:r,nodePropsRef:o,renderOptionRef:i}=Ve(Dh);return{labelField:r,showIcon:t,hasSubmenu:e,renderLabel:n,nodeProps:o,renderOption:i}},render(){var t;const{clsPrefix:e,hasSubmenu:n,showIcon:r,nodeProps:o,renderLabel:i,renderOption:s}=this,{rawNode:a}=this.tmNode,l=g("div",Object.assign({class:`${e}-dropdown-option`},o==null?void 0:o(a)),g("div",{class:`${e}-dropdown-option-body ${e}-dropdown-option-body--group`},g("div",{"data-dropdown-option":!0,class:[`${e}-dropdown-option-body__prefix`,r&&`${e}-dropdown-option-body__prefix--show-icon`]},dn(a.icon)),g("div",{class:`${e}-dropdown-option-body__label`,"data-dropdown-option":!0},i?i(a):dn((t=a.title)!==null&&t!==void 0?t:a[this.labelField])),g("div",{class:[`${e}-dropdown-option-body__suffix`,n&&`${e}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})));return s?s({node:l,option:a}):l}});function sA(t){const{textColorBase:e,opacity1:n,opacity2:r,opacity3:o,opacity4:i,opacity5:s}=t;return{color:e,opacity1Depth:n,opacity2Depth:r,opacity3Depth:o,opacity4Depth:i,opacity5Depth:s}}const Pj={common:lt,self:sA},Aj={name:"Icon",common:st,self:sA},Ij=k("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
`,[M("color-transition",{transition:"color .3s var(--n-bezier)"}),M("depth",{color:"var(--n-color)"},[O("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),O("svg",{height:"1em",width:"1em"})]),aA=Object.assign(Object.assign({},ke.props),{depth:[String,Number],size:[Number,String],color:String,component:[Object,Function]}),Oh=ce({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:aA,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Icon","-icon",Ij,Pj,t,e),o=A(()=>{const{depth:s}=t,{common:{cubicBezierEaseInOut:a},self:l}=r.value;if(s!==void 0){const{color:c,[`opacity${s}Depth`]:d}=l;return{"--n-bezier":a,"--n-color":c,"--n-opacity":d}}return{"--n-bezier":a,"--n-color":"","--n-opacity":""}}),i=n?ot("icon",A(()=>`${t.depth||"d"}`),o,t):void 0;return{mergedClsPrefix:e,mergedStyle:A(()=>{const{size:s,color:a}=t;return{fontSize:Mt(s),color:a}}),cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;const{$parent:e,depth:n,mergedClsPrefix:r,component:o,onRender:i,themeClass:s}=this;return!((t=e==null?void 0:e.$options)===null||t===void 0)&&t._n_icon__&&Rr("icon","don't wrap `n-icon` inside `n-icon`"),i==null||i(),g("i",sr(this.$attrs,{role:"img",class:[`${r}-icon`,s,{[`${r}-icon--depth`]:n,[`${r}-icon--color-transition`]:n!==void 0}],style:[this.cssVars,this.mergedStyle]}),o?g(o):this.$slots)}});function _p(t,e){return t.type==="submenu"||t.type===void 0&&t[e]!==void 0}function _j(t){return t.type==="group"}function lA(t){return t.type==="divider"}function Lj(t){return t.type==="render"}const cA=ce({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(t){const e=Ve(Dh),{hoverKeyRef:n,keyboardKeyRef:r,lastToggledSubmenuKeyRef:o,pendingKeyPathRef:i,activeKeyPathRef:s,animatedRef:a,mergedShowRef:l,renderLabelRef:c,renderIconRef:d,labelFieldRef:u,childrenFieldRef:f,renderOptionRef:m,nodePropsRef:h,menuPropsRef:p}=e,v=Ve(vC,null),b=Ve(z0),y=Ve(Kl),x=A(()=>t.tmNode.rawNode),C=A(()=>{const{value:W}=f;return _p(t.tmNode.rawNode,W)}),S=A(()=>{const{disabled:W}=t.tmNode;return W}),T=A(()=>{if(!C.value)return!1;const{key:W,disabled:J}=t.tmNode;if(J)return!1;const{value:ne}=n,{value:D}=r,{value:B}=o,{value:j}=i;return ne!==null?j.includes(W):D!==null?j.includes(W)&&j[j.length-1]!==W:B!==null?j.includes(W):!1}),w=A(()=>r.value===null&&!a.value),E=JM(T,300,w),R=A(()=>!!(v!=null&&v.enteringSubmenuRef.value)),P=z(!1);ft(vC,{enteringSubmenuRef:P});function _(){P.value=!0}function I(){P.value=!1}function L(){const{parentKey:W,tmNode:J}=t;J.disabled||l.value&&(o.value=W,r.value=null,n.value=J.key)}function N(){const{tmNode:W}=t;W.disabled||l.value&&n.value!==W.key&&L()}function H(W){if(t.tmNode.disabled||!l.value)return;const{relatedTarget:J}=W;J&&!An({target:J},"dropdownOption")&&!An({target:J},"scrollbarRail")&&(n.value=null)}function G(){const{value:W}=C,{tmNode:J}=t;l.value&&!W&&!J.disabled&&(e.doSelect(J.key,J.rawNode),e.doUpdateShow(!1))}return{labelField:u,renderLabel:c,renderIcon:d,siblingHasIcon:b.showIconRef,siblingHasSubmenu:b.hasSubmenuRef,menuProps:p,popoverBody:y,animated:a,mergedShowSubmenu:A(()=>E.value&&!R.value),rawNode:x,hasSubmenu:C,pending:pt(()=>{const{value:W}=i,{key:J}=t.tmNode;return W.includes(J)}),childActive:pt(()=>{const{value:W}=s,{key:J}=t.tmNode,ne=W.findIndex(D=>J===D);return ne===-1?!1:ne<W.length-1}),active:pt(()=>{const{value:W}=s,{key:J}=t.tmNode,ne=W.findIndex(D=>J===D);return ne===-1?!1:ne===W.length-1}),mergedDisabled:S,renderOption:m,nodeProps:h,handleClick:G,handleMouseMove:N,handleMouseEnter:L,handleMouseLeave:H,handleSubmenuBeforeEnter:_,handleSubmenuAfterEnter:I}},render(){var t,e;const{animated:n,rawNode:r,mergedShowSubmenu:o,clsPrefix:i,siblingHasIcon:s,siblingHasSubmenu:a,renderLabel:l,renderIcon:c,renderOption:d,nodeProps:u,props:f,scrollable:m}=this;let h=null;if(o){const y=(t=this.menuProps)===null||t===void 0?void 0:t.call(this,r,r.children);h=g(dA,Object.assign({},y,{clsPrefix:i,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const p={class:[`${i}-dropdown-option-body`,this.pending&&`${i}-dropdown-option-body--pending`,this.active&&`${i}-dropdown-option-body--active`,this.childActive&&`${i}-dropdown-option-body--child-active`,this.mergedDisabled&&`${i}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},v=u==null?void 0:u(r),b=g("div",Object.assign({class:[`${i}-dropdown-option`,v==null?void 0:v.class],"data-dropdown-option":!0},v),g("div",sr(p,f),[g("div",{class:[`${i}-dropdown-option-body__prefix`,s&&`${i}-dropdown-option-body__prefix--show-icon`]},[c?c(r):dn(r.icon)]),g("div",{"data-dropdown-option":!0,class:`${i}-dropdown-option-body__label`},l?l(r):dn((e=r[this.labelField])!==null&&e!==void 0?e:r.title)),g("div",{"data-dropdown-option":!0,class:[`${i}-dropdown-option-body__suffix`,a&&`${i}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?g(Oh,null,{default:()=>g(Ba,null)}):null)]),this.hasSubmenu?g(Mo,null,{default:()=>[g(Bo,null,{default:()=>g("div",{class:`${i}-dropdown-offset-container`},g(yo,{show:this.mergedShowSubmenu,placement:this.placement,to:m&&this.popoverBody||void 0,teleportDisabled:!m},{default:()=>g("div",{class:`${i}-dropdown-menu-wrapper`},n?g(en,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>h}):h)}))})]}):null);return d?d({node:b,option:r}):b}}),Dj=ce({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:t,parentKey:e,clsPrefix:n}=this,{children:r}=t;return g(Vt,null,g(kj,{clsPrefix:n,tmNode:t,key:t.key}),r==null?void 0:r.map(o=>{const{rawNode:i}=o;return i.show===!1?null:lA(i)?g(iA,{clsPrefix:n,key:o.key}):o.isGroup?(Rr("dropdown","`group` node is not allowed to be put in `group` node."),null):g(cA,{clsPrefix:n,tmNode:o,parentKey:e,key:o.key})}))}}),Oj=ce({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:t,props:e}}=this.tmNode;return g("div",e,[t==null?void 0:t()])}}),dA=ce({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(t){const{renderIconRef:e,childrenFieldRef:n}=Ve(Dh);ft(z0,{showIconRef:A(()=>{const o=e.value;return t.tmNodes.some(i=>{var s;if(i.isGroup)return(s=i.children)===null||s===void 0?void 0:s.some(({rawNode:l})=>o?o(l):l.icon);const{rawNode:a}=i;return o?o(a):a.icon})}),hasSubmenuRef:A(()=>{const{value:o}=n;return t.tmNodes.some(i=>{var s;if(i.isGroup)return(s=i.children)===null||s===void 0?void 0:s.some(({rawNode:l})=>_p(l,o));const{rawNode:a}=i;return _p(a,o)})})});const r=z(null);return ft(Ld,null),ft(_d,null),ft(Kl,r),{bodyRef:r}},render(){const{parentKey:t,clsPrefix:e,scrollable:n}=this,r=this.tmNodes.map(o=>{const{rawNode:i}=o;return i.show===!1?null:Lj(i)?g(Oj,{tmNode:o,key:o.key}):lA(i)?g(iA,{clsPrefix:e,key:o.key}):_j(i)?g(Dj,{clsPrefix:e,tmNode:o,parentKey:t,key:o.key}):g(cA,{clsPrefix:e,tmNode:o,parentKey:t,key:o.key,props:i.props,scrollable:n})});return g("div",{class:[`${e}-dropdown-menu`,n&&`${e}-dropdown-menu--scrollable`],ref:"bodyRef"},n?g($l,{contentClass:`${e}-dropdown-menu__content`},{default:()=>r}):r,this.showArrow?DE({clsPrefix:e,arrowStyle:this.arrowStyle,arrowClass:void 0,arrowWrapperClass:void 0,arrowWrapperStyle:void 0}):null)}}),$j=k("dropdown-menu",`
 transform-origin: var(--v-transform-origin);
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 position: relative;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[ar(),k("dropdown-option",`
 position: relative;
 `,[O("a",`
 text-decoration: none;
 color: inherit;
 outline: none;
 `,[O("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),k("dropdown-option-body",`
 display: flex;
 cursor: pointer;
 position: relative;
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-font-size);
 color: var(--n-option-text-color);
 transition: color .3s var(--n-bezier);
 `,[O("&::before",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 left: 4px;
 right: 4px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `),wt("disabled",[M("pending",`
 color: var(--n-option-text-color-hover);
 `,[F("prefix, suffix",`
 color: var(--n-option-text-color-hover);
 `),O("&::before","background-color: var(--n-option-color-hover);")]),M("active",`
 color: var(--n-option-text-color-active);
 `,[F("prefix, suffix",`
 color: var(--n-option-text-color-active);
 `),O("&::before","background-color: var(--n-option-color-active);")]),M("child-active",`
 color: var(--n-option-text-color-child-active);
 `,[F("prefix, suffix",`
 color: var(--n-option-text-color-child-active);
 `)])]),M("disabled",`
 cursor: not-allowed;
 opacity: var(--n-option-opacity-disabled);
 `),M("group",`
 font-size: calc(var(--n-font-size) - 1px);
 color: var(--n-group-header-text-color);
 `,[F("prefix",`
 width: calc(var(--n-option-prefix-width) / 2);
 `,[M("show-icon",`
 width: calc(var(--n-option-icon-prefix-width) / 2);
 `)])]),F("prefix",`
 width: var(--n-option-prefix-width);
 display: flex;
 justify-content: center;
 align-items: center;
 color: var(--n-prefix-color);
 transition: color .3s var(--n-bezier);
 z-index: 1;
 `,[M("show-icon",`
 width: var(--n-option-icon-prefix-width);
 `),k("icon",`
 font-size: var(--n-option-icon-size);
 `)]),F("label",`
 white-space: nowrap;
 flex: 1;
 z-index: 1;
 `),F("suffix",`
 box-sizing: border-box;
 flex-grow: 0;
 flex-shrink: 0;
 display: flex;
 justify-content: flex-end;
 align-items: center;
 min-width: var(--n-option-suffix-width);
 padding: 0 8px;
 transition: color .3s var(--n-bezier);
 color: var(--n-suffix-color);
 z-index: 1;
 `,[M("has-submenu",`
 width: var(--n-option-icon-suffix-width);
 `),k("icon",`
 font-size: var(--n-option-icon-size);
 `)]),k("dropdown-menu","pointer-events: all;")]),k("dropdown-offset-container",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: -4px;
 bottom: -4px;
 `)]),k("dropdown-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 4px 0;
 `),k("dropdown-menu-wrapper",`
 transform-origin: var(--v-transform-origin);
 width: fit-content;
 `),O(">",[k("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),wt("scrollable",`
 padding: var(--n-padding);
 `),M("scrollable",[F("content",`
 padding: var(--n-padding);
 `)])]),Fj={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},Mj=Object.keys(Ia),uA=Object.assign(Object.assign(Object.assign({},Ia),Fj),ke.props),$h=ce({name:"Dropdown",inheritAttrs:!1,props:uA,setup(t){const e=z(!1),n=Ft(Se(t,"show"),e),r=A(()=>{const{keyField:I,childrenField:L}=t;return Xr(t.options,{getKey(N){return N[I]},getDisabled(N){return N.disabled===!0},getIgnored(N){return N.type==="divider"||N.type==="render"},getChildren(N){return N[L]}})}),o=A(()=>r.value.treeNodes),i=z(null),s=z(null),a=z(null),l=A(()=>{var I,L,N;return(N=(L=(I=i.value)!==null&&I!==void 0?I:s.value)!==null&&L!==void 0?L:a.value)!==null&&N!==void 0?N:null}),c=A(()=>r.value.getPath(l.value).keyPath),d=A(()=>r.value.getPath(t.value).keyPath),u=pt(()=>t.keyboard&&n.value);Xv({keydown:{ArrowUp:{prevent:!0,handler:S},ArrowRight:{prevent:!0,handler:C},ArrowDown:{prevent:!0,handler:T},ArrowLeft:{prevent:!0,handler:x},Enter:{prevent:!0,handler:w},Escape:y}},u);const{mergedClsPrefixRef:f,inlineThemeDisabled:m}=Ge(t),h=ke("Dropdown","-dropdown",$j,D0,t,f);ft(Dh,{labelFieldRef:Se(t,"labelField"),childrenFieldRef:Se(t,"childrenField"),renderLabelRef:Se(t,"renderLabel"),renderIconRef:Se(t,"renderIcon"),hoverKeyRef:i,keyboardKeyRef:s,lastToggledSubmenuKeyRef:a,pendingKeyPathRef:c,activeKeyPathRef:d,animatedRef:Se(t,"animated"),mergedShowRef:n,nodePropsRef:Se(t,"nodeProps"),renderOptionRef:Se(t,"renderOption"),menuPropsRef:Se(t,"menuProps"),doSelect:p,doUpdateShow:v}),gt(n,I=>{!t.animated&&!I&&b()});function p(I,L){const{onSelect:N}=t;N&&we(N,I,L)}function v(I){const{"onUpdate:show":L,onUpdateShow:N}=t;L&&we(L,I),N&&we(N,I),e.value=I}function b(){i.value=null,s.value=null,a.value=null}function y(){v(!1)}function x(){R("left")}function C(){R("right")}function S(){R("up")}function T(){R("down")}function w(){const I=E();I!=null&&I.isLeaf&&n.value&&(p(I.key,I.rawNode),v(!1))}function E(){var I;const{value:L}=r,{value:N}=l;return!L||N===null?null:(I=L.getNode(N))!==null&&I!==void 0?I:null}function R(I){const{value:L}=l,{value:{getFirstAvailableNode:N}}=r;let H=null;if(L===null){const G=N();G!==null&&(H=G.key)}else{const G=E();if(G){let W;switch(I){case"down":W=G.getNext();break;case"up":W=G.getPrev();break;case"right":W=G.getChild();break;case"left":W=G.getParent();break}W&&(H=W.key)}}H!==null&&(i.value=null,s.value=H)}const P=A(()=>{const{size:I,inverted:L}=t,{common:{cubicBezierEaseInOut:N},self:H}=h.value,{padding:G,dividerColor:W,borderRadius:J,optionOpacityDisabled:ne,[Ae("optionIconSuffixWidth",I)]:D,[Ae("optionSuffixWidth",I)]:B,[Ae("optionIconPrefixWidth",I)]:j,[Ae("optionPrefixWidth",I)]:$,[Ae("fontSize",I)]:V,[Ae("optionHeight",I)]:X,[Ae("optionIconSize",I)]:Z}=H,q={"--n-bezier":N,"--n-font-size":V,"--n-padding":G,"--n-border-radius":J,"--n-option-height":X,"--n-option-prefix-width":$,"--n-option-icon-prefix-width":j,"--n-option-suffix-width":B,"--n-option-icon-suffix-width":D,"--n-option-icon-size":Z,"--n-divider-color":W,"--n-option-opacity-disabled":ne};return L?(q["--n-color"]=H.colorInverted,q["--n-option-color-hover"]=H.optionColorHoverInverted,q["--n-option-color-active"]=H.optionColorActiveInverted,q["--n-option-text-color"]=H.optionTextColorInverted,q["--n-option-text-color-hover"]=H.optionTextColorHoverInverted,q["--n-option-text-color-active"]=H.optionTextColorActiveInverted,q["--n-option-text-color-child-active"]=H.optionTextColorChildActiveInverted,q["--n-prefix-color"]=H.prefixColorInverted,q["--n-suffix-color"]=H.suffixColorInverted,q["--n-group-header-text-color"]=H.groupHeaderTextColorInverted):(q["--n-color"]=H.color,q["--n-option-color-hover"]=H.optionColorHover,q["--n-option-color-active"]=H.optionColorActive,q["--n-option-text-color"]=H.optionTextColor,q["--n-option-text-color-hover"]=H.optionTextColorHover,q["--n-option-text-color-active"]=H.optionTextColorActive,q["--n-option-text-color-child-active"]=H.optionTextColorChildActive,q["--n-prefix-color"]=H.prefixColor,q["--n-suffix-color"]=H.suffixColor,q["--n-group-header-text-color"]=H.groupHeaderTextColor),q}),_=m?ot("dropdown",A(()=>`${t.size[0]}${t.inverted?"i":""}`),P,t):void 0;return{mergedClsPrefix:f,mergedTheme:h,tmNodes:o,mergedShow:n,handleAfterLeave:()=>{t.animated&&b()},doUpdateShow:v,cssVars:m?void 0:P,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender}},render(){const t=(r,o,i,s,a)=>{var l;const{mergedClsPrefix:c,menuProps:d}=this;(l=this.onRender)===null||l===void 0||l.call(this);const u=(d==null?void 0:d(void 0,this.tmNodes.map(m=>m.rawNode)))||{},f={ref:xT(o),class:[r,`${c}-dropdown`,this.themeClass],clsPrefix:c,tmNodes:this.tmNodes,style:[...i,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter:s,onMouseleave:a};return g(dA,sr(this.$attrs,f,u))},{mergedTheme:e}=this,n={show:this.mergedShow,theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:t,onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return g(ja,Object.assign({},Gn(this.$props,Mj),n),{trigger:()=>{var r,o;return(o=(r=this.$slots).default)===null||o===void 0?void 0:o.call(r)}})}}),fA="_n_all__",hA="_n_none__";function Bj(t,e,n,r){return t?o=>{for(const i of t)switch(o){case fA:n(!0);return;case hA:r(!0);return;default:if(typeof i=="object"&&i.key===o){i.onSelect(e.value);return}}}:()=>{}}function zj(t,e){return t?t.map(n=>{switch(n){case"all":return{label:e.checkTableAll,key:fA};case"none":return{label:e.uncheckTableAll,key:hA};default:return n}}):[]}const Nj=ce({name:"DataTableSelectionMenu",props:{clsPrefix:{type:String,required:!0}},setup(t){const{props:e,localeRef:n,checkOptionsRef:r,rawPaginatedDataRef:o,doCheckAll:i,doUncheckAll:s}=Ve(Zo),a=A(()=>Bj(r.value,o,i,s)),l=A(()=>zj(r.value,n.value));return()=>{var c,d,u,f;const{clsPrefix:m}=t;return g($h,{theme:(d=(c=e.theme)===null||c===void 0?void 0:c.peers)===null||d===void 0?void 0:d.Dropdown,themeOverrides:(f=(u=e.themeOverrides)===null||u===void 0?void 0:u.peers)===null||f===void 0?void 0:f.Dropdown,options:l.value,onSelect:a.value},{default:()=>g(yt,{clsPrefix:m,class:`${m}-data-table-check-extra`},{default:()=>g(pE,null)})})}}});function Hg(t){return typeof t.title=="function"?t.title(t):t.title}const Uj=ce({props:{clsPrefix:{type:String,required:!0},id:{type:String,required:!0},cols:{type:Array,required:!0},width:String},render(){const{clsPrefix:t,id:e,cols:n,width:r}=this;return g("table",{style:{tableLayout:"fixed",width:r},class:`${t}-data-table-table`},g("colgroup",null,n.map(o=>g("col",{key:o.key,style:o.style}))),g("thead",{"data-n-id":e,class:`${t}-data-table-thead`},this.$slots))}}),gA=ce({name:"DataTableHeader",props:{discrete:{type:Boolean,default:!0}},setup(){const{mergedClsPrefixRef:t,scrollXRef:e,fixedColumnLeftMapRef:n,fixedColumnRightMapRef:r,mergedCurrentPageRef:o,allRowsCheckedRef:i,someRowsCheckedRef:s,rowsRef:a,colsRef:l,mergedThemeRef:c,checkOptionsRef:d,mergedSortStateRef:u,componentId:f,mergedTableLayoutRef:m,headerCheckboxDisabledRef:h,virtualScrollHeaderRef:p,headerHeightRef:v,onUnstableColumnResize:b,doUpdateResizableWidth:y,handleTableHeaderScroll:x,deriveNextSorter:C,doUncheckAll:S,doCheckAll:T}=Ve(Zo),w=z(),E=z({});function R(H){const G=E.value[H];return G==null?void 0:G.getBoundingClientRect().width}function P(){i.value?S():T()}function _(H,G){if(An(H,"dataTableFilter")||An(H,"dataTableResizable")||!Ug(G))return;const W=u.value.find(ne=>ne.columnKey===G.key)||null,J=cj(G,W);C(J)}const I=new Map;function L(H){I.set(H.key,R(H.key))}function N(H,G){const W=I.get(H.key);if(W===void 0)return;const J=W+G,ne=sj(J,H.minWidth,H.maxWidth);b(J,ne,H,R),y(H,ne)}return{cellElsRef:E,componentId:f,mergedSortState:u,mergedClsPrefix:t,scrollX:e,fixedColumnLeftMap:n,fixedColumnRightMap:r,currentPage:o,allRowsChecked:i,someRowsChecked:s,rows:a,cols:l,mergedTheme:c,checkOptions:d,mergedTableLayout:m,headerCheckboxDisabled:h,headerHeight:v,virtualScrollHeader:p,virtualListRef:w,handleCheckboxUpdateChecked:P,handleColHeaderClick:_,handleTableHeaderScroll:x,handleColumnResizeStart:L,handleColumnResize:N}},render(){const{cellElsRef:t,mergedClsPrefix:e,fixedColumnLeftMap:n,fixedColumnRightMap:r,currentPage:o,allRowsChecked:i,someRowsChecked:s,rows:a,cols:l,mergedTheme:c,checkOptions:d,componentId:u,discrete:f,mergedTableLayout:m,headerCheckboxDisabled:h,mergedSortState:p,virtualScrollHeader:v,handleColHeaderClick:b,handleCheckboxUpdateChecked:y,handleColumnResizeStart:x,handleColumnResize:C}=this,S=(R,P,_)=>R.map(({column:I,colIndex:L,colSpan:N,rowSpan:H,isLast:G})=>{var W,J;const ne=Ho(I),{ellipsis:D}=I,B=()=>I.type==="selection"?I.multiple!==!1?g(Vt,null,g(os,{key:o,privateInsideTable:!0,checked:i,indeterminate:s,disabled:h,onUpdateChecked:y}),d?g(Nj,{clsPrefix:e}):null):null:g(Vt,null,g("div",{class:`${e}-data-table-th__title-wrapper`},g("div",{class:`${e}-data-table-th__title`},D===!0||D&&!D.tooltip?g("div",{class:`${e}-data-table-th__ellipsis`},Hg(I)):D&&typeof D=="object"?g(Lh,Object.assign({},D,{theme:c.peers.Ellipsis,themeOverrides:c.peerOverrides.Ellipsis}),{default:()=>Hg(I)}):Hg(I)),Ug(I)?g(Ej,{column:I}):null),gC(I)?g(wj,{column:I,options:I.filterOptions}):null,YP(I)?g(Rj,{onResizeStart:()=>{x(I)},onResize:X=>{C(I,X)}}):null),j=ne in n,$=ne in r,V=P&&!I.fixed?"div":"th";return g(V,{ref:X=>t[ne]=X,key:ne,style:[P&&!I.fixed?{position:"absolute",left:hn(P(L)),top:0,bottom:0}:{left:hn((W=n[ne])===null||W===void 0?void 0:W.start),right:hn((J=r[ne])===null||J===void 0?void 0:J.start)},{width:hn(I.width),textAlign:I.titleAlign||I.align,height:_}],colspan:N,rowspan:H,"data-col-key":ne,class:[`${e}-data-table-th`,(j||$)&&`${e}-data-table-th--fixed-${j?"left":"right"}`,{[`${e}-data-table-th--sorting`]:XP(I,p),[`${e}-data-table-th--filterable`]:gC(I),[`${e}-data-table-th--sortable`]:Ug(I),[`${e}-data-table-th--selection`]:I.type==="selection",[`${e}-data-table-th--last`]:G},I.className],onClick:I.type!=="selection"&&I.type!=="expand"&&!("children"in I)?X=>{b(X,I)}:void 0},B())});if(v){const{headerHeight:R}=this;let P=0,_=0;return l.forEach(I=>{I.column.fixed==="left"?P++:I.column.fixed==="right"&&_++}),g(qo,{ref:"virtualListRef",class:`${e}-data-table-base-table-header`,style:{height:hn(R)},onScroll:this.handleTableHeaderScroll,columns:l,itemSize:R,showScrollbar:!1,items:[{}],itemResizable:!1,visibleItemsTag:Uj,visibleItemsProps:{clsPrefix:e,id:u,cols:l,width:Mt(this.scrollX)},renderItemWithCols:({startColIndex:I,endColIndex:L,getLeft:N})=>{const H=l.map((W,J)=>({column:W.column,isLast:J===l.length-1,colIndex:W.index,colSpan:1,rowSpan:1})).filter(({column:W},J)=>!!(I<=J&&J<=L||W.fixed)),G=S(H,N,hn(R));return G.splice(P,0,g("th",{colspan:l.length-P-_,style:{pointerEvents:"none",visibility:"hidden",height:0}})),g("tr",{style:{position:"relative"}},G)}},{default:({renderedItemWithCols:I})=>I})}const T=g("thead",{class:`${e}-data-table-thead`,"data-n-id":u},a.map(R=>g("tr",{class:`${e}-data-table-tr`},S(R,null,void 0))));if(!f)return T;const{handleTableHeaderScroll:w,scrollX:E}=this;return g("div",{class:`${e}-data-table-base-table-header`,onScroll:w},g("table",{class:`${e}-data-table-table`,style:{minWidth:Mt(E),tableLayout:m}},g("colgroup",null,l.map(R=>g("col",{key:R.key,style:R.style}))),T))}});function Hj(t,e){const n=[];function r(o,i){o.forEach(s=>{s.children&&e.has(s.key)?(n.push({tmNode:s,striped:!1,key:s.key,index:i}),r(s.children,i)):n.push({key:s.key,tmNode:s,striped:!1,index:i})})}return t.forEach(o=>{n.push(o);const{children:i}=o.tmNode;i&&e.has(o.key)&&r(i,o.index)}),n}const Vj=ce({props:{clsPrefix:{type:String,required:!0},id:{type:String,required:!0},cols:{type:Array,required:!0},onMouseenter:Function,onMouseleave:Function},render(){const{clsPrefix:t,id:e,cols:n,onMouseenter:r,onMouseleave:o}=this;return g("table",{style:{tableLayout:"fixed"},class:`${t}-data-table-table`,onMouseenter:r,onMouseleave:o},g("colgroup",null,n.map(i=>g("col",{key:i.key,style:i.style}))),g("tbody",{"data-n-id":e,class:`${t}-data-table-tbody`},this.$slots))}}),jj=ce({name:"DataTableBody",props:{onResize:Function,showHeader:Boolean,flexHeight:Boolean,bodyStyle:Object},setup(t){const{slots:e,bodyWidthRef:n,mergedExpandedRowKeysRef:r,mergedClsPrefixRef:o,mergedThemeRef:i,scrollXRef:s,colsRef:a,paginatedDataRef:l,rawPaginatedDataRef:c,fixedColumnLeftMapRef:d,fixedColumnRightMapRef:u,mergedCurrentPageRef:f,rowClassNameRef:m,leftActiveFixedColKeyRef:h,leftActiveFixedChildrenColKeysRef:p,rightActiveFixedColKeyRef:v,rightActiveFixedChildrenColKeysRef:b,renderExpandRef:y,hoverKeyRef:x,summaryRef:C,mergedSortStateRef:S,virtualScrollRef:T,virtualScrollXRef:w,heightForRowRef:E,minRowHeightRef:R,componentId:P,mergedTableLayoutRef:_,childTriggerColIndexRef:I,indentRef:L,rowPropsRef:N,maxHeightRef:H,stripedRef:G,loadingRef:W,onLoadRef:J,loadingKeySetRef:ne,expandableRef:D,stickyExpandedRowsRef:B,renderExpandIconRef:j,summaryPlacementRef:$,treeMateRef:V,scrollbarPropsRef:X,setHeaderScrollLeft:Z,doUpdateExpandedRowKeys:q,handleTableBodyScroll:ue,doCheck:K,doUncheck:he,renderCell:Ie}=Ve(Zo),Q=Ve(to),Y=z(null),re=z(null),be=z(null),Ce=pt(()=>l.value.length===0),le=pt(()=>t.showHeader||!Ce.value),de=pt(()=>t.showHeader||Ce.value);let fe="";const te=A(()=>new Set(r.value));function ae(Qe){var rt;return(rt=V.value.getNode(Qe))===null||rt===void 0?void 0:rt.rawNode}function Ee(Qe,rt,oe){const ee=ae(Qe.key);if(!ee){Rr("data-table",`fail to get row data with key ${Qe.key}`);return}if(oe){const Pe=l.value.findIndex(Ne=>Ne.key===fe);if(Pe!==-1){const Ne=l.value.findIndex(me=>me.key===Qe.key),Ue=Math.min(Pe,Ne),pe=Math.max(Pe,Ne),$e=[];l.value.slice(Ue,pe+1).forEach(me=>{me.disabled||$e.push(me.key)}),rt?K($e,!1,ee):he($e,ee),fe=Qe.key;return}}rt?K(Qe.key,!1,ee):he(Qe.key,ee),fe=Qe.key}function se(Qe){const rt=ae(Qe.key);if(!rt){Rr("data-table",`fail to get row data with key ${Qe.key}`);return}K(Qe.key,!0,rt)}function ie(){if(!le.value){const{value:rt}=be;return rt||null}if(T.value)return xe();const{value:Qe}=Y;return Qe?Qe.containerRef:null}function ge(Qe,rt){var oe;if(ne.value.has(Qe))return;const{value:ee}=r,Pe=ee.indexOf(Qe),Ne=Array.from(ee);~Pe?(Ne.splice(Pe,1),q(Ne)):rt&&!rt.isLeaf&&!rt.shallowLoaded?(ne.value.add(Qe),(oe=J.value)===null||oe===void 0||oe.call(J,rt.rawNode).then(()=>{const{value:Ue}=r,pe=Array.from(Ue);~pe.indexOf(Qe)||pe.push(Qe),q(pe)}).finally(()=>{ne.value.delete(Qe)})):(Ne.push(Qe),q(Ne))}function Le(){x.value=null}function xe(){const{value:Qe}=re;return(Qe==null?void 0:Qe.listElRef)||null}function We(){const{value:Qe}=re;return(Qe==null?void 0:Qe.itemsElRef)||null}function at(Qe){var rt;ue(Qe),(rt=Y.value)===null||rt===void 0||rt.sync()}function bt(Qe){var rt;const{onResize:oe}=t;oe&&oe(Qe),(rt=Y.value)===null||rt===void 0||rt.sync()}const dt={getScrollContainer:ie,scrollTo(Qe,rt){var oe,ee;T.value?(oe=re.value)===null||oe===void 0||oe.scrollTo(Qe,rt):(ee=Y.value)===null||ee===void 0||ee.scrollTo(Qe,rt)}},Ct=O([({props:Qe})=>{const rt=ee=>ee===null?null:O(`[data-n-id="${Qe.componentId}"] [data-col-key="${ee}"]::after`,{boxShadow:"var(--n-box-shadow-after)"}),oe=ee=>ee===null?null:O(`[data-n-id="${Qe.componentId}"] [data-col-key="${ee}"]::before`,{boxShadow:"var(--n-box-shadow-before)"});return O([rt(Qe.leftActiveFixedColKey),oe(Qe.rightActiveFixedColKey),Qe.leftActiveFixedChildrenColKeys.map(ee=>rt(ee)),Qe.rightActiveFixedChildrenColKeys.map(ee=>oe(ee))])}]);let Tt=!1;return Xt(()=>{const{value:Qe}=h,{value:rt}=p,{value:oe}=v,{value:ee}=b;if(!Tt&&Qe===null&&oe===null)return;const Pe={leftActiveFixedColKey:Qe,leftActiveFixedChildrenColKeys:rt,rightActiveFixedColKey:oe,rightActiveFixedChildrenColKeys:ee,componentId:P};Ct.mount({id:`n-${P}`,force:!0,props:Pe,anchorMetaName:Dl,parent:Q==null?void 0:Q.styleMountTarget}),Tt=!0}),Wl(()=>{Ct.unmount({id:`n-${P}`,parent:Q==null?void 0:Q.styleMountTarget})}),Object.assign({bodyWidth:n,summaryPlacement:$,dataTableSlots:e,componentId:P,scrollbarInstRef:Y,virtualListRef:re,emptyElRef:be,summary:C,mergedClsPrefix:o,mergedTheme:i,scrollX:s,cols:a,loading:W,bodyShowHeaderOnly:de,shouldDisplaySomeTablePart:le,empty:Ce,paginatedDataAndInfo:A(()=>{const{value:Qe}=G;let rt=!1;return{data:l.value.map(Qe?(ee,Pe)=>(ee.isLeaf||(rt=!0),{tmNode:ee,key:ee.key,striped:Pe%2===1,index:Pe}):(ee,Pe)=>(ee.isLeaf||(rt=!0),{tmNode:ee,key:ee.key,striped:!1,index:Pe})),hasChildren:rt}}),rawPaginatedData:c,fixedColumnLeftMap:d,fixedColumnRightMap:u,currentPage:f,rowClassName:m,renderExpand:y,mergedExpandedRowKeySet:te,hoverKey:x,mergedSortState:S,virtualScroll:T,virtualScrollX:w,heightForRow:E,minRowHeight:R,mergedTableLayout:_,childTriggerColIndex:I,indent:L,rowProps:N,maxHeight:H,loadingKeySet:ne,expandable:D,stickyExpandedRows:B,renderExpandIcon:j,scrollbarProps:X,setHeaderScrollLeft:Z,handleVirtualListScroll:at,handleVirtualListResize:bt,handleMouseleaveTable:Le,virtualListContainer:xe,virtualListContent:We,handleTableBodyScroll:ue,handleCheckboxUpdateChecked:Ee,handleRadioUpdateChecked:se,handleUpdateExpanded:ge,renderCell:Ie},dt)},render(){const{mergedTheme:t,scrollX:e,mergedClsPrefix:n,virtualScroll:r,maxHeight:o,mergedTableLayout:i,flexHeight:s,loadingKeySet:a,onResize:l,setHeaderScrollLeft:c}=this,d=e!==void 0||o!==void 0||s,u=!d&&i==="auto",f=e!==void 0||u,m={minWidth:Mt(e)||"100%"};e&&(m.width="100%");const h=g(Sn,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",scrollable:d||u,class:`${n}-data-table-base-table-body`,style:this.empty?void 0:this.bodyStyle,theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,contentStyle:m,container:r?this.virtualListContainer:void 0,content:r?this.virtualListContent:void 0,horizontalRailStyle:{zIndex:3},verticalRailStyle:{zIndex:3},xScrollable:f,onScroll:r?void 0:this.handleTableBodyScroll,internalOnUpdateScrollLeft:c,onResize:l}),{default:()=>{const p={},v={},{cols:b,paginatedDataAndInfo:y,mergedTheme:x,fixedColumnLeftMap:C,fixedColumnRightMap:S,currentPage:T,rowClassName:w,mergedSortState:E,mergedExpandedRowKeySet:R,stickyExpandedRows:P,componentId:_,childTriggerColIndex:I,expandable:L,rowProps:N,handleMouseleaveTable:H,renderExpand:G,summary:W,handleCheckboxUpdateChecked:J,handleRadioUpdateChecked:ne,handleUpdateExpanded:D,heightForRow:B,minRowHeight:j,virtualScrollX:$}=this,{length:V}=b;let X;const{data:Z,hasChildren:q}=y,ue=q?Hj(Z,R):Z;if(W){const fe=W(this.rawPaginatedData);if(Array.isArray(fe)){const te=fe.map((ae,Ee)=>({isSummaryRow:!0,key:`__n_summary__${Ee}`,tmNode:{rawNode:ae,disabled:!0},index:-1}));X=this.summaryPlacement==="top"?[...te,...ue]:[...ue,...te]}else{const te={isSummaryRow:!0,key:"__n_summary__",tmNode:{rawNode:fe,disabled:!0},index:-1};X=this.summaryPlacement==="top"?[te,...ue]:[...ue,te]}}else X=ue;const K=q?{width:hn(this.indent)}:void 0,he=[];X.forEach(fe=>{G&&R.has(fe.key)&&(!L||L(fe.tmNode.rawNode))?he.push(fe,{isExpandedRow:!0,key:`${fe.key}-expand`,tmNode:fe.tmNode,index:fe.index}):he.push(fe)});const{length:Ie}=he,Q={};Z.forEach(({tmNode:fe},te)=>{Q[te]=fe.key});const Y=P?this.bodyWidth:null,re=Y===null?void 0:`${Y}px`,be=this.virtualScrollX?"div":"td";let Ce=0,le=0;$&&b.forEach(fe=>{fe.column.fixed==="left"?Ce++:fe.column.fixed==="right"&&le++});const de=({rowInfo:fe,displayedRowIndex:te,isVirtual:ae,isVirtualX:Ee,startColIndex:se,endColIndex:ie,getLeft:ge})=>{const{index:Le}=fe;if("isExpandedRow"in fe){const{tmNode:{key:Ne,rawNode:Ue}}=fe;return g("tr",{class:`${n}-data-table-tr ${n}-data-table-tr--expanded`,key:`${Ne}__expand`},g("td",{class:[`${n}-data-table-td`,`${n}-data-table-td--last-col`,te+1===Ie&&`${n}-data-table-td--last-row`],colspan:V},P?g("div",{class:`${n}-data-table-expand`,style:{width:re}},G(Ue,Le)):G(Ue,Le)))}const xe="isSummaryRow"in fe,We=!xe&&fe.striped,{tmNode:at,key:bt}=fe,{rawNode:dt}=at,Ct=R.has(bt),Tt=N?N(dt,Le):void 0,Qe=typeof w=="string"?w:lj(dt,Le,w),rt=Ee?b.filter((Ne,Ue)=>!!(se<=Ue&&Ue<=ie||Ne.column.fixed)):b,oe=Ee?hn((B==null?void 0:B(dt,Le))||j):void 0,ee=rt.map(Ne=>{var Ue,pe,$e,me,Oe;const Ze=Ne.index;if(te in p){const it=p[te],ut=it.indexOf(Ze);if(~ut)return it.splice(ut,1),null}const{column:tt}=Ne,Re=Ho(Ne),{rowSpan:He,colSpan:ve}=tt,Be=xe?((Ue=fe.tmNode.rawNode[Re])===null||Ue===void 0?void 0:Ue.colSpan)||1:ve?ve(dt,Le):1,Ke=xe?((pe=fe.tmNode.rawNode[Re])===null||pe===void 0?void 0:pe.rowSpan)||1:He?He(dt,Le):1,ct=Ze+Be===V,mt=te+Ke===Ie,ye=Ke>1;if(ye&&(v[te]={[Ze]:[]}),Be>1||ye)for(let it=te;it<te+Ke;++it){ye&&v[te][Ze].push(Q[it]);for(let ut=Ze;ut<Ze+Be;++ut)it===te&&ut===Ze||(it in p?p[it].push(ut):p[it]=[ut])}const Me=ye?this.hoverKey:null,{cellProps:Je}=tt,Te=Je==null?void 0:Je(dt,Le),ze={"--indent-offset":""},Xe=tt.fixed?"td":be;return g(Xe,Object.assign({},Te,{key:Re,style:[{textAlign:tt.align||void 0,width:hn(tt.width)},Ee&&{height:oe},Ee&&!tt.fixed?{position:"absolute",left:hn(ge(Ze)),top:0,bottom:0}:{left:hn(($e=C[Re])===null||$e===void 0?void 0:$e.start),right:hn((me=S[Re])===null||me===void 0?void 0:me.start)},ze,(Te==null?void 0:Te.style)||""],colspan:Be,rowspan:ae?void 0:Ke,"data-col-key":Re,class:[`${n}-data-table-td`,tt.className,Te==null?void 0:Te.class,xe&&`${n}-data-table-td--summary`,Me!==null&&v[te][Ze].includes(Me)&&`${n}-data-table-td--hover`,XP(tt,E)&&`${n}-data-table-td--sorting`,tt.fixed&&`${n}-data-table-td--fixed-${tt.fixed}`,tt.align&&`${n}-data-table-td--${tt.align}-align`,tt.type==="selection"&&`${n}-data-table-td--selection`,tt.type==="expand"&&`${n}-data-table-td--expand`,ct&&`${n}-data-table-td--last-col`,mt&&`${n}-data-table-td--last-row`]}),q&&Ze===I?[Ds(ze["--indent-offset"]=xe?0:fe.tmNode.level,g("div",{class:`${n}-data-table-indent`,style:K})),xe||fe.tmNode.isLeaf?g("div",{class:`${n}-data-table-expand-placeholder`}):g(pC,{class:`${n}-data-table-expand-trigger`,clsPrefix:n,expanded:Ct,rowData:dt,renderExpandIcon:this.renderExpandIcon,loading:a.has(fe.key),onClick:()=>{D(bt,fe.tmNode)}})]:null,tt.type==="selection"?xe?null:tt.multiple===!1?g(bj,{key:T,rowKey:bt,disabled:fe.tmNode.disabled,onUpdateChecked:()=>{ne(fe.tmNode)}}):g(fj,{key:T,rowKey:bt,disabled:fe.tmNode.disabled,onUpdateChecked:(it,ut)=>{J(fe.tmNode,it,ut.shiftKey)}}):tt.type==="expand"?xe?null:!tt.expandable||!((Oe=tt.expandable)===null||Oe===void 0)&&Oe.call(tt,dt)?g(pC,{clsPrefix:n,rowData:dt,expanded:Ct,renderExpandIcon:this.renderExpandIcon,onClick:()=>{D(bt,null)}}):null:g(yj,{clsPrefix:n,index:Le,row:dt,column:tt,isSummary:xe,mergedTheme:x,renderCell:this.renderCell}))});return Ee&&Ce&&le&&ee.splice(Ce,0,g("td",{colspan:b.length-Ce-le,style:{pointerEvents:"none",visibility:"hidden",height:0}})),g("tr",Object.assign({},Tt,{onMouseenter:Ne=>{var Ue;this.hoverKey=bt,(Ue=Tt==null?void 0:Tt.onMouseenter)===null||Ue===void 0||Ue.call(Tt,Ne)},key:bt,class:[`${n}-data-table-tr`,xe&&`${n}-data-table-tr--summary`,We&&`${n}-data-table-tr--striped`,Ct&&`${n}-data-table-tr--expanded`,Qe,Tt==null?void 0:Tt.class],style:[Tt==null?void 0:Tt.style,Ee&&{height:oe}]}),ee)};return r?g(qo,{ref:"virtualListRef",items:he,itemSize:this.minRowHeight,visibleItemsTag:Vj,visibleItemsProps:{clsPrefix:n,id:_,cols:b,onMouseleave:H},showScrollbar:!1,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemsStyle:m,itemResizable:!$,columns:b,renderItemWithCols:$?({itemIndex:fe,item:te,startColIndex:ae,endColIndex:Ee,getLeft:se})=>de({displayedRowIndex:fe,isVirtual:!0,isVirtualX:!0,rowInfo:te,startColIndex:ae,endColIndex:Ee,getLeft:se}):void 0},{default:({item:fe,index:te,renderedItemWithCols:ae})=>ae||de({rowInfo:fe,displayedRowIndex:te,isVirtual:!0,isVirtualX:!1,startColIndex:0,endColIndex:0,getLeft(Ee){return 0}})}):g("table",{class:`${n}-data-table-table`,onMouseleave:H,style:{tableLayout:this.mergedTableLayout}},g("colgroup",null,b.map(fe=>g("col",{key:fe.key,style:fe.style}))),this.showHeader?g(gA,{discrete:!1}):null,this.empty?null:g("tbody",{"data-n-id":_,class:`${n}-data-table-tbody`},he.map((fe,te)=>de({rowInfo:fe,displayedRowIndex:te,isVirtual:!1,isVirtualX:!1,startColIndex:-1,endColIndex:-1,getLeft(ae){return-1}}))))}});if(this.empty){const p=()=>g("div",{class:[`${n}-data-table-empty`,this.loading&&`${n}-data-table-empty--hide`],style:this.bodyStyle,ref:"emptyElRef"},Et(this.dataTableSlots.empty,()=>[g(Gi,{theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]));return this.shouldDisplaySomeTablePart?g(Vt,null,h,p()):g(Fr,{onResize:this.onResize},{default:p})}return h}}),Wj=ce({name:"MainTable",setup(){const{mergedClsPrefixRef:t,rightFixedColumnsRef:e,leftFixedColumnsRef:n,bodyWidthRef:r,maxHeightRef:o,minHeightRef:i,flexHeightRef:s,virtualScrollHeaderRef:a,syncScrollState:l}=Ve(Zo),c=z(null),d=z(null),u=z(null),f=z(!(n.value.length||e.value.length)),m=A(()=>({maxHeight:Mt(o.value),minHeight:Mt(i.value)}));function h(y){r.value=y.contentRect.width,l(),f.value||(f.value=!0)}function p(){var y;const{value:x}=c;return x?a.value?((y=x.virtualListRef)===null||y===void 0?void 0:y.listElRef)||null:x.$el:null}function v(){const{value:y}=d;return y?y.getScrollContainer():null}const b={getBodyElement:v,getHeaderElement:p,scrollTo(y,x){var C;(C=d.value)===null||C===void 0||C.scrollTo(y,x)}};return Xt(()=>{const{value:y}=u;if(!y)return;const x=`${t.value}-data-table-base-table--transition-disabled`;f.value?setTimeout(()=>{y.classList.remove(x)},0):y.classList.add(x)}),Object.assign({maxHeight:o,mergedClsPrefix:t,selfElRef:u,headerInstRef:c,bodyInstRef:d,bodyStyle:m,flexHeight:s,handleBodyResize:h},b)},render(){const{mergedClsPrefix:t,maxHeight:e,flexHeight:n}=this,r=e===void 0&&!n;return g("div",{class:`${t}-data-table-base-table`,ref:"selfElRef"},r?null:g(gA,{ref:"headerInstRef"}),g(jj,{ref:"bodyInstRef",bodyStyle:this.bodyStyle,showHeader:r,flexHeight:n,onResize:this.handleBodyResize}))}}),bC=Gj(),Kj=O([k("data-table",`
 width: 100%;
 font-size: var(--n-font-size);
 display: flex;
 flex-direction: column;
 position: relative;
 --n-merged-th-color: var(--n-th-color);
 --n-merged-td-color: var(--n-td-color);
 --n-merged-border-color: var(--n-border-color);
 --n-merged-th-color-hover: var(--n-th-color-hover);
 --n-merged-th-color-sorting: var(--n-th-color-sorting);
 --n-merged-td-color-hover: var(--n-td-color-hover);
 --n-merged-td-color-sorting: var(--n-td-color-sorting);
 --n-merged-td-color-striped: var(--n-td-color-striped);
 `,[k("data-table-wrapper",`
 flex-grow: 1;
 display: flex;
 flex-direction: column;
 `),M("flex-height",[O(">",[k("data-table-wrapper",[O(">",[k("data-table-base-table",`
 display: flex;
 flex-direction: column;
 flex-grow: 1;
 `,[O(">",[k("data-table-base-table-body","flex-basis: 0;",[O("&:last-child","flex-grow: 1;")])])])])])])]),O(">",[k("data-table-loading-wrapper",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[ar({originalTransform:"translateX(-50%) translateY(-50%)"})])]),k("data-table-expand-placeholder",`
 margin-right: 8px;
 display: inline-block;
 width: 16px;
 height: 1px;
 `),k("data-table-indent",`
 display: inline-block;
 height: 1px;
 `),k("data-table-expand-trigger",`
 display: inline-flex;
 margin-right: 8px;
 cursor: pointer;
 font-size: 16px;
 vertical-align: -0.2em;
 position: relative;
 width: 16px;
 height: 16px;
 color: var(--n-td-text-color);
 transition: color .3s var(--n-bezier);
 `,[M("expanded",[k("icon","transform: rotate(90deg);",[wr({originalTransform:"rotate(90deg)"})]),k("base-icon","transform: rotate(90deg);",[wr({originalTransform:"rotate(90deg)"})])]),k("base-loading",`
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[wr()]),k("icon",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[wr()]),k("base-icon",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[wr()])]),k("data-table-thead",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-merged-th-color);
 `),k("data-table-tr",`
 position: relative;
 box-sizing: border-box;
 background-clip: padding-box;
 transition: background-color .3s var(--n-bezier);
 `,[k("data-table-expand",`
 position: sticky;
 left: 0;
 overflow: hidden;
 margin: calc(var(--n-th-padding) * -1);
 padding: var(--n-th-padding);
 box-sizing: border-box;
 `),M("striped","background-color: var(--n-merged-td-color-striped);",[k("data-table-td","background-color: var(--n-merged-td-color-striped);")]),wt("summary",[O("&:hover","background-color: var(--n-merged-td-color-hover);",[O(">",[k("data-table-td","background-color: var(--n-merged-td-color-hover);")])])])]),k("data-table-th",`
 padding: var(--n-th-padding);
 position: relative;
 text-align: start;
 box-sizing: border-box;
 background-color: var(--n-merged-th-color);
 border-color: var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 color: var(--n-th-text-color);
 transition:
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 font-weight: var(--n-th-font-weight);
 `,[M("filterable",`
 padding-right: 36px;
 `,[M("sortable",`
 padding-right: calc(var(--n-th-padding) + 36px);
 `)]),bC,M("selection",`
 padding: 0;
 text-align: center;
 line-height: 0;
 z-index: 3;
 `),F("title-wrapper",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 max-width: 100%;
 `,[F("title",`
 flex: 1;
 min-width: 0;
 `)]),F("ellipsis",`
 display: inline-block;
 vertical-align: bottom;
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 max-width: 100%;
 `),M("hover",`
 background-color: var(--n-merged-th-color-hover);
 `),M("sorting",`
 background-color: var(--n-merged-th-color-sorting);
 `),M("sortable",`
 cursor: pointer;
 `,[F("ellipsis",`
 max-width: calc(100% - 18px);
 `),O("&:hover",`
 background-color: var(--n-merged-th-color-hover);
 `)]),k("data-table-sorter",`
 height: var(--n-sorter-size);
 width: var(--n-sorter-size);
 margin-left: 4px;
 position: relative;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 vertical-align: -0.2em;
 color: var(--n-th-icon-color);
 transition: color .3s var(--n-bezier);
 `,[k("base-icon","transition: transform .3s var(--n-bezier)"),M("desc",[k("base-icon",`
 transform: rotate(0deg);
 `)]),M("asc",[k("base-icon",`
 transform: rotate(-180deg);
 `)]),M("asc, desc",`
 color: var(--n-th-icon-color-active);
 `)]),k("data-table-resize-button",`
 width: var(--n-resizable-container-size);
 position: absolute;
 top: 0;
 right: calc(var(--n-resizable-container-size) / 2);
 bottom: 0;
 cursor: col-resize;
 user-select: none;
 `,[O("&::after",`
 width: var(--n-resizable-size);
 height: 50%;
 position: absolute;
 top: 50%;
 left: calc(var(--n-resizable-container-size) / 2);
 bottom: 0;
 background-color: var(--n-merged-border-color);
 transform: translateY(-50%);
 transition: background-color .3s var(--n-bezier);
 z-index: 1;
 content: '';
 `),M("active",[O("&::after",` 
 background-color: var(--n-th-icon-color-active);
 `)]),O("&:hover::after",`
 background-color: var(--n-th-icon-color-active);
 `)]),k("data-table-filter",`
 position: absolute;
 z-index: auto;
 right: 0;
 width: 36px;
 top: 0;
 bottom: 0;
 cursor: pointer;
 display: flex;
 justify-content: center;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: var(--n-filter-size);
 color: var(--n-th-icon-color);
 `,[O("&:hover",`
 background-color: var(--n-th-button-color-hover);
 `),M("show",`
 background-color: var(--n-th-button-color-hover);
 `),M("active",`
 background-color: var(--n-th-button-color-hover);
 color: var(--n-th-icon-color-active);
 `)])]),k("data-table-td",`
 padding: var(--n-td-padding);
 text-align: start;
 box-sizing: border-box;
 border: none;
 background-color: var(--n-merged-td-color);
 color: var(--n-td-text-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[M("expand",[k("data-table-expand-trigger",`
 margin-right: 0;
 `)]),M("last-row",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `,[O("&::after",`
 bottom: 0 !important;
 `),O("&::before",`
 bottom: 0 !important;
 `)]),M("summary",`
 background-color: var(--n-merged-th-color);
 `),M("hover",`
 background-color: var(--n-merged-td-color-hover);
 `),M("sorting",`
 background-color: var(--n-merged-td-color-sorting);
 `),F("ellipsis",`
 display: inline-block;
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 max-width: 100%;
 vertical-align: bottom;
 max-width: calc(100% - var(--indent-offset, -1.5) * 16px - 24px);
 `),M("selection, expand",`
 text-align: center;
 padding: 0;
 line-height: 0;
 `),bC]),k("data-table-empty",`
 box-sizing: border-box;
 padding: var(--n-empty-padding);
 flex-grow: 1;
 flex-shrink: 0;
 opacity: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: opacity .3s var(--n-bezier);
 `,[M("hide",`
 opacity: 0;
 `)]),F("pagination",`
 margin: var(--n-pagination-margin);
 display: flex;
 justify-content: flex-end;
 `),k("data-table-wrapper",`
 position: relative;
 opacity: 1;
 transition: opacity .3s var(--n-bezier), border-color .3s var(--n-bezier);
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 line-height: var(--n-line-height);
 `),M("loading",[k("data-table-wrapper",`
 opacity: var(--n-opacity-loading);
 pointer-events: none;
 `)]),M("single-column",[k("data-table-td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `,[O("&::after, &::before",`
 bottom: 0 !important;
 `)])]),wt("single-line",[k("data-table-th",`
 border-right: 1px solid var(--n-merged-border-color);
 `,[M("last",`
 border-right: 0 solid var(--n-merged-border-color);
 `)]),k("data-table-td",`
 border-right: 1px solid var(--n-merged-border-color);
 `,[M("last-col",`
 border-right: 0 solid var(--n-merged-border-color);
 `)])]),M("bordered",[k("data-table-wrapper",`
 border: 1px solid var(--n-merged-border-color);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 overflow: hidden;
 `)]),k("data-table-base-table",[M("transition-disabled",[k("data-table-th",[O("&::after, &::before","transition: none;")]),k("data-table-td",[O("&::after, &::before","transition: none;")])])]),M("bottom-bordered",[k("data-table-td",[M("last-row",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)])]),k("data-table-table",`
 font-variant-numeric: tabular-nums;
 width: 100%;
 word-break: break-word;
 transition: background-color .3s var(--n-bezier);
 border-collapse: separate;
 border-spacing: 0;
 background-color: var(--n-merged-td-color);
 `),k("data-table-base-table-header",`
 border-top-left-radius: calc(var(--n-border-radius) - 1px);
 border-top-right-radius: calc(var(--n-border-radius) - 1px);
 z-index: 3;
 overflow: scroll;
 flex-shrink: 0;
 transition: border-color .3s var(--n-bezier);
 scrollbar-width: none;
 `,[O("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 display: none;
 width: 0;
 height: 0;
 `)]),k("data-table-check-extra",`
 transition: color .3s var(--n-bezier);
 color: var(--n-th-icon-color);
 position: absolute;
 font-size: 14px;
 right: -4px;
 top: 50%;
 transform: translateY(-50%);
 z-index: 1;
 `)]),k("data-table-filter-menu",[k("scrollbar",`
 max-height: 240px;
 `),F("group",`
 display: flex;
 flex-direction: column;
 padding: 12px 12px 0 12px;
 `,[k("checkbox",`
 margin-bottom: 12px;
 margin-right: 0;
 `),k("radio",`
 margin-bottom: 12px;
 margin-right: 0;
 `)]),F("action",`
 padding: var(--n-action-padding);
 display: flex;
 flex-wrap: nowrap;
 justify-content: space-evenly;
 border-top: 1px solid var(--n-action-divider-color);
 `,[k("button",[O("&:not(:last-child)",`
 margin: var(--n-action-button-margin);
 `),O("&:last-child",`
 margin-right: 0;
 `)])]),k("divider",`
 margin: 0 !important;
 `)]),Ti(k("data-table",`
 --n-merged-th-color: var(--n-th-color-modal);
 --n-merged-td-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 --n-merged-th-color-hover: var(--n-th-color-hover-modal);
 --n-merged-td-color-hover: var(--n-td-color-hover-modal);
 --n-merged-th-color-sorting: var(--n-th-color-hover-modal);
 --n-merged-td-color-sorting: var(--n-td-color-hover-modal);
 --n-merged-td-color-striped: var(--n-td-color-striped-modal);
 `)),Ji(k("data-table",`
 --n-merged-th-color: var(--n-th-color-popover);
 --n-merged-td-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 --n-merged-th-color-hover: var(--n-th-color-hover-popover);
 --n-merged-td-color-hover: var(--n-td-color-hover-popover);
 --n-merged-th-color-sorting: var(--n-th-color-hover-popover);
 --n-merged-td-color-sorting: var(--n-td-color-hover-popover);
 --n-merged-td-color-striped: var(--n-td-color-striped-popover);
 `))]);function Gj(){return[M("fixed-left",`
 left: 0;
 position: sticky;
 z-index: 2;
 `,[O("&::after",`
 pointer-events: none;
 content: "";
 width: 36px;
 display: inline-block;
 position: absolute;
 top: 0;
 bottom: -1px;
 transition: box-shadow .2s var(--n-bezier);
 right: -36px;
 `)]),M("fixed-right",`
 right: 0;
 position: sticky;
 z-index: 1;
 `,[O("&::before",`
 pointer-events: none;
 content: "";
 width: 36px;
 display: inline-block;
 position: absolute;
 top: 0;
 bottom: -1px;
 transition: box-shadow .2s var(--n-bezier);
 left: -36px;
 `)])]}function qj(t,e){const{paginatedDataRef:n,treeMateRef:r,selectionColumnRef:o}=e,i=z(t.defaultCheckedRowKeys),s=A(()=>{var S;const{checkedRowKeys:T}=t,w=T===void 0?i.value:T;return((S=o.value)===null||S===void 0?void 0:S.multiple)===!1?{checkedKeys:w.slice(0,1),indeterminateKeys:[]}:r.value.getCheckedKeys(w,{cascade:t.cascade,allowNotLoaded:t.allowCheckingNotLoaded})}),a=A(()=>s.value.checkedKeys),l=A(()=>s.value.indeterminateKeys),c=A(()=>new Set(a.value)),d=A(()=>new Set(l.value)),u=A(()=>{const{value:S}=c;return n.value.reduce((T,w)=>{const{key:E,disabled:R}=w;return T+(!R&&S.has(E)?1:0)},0)}),f=A(()=>n.value.filter(S=>S.disabled).length),m=A(()=>{const{length:S}=n.value,{value:T}=d;return u.value>0&&u.value<S-f.value||n.value.some(w=>T.has(w.key))}),h=A(()=>{const{length:S}=n.value;return u.value!==0&&u.value===S-f.value}),p=A(()=>n.value.length===0);function v(S,T,w){const{"onUpdate:checkedRowKeys":E,onUpdateCheckedRowKeys:R,onCheckedRowKeysChange:P}=t,_=[],{value:{getNode:I}}=r;S.forEach(L=>{var N;const H=(N=I(L))===null||N===void 0?void 0:N.rawNode;_.push(H)}),E&&we(E,S,_,{row:T,action:w}),R&&we(R,S,_,{row:T,action:w}),P&&we(P,S,_,{row:T,action:w}),i.value=S}function b(S,T=!1,w){if(!t.loading){if(T){v(Array.isArray(S)?S.slice(0,1):[S],w,"check");return}v(r.value.check(S,a.value,{cascade:t.cascade,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys,w,"check")}}function y(S,T){t.loading||v(r.value.uncheck(S,a.value,{cascade:t.cascade,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys,T,"uncheck")}function x(S=!1){const{value:T}=o;if(!T||t.loading)return;const w=[];(S?r.value.treeNodes:n.value).forEach(E=>{E.disabled||w.push(E.key)}),v(r.value.check(w,a.value,{cascade:!0,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys,void 0,"checkAll")}function C(S=!1){const{value:T}=o;if(!T||t.loading)return;const w=[];(S?r.value.treeNodes:n.value).forEach(E=>{E.disabled||w.push(E.key)}),v(r.value.uncheck(w,a.value,{cascade:!0,allowNotLoaded:t.allowCheckingNotLoaded}).checkedKeys,void 0,"uncheckAll")}return{mergedCheckedRowKeySetRef:c,mergedCheckedRowKeysRef:a,mergedInderminateRowKeySetRef:d,someRowsCheckedRef:m,allRowsCheckedRef:h,headerCheckboxDisabledRef:p,doUpdateCheckedRowKeys:v,doCheckAll:x,doUncheckAll:C,doCheck:b,doUncheck:y}}function Yj(t,e){const n=pt(()=>{for(const c of t.columns)if(c.type==="expand")return c.renderExpand}),r=pt(()=>{let c;for(const d of t.columns)if(d.type==="expand"){c=d.expandable;break}return c}),o=z(t.defaultExpandAll?n!=null&&n.value?(()=>{const c=[];return e.value.treeNodes.forEach(d=>{var u;!((u=r.value)===null||u===void 0)&&u.call(r,d.rawNode)&&c.push(d.key)}),c})():e.value.getNonLeafKeys():t.defaultExpandedRowKeys),i=Se(t,"expandedRowKeys"),s=Se(t,"stickyExpandedRows"),a=Ft(i,o);function l(c){const{onUpdateExpandedRowKeys:d,"onUpdate:expandedRowKeys":u}=t;d&&we(d,c),u&&we(u,c),o.value=c}return{stickyExpandedRowsRef:s,mergedExpandedRowKeysRef:a,renderExpandRef:n,expandableRef:r,doUpdateExpandedRowKeys:l}}function Xj(t,e){const n=[],r=[],o=[],i=new WeakMap;let s=-1,a=0,l=!1,c=0;function d(f,m){m>s&&(n[m]=[],s=m),f.forEach(h=>{if("children"in h)d(h.children,m+1);else{const p="key"in h?h.key:void 0;r.push({key:Ho(h),style:aj(h,p!==void 0?Mt(e(p)):void 0),column:h,index:c++,width:h.width===void 0?128:Number(h.width)}),a+=1,l||(l=!!h.ellipsis),o.push(h)}})}d(t,0),c=0;function u(f,m){let h=0;f.forEach(p=>{var v;if("children"in p){const b=c,y={column:p,colIndex:c,colSpan:0,rowSpan:1,isLast:!1};u(p.children,m+1),p.children.forEach(x=>{var C,S;y.colSpan+=(S=(C=i.get(x))===null||C===void 0?void 0:C.colSpan)!==null&&S!==void 0?S:0}),b+y.colSpan===a&&(y.isLast=!0),i.set(p,y),n[m].push(y)}else{if(c<h){c+=1;return}let b=1;"titleColSpan"in p&&(b=(v=p.titleColSpan)!==null&&v!==void 0?v:1),b>1&&(h=c+b);const y=c+b===a,x={column:p,colSpan:b,colIndex:c,rowSpan:s-m+1,isLast:y};i.set(p,x),n[m].push(x),c+=1}})}return u(t,0),{hasEllipsis:l,rows:n,cols:r,dataRelatedCols:o}}function Qj(t,e){const n=A(()=>Xj(t.columns,e));return{rowsRef:A(()=>n.value.rows),colsRef:A(()=>n.value.cols),hasEllipsisRef:A(()=>n.value.hasEllipsis),dataRelatedColsRef:A(()=>n.value.dataRelatedCols)}}function Zj(){const t=z({});function e(o){return t.value[o]}function n(o,i){YP(o)&&"key"in o&&(t.value[o.key]=i)}function r(){t.value={}}return{getResizableWidth:e,doUpdateResizableWidth:n,clearResizableWidth:r}}function Jj(t,{mainTableInstRef:e,mergedCurrentPageRef:n,bodyWidthRef:r}){let o=0;const i=z(),s=z(null),a=z([]),l=z(null),c=z([]),d=A(()=>Mt(t.scrollX)),u=A(()=>t.columns.filter(R=>R.fixed==="left")),f=A(()=>t.columns.filter(R=>R.fixed==="right")),m=A(()=>{const R={};let P=0;function _(I){I.forEach(L=>{const N={start:P,end:0};R[Ho(L)]=N,"children"in L?(_(L.children),N.end=P):(P+=fC(L)||0,N.end=P)})}return _(u.value),R}),h=A(()=>{const R={};let P=0;function _(I){for(let L=I.length-1;L>=0;--L){const N=I[L],H={start:P,end:0};R[Ho(N)]=H,"children"in N?(_(N.children),H.end=P):(P+=fC(N)||0,H.end=P)}}return _(f.value),R});function p(){var R,P;const{value:_}=u;let I=0;const{value:L}=m;let N=null;for(let H=0;H<_.length;++H){const G=Ho(_[H]);if(o>(((R=L[G])===null||R===void 0?void 0:R.start)||0)-I)N=G,I=((P=L[G])===null||P===void 0?void 0:P.end)||0;else break}s.value=N}function v(){a.value=[];let R=t.columns.find(P=>Ho(P)===s.value);for(;R&&"children"in R;){const P=R.children.length;if(P===0)break;const _=R.children[P-1];a.value.push(Ho(_)),R=_}}function b(){var R,P;const{value:_}=f,I=Number(t.scrollX),{value:L}=r;if(L===null)return;let N=0,H=null;const{value:G}=h;for(let W=_.length-1;W>=0;--W){const J=Ho(_[W]);if(Math.round(o+(((R=G[J])===null||R===void 0?void 0:R.start)||0)+L-N)<I)H=J,N=((P=G[J])===null||P===void 0?void 0:P.end)||0;else break}l.value=H}function y(){c.value=[];let R=t.columns.find(P=>Ho(P)===l.value);for(;R&&"children"in R&&R.children.length;){const P=R.children[0];c.value.push(Ho(P)),R=P}}function x(){const R=e.value?e.value.getHeaderElement():null,P=e.value?e.value.getBodyElement():null;return{header:R,body:P}}function C(){const{body:R}=x();R&&(R.scrollTop=0)}function S(){i.value!=="body"?Ta(w):i.value=void 0}function T(R){var P;(P=t.onScroll)===null||P===void 0||P.call(t,R),i.value!=="head"?Ta(w):i.value=void 0}function w(){const{header:R,body:P}=x();if(!P)return;const{value:_}=r;if(_!==null){if(t.maxHeight||t.flexHeight){if(!R)return;const I=o-R.scrollLeft;i.value=I!==0?"head":"body",i.value==="head"?(o=R.scrollLeft,P.scrollLeft=o):(o=P.scrollLeft,R.scrollLeft=o)}else o=P.scrollLeft;p(),v(),b(),y()}}function E(R){const{header:P}=x();P&&(P.scrollLeft=R,w())}return gt(n,()=>{C()}),{styleScrollXRef:d,fixedColumnLeftMapRef:m,fixedColumnRightMapRef:h,leftFixedColumnsRef:u,rightFixedColumnsRef:f,leftActiveFixedColKeyRef:s,leftActiveFixedChildrenColKeysRef:a,rightActiveFixedColKeyRef:l,rightActiveFixedChildrenColKeysRef:c,syncScrollState:w,handleTableBodyScroll:T,handleTableHeaderScroll:S,setHeaderScrollLeft:E}}function bu(t){return typeof t=="object"&&typeof t.multiple=="number"?t.multiple:!1}function eW(t,e){return e&&(t===void 0||t==="default"||typeof t=="object"&&t.compare==="default")?tW(e):typeof t=="function"?t:t&&typeof t=="object"&&t.compare&&t.compare!=="default"?t.compare:!1}function tW(t){return(e,n)=>{const r=e[t],o=n[t];return r==null?o==null?0:-1:o==null?1:typeof r=="number"&&typeof o=="number"?r-o:typeof r=="string"&&typeof o=="string"?r.localeCompare(o):0}}function nW(t,{dataRelatedColsRef:e,filteredDataRef:n}){const r=[];e.value.forEach(m=>{var h;m.sorter!==void 0&&f(r,{columnKey:m.key,sorter:m.sorter,order:(h=m.defaultSortOrder)!==null&&h!==void 0?h:!1})});const o=z(r),i=A(()=>{const m=e.value.filter(v=>v.type!=="selection"&&v.sorter!==void 0&&(v.sortOrder==="ascend"||v.sortOrder==="descend"||v.sortOrder===!1)),h=m.filter(v=>v.sortOrder!==!1);if(h.length)return h.map(v=>({columnKey:v.key,order:v.sortOrder,sorter:v.sorter}));if(m.length)return[];const{value:p}=o;return Array.isArray(p)?p:p?[p]:[]}),s=A(()=>{const m=i.value.slice().sort((h,p)=>{const v=bu(h.sorter)||0;return(bu(p.sorter)||0)-v});return m.length?n.value.slice().sort((p,v)=>{let b=0;return m.some(y=>{const{columnKey:x,sorter:C,order:S}=y,T=eW(C,x);return T&&S&&(b=T(p.rawNode,v.rawNode),b!==0)?(b=b*ij(S),!0):!1}),b}):n.value});function a(m){let h=i.value.slice();return m&&bu(m.sorter)!==!1?(h=h.filter(p=>bu(p.sorter)!==!1),f(h,m),h):m||null}function l(m){const h=a(m);c(h)}function c(m){const{"onUpdate:sorter":h,onUpdateSorter:p,onSorterChange:v}=t;h&&we(h,m),p&&we(p,m),v&&we(v,m),o.value=m}function d(m,h="ascend"){if(!m)u();else{const p=e.value.find(b=>b.type!=="selection"&&b.type!=="expand"&&b.key===m);if(!(p!=null&&p.sorter))return;const v=p.sorter;l({columnKey:m,sorter:v,order:h})}}function u(){c(null)}function f(m,h){const p=m.findIndex(v=>(h==null?void 0:h.columnKey)&&v.columnKey===h.columnKey);p!==void 0&&p>=0?m[p]=h:m.push(h)}return{clearSorter:u,sort:d,sortedDataRef:s,mergedSortStateRef:i,deriveNextSorter:l}}function rW(t,{dataRelatedColsRef:e}){const n=A(()=>{const B=j=>{for(let $=0;$<j.length;++$){const V=j[$];if("children"in V)return B(V.children);if(V.type==="selection")return V}return null};return B(t.columns)}),r=A(()=>{const{childrenKey:B}=t;return Xr(t.data,{ignoreEmptyChildren:!0,getKey:t.rowKey,getChildren:j=>j[B],getDisabled:j=>{var $,V;return!!(!((V=($=n.value)===null||$===void 0?void 0:$.disabled)===null||V===void 0)&&V.call($,j))}})}),o=pt(()=>{const{columns:B}=t,{length:j}=B;let $=null;for(let V=0;V<j;++V){const X=B[V];if(!X.type&&$===null&&($=V),"tree"in X&&X.tree)return V}return $||0}),i=z({}),{pagination:s}=t,a=z(s&&s.defaultPage||1),l=z(FP(s)),c=A(()=>{const B=e.value.filter(V=>V.filterOptionValues!==void 0||V.filterOptionValue!==void 0),j={};return B.forEach(V=>{var X;V.type==="selection"||V.type==="expand"||(V.filterOptionValues===void 0?j[V.key]=(X=V.filterOptionValue)!==null&&X!==void 0?X:null:j[V.key]=V.filterOptionValues)}),Object.assign(hC(i.value),j)}),d=A(()=>{const B=c.value,{columns:j}=t;function $(Z){return(q,ue)=>!!~String(ue[Z]).indexOf(String(q))}const{value:{treeNodes:V}}=r,X=[];return j.forEach(Z=>{Z.type==="selection"||Z.type==="expand"||"children"in Z||X.push([Z.key,Z])}),V?V.filter(Z=>{const{rawNode:q}=Z;for(const[ue,K]of X){let he=B[ue];if(he==null||(Array.isArray(he)||(he=[he]),!he.length))continue;const Ie=K.filter==="default"?$(ue):K.filter;if(K&&typeof Ie=="function")if(K.filterMode==="and"){if(he.some(Q=>!Ie(Q,q)))return!1}else{if(he.some(Q=>Ie(Q,q)))continue;return!1}}return!0}):[]}),{sortedDataRef:u,deriveNextSorter:f,mergedSortStateRef:m,sort:h,clearSorter:p}=nW(t,{dataRelatedColsRef:e,filteredDataRef:d});e.value.forEach(B=>{var j;if(B.filter){const $=B.defaultFilterOptionValues;B.filterMultiple?i.value[B.key]=$||[]:$!==void 0?i.value[B.key]=$===null?[]:$:i.value[B.key]=(j=B.defaultFilterOptionValue)!==null&&j!==void 0?j:null}});const v=A(()=>{const{pagination:B}=t;if(B!==!1)return B.page}),b=A(()=>{const{pagination:B}=t;if(B!==!1)return B.pageSize}),y=Ft(v,a),x=Ft(b,l),C=pt(()=>{const B=y.value;return t.remote?B:Math.max(1,Math.min(Math.ceil(d.value.length/x.value),B))}),S=A(()=>{const{pagination:B}=t;if(B){const{pageCount:j}=B;if(j!==void 0)return j}}),T=A(()=>{if(t.remote)return r.value.treeNodes;if(!t.pagination)return u.value;const B=x.value,j=(C.value-1)*B;return u.value.slice(j,j+B)}),w=A(()=>T.value.map(B=>B.rawNode));function E(B){const{pagination:j}=t;if(j){const{onChange:$,"onUpdate:page":V,onUpdatePage:X}=j;$&&we($,B),X&&we(X,B),V&&we(V,B),I(B)}}function R(B){const{pagination:j}=t;if(j){const{onPageSizeChange:$,"onUpdate:pageSize":V,onUpdatePageSize:X}=j;$&&we($,B),X&&we(X,B),V&&we(V,B),L(B)}}const P=A(()=>{if(t.remote){const{pagination:B}=t;if(B){const{itemCount:j}=B;if(j!==void 0)return j}return}return d.value.length}),_=A(()=>Object.assign(Object.assign({},t.pagination),{onChange:void 0,onUpdatePage:void 0,onUpdatePageSize:void 0,onPageSizeChange:void 0,"onUpdate:page":E,"onUpdate:pageSize":R,page:C.value,pageSize:x.value,pageCount:P.value===void 0?S.value:void 0,itemCount:P.value}));function I(B){const{"onUpdate:page":j,onPageChange:$,onUpdatePage:V}=t;V&&we(V,B),j&&we(j,B),$&&we($,B),a.value=B}function L(B){const{"onUpdate:pageSize":j,onPageSizeChange:$,onUpdatePageSize:V}=t;$&&we($,B),V&&we(V,B),j&&we(j,B),l.value=B}function N(B,j){const{onUpdateFilters:$,"onUpdate:filters":V,onFiltersChange:X}=t;$&&we($,B,j),V&&we(V,B,j),X&&we(X,B,j),i.value=B}function H(B,j,$,V){var X;(X=t.onUnstableColumnResize)===null||X===void 0||X.call(t,B,j,$,V)}function G(B){I(B)}function W(){J()}function J(){ne({})}function ne(B){D(B)}function D(B){B?B&&(i.value=hC(B)):i.value={}}return{treeMateRef:r,mergedCurrentPageRef:C,mergedPaginationRef:_,paginatedDataRef:T,rawPaginatedDataRef:w,mergedFilterStateRef:c,mergedSortStateRef:m,hoverKeyRef:z(null),selectionColumnRef:n,childTriggerColIndexRef:o,doUpdateFilters:N,deriveNextSorter:f,doUpdatePageSize:L,doUpdatePage:I,onUnstableColumnResize:H,filter:D,filters:ne,clearFilter:W,clearFilters:J,clearSorter:p,page:G,sort:h}}const oW=ce({name:"DataTable",alias:["AdvancedTable"],props:KP,slots:Object,setup(t,{slots:e}){const{mergedBorderedRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:o,mergedRtlRef:i}=Ge(t),s=rn("DataTable",i,r),a=A(()=>{const{bottomBordered:oe}=t;return n.value?!1:oe!==void 0?oe:!0}),l=ke("DataTable","-data-table",Kj,nj,t,r),c=z(null),d=z(null),{getResizableWidth:u,clearResizableWidth:f,doUpdateResizableWidth:m}=Zj(),{rowsRef:h,colsRef:p,dataRelatedColsRef:v,hasEllipsisRef:b}=Qj(t,u),{treeMateRef:y,mergedCurrentPageRef:x,paginatedDataRef:C,rawPaginatedDataRef:S,selectionColumnRef:T,hoverKeyRef:w,mergedPaginationRef:E,mergedFilterStateRef:R,mergedSortStateRef:P,childTriggerColIndexRef:_,doUpdatePage:I,doUpdateFilters:L,onUnstableColumnResize:N,deriveNextSorter:H,filter:G,filters:W,clearFilter:J,clearFilters:ne,clearSorter:D,page:B,sort:j}=rW(t,{dataRelatedColsRef:v}),$=oe=>{const{fileName:ee="data.csv",keepOriginalData:Pe=!1}=oe||{},Ne=Pe?t.data:S.value,Ue=uj(t.columns,Ne,t.getCsvCell,t.getCsvHeader),pe=new Blob([Ue],{type:"text/csv;charset=utf-8"}),$e=URL.createObjectURL(pe);yh($e,ee.endsWith(".csv")?ee:`${ee}.csv`),URL.revokeObjectURL($e)},{doCheckAll:V,doUncheckAll:X,doCheck:Z,doUncheck:q,headerCheckboxDisabledRef:ue,someRowsCheckedRef:K,allRowsCheckedRef:he,mergedCheckedRowKeySetRef:Ie,mergedInderminateRowKeySetRef:Q}=qj(t,{selectionColumnRef:T,treeMateRef:y,paginatedDataRef:C}),{stickyExpandedRowsRef:Y,mergedExpandedRowKeysRef:re,renderExpandRef:be,expandableRef:Ce,doUpdateExpandedRowKeys:le}=Yj(t,y),{handleTableBodyScroll:de,handleTableHeaderScroll:fe,syncScrollState:te,setHeaderScrollLeft:ae,leftActiveFixedColKeyRef:Ee,leftActiveFixedChildrenColKeysRef:se,rightActiveFixedColKeyRef:ie,rightActiveFixedChildrenColKeysRef:ge,leftFixedColumnsRef:Le,rightFixedColumnsRef:xe,fixedColumnLeftMapRef:We,fixedColumnRightMapRef:at}=Jj(t,{bodyWidthRef:c,mainTableInstRef:d,mergedCurrentPageRef:x}),{localeRef:bt}=Mn("DataTable"),dt=A(()=>t.virtualScroll||t.flexHeight||t.maxHeight!==void 0||b.value?"fixed":t.tableLayout);ft(Zo,{props:t,treeMateRef:y,renderExpandIconRef:Se(t,"renderExpandIcon"),loadingKeySetRef:z(new Set),slots:e,indentRef:Se(t,"indent"),childTriggerColIndexRef:_,bodyWidthRef:c,componentId:Vr(),hoverKeyRef:w,mergedClsPrefixRef:r,mergedThemeRef:l,scrollXRef:A(()=>t.scrollX),rowsRef:h,colsRef:p,paginatedDataRef:C,leftActiveFixedColKeyRef:Ee,leftActiveFixedChildrenColKeysRef:se,rightActiveFixedColKeyRef:ie,rightActiveFixedChildrenColKeysRef:ge,leftFixedColumnsRef:Le,rightFixedColumnsRef:xe,fixedColumnLeftMapRef:We,fixedColumnRightMapRef:at,mergedCurrentPageRef:x,someRowsCheckedRef:K,allRowsCheckedRef:he,mergedSortStateRef:P,mergedFilterStateRef:R,loadingRef:Se(t,"loading"),rowClassNameRef:Se(t,"rowClassName"),mergedCheckedRowKeySetRef:Ie,mergedExpandedRowKeysRef:re,mergedInderminateRowKeySetRef:Q,localeRef:bt,expandableRef:Ce,stickyExpandedRowsRef:Y,rowKeyRef:Se(t,"rowKey"),renderExpandRef:be,summaryRef:Se(t,"summary"),virtualScrollRef:Se(t,"virtualScroll"),virtualScrollXRef:Se(t,"virtualScrollX"),heightForRowRef:Se(t,"heightForRow"),minRowHeightRef:Se(t,"minRowHeight"),virtualScrollHeaderRef:Se(t,"virtualScrollHeader"),headerHeightRef:Se(t,"headerHeight"),rowPropsRef:Se(t,"rowProps"),stripedRef:Se(t,"striped"),checkOptionsRef:A(()=>{const{value:oe}=T;return oe==null?void 0:oe.options}),rawPaginatedDataRef:S,filterMenuCssVarsRef:A(()=>{const{self:{actionDividerColor:oe,actionPadding:ee,actionButtonMargin:Pe}}=l.value;return{"--n-action-padding":ee,"--n-action-button-margin":Pe,"--n-action-divider-color":oe}}),onLoadRef:Se(t,"onLoad"),mergedTableLayoutRef:dt,maxHeightRef:Se(t,"maxHeight"),minHeightRef:Se(t,"minHeight"),flexHeightRef:Se(t,"flexHeight"),headerCheckboxDisabledRef:ue,paginationBehaviorOnFilterRef:Se(t,"paginationBehaviorOnFilter"),summaryPlacementRef:Se(t,"summaryPlacement"),filterIconPopoverPropsRef:Se(t,"filterIconPopoverProps"),scrollbarPropsRef:Se(t,"scrollbarProps"),syncScrollState:te,doUpdatePage:I,doUpdateFilters:L,getResizableWidth:u,onUnstableColumnResize:N,clearResizableWidth:f,doUpdateResizableWidth:m,deriveNextSorter:H,doCheck:Z,doUncheck:q,doCheckAll:V,doUncheckAll:X,doUpdateExpandedRowKeys:le,handleTableHeaderScroll:fe,handleTableBodyScroll:de,setHeaderScrollLeft:ae,renderCell:Se(t,"renderCell")});const Ct={filter:G,filters:W,clearFilters:ne,clearSorter:D,page:B,sort:j,clearFilter:J,downloadCsv:$,scrollTo:(oe,ee)=>{var Pe;(Pe=d.value)===null||Pe===void 0||Pe.scrollTo(oe,ee)}},Tt=A(()=>{const{size:oe}=t,{common:{cubicBezierEaseInOut:ee},self:{borderColor:Pe,tdColorHover:Ne,tdColorSorting:Ue,tdColorSortingModal:pe,tdColorSortingPopover:$e,thColorSorting:me,thColorSortingModal:Oe,thColorSortingPopover:Ze,thColor:tt,thColorHover:Re,tdColor:He,tdTextColor:ve,thTextColor:Be,thFontWeight:Ke,thButtonColorHover:ct,thIconColor:mt,thIconColorActive:ye,filterSize:Me,borderRadius:Je,lineHeight:Te,tdColorModal:ze,thColorModal:Xe,borderColorModal:it,thColorHoverModal:ut,tdColorHoverModal:Nt,borderColorPopover:Rn,thColorPopover:En,tdColorPopover:yr,tdColorHoverPopover:Ir,thColorHoverPopover:Wn,paginationMargin:tn,emptyPadding:_e,boxShadowAfter:et,boxShadowBefore:nt,sorterSize:jt,resizableContainerSize:Qn,resizableSize:un,loadingColor:So,loadingSize:No,opacityLoading:lo,tdColorStriped:nc,tdColorStripedModal:rc,tdColorStripedPopover:oc,[Ae("fontSize",oe)]:ic,[Ae("thPadding",oe)]:sc,[Ae("tdPadding",oe)]:ac}}=l.value;return{"--n-font-size":ic,"--n-th-padding":sc,"--n-td-padding":ac,"--n-bezier":ee,"--n-border-radius":Je,"--n-line-height":Te,"--n-border-color":Pe,"--n-border-color-modal":it,"--n-border-color-popover":Rn,"--n-th-color":tt,"--n-th-color-hover":Re,"--n-th-color-modal":Xe,"--n-th-color-hover-modal":ut,"--n-th-color-popover":En,"--n-th-color-hover-popover":Wn,"--n-td-color":He,"--n-td-color-hover":Ne,"--n-td-color-modal":ze,"--n-td-color-hover-modal":Nt,"--n-td-color-popover":yr,"--n-td-color-hover-popover":Ir,"--n-th-text-color":Be,"--n-td-text-color":ve,"--n-th-font-weight":Ke,"--n-th-button-color-hover":ct,"--n-th-icon-color":mt,"--n-th-icon-color-active":ye,"--n-filter-size":Me,"--n-pagination-margin":tn,"--n-empty-padding":_e,"--n-box-shadow-before":nt,"--n-box-shadow-after":et,"--n-sorter-size":jt,"--n-resizable-container-size":Qn,"--n-resizable-size":un,"--n-loading-size":No,"--n-loading-color":So,"--n-opacity-loading":lo,"--n-td-color-striped":nc,"--n-td-color-striped-modal":rc,"--n-td-color-striped-popover":oc,"--n-td-color-sorting":Ue,"--n-td-color-sorting-modal":pe,"--n-td-color-sorting-popover":$e,"--n-th-color-sorting":me,"--n-th-color-sorting-modal":Oe,"--n-th-color-sorting-popover":Ze}}),Qe=o?ot("data-table",A(()=>t.size[0]),Tt,t):void 0,rt=A(()=>{if(!t.pagination)return!1;if(t.paginateSinglePage)return!0;const oe=E.value,{pageCount:ee}=oe;return ee!==void 0?ee>1:oe.itemCount&&oe.pageSize&&oe.itemCount>oe.pageSize});return Object.assign({mainTableInstRef:d,mergedClsPrefix:r,rtlEnabled:s,mergedTheme:l,paginatedData:C,mergedBordered:n,mergedBottomBordered:a,mergedPagination:E,mergedShowPagination:rt,cssVars:o?void 0:Tt,themeClass:Qe==null?void 0:Qe.themeClass,onRender:Qe==null?void 0:Qe.onRender},Ct)},render(){const{mergedClsPrefix:t,themeClass:e,onRender:n,$slots:r,spinProps:o}=this;return n==null||n(),g("div",{class:[`${t}-data-table`,this.rtlEnabled&&`${t}-data-table--rtl`,e,{[`${t}-data-table--bordered`]:this.mergedBordered,[`${t}-data-table--bottom-bordered`]:this.mergedBottomBordered,[`${t}-data-table--single-line`]:this.singleLine,[`${t}-data-table--single-column`]:this.singleColumn,[`${t}-data-table--loading`]:this.loading,[`${t}-data-table--flex-height`]:this.flexHeight}],style:this.cssVars},g("div",{class:`${t}-data-table-wrapper`},g(Wj,{ref:"mainTableInstRef"})),this.mergedShowPagination?g("div",{class:`${t}-data-table__pagination`},g(BP,Object.assign({theme:this.mergedTheme.peers.Pagination,themeOverrides:this.mergedTheme.peerOverrides.Pagination,disabled:this.loading},this.mergedPagination))):null,g(en,{name:"fade-in-scale-up-transition"},{default:()=>this.loading?g("div",{class:`${t}-data-table-loading-wrapper`},Et(r.loading,()=>[g(Qo,Object.assign({clsPrefix:t,strokeWidth:20},o))])):null}))}}),iW={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"};function mA(t){const{popoverColor:e,textColor2:n,primaryColor:r,hoverColor:o,dividerColor:i,opacityDisabled:s,boxShadow2:a,borderRadius:l,iconColor:c,iconColorDisabled:d}=t;return Object.assign(Object.assign({},iW),{panelColor:e,panelBoxShadow:a,panelDividerColor:i,itemTextColor:n,itemTextColorActive:r,itemColorHover:o,itemOpacityDisabled:s,itemBorderRadius:l,borderRadius:l,iconColor:c,iconColorDisabled:d})}const pA={name:"TimePicker",common:lt,peers:{Scrollbar:ro,Button:so,Input:io},self:mA},vA={name:"TimePicker",common:st,peers:{Scrollbar:oo,Button:ao,Input:Co},self:mA},sW={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarLeftPaddingWeek:"6px 12px 4px 12px",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0",calendarRightPaddingWeek:"0"};function bA(t){const{hoverColor:e,fontSize:n,textColor2:r,textColorDisabled:o,popoverColor:i,primaryColor:s,borderRadiusSmall:a,iconColor:l,iconColorDisabled:c,textColor1:d,dividerColor:u,boxShadow2:f,borderRadius:m,fontWeightStrong:h}=t;return Object.assign(Object.assign({},sW),{itemFontSize:n,calendarDaysFontSize:n,calendarTitleFontSize:n,itemTextColor:r,itemTextColorDisabled:o,itemTextColorActive:i,itemTextColorCurrent:s,itemColorIncluded:Ye(s,{alpha:.1}),itemColorHover:e,itemColorDisabled:e,itemColorActive:s,itemBorderRadius:a,panelColor:i,panelTextColor:r,arrowColor:l,calendarTitleTextColor:d,calendarTitleColorHover:e,calendarDaysTextColor:r,panelHeaderDividerColor:u,calendarDaysDividerColor:u,calendarDividerColor:u,panelActionDividerColor:u,panelBoxShadow:f,panelBorderRadius:m,calendarTitleFontWeight:h,scrollItemBorderRadius:m,iconColor:l,iconColorDisabled:c})}const aW={name:"DatePicker",common:lt,peers:{Input:io,Button:so,TimePicker:pA,Scrollbar:ro},self:bA},lW={name:"DatePicker",common:st,peers:{Input:Co,Button:ao,TimePicker:vA,Scrollbar:oo},self(t){const{popoverColor:e,hoverColor:n,primaryColor:r}=t,o=bA(t);return o.itemColorDisabled=vt(e,n),o.itemColorIncluded=Ye(r,{alpha:.15}),o.itemColorHover=vt(e,n),o}},Fh="n-date-picker",_a=40,cW="HH:mm:ss",yA={active:Boolean,dateFormat:String,calendarDayFormat:String,calendarHeaderYearFormat:String,calendarHeaderMonthFormat:String,calendarHeaderMonthYearSeparator:{type:String,required:!0},calendarHeaderMonthBeforeYear:{type:Boolean,default:void 0},timePickerFormat:{type:String,value:cW},value:{type:[Array,Number],default:null},shortcuts:Object,defaultTime:[Number,String,Array],inputReadonly:Boolean,onClear:Function,onConfirm:Function,onClose:Function,onTabOut:Function,onKeydown:Function,actions:Array,onUpdateValue:{type:Function,required:!0},themeClass:String,onRender:Function,panel:Boolean,onNextMonth:Function,onPrevMonth:Function,onNextYear:Function,onPrevYear:Function};function xA(t){const{dateLocaleRef:e,timePickerSizeRef:n,timePickerPropsRef:r,localeRef:o,mergedClsPrefixRef:i,mergedThemeRef:s}=Ve(Fh),a=A(()=>({locale:e.value.locale})),l=z(null),c=Xv();function d(){const{onClear:I}=t;I&&I()}function u(){const{onConfirm:I,value:L}=t;I&&I(L)}function f(I,L){const{onUpdateValue:N}=t;N(I,L)}function m(I=!1){const{onClose:L}=t;L&&L(I)}function h(){const{onTabOut:I}=t;I&&I()}function p(){f(null,!0),m(!0),d()}function v(){h()}function b(){(t.active||t.panel)&&$t(()=>{const{value:I}=l;if(!I)return;const L=I.querySelectorAll("[data-n-date]");L.forEach(N=>{N.classList.add("transition-disabled")}),I.offsetWidth,L.forEach(N=>{N.classList.remove("transition-disabled")})})}function y(I){I.key==="Tab"&&I.target===l.value&&c.shift&&(I.preventDefault(),h())}function x(I){const{value:L}=l;c.tab&&I.target===L&&(L!=null&&L.contains(I.relatedTarget))&&h()}let C=null,S=!1;function T(){C=t.value,S=!0}function w(){S=!1}function E(){S&&(f(C,!1),S=!1)}function R(I){return typeof I=="function"?I():I}const P=z(!1);function _(){P.value=!P.value}return{mergedTheme:s,mergedClsPrefix:i,dateFnsOptions:a,timePickerSize:n,timePickerProps:r,selfRef:l,locale:o,doConfirm:u,doClose:m,doUpdateValue:f,doTabOut:h,handleClearClick:p,handleFocusDetectorFocus:v,disableTransitionOneTick:b,handlePanelKeyDown:y,handlePanelFocus:x,cachePendingValue:T,clearPendingValue:w,restorePendingValue:E,getShortcutValue:R,handleShortcutMouseleave:E,showMonthYearPanel:P,handleOpenQuickSelectMonthPanel:_}}const N0=Object.assign(Object.assign({},yA),{defaultCalendarStartTime:Number,actions:{type:Array,default:()=>["now","clear","confirm"]}});function U0(t,e){var n;const r=xA(t),{isValueInvalidRef:o,isDateDisabledRef:i,isDateInvalidRef:s,isTimeInvalidRef:a,isDateTimeInvalidRef:l,isHourDisabledRef:c,isMinuteDisabledRef:d,isSecondDisabledRef:u,localeRef:f,firstDayOfWeekRef:m,datePickerSlots:h,yearFormatRef:p,monthFormatRef:v,quarterFormatRef:b,yearRangeRef:y}=Ve(Fh),x={isValueInvalid:o,isDateDisabled:i,isDateInvalid:s,isTimeInvalid:a,isDateTimeInvalid:l,isHourDisabled:c,isMinuteDisabled:d,isSecondDisabled:u},C=A(()=>t.dateFormat||f.value.dateFormat),S=A(()=>t.calendarDayFormat||f.value.dayFormat),T=z(t.value===null||Array.isArray(t.value)?"":cn(t.value,C.value)),w=z(t.value===null||Array.isArray(t.value)?(n=t.defaultCalendarStartTime)!==null&&n!==void 0?n:Date.now():t.value),E=z(null),R=z(null),P=z(null),_=z(Date.now()),I=A(()=>{var xe;return Mf(w.value,t.value,_.value,(xe=m.value)!==null&&xe!==void 0?xe:f.value.firstDayOfWeek,!1,e==="week")}),L=A(()=>{const{value:xe}=t;return Tp(w.value,Array.isArray(xe)?null:xe,_.value,{monthFormat:v.value})}),N=A(()=>{const{value:xe}=t;return kp(Array.isArray(xe)?null:xe,_.value,{yearFormat:p.value},y)}),H=A(()=>{const{value:xe}=t;return Ep(w.value,Array.isArray(xe)?null:xe,_.value,{quarterFormat:b.value})}),G=A(()=>I.value.slice(0,7).map(xe=>{const{ts:We}=xe;return cn(We,S.value,r.dateFnsOptions.value)})),W=A(()=>cn(w.value,t.calendarHeaderMonthFormat||f.value.monthFormat,r.dateFnsOptions.value)),J=A(()=>cn(w.value,t.calendarHeaderYearFormat||f.value.yearFormat,r.dateFnsOptions.value)),ne=A(()=>{var xe;return(xe=t.calendarHeaderMonthBeforeYear)!==null&&xe!==void 0?xe:f.value.monthBeforeYear});gt(w,(xe,We)=>{(e==="date"||e==="datetime")&&(zd(xe,We)||r.disableTransitionOneTick())}),gt(A(()=>t.value),xe=>{xe!==null&&!Array.isArray(xe)?(T.value=cn(xe,C.value,r.dateFnsOptions.value),w.value=xe):T.value=""});function D(xe){var We;if(e==="datetime")return ht(T0(xe));if(e==="month")return ht(Po(xe));if(e==="year")return ht(Bd(xe));if(e==="quarter")return ht(dd(xe));if(e==="week"){const at=(((We=m.value)!==null&&We!==void 0?We:f.value.firstDayOfWeek)+1)%7;return ht(Yo(xe,{weekStartsOn:at}))}return ht(Hs(xe))}function B(xe,We){const{isDateDisabled:{value:at}}=x;return at?at(xe,We):!1}function j(xe){const We=Gr(xe,C.value,new Date,r.dateFnsOptions.value);if(Io(We)){if(t.value===null)r.doUpdateValue(ht(D(Date.now())),t.panel);else if(!Array.isArray(t.value)){const at=kr(t.value,{year:vn(We),month:fn(We),date:Eo(We)});r.doUpdateValue(ht(D(ht(at))),t.panel)}}else T.value=xe}function $(){const xe=Gr(T.value,C.value,new Date,r.dateFnsOptions.value);if(Io(xe)){if(t.value===null)r.doUpdateValue(ht(D(Date.now())),!1);else if(!Array.isArray(t.value)){const We=kr(t.value,{year:vn(xe),month:fn(xe),date:Eo(xe)});r.doUpdateValue(ht(D(ht(We))),!1)}}else Q()}function V(){r.doUpdateValue(null,!0),T.value="",r.doClose(!0),r.handleClearClick()}function X(){r.doUpdateValue(ht(D(Date.now())),!0);const xe=Date.now();w.value=xe,r.doClose(!0),t.panel&&(e==="month"||e==="quarter"||e==="year")&&(r.disableTransitionOneTick(),ge(xe))}const Z=z(null);function q(xe){xe.type==="date"&&e==="week"&&(Z.value=D(ht(xe.ts)))}function ue(xe){return xe.type==="date"&&e==="week"?D(ht(xe.ts))===Z.value:!1}function K(xe){if(B(xe.ts,xe.type==="date"?{type:"date",year:xe.dateObject.year,month:xe.dateObject.month,date:xe.dateObject.date}:xe.type==="month"?{type:"month",year:xe.dateObject.year,month:xe.dateObject.month}:xe.type==="year"?{type:"year",year:xe.dateObject.year}:{type:"quarter",year:xe.dateObject.year,quarter:xe.dateObject.quarter}))return;let We;if(t.value!==null&&!Array.isArray(t.value)?We=t.value:We=Date.now(),e==="datetime"&&t.defaultTime!==null&&!Array.isArray(t.defaultTime)){const at=Zu(t.defaultTime);at&&(We=ht(kr(We,at)))}switch(We=ht(xe.type==="quarter"&&xe.dateObject.quarter?h7(Rp(We,xe.dateObject.year),xe.dateObject.quarter):kr(We,xe.dateObject)),r.doUpdateValue(D(We),t.panel||e==="date"||e==="week"||e==="year"),e){case"date":case"week":r.doClose();break;case"year":t.panel&&r.disableTransitionOneTick(),r.doClose();break;case"month":r.disableTransitionOneTick(),ge(We);break;case"quarter":r.disableTransitionOneTick(),ge(We);break}}function he(xe,We){let at;t.value!==null&&!Array.isArray(t.value)?at=t.value:at=Date.now(),at=ht(xe.type==="month"?E0(at,xe.dateObject.month):Rp(at,xe.dateObject.year)),We(at),ge(at)}function Ie(xe){w.value=xe}function Q(xe){if(t.value===null||Array.isArray(t.value)){T.value="";return}xe===void 0&&(xe=t.value),T.value=cn(xe,C.value,r.dateFnsOptions.value)}function Y(){x.isDateInvalid.value||x.isTimeInvalid.value||(r.doConfirm(),re())}function re(){t.active&&r.doClose()}function be(){var xe;w.value=ht(Cp(w.value,1)),(xe=t.onNextYear)===null||xe===void 0||xe.call(t)}function Ce(){var xe;w.value=ht(Cp(w.value,-1)),(xe=t.onPrevYear)===null||xe===void 0||xe.call(t)}function le(){var xe;w.value=ht(cr(w.value,1)),(xe=t.onNextMonth)===null||xe===void 0||xe.call(t)}function de(){var xe;w.value=ht(cr(w.value,-1)),(xe=t.onPrevMonth)===null||xe===void 0||xe.call(t)}function fe(){const{value:xe}=E;return(xe==null?void 0:xe.listElRef)||null}function te(){const{value:xe}=E;return(xe==null?void 0:xe.itemsElRef)||null}function ae(){var xe;(xe=R.value)===null||xe===void 0||xe.sync()}function Ee(xe){xe!==null&&r.doUpdateValue(xe,t.panel)}function se(xe){r.cachePendingValue();const We=r.getShortcutValue(xe);typeof We=="number"&&r.doUpdateValue(We,!1)}function ie(xe){const We=r.getShortcutValue(xe);typeof We=="number"&&(r.doUpdateValue(We,t.panel),r.clearPendingValue(),Y())}function ge(xe){const{value:We}=t;if(P.value){const at=fn(xe===void 0?We===null?Date.now():We:xe);P.value.scrollTo({top:at*_a})}if(E.value){const at=vn(xe===void 0?We===null?Date.now():We:xe)-y.value[0];E.value.scrollTo({top:at*_a})}}const Le={monthScrollbarRef:P,yearScrollbarRef:R,yearVlRef:E};return Object.assign(Object.assign(Object.assign(Object.assign({dateArray:I,monthArray:L,yearArray:N,quarterArray:H,calendarYear:J,calendarMonth:W,weekdays:G,calendarMonthBeforeYear:ne,mergedIsDateDisabled:B,nextYear:be,prevYear:Ce,nextMonth:le,prevMonth:de,handleNowClick:X,handleConfirmClick:Y,handleSingleShortcutMouseenter:se,handleSingleShortcutClick:ie},x),r),Le),{handleDateClick:K,handleDateInputBlur:$,handleDateInput:j,handleDateMouseEnter:q,isWeekHovered:ue,handleTimePickerChange:Ee,clearSelectedDateTime:V,virtualListContainer:fe,virtualListContent:te,handleVirtualListScroll:ae,timePickerSize:r.timePickerSize,dateInputValue:T,datePickerSlots:h,handleQuickMonthClick:he,justifyColumnsScrollState:ge,calendarValue:w,onUpdateCalendarValue:Ie})}const CA=ce({name:"MonthPanel",props:Object.assign(Object.assign({},N0),{type:{type:String,required:!0},useAsQuickJump:Boolean}),setup(t){const e=U0(t,t.type),{dateLocaleRef:n}=Mn("DatePicker"),r=s=>{switch(s.type){case"year":return Vk(s.dateObject.year,s.yearFormat,n.value.locale);case"month":return Hk(s.dateObject.month,s.monthFormat,n.value.locale);case"quarter":return jk(s.dateObject.quarter,s.quarterFormat,n.value.locale)}},{useAsQuickJump:o}=t,i=(s,a,l)=>{const{mergedIsDateDisabled:c,handleDateClick:d,handleQuickMonthClick:u}=e;return g("div",{"data-n-date":!0,key:a,class:[`${l}-date-panel-month-calendar__picker-col-item`,s.isCurrent&&`${l}-date-panel-month-calendar__picker-col-item--current`,s.selected&&`${l}-date-panel-month-calendar__picker-col-item--selected`,!o&&c(s.ts,s.type==="year"?{type:"year",year:s.dateObject.year}:s.type==="month"?{type:"month",year:s.dateObject.year,month:s.dateObject.month}:s.type==="quarter"?{type:"month",year:s.dateObject.year,month:s.dateObject.quarter}:null)&&`${l}-date-panel-month-calendar__picker-col-item--disabled`],onClick:()=>{o?u(s,f=>{t.onUpdateValue(f,!1)}):d(s)}},r(s))};return Gt(()=>{e.justifyColumnsScrollState()}),Object.assign(Object.assign({},e),{renderItem:i})},render(){const{mergedClsPrefix:t,mergedTheme:e,shortcuts:n,actions:r,renderItem:o,type:i,onRender:s}=this;return s==null||s(),g("div",{ref:"selfRef",tabindex:0,class:[`${t}-date-panel`,`${t}-date-panel--month`,!this.panel&&`${t}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},g("div",{class:`${t}-date-panel-month-calendar`},g(Sn,{ref:"yearScrollbarRef",class:`${t}-date-panel-month-calendar__picker-col`,theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,container:this.virtualListContainer,content:this.virtualListContent,horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>g(qo,{ref:"yearVlRef",items:this.yearArray,itemSize:_a,showScrollbar:!1,keyField:"ts",onScroll:this.handleVirtualListScroll,paddingBottom:4},{default:({item:a,index:l})=>o(a,l,t)})}),i==="month"||i==="quarter"?g("div",{class:`${t}-date-panel-month-calendar__picker-col`},g(Sn,{ref:"monthScrollbarRef",theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar},{default:()=>[(i==="month"?this.monthArray:this.quarterArray).map((a,l)=>o(a,l,t)),g("div",{class:`${t}-date-panel-${i}-calendar__padding`})]})):null),Lt(this.datePickerSlots.footer,a=>a?g("div",{class:`${t}-date-panel-footer`},a):null),r!=null&&r.length||n?g("div",{class:`${t}-date-panel-actions`},g("div",{class:`${t}-date-panel-actions__prefix`},n&&Object.keys(n).map(a=>{const l=n[a];return Array.isArray(l)?null:g(Ko,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(l)},onClick:()=>{this.handleSingleShortcutClick(l)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>a})})),g("div",{class:`${t}-date-panel-actions__suffix`},r!=null&&r.includes("clear")?Vn(this.datePickerSlots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[g(At,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,r!=null&&r.includes("now")?Vn(this.datePickerSlots.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[g(At,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null,r!=null&&r.includes("confirm")?Vn(this.datePickerSlots.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isDateInvalid,text:this.locale.confirm},()=>[g(At,{theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,g(Ii,{onFocus:this.handleFocusDetectorFocus}))}}),Bl=ce({props:{mergedClsPrefix:{type:String,required:!0},value:Number,monthBeforeYear:{type:Boolean,required:!0},monthYearSeparator:{type:String,required:!0},calendarMonth:{type:String,required:!0},calendarYear:{type:String,required:!0},onUpdateValue:{type:Function,required:!0}},setup(){const t=z(null),e=z(null),n=z(!1);function r(i){var s;n.value&&!(!((s=t.value)===null||s===void 0)&&s.contains(Jr(i)))&&(n.value=!1)}function o(){n.value=!n.value}return{show:n,triggerRef:t,monthPanelRef:e,handleHeaderClick:o,handleClickOutside:r}},render(){const{handleClickOutside:t,mergedClsPrefix:e}=this;return g("div",{class:`${e}-date-panel-month__month-year`,ref:"triggerRef"},g(Mo,null,{default:()=>[g(Bo,null,{default:()=>g("div",{class:[`${e}-date-panel-month__text`,this.show&&`${e}-date-panel-month__text--active`],onClick:this.handleHeaderClick},this.monthBeforeYear?[this.calendarMonth,this.monthYearSeparator,this.calendarYear]:[this.calendarYear,this.monthYearSeparator,this.calendarMonth])}),g(yo,{show:this.show,teleportDisabled:!0},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:!0},{default:()=>this.show?$n(g(CA,{ref:"monthPanelRef",onUpdateValue:this.onUpdateValue,actions:[],calendarHeaderMonthYearSeparator:this.monthYearSeparator,type:"month",key:"month",useAsQuickJump:!0,value:this.value}),[[eo,t,void 0,{capture:!0}]]):null})})]}))}}),dW=ce({name:"DatePanel",props:Object.assign(Object.assign({},N0),{type:{type:String,required:!0}}),setup(t){return U0(t,t.type)},render(){var t,e,n;const{mergedClsPrefix:r,mergedTheme:o,shortcuts:i,onRender:s,datePickerSlots:a,type:l}=this;return s==null||s(),g("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--${l}`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},g("div",{class:`${r}-date-panel-calendar`},g("div",{class:`${r}-date-panel-month`},g("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.prevYear},Et(a["prev-year"],()=>[g(Bs,null)])),g("div",{class:`${r}-date-panel-month__prev`,onClick:this.prevMonth},Et(a["prev-month"],()=>[g(Ms,null)])),g(Bl,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:r,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),g("div",{class:`${r}-date-panel-month__next`,onClick:this.nextMonth},Et(a["next-month"],()=>[g(Ns,null)])),g("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.nextYear},Et(a["next-year"],()=>[g(zs,null)]))),g("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(c=>g("div",{key:c,class:`${r}-date-panel-weekdays__day`},c))),g("div",{class:`${r}-date-panel-dates`},this.dateArray.map((c,d)=>g("div",{"data-n-date":!0,key:d,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--current`]:c.isCurrentDate,[`${r}-date-panel-date--selected`]:c.selected,[`${r}-date-panel-date--excluded`]:!c.inCurrentMonth,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(c.ts,{type:"date",year:c.dateObject.year,month:c.dateObject.month,date:c.dateObject.date}),[`${r}-date-panel-date--week-hovered`]:this.isWeekHovered(c),[`${r}-date-panel-date--week-selected`]:c.inSelectedWeek}],onClick:()=>{this.handleDateClick(c)},onMouseenter:()=>{this.handleDateMouseEnter(c)}},g("div",{class:`${r}-date-panel-date__trigger`}),c.dateObject.date,c.isCurrentDate?g("div",{class:`${r}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?g("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,!((t=this.actions)===null||t===void 0)&&t.length||i?g("div",{class:`${r}-date-panel-actions`},g("div",{class:`${r}-date-panel-actions__prefix`},i&&Object.keys(i).map(c=>{const d=i[c];return Array.isArray(d)?null:g(Ko,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(d)},onClick:()=>{this.handleSingleShortcutClick(d)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>c})})),g("div",{class:`${r}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?Vn(this.$slots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[g(At,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("now")?Vn(this.$slots.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[g(At,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null)):null,g(Ii,{onFocus:this.handleFocusDetectorFocus}))}}),H0=Object.assign(Object.assign({},yA),{defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,actions:{type:Array,default:()=>["clear","confirm"]}});function V0(t,e){var n,r;const{isDateDisabledRef:o,isStartHourDisabledRef:i,isEndHourDisabledRef:s,isStartMinuteDisabledRef:a,isEndMinuteDisabledRef:l,isStartSecondDisabledRef:c,isEndSecondDisabledRef:d,isStartDateInvalidRef:u,isEndDateInvalidRef:f,isStartTimeInvalidRef:m,isEndTimeInvalidRef:h,isStartValueInvalidRef:p,isEndValueInvalidRef:v,isRangeInvalidRef:b,localeRef:y,rangesRef:x,closeOnSelectRef:C,updateValueOnCloseRef:S,firstDayOfWeekRef:T,datePickerSlots:w,monthFormatRef:E,yearFormatRef:R,quarterFormatRef:P,yearRangeRef:_}=Ve(Fh),I={isDateDisabled:o,isStartHourDisabled:i,isEndHourDisabled:s,isStartMinuteDisabled:a,isEndMinuteDisabled:l,isStartSecondDisabled:c,isEndSecondDisabled:d,isStartDateInvalid:u,isEndDateInvalid:f,isStartTimeInvalid:m,isEndTimeInvalid:h,isStartValueInvalid:p,isEndValueInvalid:v,isRangeInvalid:b},L=xA(t),N=z(null),H=z(null),G=z(null),W=z(null),J=z(null),ne=z(null),D=z(null),B=z(null),{value:j}=t,$=(n=t.defaultCalendarStartTime)!==null&&n!==void 0?n:Array.isArray(j)&&typeof j[0]=="number"?j[0]:Date.now(),V=z($),X=z((r=t.defaultCalendarEndTime)!==null&&r!==void 0?r:Array.isArray(j)&&typeof j[1]=="number"?j[1]:ht(cr($,1)));Ct(!0);const Z=z(Date.now()),q=z(!1),ue=z(0),K=A(()=>t.dateFormat||y.value.dateFormat),he=A(()=>t.calendarDayFormat||y.value.dayFormat),Ie=z(Array.isArray(j)?cn(j[0],K.value,L.dateFnsOptions.value):""),Q=z(Array.isArray(j)?cn(j[1],K.value,L.dateFnsOptions.value):""),Y=A(()=>q.value?"end":"start"),re=A(()=>{var _e;return Mf(V.value,t.value,Z.value,(_e=T.value)!==null&&_e!==void 0?_e:y.value.firstDayOfWeek)}),be=A(()=>{var _e;return Mf(X.value,t.value,Z.value,(_e=T.value)!==null&&_e!==void 0?_e:y.value.firstDayOfWeek)}),Ce=A(()=>re.value.slice(0,7).map(_e=>{const{ts:et}=_e;return cn(et,he.value,L.dateFnsOptions.value)})),le=A(()=>cn(V.value,t.calendarHeaderMonthFormat||y.value.monthFormat,L.dateFnsOptions.value)),de=A(()=>cn(X.value,t.calendarHeaderMonthFormat||y.value.monthFormat,L.dateFnsOptions.value)),fe=A(()=>cn(V.value,t.calendarHeaderYearFormat||y.value.yearFormat,L.dateFnsOptions.value)),te=A(()=>cn(X.value,t.calendarHeaderYearFormat||y.value.yearFormat,L.dateFnsOptions.value)),ae=A(()=>{const{value:_e}=t;return Array.isArray(_e)?_e[0]:null}),Ee=A(()=>{const{value:_e}=t;return Array.isArray(_e)?_e[1]:null}),se=A(()=>{const{shortcuts:_e}=t;return _e||x.value}),ie=A(()=>kp(tl(t.value,"start"),Z.value,{yearFormat:R.value},_)),ge=A(()=>kp(tl(t.value,"end"),Z.value,{yearFormat:R.value},_)),Le=A(()=>{const _e=tl(t.value,"start");return Ep(_e??Date.now(),_e,Z.value,{quarterFormat:P.value})}),xe=A(()=>{const _e=tl(t.value,"end");return Ep(_e??Date.now(),_e,Z.value,{quarterFormat:P.value})}),We=A(()=>{const _e=tl(t.value,"start");return Tp(_e??Date.now(),_e,Z.value,{monthFormat:E.value})}),at=A(()=>{const _e=tl(t.value,"end");return Tp(_e??Date.now(),_e,Z.value,{monthFormat:E.value})}),bt=A(()=>{var _e;return(_e=t.calendarHeaderMonthBeforeYear)!==null&&_e!==void 0?_e:y.value.monthBeforeYear});gt(A(()=>t.value),_e=>{if(_e!==null&&Array.isArray(_e)){const[et,nt]=_e;Ie.value=cn(et,K.value,L.dateFnsOptions.value),Q.value=cn(nt,K.value,L.dateFnsOptions.value),q.value||Oe(_e)}else Ie.value="",Q.value=""});function dt(_e,et){(e==="daterange"||e==="datetimerange")&&(vn(_e)!==vn(et)||fn(_e)!==fn(et))&&L.disableTransitionOneTick()}gt(V,dt),gt(X,dt);function Ct(_e){const et=Po(V.value),nt=Po(X.value);(t.bindCalendarMonths||et>=nt)&&(_e?X.value=ht(cr(et,1)):V.value=ht(cr(nt,-1)))}function Tt(){V.value=ht(cr(V.value,12)),Ct(!0)}function Qe(){V.value=ht(cr(V.value,-12)),Ct(!0)}function rt(){V.value=ht(cr(V.value,1)),Ct(!0)}function oe(){V.value=ht(cr(V.value,-1)),Ct(!0)}function ee(){X.value=ht(cr(X.value,12)),Ct(!1)}function Pe(){X.value=ht(cr(X.value,-12)),Ct(!1)}function Ne(){X.value=ht(cr(X.value,1)),Ct(!1)}function Ue(){X.value=ht(cr(X.value,-1)),Ct(!1)}function pe(_e){V.value=_e,Ct(!0)}function $e(_e){X.value=_e,Ct(!1)}function me(_e){const et=o.value;if(!et)return!1;if(!Array.isArray(t.value)||Y.value==="start")return et(_e,"start",null);{const{value:nt}=ue;return _e<ue.value?et(_e,"start",[nt,nt]):et(_e,"end",[nt,nt])}}function Oe(_e){if(_e===null)return;const[et,nt]=_e;V.value=et,Po(nt)<=Po(et)?X.value=ht(Po(cr(et,1))):X.value=ht(Po(nt))}function Ze(_e){if(!q.value)q.value=!0,ue.value=_e.ts,Ke(_e.ts,_e.ts,"done");else{q.value=!1;const{value:et}=t;t.panel&&Array.isArray(et)?Ke(et[0],et[1],"done"):C.value&&e==="daterange"&&(S.value?He():Re())}}function tt(_e){if(q.value){if(me(_e.ts))return;_e.ts>=ue.value?Ke(ue.value,_e.ts,"wipPreview"):Ke(_e.ts,ue.value,"wipPreview")}}function Re(){b.value||(L.doConfirm(),He())}function He(){q.value=!1,t.active&&L.doClose()}function ve(_e){typeof _e!="number"&&(_e=ht(_e)),t.value===null?L.doUpdateValue([_e,_e],t.panel):Array.isArray(t.value)&&L.doUpdateValue([_e,Math.max(t.value[1],_e)],t.panel)}function Be(_e){typeof _e!="number"&&(_e=ht(_e)),t.value===null?L.doUpdateValue([_e,_e],t.panel):Array.isArray(t.value)&&L.doUpdateValue([Math.min(t.value[0],_e),_e],t.panel)}function Ke(_e,et,nt){if(typeof _e!="number"&&(_e=ht(_e)),nt!=="shortcutPreview"&&nt!=="shortcutDone"){let jt,Qn;if(e==="datetimerange"){const{defaultTime:un}=t;Array.isArray(un)?(jt=Zu(un[0]),Qn=Zu(un[1])):(jt=Zu(un),Qn=jt)}jt&&(_e=ht(kr(_e,jt))),Qn&&(et=ht(kr(et,Qn)))}L.doUpdateValue([_e,et],t.panel&&(nt==="done"||nt==="shortcutDone"))}function ct(_e){return ht(e==="datetimerange"?T0(_e):e==="monthrange"?Po(_e):Hs(_e))}function mt(_e){const et=Gr(_e,K.value,new Date,L.dateFnsOptions.value);if(Io(et))if(t.value){if(Array.isArray(t.value)){const nt=kr(t.value[0],{year:vn(et),month:fn(et),date:Eo(et)});ve(ct(ht(nt)))}}else{const nt=kr(new Date,{year:vn(et),month:fn(et),date:Eo(et)});ve(ct(ht(nt)))}else Ie.value=_e}function ye(_e){const et=Gr(_e,K.value,new Date,L.dateFnsOptions.value);if(Io(et)){if(t.value===null){const nt=kr(new Date,{year:vn(et),month:fn(et),date:Eo(et)});Be(ct(ht(nt)))}else if(Array.isArray(t.value)){const nt=kr(t.value[1],{year:vn(et),month:fn(et),date:Eo(et)});Be(ct(ht(nt)))}}else Q.value=_e}function Me(){const _e=Gr(Ie.value,K.value,new Date,L.dateFnsOptions.value),{value:et}=t;if(Io(_e)){if(et===null){const nt=kr(new Date,{year:vn(_e),month:fn(_e),date:Eo(_e)});ve(ct(ht(nt)))}else if(Array.isArray(et)){const nt=kr(et[0],{year:vn(_e),month:fn(_e),date:Eo(_e)});ve(ct(ht(nt)))}}else Te()}function Je(){const _e=Gr(Q.value,K.value,new Date,L.dateFnsOptions.value),{value:et}=t;if(Io(_e)){if(et===null){const nt=kr(new Date,{year:vn(_e),month:fn(_e),date:Eo(_e)});Be(ct(ht(nt)))}else if(Array.isArray(et)){const nt=kr(et[1],{year:vn(_e),month:fn(_e),date:Eo(_e)});Be(ct(ht(nt)))}}else Te()}function Te(_e){const{value:et}=t;if(et===null||!Array.isArray(et)){Ie.value="",Q.value="";return}_e===void 0&&(_e=et),Ie.value=cn(_e[0],K.value,L.dateFnsOptions.value),Q.value=cn(_e[1],K.value,L.dateFnsOptions.value)}function ze(_e){_e!==null&&ve(_e)}function Xe(_e){_e!==null&&Be(_e)}function it(_e){L.cachePendingValue();const et=L.getShortcutValue(_e);Array.isArray(et)&&Ke(et[0],et[1],"shortcutPreview")}function ut(_e){const et=L.getShortcutValue(_e);Array.isArray(et)&&(Ke(et[0],et[1],"shortcutDone"),L.clearPendingValue(),Re())}function Nt(_e,et){const nt=_e===void 0?t.value:_e;if(_e===void 0||et==="start"){if(D.value){const jt=Array.isArray(nt)?fn(nt[0]):fn(Date.now());D.value.scrollTo({debounce:!1,index:jt,elSize:_a})}if(J.value){const jt=(Array.isArray(nt)?vn(nt[0]):vn(Date.now()))-_.value[0];J.value.scrollTo({index:jt,debounce:!1})}}if(_e===void 0||et==="end"){if(B.value){const jt=Array.isArray(nt)?fn(nt[1]):fn(Date.now());B.value.scrollTo({debounce:!1,index:jt,elSize:_a})}if(ne.value){const jt=(Array.isArray(nt)?vn(nt[1]):vn(Date.now()))-_.value[0];ne.value.scrollTo({index:jt,debounce:!1})}}}function Rn(_e,et){const{value:nt}=t,jt=!Array.isArray(nt),Qn=_e.type==="year"&&e!=="yearrange"?jt?kr(_e.ts,{month:fn(e==="quarterrange"?dd(new Date):new Date)}).valueOf():kr(_e.ts,{month:fn(e==="quarterrange"?dd(nt[et==="start"?0:1]):nt[et==="start"?0:1])}).valueOf():_e.ts;if(jt){const No=ct(Qn),lo=[No,No];L.doUpdateValue(lo,t.panel),Nt(lo,"start"),Nt(lo,"end"),L.disableTransitionOneTick();return}const un=[nt[0],nt[1]];let So=!1;switch(et==="start"?(un[0]=ct(Qn),un[0]>un[1]&&(un[1]=un[0],So=!0)):(un[1]=ct(Qn),un[0]>un[1]&&(un[0]=un[1],So=!0)),L.doUpdateValue(un,t.panel),e){case"monthrange":case"quarterrange":L.disableTransitionOneTick(),So?(Nt(un,"start"),Nt(un,"end")):Nt(un,et);break;case"yearrange":L.disableTransitionOneTick(),Nt(un,"start"),Nt(un,"end")}}function En(){var _e;(_e=G.value)===null||_e===void 0||_e.sync()}function yr(){var _e;(_e=W.value)===null||_e===void 0||_e.sync()}function Ir(_e){var et,nt;return _e==="start"?((et=J.value)===null||et===void 0?void 0:et.listElRef)||null:((nt=ne.value)===null||nt===void 0?void 0:nt.listElRef)||null}function Wn(_e){var et,nt;return _e==="start"?((et=J.value)===null||et===void 0?void 0:et.itemsElRef)||null:((nt=ne.value)===null||nt===void 0?void 0:nt.itemsElRef)||null}const tn={startYearVlRef:J,endYearVlRef:ne,startMonthScrollbarRef:D,endMonthScrollbarRef:B,startYearScrollbarRef:G,endYearScrollbarRef:W};return Object.assign(Object.assign(Object.assign(Object.assign({startDatesElRef:N,endDatesElRef:H,handleDateClick:Ze,handleColItemClick:Rn,handleDateMouseEnter:tt,handleConfirmClick:Re,startCalendarPrevYear:Qe,startCalendarPrevMonth:oe,startCalendarNextYear:Tt,startCalendarNextMonth:rt,endCalendarPrevYear:Pe,endCalendarPrevMonth:Ue,endCalendarNextMonth:Ne,endCalendarNextYear:ee,mergedIsDateDisabled:me,changeStartEndTime:Ke,ranges:x,calendarMonthBeforeYear:bt,startCalendarMonth:le,startCalendarYear:fe,endCalendarMonth:de,endCalendarYear:te,weekdays:Ce,startDateArray:re,endDateArray:be,startYearArray:ie,startMonthArray:We,startQuarterArray:Le,endYearArray:ge,endMonthArray:at,endQuarterArray:xe,isSelecting:q,handleRangeShortcutMouseenter:it,handleRangeShortcutClick:ut},L),I),tn),{startDateDisplayString:Ie,endDateInput:Q,timePickerSize:L.timePickerSize,startTimeValue:ae,endTimeValue:Ee,datePickerSlots:w,shortcuts:se,startCalendarDateTime:V,endCalendarDateTime:X,justifyColumnsScrollState:Nt,handleFocusDetectorFocus:L.handleFocusDetectorFocus,handleStartTimePickerChange:ze,handleEndTimePickerChange:Xe,handleStartDateInput:mt,handleStartDateInputBlur:Me,handleEndDateInput:ye,handleEndDateInputBlur:Je,handleStartYearVlScroll:En,handleEndYearVlScroll:yr,virtualListContainer:Ir,virtualListContent:Wn,onUpdateStartCalendarValue:pe,onUpdateEndCalendarValue:$e})}const uW=ce({name:"DateRangePanel",props:H0,setup(t){return V0(t,"daterange")},render(){var t,e,n;const{mergedClsPrefix:r,mergedTheme:o,shortcuts:i,onRender:s,datePickerSlots:a}=this;return s==null||s(),g("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--daterange`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},g("div",{ref:"startDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--start`},g("div",{class:`${r}-date-panel-month`},g("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},Et(a["prev-year"],()=>[g(Bs,null)])),g("div",{class:`${r}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},Et(a["prev-month"],()=>[g(Ms,null)])),g(Bl,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:r,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),g("div",{class:`${r}-date-panel-month__next`,onClick:this.startCalendarNextMonth},Et(a["next-month"],()=>[g(Ns,null)])),g("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},Et(a["next-year"],()=>[g(zs,null)]))),g("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(l=>g("div",{key:l,class:`${r}-date-panel-weekdays__day`},l))),g("div",{class:`${r}-date-panel__divider`}),g("div",{class:`${r}-date-panel-dates`},this.startDateArray.map((l,c)=>g("div",{"data-n-date":!0,key:c,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!l.inCurrentMonth,[`${r}-date-panel-date--current`]:l.isCurrentDate,[`${r}-date-panel-date--selected`]:l.selected,[`${r}-date-panel-date--covered`]:l.inSpan,[`${r}-date-panel-date--start`]:l.startOfSpan,[`${r}-date-panel-date--end`]:l.endOfSpan,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(l.ts)}],onClick:()=>{this.handleDateClick(l)},onMouseenter:()=>{this.handleDateMouseEnter(l)}},g("div",{class:`${r}-date-panel-date__trigger`}),l.dateObject.date,l.isCurrentDate?g("div",{class:`${r}-date-panel-date__sup`}):null)))),g("div",{class:`${r}-date-panel__vertical-divider`}),g("div",{ref:"endDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--end`},g("div",{class:`${r}-date-panel-month`},g("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},Et(a["prev-year"],()=>[g(Bs,null)])),g("div",{class:`${r}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},Et(a["prev-month"],()=>[g(Ms,null)])),g(Bl,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:r,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),g("div",{class:`${r}-date-panel-month__next`,onClick:this.endCalendarNextMonth},Et(a["next-month"],()=>[g(Ns,null)])),g("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},Et(a["next-year"],()=>[g(zs,null)]))),g("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(l=>g("div",{key:l,class:`${r}-date-panel-weekdays__day`},l))),g("div",{class:`${r}-date-panel__divider`}),g("div",{class:`${r}-date-panel-dates`},this.endDateArray.map((l,c)=>g("div",{"data-n-date":!0,key:c,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!l.inCurrentMonth,[`${r}-date-panel-date--current`]:l.isCurrentDate,[`${r}-date-panel-date--selected`]:l.selected,[`${r}-date-panel-date--covered`]:l.inSpan,[`${r}-date-panel-date--start`]:l.startOfSpan,[`${r}-date-panel-date--end`]:l.endOfSpan,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(l.ts)}],onClick:()=>{this.handleDateClick(l)},onMouseenter:()=>{this.handleDateMouseEnter(l)}},g("div",{class:`${r}-date-panel-date__trigger`}),l.dateObject.date,l.isCurrentDate?g("div",{class:`${r}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?g("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,!((t=this.actions)===null||t===void 0)&&t.length||i?g("div",{class:`${r}-date-panel-actions`},g("div",{class:`${r}-date-panel-actions__prefix`},i&&Object.keys(i).map(l=>{const c=i[l];return Array.isArray(c)||typeof c=="function"?g(Ko,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(c)},onClick:()=>{this.handleRangeShortcutClick(c)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>l}):null})),g("div",{class:`${r}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?Vn(a.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[g(At,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("confirm")?Vn(a.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isRangeInvalid||this.isSelecting,text:this.locale.confirm},()=>[g(At,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,g(Ii,{onFocus:this.handleFocusDetectorFocus}))}});function yC(t,e,n){const r=$k(),o=gW(t,n.timeZone,n.locale??r.locale);return"formatToParts"in o?fW(o,e):hW(o,e)}function fW(t,e){const n=t.formatToParts(e);for(let r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function hW(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function gW(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function mW(t,e){const n=xW(e);return"formatToParts"in n?vW(n,t):bW(n,t)}const pW={year:0,month:1,day:2,hour:3,minute:4,second:5};function vW(t,e){try{const n=t.formatToParts(e),r=[];for(let o=0;o<n.length;o++){const i=pW[n[o].type];i!==void 0&&(r[i]=parseInt(n[o].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function bW(t,e){const n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const Vg={},xC=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),yW=xC==="06/25/2014, 00:00:00"||xC==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function xW(t){return Vg[t]||(Vg[t]=yW?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Vg[t]}function SA(t,e,n,r,o,i,s){const a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,o,i,s),a}const CC=36e5,CW=6e4,jg={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function j0(t,e,n){if(!t)return 0;let r=jg.timezoneZ.exec(t);if(r)return 0;let o,i;if(r=jg.timezoneHH.exec(t),r)return o=parseInt(r[1],10),SC(o)?-(o*CC):NaN;if(r=jg.timezoneHHMM.exec(t),r){o=parseInt(r[2],10);const s=parseInt(r[3],10);return SC(o,s)?(i=Math.abs(o)*CC+s*CW,r[1]==="+"?-i:i):NaN}if(RW(t)){e=new Date(e||Date.now());const s=n?e:SW(e),a=Lp(s,t);return-(n?a:wW(e,a,t))}return NaN}function SW(t){return SA(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Lp(t,e){const n=mW(t,e),r=SA(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let o=t.getTime();const i=o%1e3;return o-=i>=0?i:1e3+i,r-o}function wW(t,e,n){let o=t.getTime()-e;const i=Lp(new Date(o),n);if(e===i)return e;o-=i-e;const s=Lp(new Date(o),n);return i===s?i:Math.max(i,s)}function SC(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const wC={};function RW(t){if(wC[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),wC[t]=!0,!0}catch{return!1}}const TW=60*1e3,EW={X:function(t,e,n){const r=Wg(n.timeZone,t);if(r===0)return"Z";switch(e){case"X":return RC(r);case"XXXX":case"XX":return ul(r);case"XXXXX":case"XXX":default:return ul(r,":")}},x:function(t,e,n){const r=Wg(n.timeZone,t);switch(e){case"x":return RC(r);case"xxxx":case"xx":return ul(r);case"xxxxx":case"xxx":default:return ul(r,":")}},O:function(t,e,n){const r=Wg(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+kW(r,":");case"OOOO":default:return"GMT"+ul(r,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return yC("short",t,n);case"zzzz":default:return yC("long",t,n)}}};function Wg(t,e){const n=t?j0(t,e,!0)/TW:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function Bf(t,e){const n=t<0?"-":"";let r=Math.abs(t).toString();for(;r.length<e;)r="0"+r;return n+r}function ul(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Bf(Math.floor(r/60),2),i=Bf(Math.floor(r%60),2);return n+o+e+i}function RC(t,e){return t%60===0?(t>0?"-":"+")+Bf(Math.abs(t)/60,2):ul(t,e)}function kW(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;return i===0?n+String(o):n+String(o)+e+Bf(i,2)}function TC(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const PW=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Kg=36e5,EC=6e4,AW=2,Ur={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:PW};function wA(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?AW:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=IW(t),{year:o,restDateString:i}=_W(r.date,n),s=LW(i,o);if(s===null||isNaN(s.getTime()))return new Date(NaN);if(s){const a=s.getTime();let l=0,c;if(r.time&&(l=DW(r.time),l===null||isNaN(l)))return new Date(NaN);if(r.timeZone||e.timeZone){if(c=j0(r.timeZone||e.timeZone,new Date(a+l)),isNaN(c))return new Date(NaN)}else c=TC(new Date(a+l)),c=TC(new Date(a+l+c));return new Date(a+l+c)}else return new Date(NaN)}function IW(t){const e={};let n=Ur.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Ur.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){const o=Ur.timeZone.exec(r);o?(e.time=r.replace(o[1],""),e.timeZone=o[1].trim()):e.time=r}return e}function _W(t,e){if(t){const n=Ur.YYY[e],r=Ur.YYYYY[e];let o=Ur.YYYY.exec(t)||r.exec(t);if(o){const i=o[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(o=Ur.YY.exec(t)||n.exec(t),o){const i=o[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function LW(t,e){if(e===null)return null;let n,r,o;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=Ur.MM.exec(t);if(i)return n=new Date(0),r=parseInt(i[1],10)-1,PC(e,r)?(n.setUTCFullYear(e,r),n):new Date(NaN);if(i=Ur.DDD.exec(t),i){n=new Date(0);const s=parseInt(i[1],10);return FW(e,s)?(n.setUTCFullYear(e,0,s),n):new Date(NaN)}if(i=Ur.MMDD.exec(t),i){n=new Date(0),r=parseInt(i[1],10)-1;const s=parseInt(i[2],10);return PC(e,r,s)?(n.setUTCFullYear(e,r,s),n):new Date(NaN)}if(i=Ur.Www.exec(t),i)return o=parseInt(i[1],10)-1,AC(o)?kC(e,o):new Date(NaN);if(i=Ur.WwwD.exec(t),i){o=parseInt(i[1],10)-1;const s=parseInt(i[2],10)-1;return AC(o,s)?kC(e,o,s):new Date(NaN)}return null}function DW(t){let e,n,r=Ur.HH.exec(t);if(r)return e=parseFloat(r[1].replace(",",".")),Gg(e)?e%24*Kg:NaN;if(r=Ur.HHMM.exec(t),r)return e=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),Gg(e,n)?e%24*Kg+n*EC:NaN;if(r=Ur.HHMMSS.exec(t),r){e=parseInt(r[1],10),n=parseInt(r[2],10);const o=parseFloat(r[3].replace(",","."));return Gg(e,n,o)?e%24*Kg+n*EC+o*1e3:NaN}return null}function kC(t,e,n){e=e||0,n=n||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const o=r.getUTCDay()||7,i=e*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}const OW=[31,28,31,30,31,30,31,31,30,31,30,31],$W=[31,29,31,30,31,30,31,31,30,31,30,31];function RA(t){return t%400===0||t%4===0&&t%100!==0}function PC(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const r=RA(t);if(r&&n>$W[e]||!r&&n>OW[e])return!1}return!0}function FW(t,e){if(e<1)return!1;const n=RA(t);return!(n&&e>366||!n&&e>365)}function AC(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function Gg(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const MW=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function BW(t,e,n={}){e=String(e);const r=e.match(MW);if(r){const o=wA(n.originalDate||t,n);e=r.reduce(function(i,s){if(s[0]==="'")return i;const a=i.indexOf(s),l=i[a-1]==="'",c=i.replace(s,"'"+EW[s[0]](o,s,n)+"'");return l?c.substring(0,a-1)+c.substring(a+1):c},e)}return cn(t,e,n)}function zW(t,e,n){t=wA(t,n);const r=j0(e,t,!0),o=new Date(t.getTime()-r),i=new Date(0);return i.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),i.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),i}function TA(t,e,n,r){return r={...r,timeZone:e,originalDate:t},BW(zW(t,e,{timeZone:r.timeZone}),n,r)}const EA="n-time-picker",yu=ce({name:"TimePickerPanelCol",props:{clsPrefix:{type:String,required:!0},data:{type:Array,required:!0},activeValue:{type:[Number,String],default:null},onItemClick:Function},render(){const{activeValue:t,onItemClick:e,clsPrefix:n}=this;return this.data.map(r=>{const{label:o,disabled:i,value:s}=r,a=t===s;return g("div",{key:o,"data-active":a?"":null,class:[`${n}-time-picker-col__item`,a&&`${n}-time-picker-col__item--active`,i&&`${n}-time-picker-col__item--disabled`],onClick:e&&!i?()=>{e(s)}:void 0},o)})}}),Rc={amHours:["00","01","02","03","04","05","06","07","08","09","10","11"],pmHours:["12","01","02","03","04","05","06","07","08","09","10","11"],hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],minutes:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],seconds:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],period:["AM","PM"]};function qg(t){return`00${t}`.slice(-2)}function Tc(t,e,n){return Array.isArray(e)?(n==="am"?e.filter(r=>r<12):n==="pm"?e.filter(r=>r>=12).map(r=>r===12?12:r-12):e).map(r=>qg(r)):typeof e=="number"?n==="am"?t.filter(r=>{const o=Number(r);return o<12&&o%e===0}):n==="pm"?t.filter(r=>{const o=Number(r);return o>=12&&o%e===0}).map(r=>{const o=Number(r);return qg(o===12?12:o-12)}):t.filter(r=>Number(r)%e===0):n==="am"?t.filter(r=>Number(r)<12):n==="pm"?t.map(r=>Number(r)).filter(r=>Number(r)>=12).map(r=>qg(r===12?12:r-12)):t}function xu(t,e,n){return n?typeof n=="number"?t%n===0:n.includes(t):!0}function NW(t,e,n){const r=Tc(Rc[e],n).map(Number);let o,i;for(let s=0;s<r.length;++s){const a=r[s];if(a===t)return a;if(a>t){i=a;break}o=a}return o===void 0?(i||nr("time-picker","Please set 'hours' or 'minutes' or 'seconds' props"),i):i===void 0||i-t>t-o?o:i}function UW(t){return ws(t)<12?"am":"pm"}const HW={actions:{type:Array,default:()=>["now","confirm"]},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0},showPeriod:{type:Boolean,default:!0},isHourInvalid:Boolean,isMinuteInvalid:Boolean,isSecondInvalid:Boolean,isAmPmInvalid:Boolean,isValueInvalid:Boolean,hourValue:{type:Number,default:null},minuteValue:{type:Number,default:null},secondValue:{type:Number,default:null},amPmValue:{type:String,default:null},isHourDisabled:Function,isMinuteDisabled:Function,isSecondDisabled:Function,onHourClick:{type:Function,required:!0},onMinuteClick:{type:Function,required:!0},onSecondClick:{type:Function,required:!0},onAmPmClick:{type:Function,required:!0},onNowClick:Function,clearText:String,nowText:String,confirmText:String,transitionDisabled:Boolean,onClearClick:Function,onConfirmClick:Function,onFocusin:Function,onFocusout:Function,onFocusDetectorFocus:Function,onKeydown:Function,hours:[Number,Array],minutes:[Number,Array],seconds:[Number,Array],use12Hours:Boolean},VW=ce({name:"TimePickerPanel",props:HW,setup(t){const{mergedThemeRef:e,mergedClsPrefixRef:n}=Ve(EA),r=A(()=>{const{isHourDisabled:a,hours:l,use12Hours:c,amPmValue:d}=t;if(c){const u=d??UW(Date.now());return Tc(Rc.hours,l,u).map(f=>{const m=Number(f),h=u==="pm"&&m!==12?m+12:m;return{label:f,value:h,disabled:a?a(h):!1}})}else return Tc(Rc.hours,l).map(u=>({label:u,value:Number(u),disabled:a?a(Number(u)):!1}))}),o=A(()=>{const{isMinuteDisabled:a,minutes:l}=t;return Tc(Rc.minutes,l).map(c=>({label:c,value:Number(c),disabled:a?a(Number(c),t.hourValue):!1}))}),i=A(()=>{const{isSecondDisabled:a,seconds:l}=t;return Tc(Rc.seconds,l).map(c=>({label:c,value:Number(c),disabled:a?a(Number(c),t.minuteValue,t.hourValue):!1}))}),s=A(()=>{const{isHourDisabled:a}=t;let l=!0,c=!0;for(let d=0;d<12;++d)if(!(a!=null&&a(d))){l=!1;break}for(let d=12;d<24;++d)if(!(a!=null&&a(d))){c=!1;break}return[{label:"AM",value:"am",disabled:l},{label:"PM",value:"pm",disabled:c}]});return{mergedTheme:e,mergedClsPrefix:n,hours:r,minutes:o,seconds:i,amPm:s,hourScrollRef:z(null),minuteScrollRef:z(null),secondScrollRef:z(null),amPmScrollRef:z(null)}},render(){var t,e,n,r;const{mergedClsPrefix:o,mergedTheme:i}=this;return g("div",{tabindex:0,class:`${o}-time-picker-panel`,onFocusin:this.onFocusin,onFocusout:this.onFocusout,onKeydown:this.onKeydown},g("div",{class:`${o}-time-picker-cols`},this.showHour?g("div",{class:[`${o}-time-picker-col`,this.isHourInvalid&&`${o}-time-picker-col--invalid`,this.transitionDisabled&&`${o}-time-picker-col--transition-disabled`]},g(Sn,{ref:"hourScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[g(yu,{clsPrefix:o,data:this.hours,activeValue:this.hourValue,onItemClick:this.onHourClick}),g("div",{class:`${o}-time-picker-col__padding`})]})):null,this.showMinute?g("div",{class:[`${o}-time-picker-col`,this.transitionDisabled&&`${o}-time-picker-col--transition-disabled`,this.isMinuteInvalid&&`${o}-time-picker-col--invalid`]},g(Sn,{ref:"minuteScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[g(yu,{clsPrefix:o,data:this.minutes,activeValue:this.minuteValue,onItemClick:this.onMinuteClick}),g("div",{class:`${o}-time-picker-col__padding`})]})):null,this.showSecond?g("div",{class:[`${o}-time-picker-col`,this.isSecondInvalid&&`${o}-time-picker-col--invalid`,this.transitionDisabled&&`${o}-time-picker-col--transition-disabled`]},g(Sn,{ref:"secondScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[g(yu,{clsPrefix:o,data:this.seconds,activeValue:this.secondValue,onItemClick:this.onSecondClick}),g("div",{class:`${o}-time-picker-col__padding`})]})):null,this.use12Hours?g("div",{class:[`${o}-time-picker-col`,this.isAmPmInvalid&&`${o}-time-picker-col--invalid`,this.transitionDisabled&&`${o}-time-picker-col--transition-disabled`]},g(Sn,{ref:"amPmScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[g(yu,{clsPrefix:o,data:this.amPm,activeValue:this.amPmValue,onItemClick:this.onAmPmClick}),g("div",{class:`${o}-time-picker-col__padding`})]})):null),!((t=this.actions)===null||t===void 0)&&t.length?g("div",{class:`${o}-time-picker-actions`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?g(At,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.onClearClick},{default:()=>this.clearText}):null,!((n=this.actions)===null||n===void 0)&&n.includes("now")?g(At,{size:"tiny",theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,onClick:this.onNowClick},{default:()=>this.nowText}):null,!((r=this.actions)===null||r===void 0)&&r.includes("confirm")?g(At,{size:"tiny",type:"primary",class:`${o}-time-picker-actions__confirm`,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,disabled:this.isValueInvalid,onClick:this.onConfirmClick},{default:()=>this.confirmText}):null):null,g(Ii,{onFocus:this.onFocusDetectorFocus}))}}),jW=O([k("time-picker",`
 z-index: auto;
 position: relative;
 `,[k("time-picker-icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),M("disabled",[k("time-picker-icon",`
 color: var(--n-icon-color-disabled-override);
 `)])]),k("time-picker-panel",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-border-radius);
 margin: 4px 0;
 min-width: 104px;
 overflow: hidden;
 background-color: var(--n-panel-color);
 box-shadow: var(--n-panel-box-shadow);
 `,[ar(),k("time-picker-actions",`
 padding: var(--n-panel-action-padding);
 align-items: center;
 display: flex;
 justify-content: space-evenly;
 `),k("time-picker-cols",`
 height: calc(var(--n-item-height) * 6);
 display: flex;
 position: relative;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-panel-divider-color);
 `),k("time-picker-col",`
 flex-grow: 1;
 min-width: var(--n-item-width);
 height: calc(var(--n-item-height) * 6);
 flex-direction: column;
 transition: box-shadow .3s var(--n-bezier);
 `,[M("transition-disabled",[F("item","transition: none;",[O("&::before","transition: none;")])]),F("padding",`
 height: calc(var(--n-item-height) * 5);
 `),O("&:first-child","min-width: calc(var(--n-item-width) + 4px);",[F("item",[O("&::before","left: 4px;")])]),F("item",`
 cursor: pointer;
 height: var(--n-item-height);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 background: #0000;
 text-decoration-color: #0000;
 color: var(--n-item-text-color);
 z-index: 0;
 box-sizing: border-box;
 padding-top: 4px;
 position: relative;
 `,[O("&::before",`
 content: "";
 transition: background-color .3s var(--n-bezier);
 z-index: -1;
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-item-border-radius);
 `),wt("disabled",[O("&:hover::before",`
 background-color: var(--n-item-color-hover);
 `)]),M("active",`
 color: var(--n-item-text-color-active);
 `,[O("&::before",`
 background-color: var(--n-item-color-hover);
 `)]),M("disabled",`
 opacity: var(--n-item-opacity-disabled);
 cursor: not-allowed;
 `)]),M("invalid",[F("item",[M("active",`
 text-decoration: line-through;
 text-decoration-color: var(--n-item-text-color-active);
 `)])])])])]);function Yg(t,e){return t===void 0?!0:Array.isArray(t)?t.every(n=>n>=0&&n<=e):t>=0&&t<=e}const kA=Object.assign(Object.assign({},ke.props),{to:an.propTo,bordered:{type:Boolean,default:void 0},actions:Array,defaultValue:{type:Number,default:null},defaultFormattedValue:String,placeholder:String,placement:{type:String,default:"bottom-start"},value:Number,format:{type:String,default:"HH:mm:ss"},valueFormat:String,formattedValue:String,isHourDisabled:Function,size:String,isMinuteDisabled:Function,isSecondDisabled:Function,inputReadonly:Boolean,clearable:Boolean,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:formattedValue":[Function,Array],onBlur:[Function,Array],onConfirm:[Function,Array],onClear:Function,onFocus:[Function,Array],timeZone:String,showIcon:{type:Boolean,default:!0},disabled:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},hours:{type:[Number,Array],validator:t=>Yg(t,23)},minutes:{type:[Number,Array],validator:t=>Yg(t,59)},seconds:{type:[Number,Array],validator:t=>Yg(t,59)},use12Hours:Boolean,stateful:{type:Boolean,default:!0},onChange:[Function,Array]}),zf=ce({name:"TimePicker",props:kA,setup(t){const{mergedBorderedRef:e,mergedClsPrefixRef:n,namespaceRef:r,inlineThemeDisabled:o}=Ge(t),{localeRef:i,dateLocaleRef:s}=Mn("TimePicker"),a=jn(t),{mergedSizeRef:l,mergedDisabledRef:c,mergedStatusRef:d}=a,u=ke("TimePicker","-time-picker",jW,pA,t,n),f=Xv(),m=z(null),h=z(null),p=A(()=>({locale:s.value.locale}));function v(Re){return Re===null?null:Gr(Re,t.valueFormat||t.format,new Date,p.value).getTime()}const{defaultValue:b,defaultFormattedValue:y}=t,x=z(y!==void 0?v(y):b),C=A(()=>{const{formattedValue:Re}=t;if(Re!==void 0)return v(Re);const{value:He}=t;return He!==void 0?He:x.value}),S=A(()=>{const{timeZone:Re}=t;return Re?(He,ve,Be)=>TA(He,Re,ve,Be):(He,ve,Be)=>cn(He,ve,Be)}),T=z("");gt(()=>t.timeZone,()=>{const Re=C.value;T.value=Re===null?"":S.value(Re,t.format,p.value)},{immediate:!0});const w=z(!1),E=Se(t,"show"),R=Ft(E,w),P=z(C.value),_=z(!1),I=A(()=>i.value.clear),L=A(()=>i.value.now),N=A(()=>t.placeholder!==void 0?t.placeholder:i.value.placeholder),H=A(()=>i.value.negativeText),G=A(()=>i.value.positiveText),W=A(()=>/H|h|K|k/.test(t.format)),J=A(()=>t.format.includes("m")),ne=A(()=>t.format.includes("s")),D=A(()=>{const{value:Re}=C;return Re===null?null:Number(S.value(Re,"HH",p.value))}),B=A(()=>{const{value:Re}=C;return Re===null?null:Number(S.value(Re,"mm",p.value))}),j=A(()=>{const{value:Re}=C;return Re===null?null:Number(S.value(Re,"ss",p.value))}),$=A(()=>{const{isHourDisabled:Re}=t;return D.value===null?!1:xu(D.value,"hours",t.hours)?Re?Re(D.value):!1:!0}),V=A(()=>{const{value:Re}=B,{value:He}=D;if(Re===null||He===null)return!1;if(!xu(Re,"minutes",t.minutes))return!0;const{isMinuteDisabled:ve}=t;return ve?ve(Re,He):!1}),X=A(()=>{const{value:Re}=B,{value:He}=D,{value:ve}=j;if(ve===null||Re===null||He===null)return!1;if(!xu(ve,"seconds",t.seconds))return!0;const{isSecondDisabled:Be}=t;return Be?Be(ve,Re,He):!1}),Z=A(()=>$.value||V.value||X.value),q=A(()=>t.format.length+4),ue=A(()=>{const{value:Re}=C;return Re===null?null:ws(Re)<12?"am":"pm"});function K(Re,He){const{onUpdateFormattedValue:ve,"onUpdate:formattedValue":Be}=t;ve&&we(ve,Re,He),Be&&we(Be,Re,He)}function he(Re){return Re===null?null:S.value(Re,t.valueFormat||t.format)}function Ie(Re){const{onUpdateValue:He,"onUpdate:value":ve,onChange:Be}=t,{nTriggerFormChange:Ke,nTriggerFormInput:ct}=a,mt=he(Re);He&&we(He,Re,mt),ve&&we(ve,Re,mt),Be&&we(Be,Re,mt),K(mt,Re),x.value=Re,Ke(),ct()}function Q(Re){const{onFocus:He}=t,{nTriggerFormFocus:ve}=a;He&&we(He,Re),ve()}function Y(Re){const{onBlur:He}=t,{nTriggerFormBlur:ve}=a;He&&we(He,Re),ve()}function re(){const{onConfirm:Re}=t;Re&&we(Re,C.value,he(C.value))}function be(Re){var He;Re.stopPropagation(),Ie(null),Le(null),(He=t.onClear)===null||He===void 0||He.call(t)}function Ce(){oe({returnFocus:!0})}function le(){Ie(null),Le(null),oe({returnFocus:!0})}function de(Re){Re.key==="Escape"&&R.value&&ka(Re)}function fe(Re){var He;switch(Re.key){case"Escape":R.value&&(ka(Re),oe({returnFocus:!0}));break;case"Tab":f.shift&&Re.target===((He=h.value)===null||He===void 0?void 0:He.$el)&&(Re.preventDefault(),oe({returnFocus:!0}));break}}function te(){_.value=!0,$t(()=>{_.value=!1})}function ae(Re){c.value||An(Re,"clear")||R.value||Qe()}function Ee(Re){typeof Re!="string"&&(C.value===null?Ie(ht(ea(f7(new Date),Re))):Ie(ht(ea(C.value,Re))))}function se(Re){typeof Re!="string"&&(C.value===null?Ie(ht($g(ZH(new Date),Re))):Ie(ht($g(C.value,Re))))}function ie(Re){typeof Re!="string"&&(C.value===null?Ie(ht(Fg(T0(new Date),Re))):Ie(ht(Fg(C.value,Re))))}function ge(Re){const{value:He}=C;if(He===null){const ve=new Date,Be=ws(ve);Re==="pm"&&Be<12?Ie(ht(ea(ve,Be+12))):Re==="am"&&Be>=12&&Ie(ht(ea(ve,Be-12))),Ie(ht(ve))}else{const ve=ws(He);Re==="pm"&&ve<12?Ie(ht(ea(He,ve+12))):Re==="am"&&ve>=12&&Ie(ht(ea(He,ve-12)))}}function Le(Re){Re===void 0&&(Re=C.value),Re===null?T.value="":T.value=S.value(Re,t.format,p.value)}function xe(Re){Tt(Re)||Q(Re)}function We(Re){var He;if(!Tt(Re))if(R.value){const ve=(He=h.value)===null||He===void 0?void 0:He.$el;ve!=null&&ve.contains(Re.relatedTarget)||(Le(),Y(Re),oe({returnFocus:!1}))}else Le(),Y(Re)}function at(){c.value||R.value||Qe()}function bt(){c.value||(Le(),oe({returnFocus:!1}))}function dt(){if(!h.value)return;const{hourScrollRef:Re,minuteScrollRef:He,secondScrollRef:ve,amPmScrollRef:Be}=h.value;[Re,He,ve,Be].forEach(Ke=>{var ct;if(!Ke)return;const mt=(ct=Ke.contentRef)===null||ct===void 0?void 0:ct.querySelector("[data-active]");mt&&Ke.scrollTo({top:mt.offsetTop})})}function Ct(Re){w.value=Re;const{onUpdateShow:He,"onUpdate:show":ve}=t;He&&we(He,Re),ve&&we(ve,Re)}function Tt(Re){var He,ve,Be;return!!(!((ve=(He=m.value)===null||He===void 0?void 0:He.wrapperElRef)===null||ve===void 0)&&ve.contains(Re.relatedTarget)||!((Be=h.value)===null||Be===void 0)&&Be.$el.contains(Re.relatedTarget))}function Qe(){P.value=C.value,Ct(!0),$t(dt)}function rt(Re){var He,ve;R.value&&!(!((ve=(He=m.value)===null||He===void 0?void 0:He.wrapperElRef)===null||ve===void 0)&&ve.contains(Jr(Re)))&&oe({returnFocus:!1})}function oe({returnFocus:Re}){var He;R.value&&(Ct(!1),Re&&((He=m.value)===null||He===void 0||He.focus()))}function ee(Re){if(Re===""){Ie(null);return}const He=Gr(Re,t.format,new Date,p.value);if(T.value=Re,Io(He)){const{value:ve}=C;if(ve!==null){const Be=kr(ve,{hours:ws(He),minutes:Of(He),seconds:$f(He),milliseconds:p9(He)});Ie(ht(Be))}else Ie(ht(He))}}function Pe(){Ie(P.value),Ct(!1)}function Ne(){const Re=new Date,He={hours:ws,minutes:Of,seconds:$f},[ve,Be,Ke]=["hours","minutes","seconds"].map(mt=>!t[mt]||xu(He[mt](Re),mt,t[mt])?He[mt](Re):NW(He[mt](Re),mt,t[mt])),ct=Fg($g(ea(C.value?C.value:ht(Re),ve),Be),Ke);Ie(ht(ct))}function Ue(){Le(),re(),oe({returnFocus:!0})}function pe(Re){Tt(Re)||(Le(),Y(Re),oe({returnFocus:!1}))}gt(C,Re=>{Le(Re),te(),$t(dt)}),gt(R,()=>{Z.value&&Ie(P.value)}),ft(EA,{mergedThemeRef:u,mergedClsPrefixRef:n});const $e={focus:()=>{var Re;(Re=m.value)===null||Re===void 0||Re.focus()},blur:()=>{var Re;(Re=m.value)===null||Re===void 0||Re.blur()}},me=A(()=>{const{common:{cubicBezierEaseInOut:Re},self:{iconColor:He,iconColorDisabled:ve}}=u.value;return{"--n-icon-color-override":He,"--n-icon-color-disabled-override":ve,"--n-bezier":Re}}),Oe=o?ot("time-picker-trigger",void 0,me,t):void 0,Ze=A(()=>{const{self:{panelColor:Re,itemTextColor:He,itemTextColorActive:ve,itemColorHover:Be,panelDividerColor:Ke,panelBoxShadow:ct,itemOpacityDisabled:mt,borderRadius:ye,itemFontSize:Me,itemWidth:Je,itemHeight:Te,panelActionPadding:ze,itemBorderRadius:Xe},common:{cubicBezierEaseInOut:it}}=u.value;return{"--n-bezier":it,"--n-border-radius":ye,"--n-item-color-hover":Be,"--n-item-font-size":Me,"--n-item-height":Te,"--n-item-opacity-disabled":mt,"--n-item-text-color":He,"--n-item-text-color-active":ve,"--n-item-width":Je,"--n-panel-action-padding":ze,"--n-panel-box-shadow":ct,"--n-panel-color":Re,"--n-panel-divider-color":Ke,"--n-item-border-radius":Xe}}),tt=o?ot("time-picker",void 0,Ze,t):void 0;return{focus:$e.focus,blur:$e.blur,mergedStatus:d,mergedBordered:e,mergedClsPrefix:n,namespace:r,uncontrolledValue:x,mergedValue:C,isMounted:br(),inputInstRef:m,panelInstRef:h,adjustedTo:an(t),mergedShow:R,localizedClear:I,localizedNow:L,localizedPlaceholder:N,localizedNegativeText:H,localizedPositiveText:G,hourInFormat:W,minuteInFormat:J,secondInFormat:ne,mergedAttrSize:q,displayTimeString:T,mergedSize:l,mergedDisabled:c,isValueInvalid:Z,isHourInvalid:$,isMinuteInvalid:V,isSecondInvalid:X,transitionDisabled:_,hourValue:D,minuteValue:B,secondValue:j,amPmValue:ue,handleInputKeydown:de,handleTimeInputFocus:xe,handleTimeInputBlur:We,handleNowClick:Ne,handleConfirmClick:Ue,handleTimeInputUpdateValue:ee,handleMenuFocusOut:pe,handleCancelClick:Pe,handleClickOutside:rt,handleTimeInputActivate:at,handleTimeInputDeactivate:bt,handleHourClick:Ee,handleMinuteClick:se,handleSecondClick:ie,handleAmPmClick:ge,handleTimeInputClear:be,handleFocusDetectorFocus:Ce,handleMenuKeydown:fe,handleTriggerClick:ae,mergedTheme:u,triggerCssVars:o?void 0:me,triggerThemeClass:Oe==null?void 0:Oe.themeClass,triggerOnRender:Oe==null?void 0:Oe.onRender,cssVars:o?void 0:Ze,themeClass:tt==null?void 0:tt.themeClass,onRender:tt==null?void 0:tt.onRender,clearSelectedValue:le}},render(){const{mergedClsPrefix:t,$slots:e,triggerOnRender:n}=this;return n==null||n(),g("div",{class:[`${t}-time-picker`,this.triggerThemeClass],style:this.triggerCssVars},g(Mo,null,{default:()=>[g(Bo,null,{default:()=>g(tr,{ref:"inputInstRef",status:this.mergedStatus,value:this.displayTimeString,bordered:this.mergedBordered,passivelyActivated:!0,attrSize:this.mergedAttrSize,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,stateful:this.stateful,size:this.mergedSize,placeholder:this.localizedPlaceholder,clearable:this.clearable,disabled:this.mergedDisabled,textDecoration:this.isValueInvalid?"line-through":void 0,onFocus:this.handleTimeInputFocus,onBlur:this.handleTimeInputBlur,onActivate:this.handleTimeInputActivate,onDeactivate:this.handleTimeInputDeactivate,onUpdateValue:this.handleTimeInputUpdateValue,onClear:this.handleTimeInputClear,internalDeactivateOnEnter:!0,internalForceFocus:this.mergedShow,readonly:this.inputReadonly||this.mergedDisabled,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown},this.showIcon?{[this.clearable?"clear-icon-placeholder":"suffix"]:()=>g(yt,{clsPrefix:t,class:`${t}-time-picker-icon`},{default:()=>e.icon?e.icon():g(I8,null)})}:null)}),g(yo,{teleportDisabled:this.adjustedTo===an.tdkey,show:this.mergedShow,to:this.adjustedTo,containerClass:this.namespace,placement:this.placement},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var r;return this.mergedShow?((r=this.onRender)===null||r===void 0||r.call(this),$n(g(VW,{ref:"panelInstRef",actions:this.actions,class:this.themeClass,style:this.cssVars,seconds:this.seconds,minutes:this.minutes,hours:this.hours,transitionDisabled:this.transitionDisabled,hourValue:this.hourValue,showHour:this.hourInFormat,isHourInvalid:this.isHourInvalid,isHourDisabled:this.isHourDisabled,minuteValue:this.minuteValue,showMinute:this.minuteInFormat,isMinuteInvalid:this.isMinuteInvalid,isMinuteDisabled:this.isMinuteDisabled,secondValue:this.secondValue,amPmValue:this.amPmValue,showSecond:this.secondInFormat,isSecondInvalid:this.isSecondInvalid,isSecondDisabled:this.isSecondDisabled,isValueInvalid:this.isValueInvalid,clearText:this.localizedClear,nowText:this.localizedNow,confirmText:this.localizedPositiveText,use12Hours:this.use12Hours,onFocusout:this.handleMenuFocusOut,onKeydown:this.handleMenuKeydown,onHourClick:this.handleHourClick,onMinuteClick:this.handleMinuteClick,onSecondClick:this.handleSecondClick,onAmPmClick:this.handleAmPmClick,onNowClick:this.handleNowClick,onConfirmClick:this.handleConfirmClick,onClearClick:this.clearSelectedValue,onFocusDetectorFocus:this.handleFocusDetectorFocus}),[[eo,this.handleClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),WW=ce({name:"DateTimePanel",props:N0,setup(t){return U0(t,"datetime")},render(){var t,e,n,r;const{mergedClsPrefix:o,mergedTheme:i,shortcuts:s,timePickerProps:a,datePickerSlots:l,onRender:c}=this;return c==null||c(),g("div",{ref:"selfRef",tabindex:0,class:[`${o}-date-panel`,`${o}-date-panel--datetime`,!this.panel&&`${o}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},g("div",{class:`${o}-date-panel-header`},g(tr,{value:this.dateInputValue,theme:i.peers.Input,themeOverrides:i.peerOverrides.Input,stateful:!1,size:this.timePickerSize,readonly:this.inputReadonly,class:`${o}-date-panel-date-input`,textDecoration:this.isDateInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleDateInputBlur,onUpdateValue:this.handleDateInput}),g(zf,Object.assign({size:this.timePickerSize,placeholder:this.locale.selectTime,format:this.timePickerFormat},Array.isArray(a)?void 0:a,{showIcon:!1,to:!1,theme:i.peers.TimePicker,themeOverrides:i.peerOverrides.TimePicker,value:Array.isArray(this.value)?null:this.value,isHourDisabled:this.isHourDisabled,isMinuteDisabled:this.isMinuteDisabled,isSecondDisabled:this.isSecondDisabled,onUpdateValue:this.handleTimePickerChange,stateful:!1}))),g("div",{class:`${o}-date-panel-calendar`},g("div",{class:`${o}-date-panel-month`},g("div",{class:`${o}-date-panel-month__fast-prev`,onClick:this.prevYear},Et(l["prev-year"],()=>[g(Bs,null)])),g("div",{class:`${o}-date-panel-month__prev`,onClick:this.prevMonth},Et(l["prev-month"],()=>[g(Ms,null)])),g(Bl,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:o,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),g("div",{class:`${o}-date-panel-month__next`,onClick:this.nextMonth},Et(l["next-month"],()=>[g(Ns,null)])),g("div",{class:`${o}-date-panel-month__fast-next`,onClick:this.nextYear},Et(l["next-year"],()=>[g(zs,null)]))),g("div",{class:`${o}-date-panel-weekdays`},this.weekdays.map(d=>g("div",{key:d,class:`${o}-date-panel-weekdays__day`},d))),g("div",{class:`${o}-date-panel-dates`},this.dateArray.map((d,u)=>g("div",{"data-n-date":!0,key:u,class:[`${o}-date-panel-date`,{[`${o}-date-panel-date--current`]:d.isCurrentDate,[`${o}-date-panel-date--selected`]:d.selected,[`${o}-date-panel-date--excluded`]:!d.inCurrentMonth,[`${o}-date-panel-date--disabled`]:this.mergedIsDateDisabled(d.ts,{type:"date",year:d.dateObject.year,month:d.dateObject.month,date:d.dateObject.date})}],onClick:()=>{this.handleDateClick(d)}},g("div",{class:`${o}-date-panel-date__trigger`}),d.dateObject.date,d.isCurrentDate?g("div",{class:`${o}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?g("div",{class:`${o}-date-panel-footer`},this.datePickerSlots.footer()):null,!((t=this.actions)===null||t===void 0)&&t.length||s?g("div",{class:`${o}-date-panel-actions`},g("div",{class:`${o}-date-panel-actions__prefix`},s&&Object.keys(s).map(d=>{const u=s[d];return Array.isArray(u)?null:g(Ko,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(u)},onClick:()=>{this.handleSingleShortcutClick(u)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>d})})),g("div",{class:`${o}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?Vn(this.datePickerSlots.clear,{onClear:this.clearSelectedDateTime,text:this.locale.clear},()=>[g(At,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.clearSelectedDateTime},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("now")?Vn(l.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[g(At,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null,!((r=this.actions)===null||r===void 0)&&r.includes("confirm")?Vn(l.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isDateInvalid,text:this.locale.confirm},()=>[g(At,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,g(Ii,{onFocus:this.handleFocusDetectorFocus}))}}),KW=ce({name:"DateTimeRangePanel",props:H0,setup(t){return V0(t,"datetimerange")},render(){var t,e,n;const{mergedClsPrefix:r,mergedTheme:o,shortcuts:i,timePickerProps:s,onRender:a,datePickerSlots:l}=this;return a==null||a(),g("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--datetimerange`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},g("div",{class:`${r}-date-panel-header`},g(tr,{value:this.startDateDisplayString,theme:o.peers.Input,themeOverrides:o.peerOverrides.Input,size:this.timePickerSize,stateful:!1,readonly:this.inputReadonly,class:`${r}-date-panel-date-input`,textDecoration:this.isStartValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleStartDateInputBlur,onUpdateValue:this.handleStartDateInput}),g(zf,Object.assign({placeholder:this.locale.selectTime,format:this.timePickerFormat,size:this.timePickerSize},Array.isArray(s)?s[0]:s,{value:this.startTimeValue,to:!1,showIcon:!1,disabled:this.isSelecting,theme:o.peers.TimePicker,themeOverrides:o.peerOverrides.TimePicker,stateful:!1,isHourDisabled:this.isStartHourDisabled,isMinuteDisabled:this.isStartMinuteDisabled,isSecondDisabled:this.isStartSecondDisabled,onUpdateValue:this.handleStartTimePickerChange})),g(tr,{value:this.endDateInput,theme:o.peers.Input,themeOverrides:o.peerOverrides.Input,stateful:!1,size:this.timePickerSize,readonly:this.inputReadonly,class:`${r}-date-panel-date-input`,textDecoration:this.isEndValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleEndDateInputBlur,onUpdateValue:this.handleEndDateInput}),g(zf,Object.assign({placeholder:this.locale.selectTime,format:this.timePickerFormat,size:this.timePickerSize},Array.isArray(s)?s[1]:s,{disabled:this.isSelecting,showIcon:!1,theme:o.peers.TimePicker,themeOverrides:o.peerOverrides.TimePicker,to:!1,stateful:!1,value:this.endTimeValue,isHourDisabled:this.isEndHourDisabled,isMinuteDisabled:this.isEndMinuteDisabled,isSecondDisabled:this.isEndSecondDisabled,onUpdateValue:this.handleEndTimePickerChange}))),g("div",{ref:"startDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--start`},g("div",{class:`${r}-date-panel-month`},g("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},Et(l["prev-year"],()=>[g(Bs,null)])),g("div",{class:`${r}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},Et(l["prev-month"],()=>[g(Ms,null)])),g(Bl,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:r,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),g("div",{class:`${r}-date-panel-month__next`,onClick:this.startCalendarNextMonth},Et(l["next-month"],()=>[g(Ns,null)])),g("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},Et(l["next-year"],()=>[g(zs,null)]))),g("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(c=>g("div",{key:c,class:`${r}-date-panel-weekdays__day`},c))),g("div",{class:`${r}-date-panel__divider`}),g("div",{class:`${r}-date-panel-dates`},this.startDateArray.map((c,d)=>{const u=this.mergedIsDateDisabled(c.ts);return g("div",{"data-n-date":!0,key:d,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!c.inCurrentMonth,[`${r}-date-panel-date--current`]:c.isCurrentDate,[`${r}-date-panel-date--selected`]:c.selected,[`${r}-date-panel-date--covered`]:c.inSpan,[`${r}-date-panel-date--start`]:c.startOfSpan,[`${r}-date-panel-date--end`]:c.endOfSpan,[`${r}-date-panel-date--disabled`]:u}],onClick:u?void 0:()=>{this.handleDateClick(c)},onMouseenter:u?void 0:()=>{this.handleDateMouseEnter(c)}},g("div",{class:`${r}-date-panel-date__trigger`}),c.dateObject.date,c.isCurrentDate?g("div",{class:`${r}-date-panel-date__sup`}):null)}))),g("div",{class:`${r}-date-panel__vertical-divider`}),g("div",{ref:"endDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--end`},g("div",{class:`${r}-date-panel-month`},g("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},Et(l["prev-year"],()=>[g(Bs,null)])),g("div",{class:`${r}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},Et(l["prev-month"],()=>[g(Ms,null)])),g(Bl,{monthBeforeYear:this.calendarMonthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:r,monthYearSeparator:this.calendarHeaderMonthYearSeparator,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),g("div",{class:`${r}-date-panel-month__next`,onClick:this.endCalendarNextMonth},Et(l["next-month"],()=>[g(Ns,null)])),g("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},Et(l["next-year"],()=>[g(zs,null)]))),g("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(c=>g("div",{key:c,class:`${r}-date-panel-weekdays__day`},c))),g("div",{class:`${r}-date-panel__divider`}),g("div",{class:`${r}-date-panel-dates`},this.endDateArray.map((c,d)=>{const u=this.mergedIsDateDisabled(c.ts);return g("div",{"data-n-date":!0,key:d,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!c.inCurrentMonth,[`${r}-date-panel-date--current`]:c.isCurrentDate,[`${r}-date-panel-date--selected`]:c.selected,[`${r}-date-panel-date--covered`]:c.inSpan,[`${r}-date-panel-date--start`]:c.startOfSpan,[`${r}-date-panel-date--end`]:c.endOfSpan,[`${r}-date-panel-date--disabled`]:u}],onClick:u?void 0:()=>{this.handleDateClick(c)},onMouseenter:u?void 0:()=>{this.handleDateMouseEnter(c)}},g("div",{class:`${r}-date-panel-date__trigger`}),c.dateObject.date,c.isCurrentDate?g("div",{class:`${r}-date-panel-date__sup`}):null)}))),this.datePickerSlots.footer?g("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,!((t=this.actions)===null||t===void 0)&&t.length||i?g("div",{class:`${r}-date-panel-actions`},g("div",{class:`${r}-date-panel-actions__prefix`},i&&Object.keys(i).map(c=>{const d=i[c];return Array.isArray(d)||typeof d=="function"?g(Ko,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(d)},onClick:()=>{this.handleRangeShortcutClick(d)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>c}):null})),g("div",{class:`${r}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?Vn(l.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[g(At,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("confirm")?Vn(l.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isRangeInvalid||this.isSelecting,text:this.locale.confirm},()=>[g(At,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,g(Ii,{onFocus:this.handleFocusDetectorFocus}))}}),GW=ce({name:"MonthRangePanel",props:Object.assign(Object.assign({},H0),{type:{type:String,required:!0}}),setup(t){const e=V0(t,t.type),{dateLocaleRef:n}=Mn("DatePicker"),r=(o,i,s,a)=>{const{handleColItemClick:l}=e;return g("div",{"data-n-date":!0,key:i,class:[`${s}-date-panel-month-calendar__picker-col-item`,o.isCurrent&&`${s}-date-panel-month-calendar__picker-col-item--current`,o.selected&&`${s}-date-panel-month-calendar__picker-col-item--selected`,!1],onClick:()=>{l(o,a)}},o.type==="month"?Hk(o.dateObject.month,o.monthFormat,n.value.locale):o.type==="quarter"?jk(o.dateObject.quarter,o.quarterFormat,n.value.locale):Vk(o.dateObject.year,o.yearFormat,n.value.locale))};return Gt(()=>{e.justifyColumnsScrollState()}),Object.assign(Object.assign({},e),{renderItem:r})},render(){var t,e,n;const{mergedClsPrefix:r,mergedTheme:o,shortcuts:i,type:s,renderItem:a,onRender:l}=this;return l==null||l(),g("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--daterange`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},g("div",{ref:"startDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--start`},g("div",{class:`${r}-date-panel-month-calendar`},g(Sn,{ref:"startYearScrollbarRef",class:`${r}-date-panel-month-calendar__picker-col`,theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("start"),content:()=>this.virtualListContent("start"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>g(qo,{ref:"startYearVlRef",items:this.startYearArray,itemSize:_a,showScrollbar:!1,keyField:"ts",onScroll:this.handleStartYearVlScroll,paddingBottom:4},{default:({item:c,index:d})=>a(c,d,r,"start")})}),s==="monthrange"||s==="quarterrange"?g("div",{class:`${r}-date-panel-month-calendar__picker-col`},g(Sn,{ref:"startMonthScrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar},{default:()=>[(s==="monthrange"?this.startMonthArray:this.startQuarterArray).map((c,d)=>a(c,d,r,"start")),s==="monthrange"&&g("div",{class:`${r}-date-panel-month-calendar__padding`})]})):null)),g("div",{class:`${r}-date-panel__vertical-divider`}),g("div",{ref:"endDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--end`},g("div",{class:`${r}-date-panel-month-calendar`},g(Sn,{ref:"endYearScrollbarRef",class:`${r}-date-panel-month-calendar__picker-col`,theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("end"),content:()=>this.virtualListContent("end"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>g(qo,{ref:"endYearVlRef",items:this.endYearArray,itemSize:_a,showScrollbar:!1,keyField:"ts",onScroll:this.handleEndYearVlScroll,paddingBottom:4},{default:({item:c,index:d})=>a(c,d,r,"end")})}),s==="monthrange"||s==="quarterrange"?g("div",{class:`${r}-date-panel-month-calendar__picker-col`},g(Sn,{ref:"endMonthScrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar},{default:()=>[(s==="monthrange"?this.endMonthArray:this.endQuarterArray).map((c,d)=>a(c,d,r,"end")),s==="monthrange"&&g("div",{class:`${r}-date-panel-month-calendar__padding`})]})):null)),Lt(this.datePickerSlots.footer,c=>c?g("div",{class:`${r}-date-panel-footer`},c):null),!((t=this.actions)===null||t===void 0)&&t.length||i?g("div",{class:`${r}-date-panel-actions`},g("div",{class:`${r}-date-panel-actions__prefix`},i&&Object.keys(i).map(c=>{const d=i[c];return Array.isArray(d)||typeof d=="function"?g(Ko,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(d)},onClick:()=>{this.handleRangeShortcutClick(d)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>c}):null})),g("div",{class:`${r}-date-panel-actions__suffix`},!((e=this.actions)===null||e===void 0)&&e.includes("clear")?Vn(this.datePickerSlots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[g(Ko,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,!((n=this.actions)===null||n===void 0)&&n.includes("confirm")?Vn(this.datePickerSlots.confirm,{disabled:this.isRangeInvalid,onConfirm:this.handleConfirmClick,text:this.locale.confirm},()=>[g(Ko,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,g(Ii,{onFocus:this.handleFocusDetectorFocus}))}}),PA=Object.assign(Object.assign({},ke.props),{to:an.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,updateValueOnClose:Boolean,calendarDayFormat:String,calendarHeaderYearFormat:String,calendarHeaderMonthFormat:String,calendarHeaderMonthYearSeparator:{type:String,default:" "},calendarHeaderMonthBeforeYear:{type:Boolean,default:void 0},defaultValue:[Number,Array],defaultFormattedValue:[String,Array],defaultTime:[Number,String,Array],disabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom-start"},value:[Number,Array],formattedValue:[String,Array],size:String,type:{type:String,default:"date"},valueFormat:String,separator:String,placeholder:String,startPlaceholder:String,endPlaceholder:String,format:String,dateFormat:String,timePickerFormat:String,actions:Array,shortcuts:Object,isDateDisabled:Function,isTimeDisabled:Function,show:{type:Boolean,default:void 0},panel:Boolean,ranges:Object,firstDayOfWeek:Number,inputReadonly:Boolean,closeOnSelect:Boolean,status:String,timePickerProps:[Object,Array],onClear:Function,onConfirm:Function,defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,monthFormat:{type:String,default:"M"},yearFormat:{type:String,default:"y"},quarterFormat:{type:String,default:"'Q'Q"},yearRange:{type:Array,default:()=>[1901,2100]},"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:formattedValue":[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onNextMonth:Function,onPrevMonth:Function,onNextYear:Function,onPrevYear:Function,onChange:[Function,Array]}),qW=O([k("date-picker",`
 position: relative;
 z-index: auto;
 `,[k("date-picker-icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),k("icon",`
 color: var(--n-icon-color-override);
 transition: color .3s var(--n-bezier);
 `),M("disabled",[k("date-picker-icon",`
 color: var(--n-icon-color-disabled-override);
 `),k("icon",`
 color: var(--n-icon-color-disabled-override);
 `)])]),k("date-panel",`
 width: fit-content;
 outline: none;
 margin: 4px 0;
 display: grid;
 grid-template-columns: 0fr;
 border-radius: var(--n-panel-border-radius);
 background-color: var(--n-panel-color);
 color: var(--n-panel-text-color);
 user-select: none;
 `,[ar(),M("shadow",`
 box-shadow: var(--n-panel-box-shadow);
 `),k("date-panel-calendar",{padding:"var(--n-calendar-left-padding)",display:"grid",gridTemplateColumns:"1fr",gridArea:"left-calendar"},[M("end",{padding:"var(--n-calendar-right-padding)",gridArea:"right-calendar"})]),k("date-panel-month-calendar",{display:"flex",gridArea:"left-calendar"},[F("picker-col",`
 min-width: var(--n-scroll-item-width);
 height: calc(var(--n-scroll-item-height) * 6);
 user-select: none;
 -webkit-user-select: none;
 `,[O("&:first-child",`
 min-width: calc(var(--n-scroll-item-width) + 4px);
 `,[F("picker-col-item",[O("&::before","left: 4px;")])]),F("padding",`
 height: calc(var(--n-scroll-item-height) * 5)
 `)]),F("picker-col-item",`
 z-index: 0;
 cursor: pointer;
 height: var(--n-scroll-item-height);
 box-sizing: border-box;
 padding-top: 4px;
 display: flex;
 align-items: center;
 justify-content: center;
 position: relative;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background: #0000;
 color: var(--n-item-text-color);
 `,[O("&::before",`
 z-index: -1;
 content: "";
 position: absolute;
 left: 0;
 right: 4px;
 top: 4px;
 bottom: 0;
 border-radius: var(--n-scroll-item-border-radius);
 transition: 
 background-color .3s var(--n-bezier);
 `),wt("disabled",[O("&:hover::before",`
 background-color: var(--n-item-color-hover);
 `),M("selected",`
 color: var(--n-item-color-active);
 `,[O("&::before","background-color: var(--n-item-color-hover);")])]),M("disabled",`
 color: var(--n-item-text-color-disabled);
 cursor: not-allowed;
 `,[M("selected",[O("&::before",`
 background-color: var(--n-item-color-disabled);
 `)])])])]),M("date",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),M("week",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),M("daterange",{gridTemplateAreas:`
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),M("datetime",{gridTemplateAreas:`
 "header"
 "left-calendar"
 "footer"
 "action"
 `}),M("datetimerange",{gridTemplateAreas:`
 "header header header"
 "left-calendar divider right-calendar"
 "footer footer footer"
 "action action action"
 `}),M("month",{gridTemplateAreas:`
 "left-calendar"
 "footer"
 "action"
 `}),k("date-panel-footer",{gridArea:"footer"}),k("date-panel-actions",{gridArea:"action"}),k("date-panel-header",{gridArea:"header"}),k("date-panel-header",`
 box-sizing: border-box;
 width: 100%;
 align-items: center;
 padding: var(--n-panel-header-padding);
 display: flex;
 justify-content: space-between;
 border-bottom: 1px solid var(--n-panel-header-divider-color);
 `,[O(">",[O("*:not(:last-child)",{marginRight:"10px"}),O("*",{flex:1,width:0}),k("time-picker",{zIndex:1})])]),k("date-panel-month",`
 box-sizing: border-box;
 display: grid;
 grid-template-columns: var(--n-calendar-title-grid-template-columns);
 align-items: center;
 justify-items: center;
 padding: var(--n-calendar-title-padding);
 height: var(--n-calendar-title-height);
 `,[F("prev, next, fast-prev, fast-next",`
 line-height: 0;
 cursor: pointer;
 width: var(--n-arrow-size);
 height: var(--n-arrow-size);
 color: var(--n-arrow-color);
 `),F("month-year",`
 user-select: none;
 -webkit-user-select: none;
 flex-grow: 1;
 position: relative;
 `,[F("text",`
 font-size: var(--n-calendar-title-font-size);
 line-height: var(--n-calendar-title-font-size);
 font-weight: var(--n-calendar-title-font-weight);
 padding: 6px 8px;
 text-align: center;
 color: var(--n-calendar-title-text-color);
 cursor: pointer;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-panel-border-radius);
 `,[M("active",`
 background-color: var(--n-calendar-title-color-hover);
 `),O("&:hover",`
 background-color: var(--n-calendar-title-color-hover);
 `)])])]),k("date-panel-weekdays",`
 display: grid;
 margin: auto;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(1, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 margin-bottom: 4px;
 border-bottom: 1px solid var(--n-calendar-days-divider-color);
 `,[F("day",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 line-height: 15px;
 width: var(--n-item-size);
 text-align: center;
 font-size: var(--n-calendar-days-font-size);
 color: var(--n-item-text-color);
 display: flex;
 align-items: center;
 justify-content: center;
 `)]),k("date-panel-dates",`
 margin: auto;
 display: grid;
 grid-template-columns: repeat(7, var(--n-item-cell-width));
 grid-template-rows: repeat(6, var(--n-item-cell-height));
 align-items: center;
 justify-items: center;
 flex-wrap: wrap;
 `,[k("date-panel-date",`
 user-select: none;
 -webkit-user-select: none;
 position: relative;
 width: var(--n-item-size);
 height: var(--n-item-size);
 line-height: var(--n-item-size);
 text-align: center;
 font-size: var(--n-item-font-size);
 border-radius: var(--n-item-border-radius);
 z-index: 0;
 cursor: pointer;
 transition:
 background-color .2s var(--n-bezier),
 color .2s var(--n-bezier);
 `,[F("trigger",`
 position: absolute;
 left: calc(var(--n-item-size) / 2 - var(--n-item-cell-width) / 2);
 top: calc(var(--n-item-size) / 2 - var(--n-item-cell-height) / 2);
 width: var(--n-item-cell-width);
 height: var(--n-item-cell-height);
 `),M("current",[F("sup",`
 position: absolute;
 top: 2px;
 right: 2px;
 content: "";
 height: 4px;
 width: 4px;
 border-radius: 2px;
 background-color: var(--n-item-color-active);
 transition:
 background-color .2s var(--n-bezier);
 `)]),O("&::after",`
 content: "";
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 transition: background-color .3s var(--n-bezier);
 `),M("covered, start, end",[wt("excluded",[O("&::before",`
 content: "";
 z-index: -2;
 position: absolute;
 left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 top: 0;
 bottom: 0;
 background-color: var(--n-item-color-included);
 `),O("&:nth-child(7n + 1)::before",{borderTopLeftRadius:"var(--n-item-border-radius)",borderBottomLeftRadius:"var(--n-item-border-radius)"}),O("&:nth-child(7n + 7)::before",{borderTopRightRadius:"var(--n-item-border-radius)",borderBottomRightRadius:"var(--n-item-border-radius)"})])]),M("selected",{color:"var(--n-item-text-color-active)"},[O("&::after",{backgroundColor:"var(--n-item-color-active)"}),M("start",[O("&::before",{left:"50%"})]),M("end",[O("&::before",{right:"50%"})]),F("sup",{backgroundColor:"var(--n-panel-color)"})]),M("excluded",{color:"var(--n-item-text-color-disabled)"},[M("selected",[O("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),M("disabled",{cursor:"not-allowed",color:"var(--n-item-text-color-disabled)"},[M("covered",[O("&::before",{backgroundColor:"var(--n-item-color-disabled)"})]),M("selected",[O("&::before",{backgroundColor:"var(--n-item-color-disabled)"}),O("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),M("week-hovered",[O("&::before",`
 background-color: var(--n-item-color-included);
 `),O("&:nth-child(7n + 1)::before",`
 border-top-left-radius: var(--n-item-border-radius);
 border-bottom-left-radius: var(--n-item-border-radius);
 `),O("&:nth-child(7n + 7)::before",`
 border-top-right-radius: var(--n-item-border-radius);
 border-bottom-right-radius: var(--n-item-border-radius);
 `)]),M("week-selected",`
 color: var(--n-item-text-color-active)
 `,[O("&::before",`
 background-color: var(--n-item-color-active);
 `),O("&:nth-child(7n + 1)::before",`
 border-top-left-radius: var(--n-item-border-radius);
 border-bottom-left-radius: var(--n-item-border-radius);
 `),O("&:nth-child(7n + 7)::before",`
 border-top-right-radius: var(--n-item-border-radius);
 border-bottom-right-radius: var(--n-item-border-radius);
 `)])])]),wt("week",[k("date-panel-dates",[k("date-panel-date",[wt("disabled",[wt("selected",[O("&:hover",`
 background-color: var(--n-item-color-hover);
 `)])])])])]),M("week",[k("date-panel-dates",[k("date-panel-date",[O("&::before",`
 content: "";
 z-index: -2;
 position: absolute;
 left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);
 top: 0;
 bottom: 0;
 transition: background-color .3s var(--n-bezier);
 `)])])]),F("vertical-divider",`
 grid-area: divider;
 height: 100%;
 width: 1px;
 background-color: var(--n-calendar-divider-color);
 `),k("date-panel-footer",`
 border-top: 1px solid var(--n-panel-action-divider-color);
 padding: var(--n-panel-extra-footer-padding);
 `),k("date-panel-actions",`
 flex: 1;
 padding: var(--n-panel-action-padding);
 display: flex;
 align-items: center;
 justify-content: space-between;
 border-top: 1px solid var(--n-panel-action-divider-color);
 `,[F("prefix, suffix",`
 display: flex;
 margin-bottom: -8px;
 `),F("suffix",`
 align-self: flex-end;
 `),F("prefix",`
 flex-wrap: wrap;
 `),k("button",`
 margin-bottom: 8px;
 `,[O("&:not(:last-child)",`
 margin-right: 8px;
 `)])])]),O("[data-n-date].transition-disabled",{transition:"none !important"},[O("&::before, &::after",{transition:"none !important"})])]);function YW(t,e){const n=A(()=>{const{isTimeDisabled:d}=t,{value:u}=e;if(!(u===null||Array.isArray(u)))return d==null?void 0:d(u)}),r=A(()=>{var d;return(d=n.value)===null||d===void 0?void 0:d.isHourDisabled}),o=A(()=>{var d;return(d=n.value)===null||d===void 0?void 0:d.isMinuteDisabled}),i=A(()=>{var d;return(d=n.value)===null||d===void 0?void 0:d.isSecondDisabled}),s=A(()=>{const{type:d,isDateDisabled:u}=t,{value:f}=e;return f===null||Array.isArray(f)||!["date","datetime"].includes(d)||!u?!1:u(f,{type:"input"})}),a=A(()=>{const{type:d}=t,{value:u}=e;if(u===null||d==="datetime"||Array.isArray(u))return!1;const f=new Date(u),m=f.getHours(),h=f.getMinutes(),p=f.getMinutes();return(r.value?r.value(m):!1)||(o.value?o.value(h,m):!1)||(i.value?i.value(p,h,m):!1)}),l=A(()=>s.value||a.value);return{isValueInvalidRef:A(()=>{const{type:d}=t;return d==="date"?s.value:d==="datetime"?l.value:!1}),isDateInvalidRef:s,isTimeInvalidRef:a,isDateTimeInvalidRef:l,isHourDisabledRef:r,isMinuteDisabledRef:o,isSecondDisabledRef:i}}function XW(t,e){const n=A(()=>{const{isTimeDisabled:u}=t,{value:f}=e;return!Array.isArray(f)||!u?[void 0,void 0]:[u==null?void 0:u(f[0],"start",f),u==null?void 0:u(f[1],"end",f)]}),r={isStartHourDisabledRef:A(()=>{var u;return(u=n.value[0])===null||u===void 0?void 0:u.isHourDisabled}),isEndHourDisabledRef:A(()=>{var u;return(u=n.value[1])===null||u===void 0?void 0:u.isHourDisabled}),isStartMinuteDisabledRef:A(()=>{var u;return(u=n.value[0])===null||u===void 0?void 0:u.isMinuteDisabled}),isEndMinuteDisabledRef:A(()=>{var u;return(u=n.value[1])===null||u===void 0?void 0:u.isMinuteDisabled}),isStartSecondDisabledRef:A(()=>{var u;return(u=n.value[0])===null||u===void 0?void 0:u.isSecondDisabled}),isEndSecondDisabledRef:A(()=>{var u;return(u=n.value[1])===null||u===void 0?void 0:u.isSecondDisabled})},o=A(()=>{const{type:u,isDateDisabled:f}=t,{value:m}=e;return m===null||!Array.isArray(m)||!["daterange","datetimerange"].includes(u)||!f?!1:f(m[0],"start",m)}),i=A(()=>{const{type:u,isDateDisabled:f}=t,{value:m}=e;return m===null||!Array.isArray(m)||!["daterange","datetimerange"].includes(u)||!f?!1:f(m[1],"end",m)}),s=A(()=>{const{type:u}=t,{value:f}=e;if(f===null||!Array.isArray(f)||u!=="datetimerange")return!1;const m=ws(f[0]),h=Of(f[0]),p=$f(f[0]),{isStartHourDisabledRef:v,isStartMinuteDisabledRef:b,isStartSecondDisabledRef:y}=r;return(v.value?v.value(m):!1)||(b.value?b.value(h,m):!1)||(y.value?y.value(p,h,m):!1)}),a=A(()=>{const{type:u}=t,{value:f}=e;if(f===null||!Array.isArray(f)||u!=="datetimerange")return!1;const m=ws(f[1]),h=Of(f[1]),p=$f(f[1]),{isEndHourDisabledRef:v,isEndMinuteDisabledRef:b,isEndSecondDisabledRef:y}=r;return(v.value?v.value(m):!1)||(b.value?b.value(h,m):!1)||(y.value?y.value(p,h,m):!1)}),l=A(()=>o.value||s.value),c=A(()=>i.value||a.value),d=A(()=>l.value||c.value);return Object.assign(Object.assign({},r),{isStartDateInvalidRef:o,isEndDateInvalidRef:i,isStartTimeInvalidRef:s,isEndTimeInvalidRef:a,isStartValueInvalidRef:l,isEndValueInvalidRef:c,isRangeInvalidRef:d})}const QW=ce({name:"DatePicker",props:PA,slots:Object,setup(t,{slots:e}){var n;const{localeRef:r,dateLocaleRef:o}=Mn("DatePicker"),i=jn(t),{mergedSizeRef:s,mergedDisabledRef:a,mergedStatusRef:l}=i,{mergedComponentPropsRef:c,mergedClsPrefixRef:d,mergedBorderedRef:u,namespaceRef:f,inlineThemeDisabled:m}=Ge(t),h=z(null),p=z(null),v=z(null),b=z(!1),y=Se(t,"show"),x=Ft(y,b),C=A(()=>({locale:o.value.locale,useAdditionalWeekYearTokens:!0})),S=A(()=>{const{format:pe}=t;if(pe)return pe;switch(t.type){case"date":case"daterange":return r.value.dateFormat;case"datetime":case"datetimerange":return r.value.dateTimeFormat;case"year":case"yearrange":return r.value.yearTypeFormat;case"month":case"monthrange":return r.value.monthTypeFormat;case"quarter":case"quarterrange":return r.value.quarterFormat;case"week":return r.value.weekFormat}}),T=A(()=>{var pe;return(pe=t.valueFormat)!==null&&pe!==void 0?pe:S.value});function w(pe){if(pe===null)return null;const{value:$e}=T,{value:me}=C;return Array.isArray(pe)?[Gr(pe[0],$e,new Date,me).getTime(),Gr(pe[1],$e,new Date,me).getTime()]:Gr(pe,$e,new Date,me).getTime()}const{defaultFormattedValue:E,defaultValue:R}=t,P=z((n=E!==void 0?w(E):R)!==null&&n!==void 0?n:null),_=A(()=>{const{formattedValue:pe}=t;return pe!==void 0?w(pe):t.value}),I=Ft(_,P),L=z(null);Xt(()=>{L.value=I.value});const N=z(""),H=z(""),G=z(""),W=ke("DatePicker","-date-picker",qW,aW,t,d),J=A(()=>{var pe,$e;return(($e=(pe=c==null?void 0:c.value)===null||pe===void 0?void 0:pe.DatePicker)===null||$e===void 0?void 0:$e.timePickerSize)||"small"}),ne=A(()=>["daterange","datetimerange","monthrange","quarterrange","yearrange"].includes(t.type)),D=A(()=>{const{placeholder:pe}=t;if(pe===void 0){const{type:$e}=t;switch($e){case"date":return r.value.datePlaceholder;case"datetime":return r.value.datetimePlaceholder;case"month":return r.value.monthPlaceholder;case"year":return r.value.yearPlaceholder;case"quarter":return r.value.quarterPlaceholder;case"week":return r.value.weekPlaceholder;default:return""}}else return pe}),B=A(()=>t.startPlaceholder===void 0?t.type==="daterange"?r.value.startDatePlaceholder:t.type==="datetimerange"?r.value.startDatetimePlaceholder:t.type==="monthrange"?r.value.startMonthPlaceholder:"":t.startPlaceholder),j=A(()=>t.endPlaceholder===void 0?t.type==="daterange"?r.value.endDatePlaceholder:t.type==="datetimerange"?r.value.endDatetimePlaceholder:t.type==="monthrange"?r.value.endMonthPlaceholder:"":t.endPlaceholder),$=A(()=>{const{actions:pe,type:$e,clearable:me}=t;if(pe===null)return[];if(pe!==void 0)return pe;const Oe=me?["clear"]:[];switch($e){case"date":case"week":return Oe.push("now"),Oe;case"datetime":return Oe.push("now","confirm"),Oe;case"daterange":return Oe.push("confirm"),Oe;case"datetimerange":return Oe.push("confirm"),Oe;case"month":return Oe.push("now","confirm"),Oe;case"year":return Oe.push("now"),Oe;case"quarter":return Oe.push("now","confirm"),Oe;case"monthrange":case"yearrange":case"quarterrange":return Oe.push("confirm"),Oe;default:{Rr("date-picker","The type is wrong, n-date-picker's type only supports `date`, `datetime`, `daterange` and `datetimerange`.");break}}});function V(pe){if(pe===null)return null;if(Array.isArray(pe)){const{value:$e}=T,{value:me}=C;return[cn(pe[0],$e,me),cn(pe[1],$e,C.value)]}else return cn(pe,T.value,C.value)}function X(pe){L.value=pe}function Z(pe,$e){const{"onUpdate:formattedValue":me,onUpdateFormattedValue:Oe}=t;me&&we(me,pe,$e),Oe&&we(Oe,pe,$e)}function q(pe,$e){const{"onUpdate:value":me,onUpdateValue:Oe,onChange:Ze}=t,{nTriggerFormChange:tt,nTriggerFormInput:Re}=i,He=V(pe);$e.doConfirm&&K(pe,He),Oe&&we(Oe,pe,He),me&&we(me,pe,He),Ze&&we(Ze,pe,He),P.value=pe,Z(He,pe),tt(),Re()}function ue(){const{onClear:pe}=t;pe==null||pe()}function K(pe,$e){const{onConfirm:me}=t;me&&me(pe,$e)}function he(pe){const{onFocus:$e}=t,{nTriggerFormFocus:me}=i;$e&&we($e,pe),me()}function Ie(pe){const{onBlur:$e}=t,{nTriggerFormBlur:me}=i;$e&&we($e,pe),me()}function Q(pe){const{"onUpdate:show":$e,onUpdateShow:me}=t;$e&&we($e,pe),me&&we(me,pe),b.value=pe}function Y(pe){pe.key==="Escape"&&x.value&&(ka(pe),Tt({returnFocus:!0}))}function re(pe){pe.key==="Escape"&&x.value&&ka(pe)}function be(){var pe;Q(!1),(pe=v.value)===null||pe===void 0||pe.deactivate(),ue()}function Ce(){var pe;(pe=v.value)===null||pe===void 0||pe.deactivate(),ue()}function le(){Tt({returnFocus:!0})}function de(pe){var $e;x.value&&!(!(($e=p.value)===null||$e===void 0)&&$e.contains(Jr(pe)))&&Tt({returnFocus:!1})}function fe(pe){Tt({returnFocus:!0,disableUpdateOnClose:pe})}function te(pe,$e){$e?q(pe,{doConfirm:!1}):X(pe)}function ae(){const pe=L.value;q(Array.isArray(pe)?[pe[0],pe[1]]:pe,{doConfirm:!0})}function Ee(){const{value:pe}=L;ne.value?(Array.isArray(pe)||pe===null)&&ie(pe):Array.isArray(pe)||se(pe)}function se(pe){pe===null?N.value="":N.value=cn(pe,S.value,C.value)}function ie(pe){if(pe===null)H.value="",G.value="";else{const $e=C.value;H.value=cn(pe[0],S.value,$e),G.value=cn(pe[1],S.value,$e)}}function ge(){x.value||Ct()}function Le(pe){var $e;!(($e=h.value)===null||$e===void 0)&&$e.$el.contains(pe.relatedTarget)||(Ie(pe),Ee(),Tt({returnFocus:!1}))}function xe(){a.value||(Ee(),Tt({returnFocus:!1}))}function We(pe){if(pe===""){q(null,{doConfirm:!1}),L.value=null,N.value="";return}const $e=Gr(pe,S.value,new Date,C.value);Io($e)?(q(ht($e),{doConfirm:!1}),Ee()):N.value=pe}function at(pe,{source:$e}){if(pe[0]===""&&pe[1]===""){q(null,{doConfirm:!1}),L.value=null,H.value="",G.value="";return}const[me,Oe]=pe,Ze=Gr(me,S.value,new Date,C.value),tt=Gr(Oe,S.value,new Date,C.value);if(Io(Ze)&&Io(tt)){let Re=ht(Ze),He=ht(tt);tt<Ze&&($e===0?He=Re:Re=He),q([Re,He],{doConfirm:!1}),Ee()}else[H.value,G.value]=pe}function bt(pe){a.value||An(pe,"clear")||x.value||Ct()}function dt(pe){a.value||he(pe)}function Ct(){a.value||x.value||Q(!0)}function Tt({returnFocus:pe,disableUpdateOnClose:$e}){var me;x.value&&(Q(!1),t.type!=="date"&&t.updateValueOnClose&&!$e&&ae(),pe&&((me=v.value)===null||me===void 0||me.focus()))}gt(L,()=>{Ee()}),Ee(),gt(x,pe=>{pe||(L.value=I.value)});const Qe=YW(t,L),rt=XW(t,L);ft(Fh,Object.assign(Object.assign(Object.assign({mergedClsPrefixRef:d,mergedThemeRef:W,timePickerSizeRef:J,localeRef:r,dateLocaleRef:o,firstDayOfWeekRef:Se(t,"firstDayOfWeek"),isDateDisabledRef:Se(t,"isDateDisabled"),rangesRef:Se(t,"ranges"),timePickerPropsRef:Se(t,"timePickerProps"),closeOnSelectRef:Se(t,"closeOnSelect"),updateValueOnCloseRef:Se(t,"updateValueOnClose"),monthFormatRef:Se(t,"monthFormat"),yearFormatRef:Se(t,"yearFormat"),quarterFormatRef:Se(t,"quarterFormat"),yearRangeRef:Se(t,"yearRange")},Qe),rt),{datePickerSlots:e}));const oe={focus:()=>{var pe;(pe=v.value)===null||pe===void 0||pe.focus()},blur:()=>{var pe;(pe=v.value)===null||pe===void 0||pe.blur()}},ee=A(()=>{const{common:{cubicBezierEaseInOut:pe},self:{iconColor:$e,iconColorDisabled:me}}=W.value;return{"--n-bezier":pe,"--n-icon-color-override":$e,"--n-icon-color-disabled-override":me}}),Pe=m?ot("date-picker-trigger",void 0,ee,t):void 0,Ne=A(()=>{const{type:pe}=t,{common:{cubicBezierEaseInOut:$e},self:{calendarTitleFontSize:me,calendarDaysFontSize:Oe,itemFontSize:Ze,itemTextColor:tt,itemColorDisabled:Re,itemColorIncluded:He,itemColorHover:ve,itemColorActive:Be,itemBorderRadius:Ke,itemTextColorDisabled:ct,itemTextColorActive:mt,panelColor:ye,panelTextColor:Me,arrowColor:Je,calendarTitleTextColor:Te,panelActionDividerColor:ze,panelHeaderDividerColor:Xe,calendarDaysDividerColor:it,panelBoxShadow:ut,panelBorderRadius:Nt,calendarTitleFontWeight:Rn,panelExtraFooterPadding:En,panelActionPadding:yr,itemSize:Ir,itemCellWidth:Wn,itemCellHeight:tn,scrollItemWidth:_e,scrollItemHeight:et,calendarTitlePadding:nt,calendarTitleHeight:jt,calendarDaysHeight:Qn,calendarDaysTextColor:un,arrowSize:So,panelHeaderPadding:No,calendarDividerColor:lo,calendarTitleGridTempateColumns:nc,iconColor:rc,iconColorDisabled:oc,scrollItemBorderRadius:ic,calendarTitleColorHover:sc,[Ae("calendarLeftPadding",pe)]:ac,[Ae("calendarRightPadding",pe)]:eg}}=W.value;return{"--n-bezier":$e,"--n-panel-border-radius":Nt,"--n-panel-color":ye,"--n-panel-box-shadow":ut,"--n-panel-text-color":Me,"--n-panel-header-padding":No,"--n-panel-header-divider-color":Xe,"--n-calendar-left-padding":ac,"--n-calendar-right-padding":eg,"--n-calendar-title-color-hover":sc,"--n-calendar-title-height":jt,"--n-calendar-title-padding":nt,"--n-calendar-title-font-size":me,"--n-calendar-title-font-weight":Rn,"--n-calendar-title-text-color":Te,"--n-calendar-title-grid-template-columns":nc,"--n-calendar-days-height":Qn,"--n-calendar-days-divider-color":it,"--n-calendar-days-font-size":Oe,"--n-calendar-days-text-color":un,"--n-calendar-divider-color":lo,"--n-panel-action-padding":yr,"--n-panel-extra-footer-padding":En,"--n-panel-action-divider-color":ze,"--n-item-font-size":Ze,"--n-item-border-radius":Ke,"--n-item-size":Ir,"--n-item-cell-width":Wn,"--n-item-cell-height":tn,"--n-item-text-color":tt,"--n-item-color-included":He,"--n-item-color-disabled":Re,"--n-item-color-hover":ve,"--n-item-color-active":Be,"--n-item-text-color-disabled":ct,"--n-item-text-color-active":mt,"--n-scroll-item-width":_e,"--n-scroll-item-height":et,"--n-scroll-item-border-radius":ic,"--n-arrow-size":So,"--n-arrow-color":Je,"--n-icon-color":rc,"--n-icon-color-disabled":oc}}),Ue=m?ot("date-picker",A(()=>t.type),Ne,t):void 0;return Object.assign(Object.assign({},oe),{mergedStatus:l,mergedClsPrefix:d,mergedBordered:u,namespace:f,uncontrolledValue:P,pendingValue:L,panelInstRef:h,triggerElRef:p,inputInstRef:v,isMounted:br(),displayTime:N,displayStartTime:H,displayEndTime:G,mergedShow:x,adjustedTo:an(t),isRange:ne,localizedStartPlaceholder:B,localizedEndPlaceholder:j,mergedSize:s,mergedDisabled:a,localizedPlacehoder:D,isValueInvalid:Qe.isValueInvalidRef,isStartValueInvalid:rt.isStartValueInvalidRef,isEndValueInvalid:rt.isEndValueInvalidRef,handleInputKeydown:re,handleClickOutside:de,handleKeydown:Y,handleClear:be,handlePanelClear:Ce,handleTriggerClick:bt,handleInputActivate:ge,handleInputDeactivate:xe,handleInputFocus:dt,handleInputBlur:Le,handlePanelTabOut:le,handlePanelClose:fe,handleRangeUpdateValue:at,handleSingleUpdateValue:We,handlePanelUpdateValue:te,handlePanelConfirm:ae,mergedTheme:W,actions:$,triggerCssVars:m?void 0:ee,triggerThemeClass:Pe==null?void 0:Pe.themeClass,triggerOnRender:Pe==null?void 0:Pe.onRender,cssVars:m?void 0:Ne,themeClass:Ue==null?void 0:Ue.themeClass,onRender:Ue==null?void 0:Ue.onRender,onNextMonth:t.onNextMonth,onPrevMonth:t.onPrevMonth,onNextYear:t.onNextYear,onPrevYear:t.onPrevYear})},render(){const{clearable:t,triggerOnRender:e,mergedClsPrefix:n,$slots:r}=this,o={onUpdateValue:this.handlePanelUpdateValue,onTabOut:this.handlePanelTabOut,onClose:this.handlePanelClose,onClear:this.handlePanelClear,onKeydown:this.handleKeydown,onConfirm:this.handlePanelConfirm,ref:"panelInstRef",value:this.pendingValue,active:this.mergedShow,actions:this.actions,shortcuts:this.shortcuts,style:this.cssVars,defaultTime:this.defaultTime,themeClass:this.themeClass,panel:this.panel,inputReadonly:this.inputReadonly||this.mergedDisabled,onRender:this.onRender,onNextMonth:this.onNextMonth,onPrevMonth:this.onPrevMonth,onNextYear:this.onNextYear,onPrevYear:this.onPrevYear,timePickerFormat:this.timePickerFormat,dateFormat:this.dateFormat,calendarDayFormat:this.calendarDayFormat,calendarHeaderYearFormat:this.calendarHeaderYearFormat,calendarHeaderMonthFormat:this.calendarHeaderMonthFormat,calendarHeaderMonthYearSeparator:this.calendarHeaderMonthYearSeparator,calendarHeaderMonthBeforeYear:this.calendarHeaderMonthBeforeYear},i=()=>{const{type:a}=this;return a==="datetime"?g(WW,Object.assign({},o,{defaultCalendarStartTime:this.defaultCalendarStartTime}),r):a==="daterange"?g(uW,Object.assign({},o,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),r):a==="datetimerange"?g(KW,Object.assign({},o,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),r):a==="month"||a==="year"||a==="quarter"?g(CA,Object.assign({},o,{type:a,key:a})):a==="monthrange"||a==="yearrange"||a==="quarterrange"?g(GW,Object.assign({},o,{type:a})):g(dW,Object.assign({},o,{type:a,defaultCalendarStartTime:this.defaultCalendarStartTime}),r)};if(this.panel)return i();e==null||e();const s={bordered:this.mergedBordered,size:this.mergedSize,passivelyActivated:!0,disabled:this.mergedDisabled,readonly:this.inputReadonly||this.mergedDisabled,clearable:t,onClear:this.handleClear,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown,onActivate:this.handleInputActivate,onDeactivate:this.handleInputDeactivate,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};return g("div",{ref:"triggerElRef",class:[`${n}-date-picker`,this.mergedDisabled&&`${n}-date-picker--disabled`,this.isRange&&`${n}-date-picker--range`,this.triggerThemeClass],style:this.triggerCssVars,onKeydown:this.handleKeydown},g(Mo,null,{default:()=>[g(Bo,null,{default:()=>this.isRange?g(tr,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:[this.displayStartTime,this.displayEndTime],placeholder:[this.localizedStartPlaceholder,this.localizedEndPlaceholder],textDecoration:[this.isStartValueInvalid?"line-through":"",this.isEndValueInvalid?"line-through":""],pair:!0,onUpdateValue:this.handleRangeUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},s),{separator:()=>this.separator===void 0?Et(r.separator,()=>[g(yt,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>g(_8,null)})]):this.separator,[t?"clear-icon-placeholder":"suffix"]:()=>Et(r["date-icon"],()=>[g(yt,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>g(Fx,null)})])}):g(tr,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:this.displayTime,placeholder:this.localizedPlacehoder,textDecoration:this.isValueInvalid&&!this.isRange?"line-through":"",onUpdateValue:this.handleSingleUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},s),{[t?"clear-icon-placeholder":"suffix"]:()=>g(yt,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>Et(r["date-icon"],()=>[g(Fx,null)])})})}),g(yo,{show:this.mergedShow,containerClass:this.namespace,to:this.adjustedTo,teleportDisabled:this.adjustedTo===an.tdkey,placement:this.placement},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?$n(i(),[[eo,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}}),ZW={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"};function AA(t){const{tableHeaderColor:e,textColor2:n,textColor1:r,cardColor:o,modalColor:i,popoverColor:s,dividerColor:a,borderRadius:l,fontWeightStrong:c,lineHeight:d,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:m}=t;return Object.assign(Object.assign({},ZW),{lineHeight:d,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:m,titleTextColor:r,thColor:vt(o,e),thColorModal:vt(i,e),thColorPopover:vt(s,e),thTextColor:r,thFontWeight:c,tdTextColor:n,tdColor:o,tdColorModal:i,tdColorPopover:s,borderColor:vt(o,a),borderColorModal:vt(i,a),borderColorPopover:vt(s,a),borderRadius:l})}const JW={common:lt,self:AA},eK={name:"Descriptions",common:st,self:AA},tK=O([k("descriptions",{fontSize:"var(--n-font-size)"},[k("descriptions-separator",`
 display: inline-block;
 margin: 0 8px 0 2px;
 `),k("descriptions-table-wrapper",[k("descriptions-table",[k("descriptions-table-row",[k("descriptions-table-header",{padding:"var(--n-th-padding)"}),k("descriptions-table-content",{padding:"var(--n-td-padding)"})])])]),wt("bordered",[k("descriptions-table-wrapper",[k("descriptions-table",[k("descriptions-table-row",[O("&:last-child",[k("descriptions-table-content",{paddingBottom:0})])])])])]),M("left-label-placement",[k("descriptions-table-content",[O("> *",{verticalAlign:"top"})])]),M("left-label-align",[O("th",{textAlign:"left"})]),M("center-label-align",[O("th",{textAlign:"center"})]),M("right-label-align",[O("th",{textAlign:"right"})]),M("bordered",[k("descriptions-table-wrapper",`
 border-radius: var(--n-border-radius);
 overflow: hidden;
 background: var(--n-merged-td-color);
 border: 1px solid var(--n-merged-border-color);
 `,[k("descriptions-table",[k("descriptions-table-row",[O("&:not(:last-child)",[k("descriptions-table-content",{borderBottom:"1px solid var(--n-merged-border-color)"}),k("descriptions-table-header",{borderBottom:"1px solid var(--n-merged-border-color)"})]),k("descriptions-table-header",`
 font-weight: 400;
 background-clip: padding-box;
 background-color: var(--n-merged-th-color);
 `,[O("&:not(:last-child)",{borderRight:"1px solid var(--n-merged-border-color)"})]),k("descriptions-table-content",[O("&:not(:last-child)",{borderRight:"1px solid var(--n-merged-border-color)"})])])])])]),k("descriptions-header",`
 font-weight: var(--n-th-font-weight);
 font-size: 18px;
 transition: color .3s var(--n-bezier);
 line-height: var(--n-line-height);
 margin-bottom: 16px;
 color: var(--n-title-text-color);
 `),k("descriptions-table-wrapper",`
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[k("descriptions-table",`
 width: 100%;
 border-collapse: separate;
 border-spacing: 0;
 box-sizing: border-box;
 `,[k("descriptions-table-row",`
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[k("descriptions-table-header",`
 font-weight: var(--n-th-font-weight);
 line-height: var(--n-line-height);
 display: table-cell;
 box-sizing: border-box;
 color: var(--n-th-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),k("descriptions-table-content",`
 vertical-align: top;
 line-height: var(--n-line-height);
 display: table-cell;
 box-sizing: border-box;
 color: var(--n-td-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[F("content",`
 transition: color .3s var(--n-bezier);
 display: inline-block;
 color: var(--n-td-text-color);
 `)]),F("label",`
 font-weight: var(--n-th-font-weight);
 transition: color .3s var(--n-bezier);
 display: inline-block;
 margin-right: 14px;
 color: var(--n-th-text-color);
 `)])])])]),k("descriptions-table-wrapper",`
 --n-merged-th-color: var(--n-th-color);
 --n-merged-td-color: var(--n-td-color);
 --n-merged-border-color: var(--n-border-color);
 `),Ti(k("descriptions-table-wrapper",`
 --n-merged-th-color: var(--n-th-color-modal);
 --n-merged-td-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Ji(k("descriptions-table-wrapper",`
 --n-merged-th-color: var(--n-th-color-popover);
 --n-merged-td-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),IA="DESCRIPTION_ITEM_FLAG";function nK(t){return typeof t=="object"&&t&&!Array.isArray(t)?t.type&&t.type[IA]:!1}const _A=Object.assign(Object.assign({},ke.props),{title:String,column:{type:Number,default:3},columns:Number,labelPlacement:{type:String,default:"top"},labelAlign:{type:String,default:"left"},separator:{type:String,default:":"},size:{type:String,default:"medium"},bordered:Boolean,labelClass:String,labelStyle:[Object,String],contentClass:String,contentStyle:[Object,String]}),rK=ce({name:"Descriptions",props:_A,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Descriptions","-descriptions",tK,JW,t,e),o=A(()=>{const{size:s,bordered:a}=t,{common:{cubicBezierEaseInOut:l},self:{titleTextColor:c,thColor:d,thColorModal:u,thColorPopover:f,thTextColor:m,thFontWeight:h,tdTextColor:p,tdColor:v,tdColorModal:b,tdColorPopover:y,borderColor:x,borderColorModal:C,borderColorPopover:S,borderRadius:T,lineHeight:w,[Ae("fontSize",s)]:E,[Ae(a?"thPaddingBordered":"thPadding",s)]:R,[Ae(a?"tdPaddingBordered":"tdPadding",s)]:P}}=r.value;return{"--n-title-text-color":c,"--n-th-padding":R,"--n-td-padding":P,"--n-font-size":E,"--n-bezier":l,"--n-th-font-weight":h,"--n-line-height":w,"--n-th-text-color":m,"--n-td-text-color":p,"--n-th-color":d,"--n-th-color-modal":u,"--n-th-color-popover":f,"--n-td-color":v,"--n-td-color-modal":b,"--n-td-color-popover":y,"--n-border-radius":T,"--n-border-color":x,"--n-border-color-modal":C,"--n-border-color-popover":S}}),i=n?ot("descriptions",A(()=>{let s="";const{size:a,bordered:l}=t;return l&&(s+="a"),s+=a[0],s}),o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender,compitableColumn:Os(t,["columns","column"]),inlineThemeDisabled:n}},render(){const t=this.$slots.default,e=t?Yr(t()):[];e.length;const{contentClass:n,labelClass:r,compitableColumn:o,labelPlacement:i,labelAlign:s,size:a,bordered:l,title:c,cssVars:d,mergedClsPrefix:u,separator:f,onRender:m}=this;m==null||m();const h=e.filter(y=>nK(y)),p={span:0,row:[],secondRow:[],rows:[]},b=h.reduce((y,x,C)=>{const S=x.props||{},T=h.length-1===C,w=["label"in S?S.label:ox(x,"label")],E=[ox(x)],R=S.span||1,P=y.span;y.span+=R;const _=S.labelStyle||S["label-style"]||this.labelStyle,I=S.contentStyle||S["content-style"]||this.contentStyle;if(i==="left")l?y.row.push(g("th",{class:[`${u}-descriptions-table-header`,r],colspan:1,style:_},w),g("td",{class:[`${u}-descriptions-table-content`,n],colspan:T?(o-P)*2+1:R*2-1,style:I},E)):y.row.push(g("td",{class:`${u}-descriptions-table-content`,colspan:T?(o-P)*2:R*2},g("span",{class:[`${u}-descriptions-table-content__label`,r],style:_},[...w,f&&g("span",{class:`${u}-descriptions-separator`},f)]),g("span",{class:[`${u}-descriptions-table-content__content`,n],style:I},E)));else{const L=T?(o-P)*2:R*2;y.row.push(g("th",{class:[`${u}-descriptions-table-header`,r],colspan:L,style:_},w)),y.secondRow.push(g("td",{class:[`${u}-descriptions-table-content`,n],colspan:L,style:I},E))}return(y.span>=o||T)&&(y.span=0,y.row.length&&(y.rows.push(y.row),y.row=[]),i!=="left"&&y.secondRow.length&&(y.rows.push(y.secondRow),y.secondRow=[])),y},p).rows.map(y=>g("tr",{class:`${u}-descriptions-table-row`},y));return g("div",{style:d,class:[`${u}-descriptions`,this.themeClass,`${u}-descriptions--${i}-label-placement`,`${u}-descriptions--${s}-label-align`,`${u}-descriptions--${a}-size`,l&&`${u}-descriptions--bordered`]},c||this.$slots.header?g("div",{class:`${u}-descriptions-header`},c||Gl(this,"header")):null,g("div",{class:`${u}-descriptions-table-wrapper`},g("table",{class:`${u}-descriptions-table`},g("tbody",null,i==="top"&&g("tr",{class:`${u}-descriptions-table-row`,style:{visibility:"collapse"}},Ds(o*2,g("td",null))),b))))}}),LA={label:String,span:{type:Number,default:1},labelClass:String,labelStyle:[Object,String],contentClass:String,contentStyle:[Object,String]},oK=ce({name:"DescriptionsItem",[IA]:!0,props:LA,slots:Object,render(){return null}}),DA="n-dialog-provider",OA="n-dialog-api",$A="n-dialog-reactive-list";function FA(){const t=Ve(OA,null);return t===null&&nr("use-dialog","No outer <n-dialog-provider /> founded."),t}function iK(){const t=Ve($A,null);return t===null&&nr("use-dialog-reactive-list","No outer <n-dialog-provider /> founded."),t}const sK={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"};function MA(t){const{textColor1:e,textColor2:n,modalColor:r,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,infoColor:c,successColor:d,warningColor:u,errorColor:f,primaryColor:m,dividerColor:h,borderRadius:p,fontWeightStrong:v,lineHeight:b,fontSize:y}=t;return Object.assign(Object.assign({},sK),{fontSize:y,lineHeight:b,border:`1px solid ${h}`,titleTextColor:e,textColor:n,color:r,closeColorHover:a,closeColorPressed:l,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:s,closeBorderRadius:p,iconColor:m,iconColorInfo:c,iconColorSuccess:d,iconColorWarning:u,iconColorError:f,borderRadius:p,titleFontWeight:v})}const BA={name:"Dialog",common:lt,peers:{Button:so},self:MA},zA={name:"Dialog",common:st,peers:{Button:ao},self:MA},Ud={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,titleClass:[String,Array],titleStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],actionClass:[String,Array],actionStyle:[String,Object],onPositiveClick:Function,onNegativeClick:Function,onClose:Function},NA=Tr(Ud),aK=O([k("dialog",`
 --n-icon-margin: var(--n-icon-margin-top) var(--n-icon-margin-right) var(--n-icon-margin-bottom) var(--n-icon-margin-left);
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[F("icon",{color:"var(--n-icon-color)"}),M("bordered",{border:"var(--n-border)"}),M("icon-top",[F("close",{margin:"var(--n-close-margin)"}),F("icon",{margin:"var(--n-icon-margin)"}),F("content",{textAlign:"center"}),F("title",{justifyContent:"center"}),F("action",{justifyContent:"center"})]),M("icon-left",[F("icon",{margin:"var(--n-icon-margin)"}),M("closable",[F("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),F("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),F("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[M("last","margin-bottom: 0;")]),F("action",`
 display: flex;
 justify-content: flex-end;
 `,[O("> *:not(:last-child)",`
 margin-right: var(--n-action-space);
 `)]),F("icon",`
 font-size: var(--n-icon-size);
 transition: color .3s var(--n-bezier);
 `),F("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),k("dialog-icon-container",`
 display: flex;
 justify-content: center;
 `)]),Ti(k("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),k("dialog",[UR(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),lK={default:()=>g(Us,null),info:()=>g(Us,null),success:()=>g(Na,null),warning:()=>g(qs,null),error:()=>g(za,null)},W0=ce({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},ke.props),Ud),slots:Object,setup(t){const{mergedComponentPropsRef:e,mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=Ge(t),i=rn("Dialog",o,n),s=A(()=>{var m,h;const{iconPlacement:p}=t;return p||((h=(m=e==null?void 0:e.value)===null||m===void 0?void 0:m.Dialog)===null||h===void 0?void 0:h.iconPlacement)||"left"});function a(m){const{onPositiveClick:h}=t;h&&h(m)}function l(m){const{onNegativeClick:h}=t;h&&h(m)}function c(){const{onClose:m}=t;m&&m()}const d=ke("Dialog","-dialog",aK,BA,t,n),u=A(()=>{const{type:m}=t,h=s.value,{common:{cubicBezierEaseInOut:p},self:{fontSize:v,lineHeight:b,border:y,titleTextColor:x,textColor:C,color:S,closeBorderRadius:T,closeColorHover:w,closeColorPressed:E,closeIconColor:R,closeIconColorHover:P,closeIconColorPressed:_,closeIconSize:I,borderRadius:L,titleFontWeight:N,titleFontSize:H,padding:G,iconSize:W,actionSpace:J,contentMargin:ne,closeSize:D,[h==="top"?"iconMarginIconTop":"iconMargin"]:B,[h==="top"?"closeMarginIconTop":"closeMargin"]:j,[Ae("iconColor",m)]:$}}=d.value,V=Un(B);return{"--n-font-size":v,"--n-icon-color":$,"--n-bezier":p,"--n-close-margin":j,"--n-icon-margin-top":V.top,"--n-icon-margin-right":V.right,"--n-icon-margin-bottom":V.bottom,"--n-icon-margin-left":V.left,"--n-icon-size":W,"--n-close-size":D,"--n-close-icon-size":I,"--n-close-border-radius":T,"--n-close-color-hover":w,"--n-close-color-pressed":E,"--n-close-icon-color":R,"--n-close-icon-color-hover":P,"--n-close-icon-color-pressed":_,"--n-color":S,"--n-text-color":C,"--n-border-radius":L,"--n-padding":G,"--n-line-height":b,"--n-border":y,"--n-content-margin":ne,"--n-title-font-size":H,"--n-title-font-weight":N,"--n-title-text-color":x,"--n-action-space":J}}),f=r?ot("dialog",A(()=>`${t.type[0]}${s.value[0]}`),u,t):void 0;return{mergedClsPrefix:n,rtlEnabled:i,mergedIconPlacement:s,mergedTheme:d,handlePositiveClick:a,handleNegativeClick:l,handleCloseClick:c,cssVars:r?void 0:u,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){var t;const{bordered:e,mergedIconPlacement:n,cssVars:r,closable:o,showIcon:i,title:s,content:a,action:l,negativeText:c,positiveText:d,positiveButtonProps:u,negativeButtonProps:f,handlePositiveClick:m,handleNegativeClick:h,mergedTheme:p,loading:v,type:b,mergedClsPrefix:y}=this;(t=this.onRender)===null||t===void 0||t.call(this);const x=i?g(yt,{clsPrefix:y,class:`${y}-dialog__icon`},{default:()=>Lt(this.$slots.icon,S=>S||(this.icon?dn(this.icon):lK[this.type]()))}):null,C=Lt(this.$slots.action,S=>S||d||c||l?g("div",{class:[`${y}-dialog__action`,this.actionClass],style:this.actionStyle},S||(l?[dn(l)]:[this.negativeText&&g(At,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,ghost:!0,size:"small",onClick:h},f),{default:()=>dn(this.negativeText)}),this.positiveText&&g(At,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,size:"small",type:b==="default"?"primary":b,disabled:v,loading:v,onClick:m},u),{default:()=>dn(this.positiveText)})])):null);return g("div",{class:[`${y}-dialog`,this.themeClass,this.closable&&`${y}-dialog--closable`,`${y}-dialog--icon-${n}`,e&&`${y}-dialog--bordered`,this.rtlEnabled&&`${y}-dialog--rtl`],style:r,role:"dialog"},o?Lt(this.$slots.close,S=>{const T=[`${y}-dialog__close`,this.rtlEnabled&&`${y}-dialog--rtl`];return S?g("div",{class:T},S):g(ns,{clsPrefix:y,class:T,onClick:this.handleCloseClick})}):null,i&&n==="top"?g("div",{class:`${y}-dialog-icon-container`},x):null,g("div",{class:[`${y}-dialog__title`,this.titleClass],style:this.titleStyle},i&&n==="left"?x:null,Et(this.$slots.header,()=>[dn(s)])),g("div",{class:[`${y}-dialog__content`,C?"":`${y}-dialog__content--last`,this.contentClass],style:this.contentStyle},Et(this.$slots.default,()=>[dn(a)])),C)}});function UA(t){const{modalColor:e,textColor2:n,boxShadow3:r}=t;return{color:e,textColor:n,boxShadow:r}}const cK={name:"Modal",common:lt,peers:{Scrollbar:ro,Dialog:BA,Card:qk},self:UA},dK={name:"Modal",common:st,peers:{Scrollbar:oo,Dialog:zA,Card:Yk},self:UA},uK="n-modal-provider",HA="n-modal-api",VA="n-modal-reactive-list";function jA(){const t=Ve(HA,null);return t===null&&nr("use-modal","No outer <n-modal-provider /> founded."),t}function fK(){const t=Ve(VA,null);return t===null&&nr("use-modal-reactive-list","No outer <n-modal-provider /> founded."),t}const Dp="n-draggable";function hK(t,e){let n;const r=A(()=>t.value!==!1),o=A(()=>r.value?Dp:""),i=A(()=>{const l=t.value;return l===!0||l===!1?!0:l?l.bounds!=="none":!0});function s(l){const c=l.querySelector(`.${Dp}`);if(!c||!o.value)return;let d=0,u=0,f=0,m=0,h=0,p=0,v;function b(C){C.preventDefault(),v=C;const{x:S,y:T,right:w,bottom:E}=l.getBoundingClientRect();u=S,m=T,d=window.innerWidth-w,f=window.innerHeight-E;const{left:R,top:P}=l.style;h=+P.slice(0,-2),p=+R.slice(0,-2)}function y(C){if(!v)return;const{clientX:S,clientY:T}=v;let w=C.clientX-S,E=C.clientY-T;i.value&&(w>d?w=d:-w>u&&(w=-u),E>f?E=f:-E>m&&(E=-m));const R=w+p,P=E+h;l.style.top=`${P}px`,l.style.left=`${R}px`}function x(){v=void 0,e.onEnd(l)}_t("mousedown",c,b),_t("mousemove",window,y),_t("mouseup",window,x),n=()=>{It("mousedown",c,b),_t("mousemove",window,y),_t("mouseup",window,x)}}function a(){n&&(n(),n=void 0)}return Wl(a),{stopDrag:a,startDrag:s,draggableRef:r,draggableClassRef:o}}const K0=Object.assign(Object.assign({},k0),Ud),gK=Tr(K0),mK=ce({name:"ModalBody",inheritAttrs:!1,slots:Object,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean,draggable:{type:[Boolean,Object],default:!1}},K0),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(t){const e=z(null),n=z(null),r=z(t.show),o=z(null),i=z(null),s=Ve(JR);let a=null;gt(Se(t,"show"),E=>{E&&(a=s.getMousePosition())},{immediate:!0});const{stopDrag:l,startDrag:c,draggableRef:d,draggableClassRef:u}=hK(Se(t,"draggable"),{onEnd:E=>{p(E)}}),f=A(()=>Is([t.titleClass,u.value])),m=A(()=>Is([t.headerClass,u.value]));gt(Se(t,"show"),E=>{E&&(r.value=!0)}),nT(A(()=>t.blockScroll&&r.value));function h(){if(s.transformOriginRef.value==="center")return"";const{value:E}=o,{value:R}=i;if(E===null||R===null)return"";if(n.value){const P=n.value.containerScrollTop;return`${E}px ${R+P}px`}return""}function p(E){if(s.transformOriginRef.value==="center"||!a||!n.value)return;const R=n.value.containerScrollTop,{offsetLeft:P,offsetTop:_}=E,I=a.y,L=a.x;o.value=-(P-L),i.value=-(_-I-R),E.style.transformOrigin=h()}function v(E){$t(()=>{p(E)})}function b(E){E.style.transformOrigin=h(),t.onBeforeLeave()}function y(E){const R=E;d.value&&c(R),t.onAfterEnter&&t.onAfterEnter(R)}function x(){r.value=!1,o.value=null,i.value=null,l(),t.onAfterLeave()}function C(){const{onClose:E}=t;E&&E()}function S(){t.onNegativeClick()}function T(){t.onPositiveClick()}const w=z(null);return gt(w,E=>{E&&$t(()=>{const R=E.el;R&&e.value!==R&&(e.value=R)})}),ft(Ld,e),ft(_d,null),ft(Kl,null),{mergedTheme:s.mergedThemeRef,appear:s.appearRef,isMounted:s.isMountedRef,mergedClsPrefix:s.mergedClsPrefixRef,bodyRef:e,scrollbarRef:n,draggableClass:u,displayed:r,childNodeRef:w,cardHeaderClass:m,dialogTitleClass:f,handlePositiveClick:T,handleNegativeClick:S,handleCloseClick:C,handleAfterEnter:y,handleAfterLeave:x,handleBeforeLeave:b,handleEnter:v}},render(){const{$slots:t,$attrs:e,handleEnter:n,handleAfterEnter:r,handleAfterLeave:o,handleBeforeLeave:i,preset:s,mergedClsPrefix:a}=this;let l=null;if(!s){if(l=CT("default",t.default,{draggableClass:this.draggableClass}),!l){Rr("modal","default slot is empty");return}l=Hr(l),l.props=sr({class:`${a}-modal`},e,l.props||{})}return this.displayDirective==="show"||this.displayed||this.show?$n(g("div",{role:"none",class:`${a}-modal-body-wrapper`},g(Sn,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${a}-modal-scroll-content`},{default:()=>{var c;return[(c=this.renderMask)===null||c===void 0?void 0:c.call(this),g(r0,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var d;return g(en,{name:"fade-in-scale-up-transition",appear:(d=this.appear)!==null&&d!==void 0?d:this.isMounted,onEnter:n,onAfterEnter:r,onAfterLeave:o,onBeforeLeave:i},{default:()=>{const u=[[bo,this.show]],{onClickoutside:f}=this;return f&&u.push([eo,this.onClickoutside,void 0,{capture:!0}]),$n(this.preset==="confirm"||this.preset==="dialog"?g(W0,Object.assign({},this.$attrs,{class:[`${a}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Gn(this.$props,NA),{titleClass:this.dialogTitleClass,"aria-modal":"true"}),t):this.preset==="card"?g(Qk,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${a}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Gn(this.$props,P7),{headerClass:this.cardHeaderClass,"aria-modal":"true",role:"dialog"}),t):this.childNodeRef=l,u)}})}})]}})),[[bo,this.displayDirective==="if"||this.displayed||this.show]]):null}}),pK=O([k("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),k("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[Ki({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),k("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[k("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),k("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[ar({duration:".25s",enterScale:".5"}),O(`.${Dp}`,`
 cursor: move;
 user-select: none;
 `)])]),G0=Object.assign(Object.assign(Object.assign(Object.assign({},ke.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),K0),{draggable:[Boolean,Object],onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalModal:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),q0=ce({name:"Modal",inheritAttrs:!1,props:G0,slots:Object,setup(t){const e=z(null),{mergedClsPrefixRef:n,namespaceRef:r,inlineThemeDisabled:o}=Ge(t),i=ke("Modal","-modal",pK,cK,t,n),s=Yv(64),a=qv(),l=br(),c=t.internalDialog?Ve(DA,null):null,d=t.internalModal?Ve(YM,null):null,u=tT();function f(T){const{onUpdateShow:w,"onUpdate:show":E,onHide:R}=t;w&&we(w,T),E&&we(E,T),R&&!T&&R(T)}function m(){const{onClose:T}=t;T?Promise.resolve(T()).then(w=>{w!==!1&&f(!1)}):f(!1)}function h(){const{onPositiveClick:T}=t;T?Promise.resolve(T()).then(w=>{w!==!1&&f(!1)}):f(!1)}function p(){const{onNegativeClick:T}=t;T?Promise.resolve(T()).then(w=>{w!==!1&&f(!1)}):f(!1)}function v(){const{onBeforeLeave:T,onBeforeHide:w}=t;T&&we(T),w&&w()}function b(){const{onAfterLeave:T,onAfterHide:w}=t;T&&we(T),w&&w()}function y(T){var w;const{onMaskClick:E}=t;E&&E(T),t.maskClosable&&!((w=e.value)===null||w===void 0)&&w.contains(Jr(T))&&f(!1)}function x(T){var w;(w=t.onEsc)===null||w===void 0||w.call(t),t.show&&t.closeOnEsc&&bT(T)&&(u.value||f(!1))}ft(JR,{getMousePosition:()=>{const T=c||d;if(T){const{clickedRef:w,clickedPositionRef:E}=T;if(w.value&&E.value)return E.value}return s.value?a.value:null},mergedClsPrefixRef:n,mergedThemeRef:i,isMountedRef:l,appearRef:Se(t,"internalAppear"),transformOriginRef:Se(t,"transformOrigin")});const C=A(()=>{const{common:{cubicBezierEaseOut:T},self:{boxShadow:w,color:E,textColor:R}}=i.value;return{"--n-bezier-ease-out":T,"--n-box-shadow":w,"--n-color":E,"--n-text-color":R}}),S=o?ot("theme-class",void 0,C,t):void 0;return{mergedClsPrefix:n,namespace:r,isMounted:l,containerRef:e,presetProps:A(()=>Gn(t,gK)),handleEsc:x,handleAfterLeave:b,handleClickoutside:y,handleBeforeLeave:v,doUpdateShow:f,handleNegativeClick:p,handlePositiveClick:h,handleCloseClick:m,cssVars:o?void 0:C,themeClass:S==null?void 0:S.themeClass,onRender:S==null?void 0:S.onRender}},render(){const{mergedClsPrefix:t}=this;return g(Od,{to:this.to,show:this.show},{default:()=>{var e;(e=this.onRender)===null||e===void 0||e.call(this);const{unstableShowMask:n}=this;return $n(g("div",{role:"none",ref:"containerRef",class:[`${t}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},g(mK,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,draggable:this.draggable,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:n?void 0:this.handleClickoutside,renderMask:n?()=>{var r;return g(en,{name:"fade-in-transition",key:"mask",appear:(r=this.internalAppear)!==null&&r!==void 0?r:this.isMounted},{default:()=>this.show?g("div",{"aria-hidden":!0,ref:"containerRef",class:`${t}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[Dd,{zIndex:this.zIndex,enabled:this.show}]])}})}}),vK=Object.assign(Object.assign({},Ud),{onAfterEnter:Function,onAfterLeave:Function,transformOrigin:String,blockScroll:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function,draggable:[Boolean,Object]}),bK=ce({name:"DialogEnvironment",props:Object.assign(Object.assign({},vK),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(t){const e=z(!0);function n(){const{onInternalAfterLeave:d,internalKey:u,onAfterLeave:f}=t;d&&d(u),f&&f()}function r(d){const{onPositiveClick:u}=t;u?Promise.resolve(u(d)).then(f=>{f!==!1&&l()}):l()}function o(d){const{onNegativeClick:u}=t;u?Promise.resolve(u(d)).then(f=>{f!==!1&&l()}):l()}function i(){const{onClose:d}=t;d?Promise.resolve(d()).then(u=>{u!==!1&&l()}):l()}function s(d){const{onMaskClick:u,maskClosable:f}=t;u&&(u(d),f&&l())}function a(){const{onEsc:d}=t;d&&d()}function l(){e.value=!1}function c(d){e.value=d}return{show:e,hide:l,handleUpdateShow:c,handleAfterLeave:n,handleCloseClick:i,handleNegativeClick:o,handlePositiveClick:r,handleMaskClick:s,handleEsc:a}},render(){const{handlePositiveClick:t,handleUpdateShow:e,handleNegativeClick:n,handleCloseClick:r,handleAfterLeave:o,handleMaskClick:i,handleEsc:s,to:a,maskClosable:l,show:c}=this;return g(q0,{show:c,onUpdateShow:e,onMaskClick:i,onEsc:s,to:a,maskClosable:l,onAfterEnter:this.onAfterEnter,onAfterLeave:o,closeOnEsc:this.closeOnEsc,blockScroll:this.blockScroll,autoFocus:this.autoFocus,transformOrigin:this.transformOrigin,draggable:this.draggable,internalAppear:!0,internalDialog:!0},{default:({draggableClass:d})=>g(W0,Object.assign({},Gn(this.$props,NA),{titleClass:Is([this.titleClass,d]),style:this.internalStyle,onClose:r,onNegativeClick:n,onPositiveClick:t}))})}}),WA={injectionKey:String,to:[String,Object]},KA=ce({name:"DialogProvider",props:WA,setup(){const t=z([]),e={};function n(a={}){const l=Vr(),c=Ri(Object.assign(Object.assign({},a),{key:l,destroy:()=>{var d;(d=e[`n-dialog-${l}`])===null||d===void 0||d.hide()}}));return t.value.push(c),c}const r=["info","success","warning","error"].map(a=>l=>n(Object.assign(Object.assign({},l),{type:a})));function o(a){const{value:l}=t;l.splice(l.findIndex(c=>c.key===a),1)}function i(){Object.values(e).forEach(a=>{a==null||a.hide()})}const s={create:n,destroyAll:i,info:r[0],success:r[1],warning:r[2],error:r[3]};return ft(OA,s),ft(DA,{clickedRef:Yv(64),clickedPositionRef:qv()}),ft($A,t),Object.assign(Object.assign({},s),{dialogList:t,dialogInstRefs:e,handleAfterLeave:o})},render(){var t,e;return g(Vt,null,[this.dialogList.map(n=>g(bK,Gs(n,["destroy","style"],{internalStyle:n.style,to:this.to,ref:r=>{r===null?delete this.dialogInstRefs[`n-dialog-${n.key}`]:this.dialogInstRefs[`n-dialog-${n.key}`]=r},internalKey:n.key,onInternalAfterLeave:this.handleAfterLeave}))),(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t)])}}),GA="n-loading-bar",qA="n-loading-bar-api",yK={name:"LoadingBar",common:st,self(t){const{primaryColor:e}=t;return{colorError:"red",colorLoading:e,height:"2px"}}};function xK(t){const{primaryColor:e,errorColor:n}=t;return{colorError:n,colorLoading:e,height:"2px"}}const CK={common:lt,self:xK},SK=k("loading-bar-container",`
 z-index: 5999;
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 height: 2px;
`,[Ki({enterDuration:"0.3s",leaveDuration:"0.8s"}),k("loading-bar",`
 width: 100%;
 transition:
 max-width 4s linear,
 background .2s linear;
 height: var(--n-height);
 `,[M("starting",`
 background: var(--n-color-loading);
 `),M("finishing",`
 background: var(--n-color-loading);
 transition:
 max-width .2s linear,
 background .2s linear;
 `),M("error",`
 background: var(--n-color-error);
 transition:
 max-width .2s linear,
 background .2s linear;
 `)])]);var Cu=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Su(t,e){return`${e}-loading-bar ${e}-loading-bar--${t}`}const wK=ce({name:"LoadingBar",props:{containerClass:String,containerStyle:[String,Object]},setup(){const{inlineThemeDisabled:t}=Ge(),{props:e,mergedClsPrefixRef:n}=Ve(GA),r=z(null),o=z(!1),i=z(!1),s=z(!1),a=z(!1);let l=!1;const c=z(!1),d=A(()=>{const{loadingBarStyle:S}=e;return S?S[c.value?"error":"loading"]:""});function u(){return Cu(this,void 0,void 0,function*(){o.value=!1,s.value=!1,l=!1,c.value=!1,a.value=!0,yield $t(),a.value=!1})}function f(){return Cu(this,arguments,void 0,function*(S=0,T=80,w="starting"){if(i.value=!0,yield u(),l)return;s.value=!0,yield $t();const E=r.value;E&&(E.style.maxWidth=`${S}%`,E.style.transition="none",E.offsetWidth,E.className=Su(w,n.value),E.style.transition="",E.style.maxWidth=`${T}%`)})}function m(){return Cu(this,void 0,void 0,function*(){if(l||c.value)return;i.value&&(yield $t()),l=!0;const S=r.value;S&&(S.className=Su("finishing",n.value),S.style.maxWidth="100%",S.offsetWidth,s.value=!1)})}function h(){if(!(l||c.value))if(!s.value)f(100,100,"error").then(()=>{c.value=!0;const S=r.value;S&&(S.className=Su("error",n.value),S.offsetWidth,s.value=!1)});else{c.value=!0;const S=r.value;if(!S)return;S.className=Su("error",n.value),S.style.maxWidth="100%",S.offsetWidth,s.value=!1}}function p(){o.value=!0}function v(){o.value=!1}function b(){return Cu(this,void 0,void 0,function*(){yield u()})}const y=ke("LoadingBar","-loading-bar",SK,CK,e,n),x=A(()=>{const{self:{height:S,colorError:T,colorLoading:w}}=y.value;return{"--n-height":S,"--n-color-loading":w,"--n-color-error":T}}),C=t?ot("loading-bar",void 0,x,e):void 0;return{mergedClsPrefix:n,loadingBarRef:r,started:i,loading:s,entering:o,transitionDisabled:a,start:f,error:h,finish:m,handleEnter:p,handleAfterEnter:v,handleAfterLeave:b,mergedLoadingBarStyle:d,cssVars:t?void 0:x,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender}},render(){if(!this.started)return null;const{mergedClsPrefix:t}=this;return g(en,{name:"fade-in-transition",appear:!0,onEnter:this.handleEnter,onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave,css:!this.transitionDisabled},{default:()=>{var e;return(e=this.onRender)===null||e===void 0||e.call(this),$n(g("div",{class:[`${t}-loading-bar-container`,this.themeClass,this.containerClass],style:this.containerStyle},g("div",{ref:"loadingBarRef",class:[`${t}-loading-bar`],style:[this.cssVars,this.mergedLoadingBarStyle]})),[[bo,this.loading||!this.loading&&this.entering]])}})}}),YA=Object.assign(Object.assign({},ke.props),{to:{type:[String,Object,Boolean],default:void 0},containerClass:String,containerStyle:[String,Object],loadingBarStyle:{type:Object}}),XA=ce({name:"LoadingBarProvider",props:YA,setup(t){const e=br(),n=z(null),r={start(){var i;e.value?(i=n.value)===null||i===void 0||i.start():$t(()=>{var s;(s=n.value)===null||s===void 0||s.start()})},error(){var i;e.value?(i=n.value)===null||i===void 0||i.error():$t(()=>{var s;(s=n.value)===null||s===void 0||s.error()})},finish(){var i;e.value?(i=n.value)===null||i===void 0||i.finish():$t(()=>{var s;(s=n.value)===null||s===void 0||s.finish()})}},{mergedClsPrefixRef:o}=Ge(t);return ft(qA,r),ft(GA,{props:t,mergedClsPrefixRef:o}),Object.assign(r,{loadingBarRef:n})},render(){var t,e;return g(Vt,null,g(Pd,{disabled:this.to===!1,to:this.to||"body"},g(wK,{ref:"loadingBarRef",containerStyle:this.containerStyle,containerClass:this.containerClass})),(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});function QA(){const t=Ve(qA,null);return t===null&&nr("use-loading-bar","No outer <n-loading-bar-provider /> founded."),t}const ZA="n-message-api",JA="n-message-provider",RK={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"};function eI(t){const{textColor2:e,closeIconColor:n,closeIconColorHover:r,closeIconColorPressed:o,infoColor:i,successColor:s,errorColor:a,warningColor:l,popoverColor:c,boxShadow2:d,primaryColor:u,lineHeight:f,borderRadius:m,closeColorHover:h,closeColorPressed:p}=t;return Object.assign(Object.assign({},RK),{closeBorderRadius:m,textColor:e,textColorInfo:e,textColorSuccess:e,textColorError:e,textColorWarning:e,textColorLoading:e,color:c,colorInfo:c,colorSuccess:c,colorError:c,colorWarning:c,colorLoading:c,boxShadow:d,boxShadowInfo:d,boxShadowSuccess:d,boxShadowError:d,boxShadowWarning:d,boxShadowLoading:d,iconColor:e,iconColorInfo:i,iconColorSuccess:s,iconColorWarning:l,iconColorError:a,iconColorLoading:u,closeColorHover:h,closeColorPressed:p,closeIconColor:n,closeIconColorHover:r,closeIconColorPressed:o,closeColorHoverInfo:h,closeColorPressedInfo:p,closeIconColorInfo:n,closeIconColorHoverInfo:r,closeIconColorPressedInfo:o,closeColorHoverSuccess:h,closeColorPressedSuccess:p,closeIconColorSuccess:n,closeIconColorHoverSuccess:r,closeIconColorPressedSuccess:o,closeColorHoverError:h,closeColorPressedError:p,closeIconColorError:n,closeIconColorHoverError:r,closeIconColorPressedError:o,closeColorHoverWarning:h,closeColorPressedWarning:p,closeIconColorWarning:n,closeIconColorHoverWarning:r,closeIconColorPressedWarning:o,closeColorHoverLoading:h,closeColorPressedLoading:p,closeIconColorLoading:n,closeIconColorHoverLoading:r,closeIconColorPressedLoading:o,loadingColor:u,lineHeight:f,borderRadius:m})}const TK={common:lt,self:eI},EK={name:"Message",common:st,self:eI},tI={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},kK=O([k("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[qi({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),k("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[F("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),F("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(t=>M(`${t}-type`,[O("> *",`
 color: var(--n-icon-color-${t});
 transition: color .3s var(--n-bezier);
 `)])),O("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[wr()])]),F("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[O("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),O("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),k("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[M("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),M("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),M("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),M("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),M("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),M("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),PK={info:()=>g(Us,null),success:()=>g(Na,null),warning:()=>g(qs,null),error:()=>g(za,null),default:()=>null},AK=ce({name:"Message",props:Object.assign(Object.assign({},tI),{render:Function}),setup(t){const{inlineThemeDisabled:e,mergedRtlRef:n}=Ge(t),{props:r,mergedClsPrefixRef:o}=Ve(JA),i=rn("Message",n,o),s=ke("Message","-message",kK,TK,r,o),a=A(()=>{const{type:c}=t,{common:{cubicBezierEaseInOut:d},self:{padding:u,margin:f,maxWidth:m,iconMargin:h,closeMargin:p,closeSize:v,iconSize:b,fontSize:y,lineHeight:x,borderRadius:C,iconColorInfo:S,iconColorSuccess:T,iconColorWarning:w,iconColorError:E,iconColorLoading:R,closeIconSize:P,closeBorderRadius:_,[Ae("textColor",c)]:I,[Ae("boxShadow",c)]:L,[Ae("color",c)]:N,[Ae("closeColorHover",c)]:H,[Ae("closeColorPressed",c)]:G,[Ae("closeIconColor",c)]:W,[Ae("closeIconColorPressed",c)]:J,[Ae("closeIconColorHover",c)]:ne}}=s.value;return{"--n-bezier":d,"--n-margin":f,"--n-padding":u,"--n-max-width":m,"--n-font-size":y,"--n-icon-margin":h,"--n-icon-size":b,"--n-close-icon-size":P,"--n-close-border-radius":_,"--n-close-size":v,"--n-close-margin":p,"--n-text-color":I,"--n-color":N,"--n-box-shadow":L,"--n-icon-color-info":S,"--n-icon-color-success":T,"--n-icon-color-warning":w,"--n-icon-color-error":E,"--n-icon-color-loading":R,"--n-close-color-hover":H,"--n-close-color-pressed":G,"--n-close-icon-color":W,"--n-close-icon-color-pressed":J,"--n-close-icon-color-hover":ne,"--n-line-height":x,"--n-border-radius":C}}),l=e?ot("message",A(()=>t.type[0]),a,{}):void 0;return{mergedClsPrefix:o,rtlEnabled:i,messageProviderProps:r,handleClose(){var c;(c=t.onClose)===null||c===void 0||c.call(t)},cssVars:e?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender,placement:r.placement}},render(){const{render:t,type:e,closable:n,content:r,mergedClsPrefix:o,cssVars:i,themeClass:s,onRender:a,icon:l,handleClose:c,showIcon:d}=this;a==null||a();let u;return g("div",{class:[`${o}-message-wrapper`,s],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},i]},t?t(this.$props):g("div",{class:[`${o}-message ${o}-message--${e}-type`,this.rtlEnabled&&`${o}-message--rtl`]},(u=IK(l,e,o))&&d?g("div",{class:`${o}-message__icon ${o}-message__icon--${e}-type`},g(Pi,null,{default:()=>u})):null,g("div",{class:`${o}-message__content`},dn(r)),n?g(ns,{clsPrefix:o,class:`${o}-message__close`,onClick:c,absolute:!0}):null))}});function IK(t,e,n){if(typeof t=="function")return t();{const r=e==="loading"?g(Qo,{clsPrefix:n,strokeWidth:24,scale:.85}):PK[e]();return r?g(yt,{clsPrefix:n,key:e},{default:()=>r}):null}}const _K=ce({name:"MessageEnvironment",props:Object.assign(Object.assign({},tI),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(t){let e=null;const n=z(!0);Gt(()=>{r()});function r(){const{duration:d}=t;d&&(e=window.setTimeout(s,d))}function o(d){d.currentTarget===d.target&&e!==null&&(window.clearTimeout(e),e=null)}function i(d){d.currentTarget===d.target&&r()}function s(){const{onHide:d}=t;n.value=!1,e&&(window.clearTimeout(e),e=null),d&&d()}function a(){const{onClose:d}=t;d&&d(),s()}function l(){const{onAfterLeave:d,onInternalAfterLeave:u,onAfterHide:f,internalKey:m}=t;d&&d(),u&&u(m),f&&f()}function c(){s()}return{show:n,hide:s,handleClose:a,handleAfterLeave:l,handleMouseleave:i,handleMouseenter:o,deactivate:c}},render(){return g(Ai,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?g(AK,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),nI=Object.assign(Object.assign({},ke.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerClass:String,containerStyle:[String,Object]}),rI=ce({name:"MessageProvider",props:nI,setup(t){const{mergedClsPrefixRef:e}=Ge(t),n=z([]),r=z({}),o={create(l,c){return i(l,Object.assign({type:"default"},c))},info(l,c){return i(l,Object.assign(Object.assign({},c),{type:"info"}))},success(l,c){return i(l,Object.assign(Object.assign({},c),{type:"success"}))},warning(l,c){return i(l,Object.assign(Object.assign({},c),{type:"warning"}))},error(l,c){return i(l,Object.assign(Object.assign({},c),{type:"error"}))},loading(l,c){return i(l,Object.assign(Object.assign({},c),{type:"loading"}))},destroyAll:a};ft(JA,{props:t,mergedClsPrefixRef:e}),ft(ZA,o);function i(l,c){const d=Vr(),u=Ri(Object.assign(Object.assign({},c),{content:l,key:d,destroy:()=>{var m;(m=r.value[d])===null||m===void 0||m.hide()}})),{max:f}=t;return f&&n.value.length>=f&&n.value.shift(),n.value.push(u),u}function s(l){n.value.splice(n.value.findIndex(c=>c.key===l),1),delete r.value[l]}function a(){Object.values(r.value).forEach(l=>{l.hide()})}return Object.assign({mergedClsPrefix:e,messageRefs:r,messageList:n,handleAfterLeave:s},o)},render(){var t,e,n;return g(Vt,null,(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t),this.messageList.length?g(Pd,{to:(n=this.to)!==null&&n!==void 0?n:"body"},g("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`,this.containerClass],key:"message-container",style:this.containerStyle},this.messageList.map(r=>g(_K,Object.assign({ref:o=>{o&&(this.messageRefs[r.key]=o)},internalKey:r.key,onInternalAfterLeave:this.handleAfterLeave},Gs(r,["destroy"],void 0),{duration:r.duration===void 0?this.duration:r.duration,keepAliveOnHover:r.keepAliveOnHover===void 0?this.keepAliveOnHover:r.keepAliveOnHover,closable:r.closable===void 0?this.closable:r.closable}))))):null)}});function oI(){const t=Ve(ZA,null);return t===null&&nr("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),t}const LK=ce({name:"ModalEnvironment",props:Object.assign(Object.assign({},G0),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(t){const e=z(!0);function n(){const{onInternalAfterLeave:d,internalKey:u,onAfterLeave:f}=t;d&&d(u),f&&f()}function r(){const{onPositiveClick:d}=t;d?Promise.resolve(d()).then(u=>{u!==!1&&l()}):l()}function o(){const{onNegativeClick:d}=t;d?Promise.resolve(d()).then(u=>{u!==!1&&l()}):l()}function i(){const{onClose:d}=t;d?Promise.resolve(d()).then(u=>{u!==!1&&l()}):l()}function s(d){const{onMaskClick:u,maskClosable:f}=t;u&&(u(d),f&&l())}function a(){const{onEsc:d}=t;d&&d()}function l(){e.value=!1}function c(d){e.value=d}return{show:e,hide:l,handleUpdateShow:c,handleAfterLeave:n,handleCloseClick:i,handleNegativeClick:o,handlePositiveClick:r,handleMaskClick:s,handleEsc:a}},render(){const{handleUpdateShow:t,handleAfterLeave:e,handleMaskClick:n,handleEsc:r,show:o}=this;return g(q0,Object.assign({},this.$props,{show:o,onUpdateShow:t,onMaskClick:n,onEsc:r,onAfterLeave:e,internalAppear:!0,internalModal:!0}))}}),iI={to:[String,Object]},sI=ce({name:"ModalProvider",props:iI,setup(){const t=z([]),e={};function n(s={}){const a=Vr(),l=Ri(Object.assign(Object.assign({},s),{key:a,destroy:()=>{var c;(c=e[`n-modal-${a}`])===null||c===void 0||c.hide()}}));return t.value.push(l),l}function r(s){const{value:a}=t;a.splice(a.findIndex(l=>l.key===s),1)}function o(){Object.values(e).forEach(s=>{s==null||s.hide()})}const i={create:n,destroyAll:o};return ft(HA,i),ft(uK,{clickedRef:Yv(64),clickedPositionRef:qv()}),ft(VA,t),Object.assign(Object.assign({},i),{modalList:t,modalInstRefs:e,handleAfterLeave:r})},render(){var t,e;return g(Vt,null,[this.modalList.map(n=>{var r;return g(LK,Gs(n,["destroy"],{to:(r=n.to)!==null&&r!==void 0?r:this.to,ref:o=>{o===null?delete this.modalInstRefs[`n-modal-${n.key}`]:this.modalInstRefs[`n-modal-${n.key}`]=o},internalKey:n.key,onInternalAfterLeave:this.handleAfterLeave}))}),(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t)])}}),DK={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"};function aI(t){const{textColor2:e,successColor:n,infoColor:r,warningColor:o,errorColor:i,popoverColor:s,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:c,closeColorHover:d,closeColorPressed:u,textColor1:f,textColor3:m,borderRadius:h,fontWeightStrong:p,boxShadow2:v,lineHeight:b,fontSize:y}=t;return Object.assign(Object.assign({},DK),{borderRadius:h,lineHeight:b,fontSize:y,headerFontWeight:p,iconColor:e,iconColorSuccess:n,iconColorInfo:r,iconColorWarning:o,iconColorError:i,color:s,textColor:e,closeIconColor:a,closeIconColorHover:l,closeIconColorPressed:c,closeBorderRadius:h,closeColorHover:d,closeColorPressed:u,headerTextColor:f,descriptionTextColor:m,actionTextColor:e,boxShadow:v})}const OK={name:"Notification",common:lt,peers:{Scrollbar:ro},self:aI},$K={name:"Notification",common:st,peers:{Scrollbar:oo},self:aI},Mh="n-notification-provider",FK=ce({name:"NotificationContainer",props:{scrollable:{type:Boolean,required:!0},placement:{type:String,required:!0}},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e,wipTransitionCountRef:n}=Ve(Mh),r=z(null);return Xt(()=>{var o,i;n.value>0?(o=r==null?void 0:r.value)===null||o===void 0||o.classList.add("transitioning"):(i=r==null?void 0:r.value)===null||i===void 0||i.classList.remove("transitioning")}),{selfRef:r,mergedTheme:t,mergedClsPrefix:e,transitioning:n}},render(){const{$slots:t,scrollable:e,mergedClsPrefix:n,mergedTheme:r,placement:o}=this;return g("div",{ref:"selfRef",class:[`${n}-notification-container`,e&&`${n}-notification-container--scrollable`,`${n}-notification-container--${o}`]},e?g(Sn,{theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,contentStyle:{overflow:"hidden"}},t):t)}}),MK={info:()=>g(Us,null),success:()=>g(Na,null),warning:()=>g(qs,null),error:()=>g(za,null),default:()=>null},Y0={closable:{type:Boolean,default:!0},type:{type:String,default:"default"},avatar:Function,title:[String,Function],description:[String,Function],content:[String,Function],meta:[String,Function],action:[String,Function],onClose:{type:Function,required:!0},keepAliveOnHover:Boolean,onMouseenter:Function,onMouseleave:Function},BK=Tr(Y0),zK=ce({name:"Notification",props:Y0,setup(t){const{mergedClsPrefixRef:e,mergedThemeRef:n,props:r}=Ve(Mh),{inlineThemeDisabled:o,mergedRtlRef:i}=Ge(),s=rn("Notification",i,e),a=A(()=>{const{type:c}=t,{self:{color:d,textColor:u,closeIconColor:f,closeIconColorHover:m,closeIconColorPressed:h,headerTextColor:p,descriptionTextColor:v,actionTextColor:b,borderRadius:y,headerFontWeight:x,boxShadow:C,lineHeight:S,fontSize:T,closeMargin:w,closeSize:E,width:R,padding:P,closeIconSize:_,closeBorderRadius:I,closeColorHover:L,closeColorPressed:N,titleFontSize:H,metaFontSize:G,descriptionFontSize:W,[Ae("iconColor",c)]:J},common:{cubicBezierEaseOut:ne,cubicBezierEaseIn:D,cubicBezierEaseInOut:B}}=n.value,{left:j,right:$,top:V,bottom:X}=Un(P);return{"--n-color":d,"--n-font-size":T,"--n-text-color":u,"--n-description-text-color":v,"--n-action-text-color":b,"--n-title-text-color":p,"--n-title-font-weight":x,"--n-bezier":B,"--n-bezier-ease-out":ne,"--n-bezier-ease-in":D,"--n-border-radius":y,"--n-box-shadow":C,"--n-close-border-radius":I,"--n-close-color-hover":L,"--n-close-color-pressed":N,"--n-close-icon-color":f,"--n-close-icon-color-hover":m,"--n-close-icon-color-pressed":h,"--n-line-height":S,"--n-icon-color":J,"--n-close-margin":w,"--n-close-size":E,"--n-close-icon-size":_,"--n-width":R,"--n-padding-left":j,"--n-padding-right":$,"--n-padding-top":V,"--n-padding-bottom":X,"--n-title-font-size":H,"--n-meta-font-size":G,"--n-description-font-size":W}}),l=o?ot("notification",A(()=>t.type[0]),a,r):void 0;return{mergedClsPrefix:e,showAvatar:A(()=>t.avatar||t.type!=="default"),handleCloseClick(){t.onClose()},rtlEnabled:s,cssVars:o?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{class:[`${e}-notification-wrapper`,this.themeClass],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:this.cssVars},g("div",{class:[`${e}-notification`,this.rtlEnabled&&`${e}-notification--rtl`,this.themeClass,{[`${e}-notification--closable`]:this.closable,[`${e}-notification--show-avatar`]:this.showAvatar}],style:this.cssVars},this.showAvatar?g("div",{class:`${e}-notification__avatar`},this.avatar?dn(this.avatar):this.type!=="default"?g(yt,{clsPrefix:e},{default:()=>MK[this.type]()}):null):null,this.closable?g(ns,{clsPrefix:e,class:`${e}-notification__close`,onClick:this.handleCloseClick}):null,g("div",{ref:"bodyRef",class:`${e}-notification-main`},this.title?g("div",{class:`${e}-notification-main__header`},dn(this.title)):null,this.description?g("div",{class:`${e}-notification-main__description`},dn(this.description)):null,this.content?g("pre",{class:`${e}-notification-main__content`},dn(this.content)):null,this.meta||this.action?g("div",{class:`${e}-notification-main-footer`},this.meta?g("div",{class:`${e}-notification-main-footer__meta`},dn(this.meta)):null,this.action?g("div",{class:`${e}-notification-main-footer__action`},dn(this.action)):null):null)))}}),NK=Object.assign(Object.assign({},Y0),{duration:Number,onClose:Function,onLeave:Function,onAfterEnter:Function,onAfterLeave:Function,onHide:Function,onAfterShow:Function,onAfterHide:Function}),UK=ce({name:"NotificationEnvironment",props:Object.assign(Object.assign({},NK),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(t){const{wipTransitionCountRef:e}=Ve(Mh),n=z(!0);let r=null;function o(){n.value=!1,r&&window.clearTimeout(r)}function i(h){e.value++,$t(()=>{h.style.height=`${h.offsetHeight}px`,h.style.maxHeight="0",h.style.transition="none",h.offsetHeight,h.style.transition="",h.style.maxHeight=h.style.height})}function s(h){e.value--,h.style.height="",h.style.maxHeight="";const{onAfterEnter:p,onAfterShow:v}=t;p&&p(),v&&v()}function a(h){e.value++,h.style.maxHeight=`${h.offsetHeight}px`,h.style.height=`${h.offsetHeight}px`,h.offsetHeight}function l(h){const{onHide:p}=t;p&&p(),h.style.maxHeight="0",h.offsetHeight}function c(){e.value--;const{onAfterLeave:h,onInternalAfterLeave:p,onAfterHide:v,internalKey:b}=t;h&&h(),p(b),v&&v()}function d(){const{duration:h}=t;h&&(r=window.setTimeout(o,h))}function u(h){h.currentTarget===h.target&&r!==null&&(window.clearTimeout(r),r=null)}function f(h){h.currentTarget===h.target&&d()}function m(){const{onClose:h}=t;h?Promise.resolve(h()).then(p=>{p!==!1&&o()}):o()}return Gt(()=>{t.duration&&(r=window.setTimeout(o,t.duration))}),{show:n,hide:o,handleClose:m,handleAfterLeave:c,handleLeave:l,handleBeforeLeave:a,handleAfterEnter:s,handleBeforeEnter:i,handleMouseenter:u,handleMouseleave:f}},render(){return g(en,{name:"notification-transition",appear:!0,onBeforeEnter:this.handleBeforeEnter,onAfterEnter:this.handleAfterEnter,onBeforeLeave:this.handleBeforeLeave,onLeave:this.handleLeave,onAfterLeave:this.handleAfterLeave},{default:()=>this.show?g(zK,Object.assign({},Gn(this.$props,BK),{onClose:this.handleClose,onMouseenter:this.duration&&this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.duration&&this.keepAliveOnHover?this.handleMouseleave:void 0})):null})}}),HK=O([k("notification-container",`
 z-index: 4000;
 position: fixed;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: flex-end;
 `,[O(">",[k("scrollbar",`
 width: initial;
 overflow: visible;
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[O(">",[k("scrollbar-container",`
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[k("scrollbar-content",`
 padding-top: 12px;
 padding-bottom: 33px;
 `)])])])]),M("top, top-right, top-left",`
 top: 12px;
 `,[O("&.transitioning >",[k("scrollbar",[O(">",[k("scrollbar-container",`
 min-height: 100vh !important;
 `)])])])]),M("bottom, bottom-right, bottom-left",`
 bottom: 12px;
 `,[O(">",[k("scrollbar",[O(">",[k("scrollbar-container",[k("scrollbar-content",`
 padding-bottom: 12px;
 `)])])])]),k("notification-wrapper",`
 display: flex;
 align-items: flex-end;
 margin-bottom: 0;
 margin-top: 12px;
 `)]),M("top, bottom",`
 left: 50%;
 transform: translateX(-50%);
 `,[k("notification-wrapper",[O("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: scale(0.85);
 `),O("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: scale(1);
 `)])]),M("top",[k("notification-wrapper",`
 transform-origin: top center;
 `)]),M("bottom",[k("notification-wrapper",`
 transform-origin: bottom center;
 `)]),M("top-right, bottom-right",[k("notification",`
 margin-left: 28px;
 margin-right: 16px;
 `)]),M("top-left, bottom-left",[k("notification",`
 margin-left: 16px;
 margin-right: 28px;
 `)]),M("top-right",`
 right: 0;
 `,[wu("top-right")]),M("top-left",`
 left: 0;
 `,[wu("top-left")]),M("bottom-right",`
 right: 0;
 `,[wu("bottom-right")]),M("bottom-left",`
 left: 0;
 `,[wu("bottom-left")]),M("scrollable",[M("top-right",`
 top: 0;
 `),M("top-left",`
 top: 0;
 `),M("bottom-right",`
 bottom: 0;
 `),M("bottom-left",`
 bottom: 0;
 `)]),k("notification-wrapper",`
 margin-bottom: 12px;
 `,[O("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 opacity: 0;
 margin-top: 0 !important;
 margin-bottom: 0 !important;
 `),O("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 opacity: 1;
 `),O("&.notification-transition-leave-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-in),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `),O("&.notification-transition-enter-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-out),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `)]),k("notification",`
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 font-family: inherit;
 font-size: var(--n-font-size);
 font-weight: 400;
 position: relative;
 display: flex;
 overflow: hidden;
 flex-shrink: 0;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 width: var(--n-width);
 max-width: calc(100vw - 16px - 16px);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 box-sizing: border-box;
 opacity: 1;
 `,[F("avatar",[k("icon",`
 color: var(--n-icon-color);
 `),k("base-icon",`
 color: var(--n-icon-color);
 `)]),M("show-avatar",[k("notification-main",`
 margin-left: 40px;
 width: calc(100% - 40px); 
 `)]),M("closable",[k("notification-main",[O("> *:first-child",`
 padding-right: 20px;
 `)]),F("close",`
 position: absolute;
 top: 0;
 right: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),F("avatar",`
 position: absolute;
 top: var(--n-padding-top);
 left: var(--n-padding-left);
 width: 28px;
 height: 28px;
 font-size: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[k("icon","transition: color .3s var(--n-bezier);")]),k("notification-main",`
 padding-top: var(--n-padding-top);
 padding-bottom: var(--n-padding-bottom);
 box-sizing: border-box;
 display: flex;
 flex-direction: column;
 margin-left: 8px;
 width: calc(100% - 8px);
 `,[k("notification-main-footer",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 margin-top: 12px;
 `,[F("meta",`
 font-size: var(--n-meta-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),F("action",`
 cursor: pointer;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-action-text-color);
 `)]),F("header",`
 font-weight: var(--n-title-font-weight);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-title-text-color);
 `),F("description",`
 margin-top: 8px;
 font-size: var(--n-description-font-size);
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),F("content",`
 line-height: var(--n-line-height);
 margin: 12px 0 0 0;
 font-family: inherit;
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-text-color);
 `,[O("&:first-child","margin: 0;")])])])])]);function wu(t){const n=t.split("-")[1]==="left"?"calc(-100%)":"calc(100%)";return k("notification-wrapper",[O("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: translate(${n}, 0);
 `),O("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: translate(0, 0);
 `)])}const lI="n-notification-api",cI=Object.assign(Object.assign({},ke.props),{containerClass:String,containerStyle:[String,Object],to:[String,Object],scrollable:{type:Boolean,default:!0},max:Number,placement:{type:String,default:"top-right"},keepAliveOnHover:Boolean}),dI=ce({name:"NotificationProvider",props:cI,setup(t){const{mergedClsPrefixRef:e}=Ge(t),n=z([]),r={},o=new Set;function i(m){const h=Vr(),p=()=>{o.add(h),r[h]&&r[h].hide()},v=Ri(Object.assign(Object.assign({},m),{key:h,destroy:p,hide:p,deactivate:p})),{max:b}=t;if(b&&n.value.length-o.size>=b){let y=!1,x=0;for(const C of n.value){if(!o.has(C.key)){r[C.key]&&(C.destroy(),y=!0);break}x++}y||n.value.splice(x,1)}return n.value.push(v),v}const s=["info","success","warning","error"].map(m=>h=>i(Object.assign(Object.assign({},h),{type:m})));function a(m){o.delete(m),n.value.splice(n.value.findIndex(h=>h.key===m),1)}const l=ke("Notification","-notification",HK,OK,t,e),c={create:i,info:s[0],success:s[1],warning:s[2],error:s[3],open:u,destroyAll:f},d=z(0);ft(lI,c),ft(Mh,{props:t,mergedClsPrefixRef:e,mergedThemeRef:l,wipTransitionCountRef:d});function u(m){return i(m)}function f(){Object.values(n.value).forEach(m=>{m.hide()})}return Object.assign({mergedClsPrefix:e,notificationList:n,notificationRefs:r,handleAfterLeave:a},c)},render(){var t,e,n;const{placement:r}=this;return g(Vt,null,(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t),this.notificationList.length?g(Pd,{to:(n=this.to)!==null&&n!==void 0?n:"body"},g(FK,{class:this.containerClass,style:this.containerStyle,scrollable:this.scrollable&&r!=="top"&&r!=="bottom",placement:r},{default:()=>this.notificationList.map(o=>g(UK,Object.assign({ref:i=>{const s=o.key;i===null?delete this.notificationRefs[s]:this.notificationRefs[s]=i}},Gs(o,["destroy","hide","deactivate"]),{internalKey:o.key,onInternalAfterLeave:this.handleAfterLeave,keepAliveOnHover:o.keepAliveOnHover===void 0?this.keepAliveOnHover:o.keepAliveOnHover})))})):null)}});function uI(){const t=Ve(lI,null);return t===null&&nr("use-notification","No outer `n-notification-provider` found."),t}const VK=ce({name:"InjectionExtractor",props:{onSetup:Function},setup(t,{slots:e}){var n;return(n=t.onSetup)===null||n===void 0||n.call(t),()=>{var r;return(r=e.default)===null||r===void 0?void 0:r.call(e)}}}),jK={message:oI,notification:uI,loadingBar:QA,dialog:FA,modal:jA};function WK({providersAndProps:t,configProviderProps:e}){let n=OR(o);const r={app:n};function o(){return g(I0,Ut(e),{default:()=>t.map(({type:a,Provider:l,props:c})=>g(l,Ut(c),{default:()=>g(VK,{onSetup:()=>r[a]=jK[a]()})}))})}let i;return jr&&(i=document.createElement("div"),document.body.appendChild(i),n.mount(i)),Object.assign({unmount:()=>{var a;if(n===null||i===null){Rr("discrete","unmount call no need because discrete app has been unmounted");return}n.unmount(),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=null,n=null}},r)}function KK(t,{configProviderProps:e,messageProviderProps:n,dialogProviderProps:r,notificationProviderProps:o,loadingBarProviderProps:i,modalProviderProps:s}={}){const a=[];return t.forEach(c=>{switch(c){case"message":a.push({type:c,Provider:rI,props:n});break;case"notification":a.push({type:c,Provider:dI,props:o});break;case"dialog":a.push({type:c,Provider:KA,props:r});break;case"loadingBar":a.push({type:c,Provider:XA,props:i});break;case"modal":a.push({type:c,Provider:sI,props:s})}}),WK({providersAndProps:a,configProviderProps:e})}function fI(t){const{textColor1:e,dividerColor:n,fontWeightStrong:r}=t;return{textColor:e,color:n,fontWeight:r}}const GK={common:lt,self:fI},qK={name:"Divider",common:st,self:fI},YK=k("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[wt("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[wt("no-title",`
 display: flex;
 align-items: center;
 `)]),F("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),M("title-position-left",[F("line",[M("left",{width:"28px"})])]),M("title-position-right",[F("line",[M("right",{width:"28px"})])]),M("dashed",[F("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),M("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),F("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),wt("dashed",[F("line",{backgroundColor:"var(--n-color)"})]),M("dashed",[F("line",{borderColor:"var(--n-color)"})]),M("vertical",{backgroundColor:"var(--n-color)"})]),hI=Object.assign(Object.assign({},ke.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),XK=ce({name:"Divider",props:hI,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Divider","-divider",YK,GK,t,e),o=A(()=>{const{common:{cubicBezierEaseInOut:s},self:{color:a,textColor:l,fontWeight:c}}=r.value;return{"--n-bezier":s,"--n-color":a,"--n-text-color":l,"--n-font-weight":c}}),i=n?ot("divider",void 0,o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;const{$slots:e,titlePlacement:n,vertical:r,dashed:o,cssVars:i,mergedClsPrefix:s}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{role:"separator",class:[`${s}-divider`,this.themeClass,{[`${s}-divider--vertical`]:r,[`${s}-divider--no-title`]:!e.default,[`${s}-divider--dashed`]:o,[`${s}-divider--title-position-${n}`]:e.default&&n}],style:i},r?null:g("div",{class:`${s}-divider__line ${s}-divider__line--left`}),!r&&e.default?g(Vt,null,g("div",{class:`${s}-divider__title`},this.$slots),g("div",{class:`${s}-divider__line ${s}-divider__line--right`})):null)}});function gI(t){const{modalColor:e,textColor1:n,textColor2:r,boxShadow3:o,lineHeight:i,fontWeightStrong:s,dividerColor:a,closeColorHover:l,closeColorPressed:c,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,borderRadius:m,primaryColorHover:h}=t;return{bodyPadding:"16px 24px",borderRadius:m,headerPadding:"16px 24px",footerPadding:"16px 24px",color:e,textColor:r,titleTextColor:n,titleFontSize:"18px",titleFontWeight:s,boxShadow:o,lineHeight:i,headerBorderBottom:`1px solid ${a}`,footerBorderTop:`1px solid ${a}`,closeIconColor:d,closeIconColorHover:u,closeIconColorPressed:f,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:c,closeBorderRadius:m,resizableTriggerColorHover:h}}const QK={name:"Drawer",common:lt,peers:{Scrollbar:ro},self:gI},ZK={name:"Drawer",common:st,peers:{Scrollbar:oo},self:gI},JK=ce({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(t){const e=z(!!t.show),n=z(null),r=Ve(Zv);let o=0,i="",s=null;const a=z(!1),l=z(!1),c=A(()=>t.placement==="top"||t.placement==="bottom"),{mergedClsPrefixRef:d,mergedRtlRef:u}=Ge(t),f=rn("Drawer",u,d),m=T,h=R=>{l.value=!0,o=c.value?R.clientY:R.clientX,i=document.body.style.cursor,document.body.style.cursor=c.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",S),document.body.addEventListener("mouseleave",m),document.body.addEventListener("mouseup",T)},p=()=>{s!==null&&(window.clearTimeout(s),s=null),l.value?a.value=!0:s=window.setTimeout(()=>{a.value=!0},300)},v=()=>{s!==null&&(window.clearTimeout(s),s=null),a.value=!1},{doUpdateHeight:b,doUpdateWidth:y}=r,x=R=>{const{maxWidth:P}=t;if(P&&R>P)return P;const{minWidth:_}=t;return _&&R<_?_:R},C=R=>{const{maxHeight:P}=t;if(P&&R>P)return P;const{minHeight:_}=t;return _&&R<_?_:R};function S(R){var P,_;if(l.value)if(c.value){let I=((P=n.value)===null||P===void 0?void 0:P.offsetHeight)||0;const L=o-R.clientY;I+=t.placement==="bottom"?L:-L,I=C(I),b(I),o=R.clientY}else{let I=((_=n.value)===null||_===void 0?void 0:_.offsetWidth)||0;const L=o-R.clientX;I+=t.placement==="right"?L:-L,I=x(I),y(I),o=R.clientX}}function T(){l.value&&(o=0,l.value=!1,document.body.style.cursor=i,document.body.removeEventListener("mousemove",S),document.body.removeEventListener("mouseup",T),document.body.removeEventListener("mouseleave",m))}Xt(()=>{t.show&&(e.value=!0)}),gt(()=>t.show,R=>{R||T()}),Qt(()=>{T()});const w=A(()=>{const{show:R}=t,P=[[bo,R]];return t.showMask||P.push([eo,t.onClickoutside,void 0,{capture:!0}]),P});function E(){var R;e.value=!1,(R=t.onAfterLeave)===null||R===void 0||R.call(t)}return nT(A(()=>t.blockScroll&&e.value)),ft(_d,n),ft(Kl,null),ft(Ld,null),{bodyRef:n,rtlEnabled:f,mergedClsPrefix:r.mergedClsPrefixRef,isMounted:r.isMountedRef,mergedTheme:r.mergedThemeRef,displayed:e,transitionName:A(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[t.placement]),handleAfterLeave:E,bodyDirectives:w,handleMousedownResizeTrigger:h,handleMouseenterResizeTrigger:p,handleMouseleaveResizeTrigger:v,isDragging:l,isHoverOnResizeTrigger:a}},render(){const{$slots:t,mergedClsPrefix:e}=this;return this.displayDirective==="show"||this.displayed||this.show?$n(g("div",{role:"none"},g(r0,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>g(en,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>$n(g("div",sr(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${e}-drawer`,this.rtlEnabled&&`${e}-drawer--rtl`,`${e}-drawer--${this.placement}-placement`,this.isDragging&&`${e}-drawer--unselectable`,this.nativeScrollbar&&`${e}-drawer--native-scrollbar`]}),[this.resizable?g("div",{class:[`${e}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${e}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?g("div",{class:[`${e}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},t):g(Sn,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${e}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),t)]),this.bodyDirectives)})})),[[bo,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:eG,cubicBezierEaseOut:tG}=no;function nG({duration:t="0.3s",leaveDuration:e="0.2s",name:n="slide-in-from-bottom"}={}){return[O(`&.${n}-transition-leave-active`,{transition:`transform ${e} ${eG}`}),O(`&.${n}-transition-enter-active`,{transition:`transform ${t} ${tG}`}),O(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),O(`&.${n}-transition-enter-from`,{transform:"translateY(100%)"}),O(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),O(`&.${n}-transition-leave-to`,{transform:"translateY(100%)"})]}const{cubicBezierEaseIn:rG,cubicBezierEaseOut:oG}=no;function iG({duration:t="0.3s",leaveDuration:e="0.2s",name:n="slide-in-from-left"}={}){return[O(`&.${n}-transition-leave-active`,{transition:`transform ${e} ${rG}`}),O(`&.${n}-transition-enter-active`,{transition:`transform ${t} ${oG}`}),O(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),O(`&.${n}-transition-enter-from`,{transform:"translateX(-100%)"}),O(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),O(`&.${n}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:sG,cubicBezierEaseOut:aG}=no;function lG({duration:t="0.3s",leaveDuration:e="0.2s",name:n="slide-in-from-right"}={}){return[O(`&.${n}-transition-leave-active`,{transition:`transform ${e} ${sG}`}),O(`&.${n}-transition-enter-active`,{transition:`transform ${t} ${aG}`}),O(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),O(`&.${n}-transition-enter-from`,{transform:"translateX(100%)"}),O(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),O(`&.${n}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:cG,cubicBezierEaseOut:dG}=no;function uG({duration:t="0.3s",leaveDuration:e="0.2s",name:n="slide-in-from-top"}={}){return[O(`&.${n}-transition-leave-active`,{transition:`transform ${e} ${cG}`}),O(`&.${n}-transition-enter-active`,{transition:`transform ${t} ${dG}`}),O(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),O(`&.${n}-transition-enter-from`,{transform:"translateY(-100%)"}),O(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),O(`&.${n}-transition-leave-to`,{transform:"translateY(-100%)"})]}const fG=O([k("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[lG(),iG(),uG(),nG(),M("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),M("native-scrollbar",[k("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),F("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[M("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),k("drawer-content-wrapper",`
 box-sizing: border-box;
 `),k("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[M("native-scrollbar",[k("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),k("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),k("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),k("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[F("main",`
 flex: 1;
 `),F("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),k("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),M("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-bottom-left-radius: var(--n-border-radius);
 `,[F("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),M("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 border-top-right-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[F("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),M("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[F("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),M("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 `,[F("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),O("body",[O(">",[k("drawer-container",`
 position: fixed;
 `)])]),k("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[O("> *",`
 pointer-events: all;
 `)]),k("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[M("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),Ki({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),mI=Object.assign(Object.assign({},ke.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),hG=ce({name:"Drawer",inheritAttrs:!1,props:mI,setup(t){const{mergedClsPrefixRef:e,namespaceRef:n,inlineThemeDisabled:r}=Ge(t),o=br(),i=ke("Drawer","-drawer",fG,QK,t,e),s=z(t.defaultWidth),a=z(t.defaultHeight),l=Ft(Se(t,"width"),s),c=Ft(Se(t,"height"),a),d=A(()=>{const{placement:T}=t;return T==="top"||T==="bottom"?"":Mt(l.value)}),u=A(()=>{const{placement:T}=t;return T==="left"||T==="right"?"":Mt(c.value)}),f=T=>{const{onUpdateWidth:w,"onUpdate:width":E}=t;w&&we(w,T),E&&we(E,T),s.value=T},m=T=>{const{onUpdateHeight:w,"onUpdate:width":E}=t;w&&we(w,T),E&&we(E,T),a.value=T},h=A(()=>[{width:d.value,height:u.value},t.drawerStyle||""]);function p(T){const{onMaskClick:w,maskClosable:E}=t;E&&x(!1),w&&w(T)}function v(T){p(T)}const b=tT();function y(T){var w;(w=t.onEsc)===null||w===void 0||w.call(t),t.show&&t.closeOnEsc&&bT(T)&&(b.value||x(!1))}function x(T){const{onHide:w,onUpdateShow:E,"onUpdate:show":R}=t;E&&we(E,T),R&&we(R,T),w&&!T&&we(w,T)}ft(Zv,{isMountedRef:o,mergedThemeRef:i,mergedClsPrefixRef:e,doUpdateShow:x,doUpdateHeight:m,doUpdateWidth:f});const C=A(()=>{const{common:{cubicBezierEaseInOut:T,cubicBezierEaseIn:w,cubicBezierEaseOut:E},self:{color:R,textColor:P,boxShadow:_,lineHeight:I,headerPadding:L,footerPadding:N,borderRadius:H,bodyPadding:G,titleFontSize:W,titleTextColor:J,titleFontWeight:ne,headerBorderBottom:D,footerBorderTop:B,closeIconColor:j,closeIconColorHover:$,closeIconColorPressed:V,closeColorHover:X,closeColorPressed:Z,closeIconSize:q,closeSize:ue,closeBorderRadius:K,resizableTriggerColorHover:he}}=i.value;return{"--n-line-height":I,"--n-color":R,"--n-border-radius":H,"--n-text-color":P,"--n-box-shadow":_,"--n-bezier":T,"--n-bezier-out":E,"--n-bezier-in":w,"--n-header-padding":L,"--n-body-padding":G,"--n-footer-padding":N,"--n-title-text-color":J,"--n-title-font-size":W,"--n-title-font-weight":ne,"--n-header-border-bottom":D,"--n-footer-border-top":B,"--n-close-icon-color":j,"--n-close-icon-color-hover":$,"--n-close-icon-color-pressed":V,"--n-close-size":ue,"--n-close-color-hover":X,"--n-close-color-pressed":Z,"--n-close-icon-size":q,"--n-close-border-radius":K,"--n-resize-trigger-color-hover":he}}),S=r?ot("drawer",void 0,C,t):void 0;return{mergedClsPrefix:e,namespace:n,mergedBodyStyle:h,handleOutsideClick:v,handleMaskClick:p,handleEsc:y,mergedTheme:i,cssVars:r?void 0:C,themeClass:S==null?void 0:S.themeClass,onRender:S==null?void 0:S.onRender,isMounted:o}},render(){const{mergedClsPrefix:t}=this;return g(Od,{to:this.to,show:this.show},{default:()=>{var e;return(e=this.onRender)===null||e===void 0||e.call(this),$n(g("div",{class:[`${t}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?g(en,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?g("div",{"aria-hidden":!0,class:[`${t}-drawer-mask`,this.showMask==="transparent"&&`${t}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,g(JK,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[Dd,{zIndex:this.zIndex,enabled:this.show}]])}})}}),pI={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},gG=ce({name:"DrawerContent",props:pI,slots:Object,setup(){const t=Ve(Zv,null);t||nr("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:e}=t;function n(){e(!1)}return{handleCloseClick:n,mergedTheme:t.mergedThemeRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){const{title:t,mergedClsPrefix:e,nativeScrollbar:n,mergedTheme:r,bodyClass:o,bodyStyle:i,bodyContentClass:s,bodyContentStyle:a,headerClass:l,headerStyle:c,footerClass:d,footerStyle:u,scrollbarProps:f,closable:m,$slots:h}=this;return g("div",{role:"none",class:[`${e}-drawer-content`,n&&`${e}-drawer-content--native-scrollbar`]},h.header||t||m?g("div",{class:[`${e}-drawer-header`,l],style:c,role:"none"},g("div",{class:`${e}-drawer-header__main`,role:"heading","aria-level":"1"},h.header!==void 0?h.header():t),m&&g(ns,{onClick:this.handleCloseClick,clsPrefix:e,class:`${e}-drawer-header__close`,absolute:!0})):null,n?g("div",{class:[`${e}-drawer-body`,o],style:i,role:"none"},g("div",{class:[`${e}-drawer-body-content-wrapper`,s],style:a,role:"none"},h)):g(Sn,Object.assign({themeOverrides:r.peerOverrides.Scrollbar,theme:r.peers.Scrollbar},f,{class:`${e}-drawer-body`,contentClass:[`${e}-drawer-body-content-wrapper`,s],contentStyle:a}),h),h.footer?g("div",{class:[`${e}-drawer-footer`,d],style:u,role:"none"},h.footer()):null)}}),vI={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},mG={name:"DynamicInput",common:st,peers:{Input:Co,Button:ao},self(){return vI}};function pG(){return vI}const vG={name:"DynamicInput",common:lt,peers:{Input:io,Button:so},self:pG},X0="n-dynamic-input",bG=ce({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:t,placeholderRef:e}=Ve(X0);return{mergedTheme:t,placeholder:e}},render(){const{mergedTheme:t,placeholder:e,value:n,clsPrefix:r,onUpdateValue:o,disabled:i}=this;return g("div",{class:`${r}-dynamic-input-preset-input`},g(tr,{theme:t.peers.Input,"theme-overrides":t.peerOverrides.Input,value:n,placeholder:e,onUpdateValue:o,disabled:i}))}}),yG=ce({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(t){const{mergedThemeRef:e,keyPlaceholderRef:n,valuePlaceholderRef:r}=Ve(X0);return{mergedTheme:e,keyPlaceholder:n,valuePlaceholder:r,handleKeyInput(o){t.onUpdateValue({key:o,value:t.value.value})},handleValueInput(o){t.onUpdateValue({key:t.value.key,value:o})}}},render(){const{mergedTheme:t,keyPlaceholder:e,valuePlaceholder:n,value:r,clsPrefix:o,disabled:i}=this;return g("div",{class:`${o}-dynamic-input-preset-pair`},g(tr,{theme:t.peers.Input,"theme-overrides":t.peerOverrides.Input,value:r.key,class:`${o}-dynamic-input-pair-input`,placeholder:e,onUpdateValue:this.handleKeyInput,disabled:i}),g(tr,{theme:t.peers.Input,"theme-overrides":t.peerOverrides.Input,value:r.value,class:`${o}-dynamic-input-pair-input`,placeholder:n,onUpdateValue:this.handleValueInput,disabled:i}))}}),xG=k("dynamic-input",{width:"100%"},[k("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[k("dynamic-input-preset-input",{flex:1,alignItems:"center"}),k("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[k("dynamic-input-pair-input",[O("&:first-child",{"margin-right":"12px"})])]),F("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[M("icon",{cursor:"pointer"})]),O("&:last-child",{marginBottom:0})]),k("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[k("form-item-blank",{paddingTop:"0 !important"})])]),Ru=new WeakMap,bI=Object.assign(Object.assign({},ke.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemClass:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},disabled:Boolean,showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]}),CG=ce({name:"DynamicInput",props:bI,setup(t,{slots:e}){const{mergedComponentPropsRef:n,mergedClsPrefixRef:r,mergedRtlRef:o,inlineThemeDisabled:i}=Ge(),s=Ve(Tf,null),a=z(t.defaultValue),l=Se(t,"value"),c=Ft(l,a),d=ke("DynamicInput","-dynamic-input",xG,vG,t,r),u=A(()=>{const{value:R}=c;if(Array.isArray(R)){const{max:P}=t;return P!==void 0&&R.length>=P}return!1}),f=A(()=>{const{value:R}=c;return Array.isArray(R)?R.length<=t.min:!0}),m=A(()=>{var R,P;return(P=(R=n==null?void 0:n.value)===null||R===void 0?void 0:R.DynamicInput)===null||P===void 0?void 0:P.buttonSize});function h(R){const{onInput:P,"onUpdate:value":_,onUpdateValue:I}=t;P&&we(P,R),_&&we(_,R),I&&we(I,R),a.value=R}function p(R,P){if(R==null||typeof R!="object")return P;const _=xl(R)?Jt(R):R;let I=Ru.get(_);return I===void 0&&Ru.set(_,I=Vr()),I}function v(R,P){const{value:_}=c,I=Array.from(_??[]),L=I[R];if(I[R]=P,L&&P&&typeof L=="object"&&typeof P=="object"){const N=xl(L)?Jt(L):L,H=xl(P)?Jt(P):P,G=Ru.get(N);G!==void 0&&Ru.set(H,G)}h(I)}function b(){y(-1)}function y(R){const{value:P}=c,{onCreate:_}=t,I=Array.from(P??[]);if(_)I.splice(R+1,0,_(R+1)),h(I);else if(e.default)I.splice(R+1,0,null),h(I);else switch(t.preset){case"input":I.splice(R+1,0,""),h(I);break;case"pair":I.splice(R+1,0,{key:"",value:""}),h(I);break}}function x(R){const{value:P}=c;if(!Array.isArray(P))return;const{min:_}=t;if(P.length<=_)return;const{onRemove:I}=t;I&&I(R);const L=Array.from(P);L.splice(R,1),h(L)}function C(R,P,_){if(P<0||_<0||P>=R.length||_>=R.length||P===_)return;const I=R[P];R[P]=R[_],R[_]=I}function S(R,P){const{value:_}=c;if(!Array.isArray(_))return;const I=Array.from(_);R==="up"&&C(I,P,P-1),R==="down"&&C(I,P,P+1),h(I)}ft(X0,{mergedThemeRef:d,keyPlaceholderRef:Se(t,"keyPlaceholder"),valuePlaceholderRef:Se(t,"valuePlaceholder"),placeholderRef:Se(t,"placeholder")});const T=rn("DynamicInput",o,r),w=A(()=>{const{self:{actionMargin:R,actionMarginRtl:P}}=d.value;return{"--action-margin":R,"--action-margin-rtl":P}}),E=i?ot("dynamic-input",void 0,w,t):void 0;return{locale:Mn("DynamicInput").localeRef,rtlEnabled:T,buttonSize:m,mergedClsPrefix:r,NFormItem:s,uncontrolledValue:a,mergedValue:c,insertionDisabled:u,removeDisabled:f,handleCreateClick:b,ensureKey:p,handleValueChange:v,remove:x,move:S,createItem:y,mergedTheme:d,cssVars:i?void 0:w,themeClass:E==null?void 0:E.themeClass,onRender:E==null?void 0:E.onRender}},render(){const{$slots:t,itemClass:e,buttonSize:n,mergedClsPrefix:r,mergedValue:o,locale:i,mergedTheme:s,keyField:a,itemStyle:l,preset:c,showSortButton:d,NFormItem:u,ensureKey:f,handleValueChange:m,remove:h,createItem:p,move:v,onRender:b,disabled:y}=this;return b==null||b(),g("div",{class:[`${r}-dynamic-input`,this.rtlEnabled&&`${r}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(o)||o.length===0?g(At,Object.assign({block:!0,ghost:!0,dashed:!0,size:n},this.createButtonProps,{disabled:this.insertionDisabled||y,theme:s.peers.Button,themeOverrides:s.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>Et(t["create-button-default"],()=>[i.create]),icon:()=>Et(t["create-button-icon"],()=>[g(yt,{clsPrefix:r},{default:()=>g(Ol,null)})])}):o.map((x,C)=>g("div",{key:a?x[a]:f(x,C),"data-key":a?x[a]:f(x,C),class:[`${r}-dynamic-input-item`,e],style:l},Vn(t.default,{value:o[C],index:C},()=>[c==="input"?g(bG,{disabled:y,clsPrefix:r,value:o[C],parentPath:u?u.path.value:void 0,path:u!=null&&u.path.value?`${u.path.value}[${C}]`:void 0,onUpdateValue:S=>{m(C,S)}}):c==="pair"?g(yG,{disabled:y,clsPrefix:r,value:o[C],parentPath:u?u.path.value:void 0,path:u!=null&&u.path.value?`${u.path.value}[${C}]`:void 0,onUpdateValue:S=>{m(C,S)}}):null]),Vn(t.action,{value:o[C],index:C,create:p,remove:h,move:v},()=>[g("div",{class:`${r}-dynamic-input-item__action`},g(Ph,{size:n},{default:()=>[g(At,{disabled:this.removeDisabled||y,theme:s.peers.Button,themeOverrides:s.peerOverrides.Button,circle:!0,onClick:()=>{h(C)}},{icon:()=>g(yt,{clsPrefix:r},{default:()=>g(yE,null)})}),g(At,{disabled:this.insertionDisabled||y,circle:!0,theme:s.peers.Button,themeOverrides:s.peerOverrides.Button,onClick:()=>{p(C)}},{icon:()=>g(yt,{clsPrefix:r},{default:()=>g(Ol,null)})}),d?g(At,{disabled:C===0||y,circle:!0,theme:s.peers.Button,themeOverrides:s.peerOverrides.Button,onClick:()=>{v("up",C)}},{icon:()=>g(yt,{clsPrefix:r},{default:()=>g(v8,null)})}):null,d?g(At,{disabled:C===o.length-1||y,circle:!0,theme:s.peers.Button,themeOverrides:s.peerOverrides.Button,onClick:()=>{v("down",C)}},{icon:()=>g(yt,{clsPrefix:r},{default:()=>g(mE,null)})}):null]}))]))))}}),yI={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},xI={name:"Space",self(){return yI}};function SG(){return yI}const CI={name:"Space",self:SG};let Xg;function wG(){if(!jr)return!0;if(Xg===void 0){const t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t);const e=t.scrollHeight===1;return document.body.removeChild(t),Xg=e}return Xg}const SI=Object.assign(Object.assign({},ke.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),wI=ce({name:"Space",props:SI,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=Ge(t),r=ke("Space","-space",void 0,CI,t,e),o=rn("Space",n,e);return{useGap:wG(),rtlEnabled:o,mergedClsPrefix:e,margin:A(()=>{const{size:i}=t;if(Array.isArray(i))return{horizontal:i[0],vertical:i[1]};if(typeof i=="number")return{horizontal:i,vertical:i};const{self:{[Ae("gap",i)]:s}}=r.value,{row:a,col:l}=jR(s);return{horizontal:on(l),vertical:on(a)}})}},render(){const{vertical:t,reverse:e,align:n,inline:r,justify:o,itemClass:i,itemStyle:s,margin:a,wrap:l,mergedClsPrefix:c,rtlEnabled:d,useGap:u,wrapItem:f,internalUseGap:m}=this,h=Yr(Gl(this),!1);if(!h.length)return null;const p=`${a.horizontal}px`,v=`${a.horizontal/2}px`,b=`${a.vertical}px`,y=`${a.vertical/2}px`,x=h.length-1,C=o.startsWith("space-");return g("div",{role:"none",class:[`${c}-space`,d&&`${c}-space--rtl`],style:{display:r?"inline-flex":"flex",flexDirection:t&&!e?"column":t&&e?"column-reverse":!t&&e?"row-reverse":"row",justifyContent:["start","end"].includes(o)?`flex-${o}`:o,flexWrap:!l||t?"nowrap":"wrap",marginTop:u||t?"":`-${y}`,marginBottom:u||t?"":`-${y}`,alignItems:n,gap:u?`${a.vertical}px ${a.horizontal}px`:""}},!f&&(u||m)?h:h.map((S,T)=>S.type===or?S:g("div",{role:"none",class:i,style:[s,{maxWidth:"100%"},u?"":t?{marginBottom:T!==x?b:""}:d?{marginLeft:C?o==="space-between"&&T===x?"":v:T!==x?p:"",marginRight:C?o==="space-between"&&T===0?"":v:"",paddingTop:y,paddingBottom:y}:{marginRight:C?o==="space-between"&&T===x?"":v:T!==x?p:"",marginLeft:C?o==="space-between"&&T===0?"":v:"",paddingTop:y,paddingBottom:y}]},S)))}}),RG={name:"DynamicTags",common:st,peers:{Input:Co,Button:ao,Tag:FE,Space:xI},self(){return{inputWidth:"64px"}}},TG={name:"DynamicTags",common:lt,peers:{Input:io,Button:so,Tag:ME,Space:CI},self(){return{inputWidth:"64px"}}},EG=k("dynamic-tags",[k("input",{minWidth:"var(--n-input-width)"})]),RI=Object.assign(Object.assign(Object.assign({},ke.props),BE),{size:{type:String,default:"medium"},closable:{type:Boolean,default:!0},defaultValue:{type:Array,default:()=>[]},value:Array,inputClass:String,inputStyle:[String,Object],inputProps:Object,max:Number,tagClass:String,tagStyle:[String,Object],renderTag:Function,onCreate:{type:Function,default:t=>t},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),kG=ce({name:"DynamicTags",props:RI,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),{localeRef:r}=Mn("DynamicTags"),o=jn(t),{mergedDisabledRef:i}=o,s=z(""),a=z(!1),l=z(!0),c=z(null),d=ke("DynamicTags","-dynamic-tags",EG,TG,t,e),u=z(t.defaultValue),f=Se(t,"value"),m=Ft(f,u),h=A(()=>r.value.add),p=A(()=>sp(t.size)),v=A(()=>i.value||!!t.max&&m.value.length>=t.max);function b(R){const{onChange:P,"onUpdate:value":_,onUpdateValue:I}=t,{nTriggerFormInput:L,nTriggerFormChange:N}=o;P&&we(P,R),I&&we(I,R),_&&we(_,R),u.value=R,L(),N()}function y(R){const P=m.value.slice(0);P.splice(R,1),b(P)}function x(R){switch(R.key){case"Enter":C()}}function C(R){const P=R??s.value;if(P){const _=m.value.slice(0);_.push(t.onCreate(P)),b(_)}a.value=!1,l.value=!0,s.value=""}function S(){C()}function T(){a.value=!0,$t(()=>{var R;(R=c.value)===null||R===void 0||R.focus(),l.value=!1})}const w=A(()=>{const{self:{inputWidth:R}}=d.value;return{"--n-input-width":R}}),E=n?ot("dynamic-tags",void 0,w,t):void 0;return{mergedClsPrefix:e,inputInstRef:c,localizedAdd:h,inputSize:p,inputValue:s,showInput:a,inputForceFocused:l,mergedValue:m,mergedDisabled:i,triggerDisabled:v,handleInputKeyDown:x,handleAddClick:T,handleInputBlur:S,handleCloseClick:y,handleInputConfirm:C,mergedTheme:d,cssVars:n?void 0:w,themeClass:E==null?void 0:E.themeClass,onRender:E==null?void 0:E.onRender}},render(){const{mergedTheme:t,cssVars:e,mergedClsPrefix:n,onRender:r,renderTag:o}=this;return r==null||r(),g(wI,{class:[`${n}-dynamic-tags`,this.themeClass],size:"small",style:e,theme:t.peers.Space,themeOverrides:t.peerOverrides.Space,itemStyle:"display: flex;"},{default:()=>{const{mergedTheme:i,tagClass:s,tagStyle:a,type:l,round:c,size:d,color:u,closable:f,mergedDisabled:m,showInput:h,inputValue:p,inputClass:v,inputStyle:b,inputSize:y,inputForceFocused:x,triggerDisabled:C,handleInputKeyDown:S,handleInputBlur:T,handleAddClick:w,handleCloseClick:E,handleInputConfirm:R,$slots:P}=this;return this.mergedValue.map((_,I)=>o?o(_,I):g(Vc,{key:I,theme:i.peers.Tag,themeOverrides:i.peerOverrides.Tag,class:s,style:a,type:l,round:c,size:d,color:u,closable:f,disabled:m,onClose:()=>{E(I)}},{default:()=>typeof _=="string"?_:_.label})).concat(h?P.input?P.input({submit:R,deactivate:T}):g(tr,Object.assign({placeholder:"",size:y,style:b,class:v,autosize:!0},this.inputProps,{ref:"inputInstRef",value:p,onUpdateValue:_=>{this.inputValue=_},theme:i.peers.Input,themeOverrides:i.peerOverrides.Input,onKeydown:S,onBlur:T,internalForceFocus:x})):P.trigger?P.trigger({activate:w,disabled:C}):g(At,{dashed:!0,disabled:C,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:y,onClick:w},{icon:()=>g(yt,{clsPrefix:n},{default:()=>g(Ol,null)})}))}})}}),PG={name:"Element",common:st},AG={common:lt},TI=Object.assign(Object.assign({},ke.props),{tag:{type:String,default:"div"}}),IC=ce({name:"Element",alias:["El"],props:TI,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Element","-element",void 0,AG,t,e),o=A(()=>{const{common:s}=r.value;return Object.keys(s).reduce((a,l)=>(a[`--${fE(l)}`]=s[l],a),{})}),i=n?ot("element",void 0,o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;const{tag:e,mergedClsPrefix:n,cssVars:r,themeClass:o,onRender:i,$slots:s}=this;return i==null||i(),g(e,{role:"none",class:[`${n}-element`,o],style:r},(t=s.default)===null||t===void 0?void 0:t.call(s))}}),EI={value:String,katex:Object,katexOptions:Object},IG=ce({name:"Equation",props:EI,setup(t){const e=Ve(to),n=A(()=>{var r;const o=((r=t.katex||(e==null?void 0:e.mergedKatexRef.value))===null||r===void 0?void 0:r.renderToString(t.value||"",Object.assign({throwOnError:!1},t.katexOptions)))||"no katex provided",i=o.match(/^<([a-z]+)[^>]+class="([^"]+)"[^>]*>/),s=(i==null?void 0:i[1])||"span",a=i==null?void 0:i[2],l=o.replace(/^<[a-z]+[^>]*>/,"").replace(/<\/[a-z]+>$/,"");return{wrapperTag:s,innerHtml:l,wrapperClass:a}});return()=>{const{innerHtml:r,wrapperClass:o,wrapperTag:i}=n.value;return g(i,{class:o,innerHTML:r})}}}),kI={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},_G={name:"Flex",self(){return kI}};function LG(){return kI}const DG={self:LG},PI=Object.assign(Object.assign({},ke.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrap:{type:Boolean,default:!0}}),OG=ce({name:"Flex",props:PI,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=Ge(t),r=ke("Flex","-flex",void 0,DG,t,e);return{rtlEnabled:rn("Flex",n,e),mergedClsPrefix:e,margin:A(()=>{const{size:i}=t;if(Array.isArray(i))return{horizontal:i[0],vertical:i[1]};if(typeof i=="number")return{horizontal:i,vertical:i};const{self:{[Ae("gap",i)]:s}}=r.value,{row:a,col:l}=jR(s);return{horizontal:on(l),vertical:on(a)}})}},render(){const{vertical:t,reverse:e,align:n,inline:r,justify:o,margin:i,wrap:s,mergedClsPrefix:a,rtlEnabled:l}=this,c=Yr(Gl(this),!1);return c.length?g("div",{role:"none",class:[`${a}-flex`,l&&`${a}-flex--rtl`],style:{display:r?"inline-flex":"flex",flexDirection:t&&!e?"column":t&&e?"column-reverse":!t&&e?"row-reverse":"row",justifyContent:o,flexWrap:!s||t?"nowrap":"wrap",alignItems:n,gap:`${i.vertical}px ${i.horizontal}px`}},c):null}}),$G={name:"ButtonGroup",common:st},FG={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"};function AI(t){const{heightSmall:e,heightMedium:n,heightLarge:r,textColor1:o,errorColor:i,warningColor:s,lineHeight:a,textColor3:l}=t;return Object.assign(Object.assign({},FG),{blankHeightSmall:e,blankHeightMedium:n,blankHeightLarge:r,lineHeight:a,labelTextColor:o,asteriskColor:i,feedbackTextColorError:i,feedbackTextColorWarning:s,feedbackTextColor:l})}const II={common:lt,self:AI},MG={name:"Form",common:st,self:AI},BG={name:"GradientText",common:st,self(t){const{primaryColor:e,successColor:n,warningColor:r,errorColor:o,infoColor:i,primaryColorSuppl:s,successColorSuppl:a,warningColorSuppl:l,errorColorSuppl:c,infoColorSuppl:d,fontWeightStrong:u}=t;return{fontWeight:u,rotate:"252deg",colorStartPrimary:e,colorEndPrimary:s,colorStartInfo:i,colorEndInfo:d,colorStartWarning:r,colorEndWarning:l,colorStartError:o,colorEndError:c,colorStartSuccess:n,colorEndSuccess:a}}};function zG(t){const{primaryColor:e,successColor:n,warningColor:r,errorColor:o,infoColor:i,fontWeightStrong:s}=t;return{fontWeight:s,rotate:"252deg",colorStartPrimary:Ye(e,{alpha:.6}),colorEndPrimary:e,colorStartInfo:Ye(i,{alpha:.6}),colorEndInfo:i,colorStartWarning:Ye(r,{alpha:.6}),colorEndWarning:r,colorStartError:Ye(o,{alpha:.6}),colorEndError:o,colorStartSuccess:Ye(n,{alpha:.6}),colorEndSuccess:n}}const NG={common:lt,self:zG},UG={name:"InputNumber",common:st,peers:{Button:ao,Input:Co},self(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}};function HG(t){const{textColorDisabled:e}=t;return{iconColorDisabled:e}}const VG={name:"InputNumber",common:lt,peers:{Button:so,Input:io},self:HG};function _I(){return{inputWidthSmall:"24px",inputWidthMedium:"30px",inputWidthLarge:"36px",gapSmall:"8px",gapMedium:"8px",gapLarge:"8px"}}const jG={name:"InputOtp",common:lt,peers:{Input:io},self:_I},WG={name:"InputOtp",common:st,peers:{Input:Co},self:_I},KG={name:"Layout",common:st,peers:{Scrollbar:oo},self(t){const{textColor2:e,bodyColor:n,popoverColor:r,cardColor:o,dividerColor:i,scrollbarColor:s,scrollbarColorHover:a}=t;return{textColor:e,textColorInverted:e,color:n,colorEmbedded:n,headerColor:o,headerColorInverted:o,footerColor:o,footerColorInverted:o,headerBorderColor:i,headerBorderColorInverted:i,footerBorderColor:i,footerBorderColorInverted:i,siderBorderColor:i,siderBorderColorInverted:i,siderColor:o,siderColorInverted:o,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:r,siderToggleButtonIconColor:e,siderToggleButtonIconColorInverted:e,siderToggleBarColor:vt(n,s),siderToggleBarColorHover:vt(n,a),__invertScrollbar:"false"}}};function GG(t){const{baseColor:e,textColor2:n,bodyColor:r,cardColor:o,dividerColor:i,actionColor:s,scrollbarColor:a,scrollbarColorHover:l,invertedColor:c}=t;return{textColor:n,textColorInverted:"#FFF",color:r,colorEmbedded:s,headerColor:o,headerColorInverted:c,footerColor:s,footerColorInverted:c,headerBorderColor:i,headerBorderColorInverted:c,footerBorderColor:i,footerBorderColorInverted:c,siderBorderColor:i,siderBorderColorInverted:c,siderColor:o,siderColorInverted:c,siderToggleButtonBorder:`1px solid ${i}`,siderToggleButtonColor:e,siderToggleButtonIconColor:n,siderToggleButtonIconColorInverted:n,siderToggleBarColor:vt(r,a),siderToggleBarColorHover:vt(r,l),__invertScrollbar:"true"}}const Bh={name:"Layout",common:lt,peers:{Scrollbar:ro},self:GG},qG={name:"Row",common:st};function LI(t){const{textColor2:e,cardColor:n,modalColor:r,popoverColor:o,dividerColor:i,borderRadius:s,fontSize:a,hoverColor:l}=t;return{textColor:e,color:n,colorHover:l,colorModal:r,colorHoverModal:vt(r,l),colorPopover:o,colorHoverPopover:vt(o,l),borderColor:i,borderColorModal:vt(r,i),borderColorPopover:vt(o,i),borderRadius:s,fontSize:a}}const YG={common:lt,self:LI},XG={name:"List",common:st,self:LI},QG={name:"Log",common:st,peers:{Scrollbar:oo,Code:cP},self(t){const{textColor2:e,inputColor:n,fontSize:r,primaryColor:o}=t;return{loaderFontSize:r,loaderTextColor:e,loaderColor:n,loaderBorder:"1px solid #0000",loadingColor:o}}};function ZG(t){const{textColor2:e,modalColor:n,borderColor:r,fontSize:o,primaryColor:i}=t;return{loaderFontSize:o,loaderTextColor:e,loaderColor:n,loaderBorder:`1px solid ${r}`,loadingColor:i}}const JG={name:"Log",common:lt,peers:{Scrollbar:ro,Code:dP},self:ZG},eq={name:"Mention",common:st,peers:{InternalSelectMenu:Fd,Input:Co},self(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}};function tq(t){const{boxShadow2:e}=t;return{menuBoxShadow:e}}const nq={name:"Mention",common:lt,peers:{InternalSelectMenu:Yl,Input:io},self:tq};function rq(t,e,n,r){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:e,itemColorActiveHoverInverted:e,itemColorActiveCollapsedInverted:e,itemTextColorInverted:t,itemTextColorHoverInverted:n,itemTextColorChildActiveInverted:n,itemTextColorChildActiveHoverInverted:n,itemTextColorActiveInverted:n,itemTextColorActiveHoverInverted:n,itemTextColorHorizontalInverted:t,itemTextColorHoverHorizontalInverted:n,itemTextColorChildActiveHorizontalInverted:n,itemTextColorChildActiveHoverHorizontalInverted:n,itemTextColorActiveHorizontalInverted:n,itemTextColorActiveHoverHorizontalInverted:n,itemIconColorInverted:t,itemIconColorHoverInverted:n,itemIconColorActiveInverted:n,itemIconColorActiveHoverInverted:n,itemIconColorChildActiveInverted:n,itemIconColorChildActiveHoverInverted:n,itemIconColorCollapsedInverted:t,itemIconColorHorizontalInverted:t,itemIconColorHoverHorizontalInverted:n,itemIconColorActiveHorizontalInverted:n,itemIconColorActiveHoverHorizontalInverted:n,itemIconColorChildActiveHorizontalInverted:n,itemIconColorChildActiveHoverHorizontalInverted:n,arrowColorInverted:t,arrowColorHoverInverted:n,arrowColorActiveInverted:n,arrowColorActiveHoverInverted:n,arrowColorChildActiveInverted:n,arrowColorChildActiveHoverInverted:n,groupTextColorInverted:r}}function DI(t){const{borderRadius:e,textColor3:n,primaryColor:r,textColor2:o,textColor1:i,fontSize:s,dividerColor:a,hoverColor:l,primaryColorHover:c}=t;return Object.assign({borderRadius:e,color:"#0000",groupTextColor:n,itemColorHover:l,itemColorActive:Ye(r,{alpha:.1}),itemColorActiveHover:Ye(r,{alpha:.1}),itemColorActiveCollapsed:Ye(r,{alpha:.1}),itemTextColor:o,itemTextColorHover:o,itemTextColorActive:r,itemTextColorActiveHover:r,itemTextColorChildActive:r,itemTextColorChildActiveHover:r,itemTextColorHorizontal:o,itemTextColorHoverHorizontal:c,itemTextColorActiveHorizontal:r,itemTextColorActiveHoverHorizontal:r,itemTextColorChildActiveHorizontal:r,itemTextColorChildActiveHoverHorizontal:r,itemIconColor:i,itemIconColorHover:i,itemIconColorActive:r,itemIconColorActiveHover:r,itemIconColorChildActive:r,itemIconColorChildActiveHover:r,itemIconColorCollapsed:i,itemIconColorHorizontal:i,itemIconColorHoverHorizontal:c,itemIconColorActiveHorizontal:r,itemIconColorActiveHoverHorizontal:r,itemIconColorChildActiveHorizontal:r,itemIconColorChildActiveHoverHorizontal:r,itemHeight:"42px",arrowColor:o,arrowColorHover:o,arrowColorActive:r,arrowColorActiveHover:r,arrowColorChildActive:r,arrowColorChildActiveHover:r,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:s,dividerColor:a},rq("#BBB",r,"#FFF","#AAA"))}const oq={name:"Menu",common:lt,peers:{Tooltip:Ih,Dropdown:D0},self:DI},iq={name:"Menu",common:st,peers:{Tooltip:Ah,Dropdown:O0},self(t){const{primaryColor:e,primaryColorSuppl:n}=t,r=DI(t);return r.itemColorActive=Ye(e,{alpha:.15}),r.itemColorActiveHover=Ye(e,{alpha:.15}),r.itemColorActiveCollapsed=Ye(e,{alpha:.15}),r.itemColorActiveInverted=n,r.itemColorActiveHoverInverted=n,r.itemColorActiveCollapsedInverted=n,r}},sq={titleFontSize:"18px",backSize:"22px"};function OI(t){const{textColor1:e,textColor2:n,textColor3:r,fontSize:o,fontWeightStrong:i,primaryColorHover:s,primaryColorPressed:a}=t;return Object.assign(Object.assign({},sq),{titleFontWeight:i,fontSize:o,titleTextColor:e,backColor:n,backColorHover:s,backColorPressed:a,subtitleTextColor:r})}const aq={name:"PageHeader",common:lt,self:OI},lq={name:"PageHeader",common:st,self:OI},cq={iconSize:"22px"};function $I(t){const{fontSize:e,warningColor:n}=t;return Object.assign(Object.assign({},cq),{fontSize:e,iconColor:n})}const dq={name:"Popconfirm",common:lt,peers:{Button:so,Popover:Ha},self:$I},uq={name:"Popconfirm",common:st,peers:{Button:ao,Popover:Va},self:$I};function FI(t){const{infoColor:e,successColor:n,warningColor:r,errorColor:o,textColor2:i,progressRailColor:s,fontSize:a,fontWeight:l}=t;return{fontSize:a,fontSizeCircle:"28px",fontWeightCircle:l,railColor:s,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:e,iconColorInfo:e,iconColorSuccess:n,iconColorWarning:r,iconColorError:o,textColorCircle:i,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:i,fillColor:e,fillColorInfo:e,fillColorSuccess:n,fillColorWarning:r,fillColorError:o,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}}const MI={name:"Progress",common:lt,self:FI},BI={name:"Progress",common:st,self(t){const e=FI(t);return e.textColorLineInner="rgb(0, 0, 0)",e.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",e}},fq={name:"Rate",common:st,self(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}};function hq(t){const{railColor:e}=t;return{itemColor:e,itemColorActive:"#FFCC33",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}const gq={common:lt,self:hq},mq={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0};function zI(t){const{textColor2:e,textColor1:n,errorColor:r,successColor:o,infoColor:i,warningColor:s,lineHeight:a,fontWeightStrong:l}=t;return Object.assign(Object.assign({},mq),{lineHeight:a,titleFontWeight:l,titleTextColor:n,textColor:e,iconColorError:r,iconColorSuccess:o,iconColorInfo:i,iconColorWarning:s})}const pq={common:lt,self:zI},vq={name:"Result",common:st,self:zI},NI={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},bq={name:"Slider",common:st,self(t){const e="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:n,modalColor:r,primaryColorSuppl:o,popoverColor:i,textColor2:s,cardColor:a,borderRadius:l,fontSize:c,opacityDisabled:d}=t;return Object.assign(Object.assign({},NI),{fontSize:c,markFontSize:c,railColor:n,railColorHover:n,fillColor:o,fillColorHover:o,opacityDisabled:d,handleColor:"#FFF",dotColor:a,dotColorModal:r,dotColorPopover:i,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:i,indicatorBoxShadow:e,indicatorTextColor:s,indicatorBorderRadius:l,dotBorder:`2px solid ${n}`,dotBorderActive:`2px solid ${o}`,dotBoxShadow:""})}};function yq(t){const e="rgba(0, 0, 0, .85)",n="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:r,primaryColor:o,baseColor:i,cardColor:s,modalColor:a,popoverColor:l,borderRadius:c,fontSize:d,opacityDisabled:u}=t;return Object.assign(Object.assign({},NI),{fontSize:d,markFontSize:d,railColor:r,railColorHover:r,fillColor:o,fillColorHover:o,opacityDisabled:u,handleColor:"#FFF",dotColor:s,dotColorModal:a,dotColorPopover:l,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor:e,indicatorBoxShadow:n,indicatorTextColor:i,indicatorBorderRadius:c,dotBorder:`2px solid ${r}`,dotBorderActive:`2px solid ${o}`,dotBoxShadow:""})}const xq={common:lt,self:yq};function UI(t){const{opacityDisabled:e,heightTiny:n,heightSmall:r,heightMedium:o,heightLarge:i,heightHuge:s,primaryColor:a,fontSize:l}=t;return{fontSize:l,textColor:a,sizeTiny:n,sizeSmall:r,sizeMedium:o,sizeLarge:i,sizeHuge:s,color:a,opacitySpinning:e}}const Cq={common:lt,self:UI},Sq={name:"Spin",common:st,self:UI};function HI(t){const{textColor2:e,textColor3:n,fontSize:r,fontWeight:o}=t;return{labelFontSize:r,labelFontWeight:o,valueFontWeight:o,valueFontSize:"24px",labelTextColor:n,valuePrefixTextColor:e,valueSuffixTextColor:e,valueTextColor:e}}const wq={common:lt,self:HI},Rq={name:"Statistic",common:st,self:HI},Tq={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"};function VI(t){const{fontWeightStrong:e,baseColor:n,textColorDisabled:r,primaryColor:o,errorColor:i,textColor1:s,textColor2:a}=t;return Object.assign(Object.assign({},Tq),{stepHeaderFontWeight:e,indicatorTextColorProcess:n,indicatorTextColorWait:r,indicatorTextColorFinish:o,indicatorTextColorError:i,indicatorBorderColorProcess:o,indicatorBorderColorWait:r,indicatorBorderColorFinish:o,indicatorBorderColorError:i,indicatorColorProcess:o,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:r,splitorColorWait:r,splitorColorFinish:o,splitorColorError:r,headerTextColorProcess:s,headerTextColorWait:r,headerTextColorFinish:r,headerTextColorError:i,descriptionTextColorProcess:a,descriptionTextColorWait:r,descriptionTextColorFinish:r,descriptionTextColorError:i})}const Eq={common:lt,self:VI},kq={name:"Steps",common:st,self:VI},jI={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},Pq={name:"Switch",common:st,self(t){const{primaryColorSuppl:e,opacityDisabled:n,borderRadius:r,primaryColor:o,textColor2:i,baseColor:s}=t;return Object.assign(Object.assign({},jI),{iconColor:s,textColor:i,loadingColor:e,opacityDisabled:n,railColor:"rgba(255, 255, 255, .20)",railColorActive:e,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:r,railBorderRadiusMedium:r,railBorderRadiusLarge:r,buttonBorderRadiusSmall:r,buttonBorderRadiusMedium:r,buttonBorderRadiusLarge:r,boxShadowFocus:`0 0 8px 0 ${Ye(o,{alpha:.3})}`})}};function Aq(t){const{primaryColor:e,opacityDisabled:n,borderRadius:r,textColor3:o}=t;return Object.assign(Object.assign({},jI),{iconColor:o,textColor:"white",loadingColor:e,opacityDisabled:n,railColor:"rgba(0, 0, 0, .14)",railColorActive:e,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:r,railBorderRadiusMedium:r,railBorderRadiusLarge:r,buttonBorderRadiusSmall:r,buttonBorderRadiusMedium:r,buttonBorderRadiusLarge:r,boxShadowFocus:`0 0 0 2px ${Ye(e,{alpha:.2})}`})}const Iq={common:lt,self:Aq},_q={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"};function WI(t){const{dividerColor:e,cardColor:n,modalColor:r,popoverColor:o,tableHeaderColor:i,tableColorStriped:s,textColor1:a,textColor2:l,borderRadius:c,fontWeightStrong:d,lineHeight:u,fontSizeSmall:f,fontSizeMedium:m,fontSizeLarge:h}=t;return Object.assign(Object.assign({},_q),{fontSizeSmall:f,fontSizeMedium:m,fontSizeLarge:h,lineHeight:u,borderRadius:c,borderColor:vt(n,e),borderColorModal:vt(r,e),borderColorPopover:vt(o,e),tdColor:n,tdColorModal:r,tdColorPopover:o,tdColorStriped:vt(n,s),tdColorStripedModal:vt(r,s),tdColorStripedPopover:vt(o,s),thColor:vt(n,i),thColorModal:vt(r,i),thColorPopover:vt(o,i),thTextColor:a,tdTextColor:l,thFontWeight:d})}const Lq={common:lt,self:WI},Dq={name:"Table",common:st,self:WI},Oq={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"};function KI(t){const{textColor2:e,primaryColor:n,textColorDisabled:r,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,tabColor:c,baseColor:d,dividerColor:u,fontWeight:f,textColor1:m,borderRadius:h,fontSize:p,fontWeightStrong:v}=t;return Object.assign(Object.assign({},Oq),{colorSegment:c,tabFontSizeCard:p,tabTextColorLine:m,tabTextColorActiveLine:n,tabTextColorHoverLine:n,tabTextColorDisabledLine:r,tabTextColorSegment:m,tabTextColorActiveSegment:e,tabTextColorHoverSegment:e,tabTextColorDisabledSegment:r,tabTextColorBar:m,tabTextColorActiveBar:n,tabTextColorHoverBar:n,tabTextColorDisabledBar:r,tabTextColorCard:m,tabTextColorHoverCard:m,tabTextColorActiveCard:n,tabTextColorDisabledCard:r,barColor:n,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:s,closeColorHover:a,closeColorPressed:l,closeBorderRadius:h,tabColor:c,tabColorSegment:d,tabBorderColor:u,tabFontWeightActive:f,tabFontWeight:f,tabBorderRadius:h,paneTextColor:e,fontWeightStrong:v})}const $q={common:lt,self:KI},Fq={name:"Tabs",common:st,self(t){const e=KI(t),{inputColor:n}=t;return e.colorSegment=n,e.tabColorSegment=n,e}};function GI(t){const{textColor1:e,textColor2:n,fontWeightStrong:r,fontSize:o}=t;return{fontSize:o,titleTextColor:e,textColor:n,titleFontWeight:r}}const Mq={common:lt,self:GI},Bq={name:"Thing",common:st,self:GI},qI={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},zq={name:"Timeline",common:st,self(t){const{textColor3:e,infoColorSuppl:n,errorColorSuppl:r,successColorSuppl:o,warningColorSuppl:i,textColor1:s,textColor2:a,railColor:l,fontWeightStrong:c,fontSize:d}=t;return Object.assign(Object.assign({},qI),{contentFontSize:d,titleFontWeight:c,circleBorder:`2px solid ${e}`,circleBorderInfo:`2px solid ${n}`,circleBorderError:`2px solid ${r}`,circleBorderSuccess:`2px solid ${o}`,circleBorderWarning:`2px solid ${i}`,iconColor:e,iconColorInfo:n,iconColorError:r,iconColorSuccess:o,iconColorWarning:i,titleTextColor:s,contentTextColor:a,metaTextColor:e,lineColor:l})}};function Nq(t){const{textColor3:e,infoColor:n,errorColor:r,successColor:o,warningColor:i,textColor1:s,textColor2:a,railColor:l,fontWeightStrong:c,fontSize:d}=t;return Object.assign(Object.assign({},qI),{contentFontSize:d,titleFontWeight:c,circleBorder:`2px solid ${e}`,circleBorderInfo:`2px solid ${n}`,circleBorderError:`2px solid ${r}`,circleBorderSuccess:`2px solid ${o}`,circleBorderWarning:`2px solid ${i}`,iconColor:e,iconColorInfo:n,iconColorError:r,iconColorSuccess:o,iconColorWarning:i,titleTextColor:s,contentTextColor:a,metaTextColor:e,lineColor:l})}const Uq={common:lt,self:Nq},YI={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},Hq={name:"Transfer",common:st,peers:{Checkbox:Ql,Scrollbar:oo,Input:Co,Empty:Ua,Button:ao},self(t){const{fontWeight:e,fontSizeLarge:n,fontSizeMedium:r,fontSizeSmall:o,heightLarge:i,heightMedium:s,borderRadius:a,inputColor:l,tableHeaderColor:c,textColor1:d,textColorDisabled:u,textColor2:f,textColor3:m,hoverColor:h,closeColorHover:p,closeColorPressed:v,closeIconColor:b,closeIconColorHover:y,closeIconColorPressed:x,dividerColor:C}=t;return Object.assign(Object.assign({},YI),{itemHeightSmall:s,itemHeightMedium:s,itemHeightLarge:i,fontSizeSmall:o,fontSizeMedium:r,fontSizeLarge:n,borderRadius:a,dividerColor:C,borderColor:"#0000",listColor:l,headerColor:c,titleTextColor:d,titleTextColorDisabled:u,extraTextColor:m,extraTextColorDisabled:u,itemTextColor:f,itemTextColorDisabled:u,itemColorPending:h,titleFontWeight:e,closeColorHover:p,closeColorPressed:v,closeIconColor:b,closeIconColorHover:y,closeIconColorPressed:x})}};function Vq(t){const{fontWeight:e,fontSizeLarge:n,fontSizeMedium:r,fontSizeSmall:o,heightLarge:i,heightMedium:s,borderRadius:a,cardColor:l,tableHeaderColor:c,textColor1:d,textColorDisabled:u,textColor2:f,textColor3:m,borderColor:h,hoverColor:p,closeColorHover:v,closeColorPressed:b,closeIconColor:y,closeIconColorHover:x,closeIconColorPressed:C}=t;return Object.assign(Object.assign({},YI),{itemHeightSmall:s,itemHeightMedium:s,itemHeightLarge:i,fontSizeSmall:o,fontSizeMedium:r,fontSizeLarge:n,borderRadius:a,dividerColor:h,borderColor:h,listColor:l,headerColor:vt(l,c),titleTextColor:d,titleTextColorDisabled:u,extraTextColor:m,extraTextColorDisabled:u,itemTextColor:f,itemTextColorDisabled:u,itemColorPending:p,titleFontWeight:e,closeColorHover:v,closeColorPressed:b,closeIconColor:y,closeIconColorHover:x,closeIconColorPressed:C})}const jq={name:"Transfer",common:lt,peers:{Checkbox:Xl,Scrollbar:ro,Input:io,Empty:rs,Button:so},self:Vq};function XI(t){const{borderRadiusSmall:e,dividerColor:n,hoverColor:r,pressedColor:o,primaryColor:i,textColor3:s,textColor2:a,textColorDisabled:l,fontSize:c}=t;return{fontSize:c,lineHeight:"1.5",nodeHeight:"30px",nodeWrapperPadding:"3px 0",nodeBorderRadius:e,nodeColorHover:r,nodeColorPressed:o,nodeColorActive:Ye(i,{alpha:.1}),arrowColor:s,nodeTextColor:a,nodeTextColorDisabled:l,loadingColor:i,dropMarkColor:i,lineColor:n}}const QI={name:"Tree",common:lt,peers:{Checkbox:Xl,Scrollbar:ro,Empty:rs},self:XI},ZI={name:"Tree",common:st,peers:{Checkbox:Ql,Scrollbar:oo,Empty:Ua},self(t){const{primaryColor:e}=t,n=XI(t);return n.nodeColorActive=Ye(e,{alpha:.15}),n}},Wq={name:"TreeSelect",common:st,peers:{Tree:ZI,Empty:Ua,InternalSelection:y0}};function Kq(t){const{popoverColor:e,boxShadow2:n,borderRadius:r,heightMedium:o,dividerColor:i,textColor2:s}=t;return{menuPadding:"4px",menuColor:e,menuBoxShadow:n,menuBorderRadius:r,menuHeight:`calc(${o} * 7.6)`,actionDividerColor:i,actionTextColor:s,actionPadding:"8px 12px",headerDividerColor:i,headerTextColor:s,headerPadding:"8px 12px"}}const Gq={name:"TreeSelect",common:lt,peers:{Tree:QI,Empty:rs,InternalSelection:Eh},self:Kq},qq={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"};function JI(t){const{primaryColor:e,textColor2:n,borderColor:r,lineHeight:o,fontSize:i,borderRadiusSmall:s,dividerColor:a,fontWeightStrong:l,textColor1:c,textColor3:d,infoColor:u,warningColor:f,errorColor:m,successColor:h,codeColor:p}=t;return Object.assign(Object.assign({},qq),{aTextColor:e,blockquoteTextColor:n,blockquotePrefixColor:r,blockquoteLineHeight:o,blockquoteFontSize:i,codeBorderRadius:s,liTextColor:n,liLineHeight:o,liFontSize:i,hrColor:a,headerFontWeight:l,headerTextColor:c,pTextColor:n,pTextColor1Depth:c,pTextColor2Depth:n,pTextColor3Depth:d,pLineHeight:o,pFontSize:i,headerBarColor:e,headerBarColorPrimary:e,headerBarColorInfo:u,headerBarColorError:m,headerBarColorWarning:f,headerBarColorSuccess:h,textColor:n,textColor1Depth:c,textColor2Depth:n,textColor3Depth:d,textColorPrimary:e,textColorInfo:u,textColorSuccess:h,textColorWarning:f,textColorError:m,codeTextColor:n,codeColor:p,codeBorder:"1px solid #0000"})}const Ys={common:lt,self:JI},Yq={name:"Typography",common:st,self:JI};function e_(t){const{iconColor:e,primaryColor:n,errorColor:r,textColor2:o,successColor:i,opacityDisabled:s,actionColor:a,borderColor:l,hoverColor:c,lineHeight:d,borderRadius:u,fontSize:f}=t;return{fontSize:f,lineHeight:d,borderRadius:u,draggerColor:a,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${n}`,itemColorHover:c,itemColorHoverError:Ye(r,{alpha:.06}),itemTextColor:o,itemTextColorError:r,itemTextColorSuccess:i,itemIconColor:e,itemDisabledOpacity:s,itemBorderImageCardError:`1px solid ${r}`,itemBorderImageCard:`1px solid ${l}`}}const Xq={name:"Upload",common:lt,peers:{Button:so,Progress:MI},self:e_},Qq={name:"Upload",common:st,peers:{Button:ao,Progress:BI},self(t){const{errorColor:e}=t,n=e_(t);return n.itemColorHoverError=Ye(e,{alpha:.09}),n}},Zq={name:"Watermark",common:st,self(t){const{fontFamily:e}=t;return{fontFamily:e}}},Jq={name:"Watermark",common:lt,self(t){const{fontFamily:e}=t;return{fontFamily:e}}};function eY(t){const{popoverColor:e,dividerColor:n,borderRadius:r}=t;return{color:e,buttonBorderColor:n,borderRadiusSquare:r,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)"}}const tY={common:lt,self:eY},nY=k("float-button-group",[k("float-button",`
 position: relative;
 `),M("square-shape",`
 background-color: var(--n-color);
 cursor: pointer;
 display: flex;
 width: fit-content;
 align-items: center;
 justify-content: center;
 border-radius: var(--n-border-radius-square);
 flex-direction: column;
 box-shadow: var(--n-box-shadow);
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[k("float-button",`
 background-color: unset;
 border-radius: 0;
 box-shadow: none;
 box-sizing: content-box;
 `,[O("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-button-border-color); 
 `),O("&:first-child",`
 border-top-left-radius: 4px;
 border-top-right-radius: 4px;
 `),O("&:last-child",`
 border-bottom-left-radius: 4px;
 border-bottom-right-radius: 4px;
 `),F("fill",`
 top: 4px;
 right: 4px;
 bottom: 4px;
 left: 4px;
 border-radius: var(--n-border-radius-square); 
 `)])]),M("circle-shape",[O(">:not(:last-child)",`
 margin-bottom: 16px;
 `)])]),t_=Object.assign(Object.assign({},ke.props),{left:[Number,String],right:[Number,String],top:[Number,String],bottom:[Number,String],shape:{type:String,default:"circle"},position:{type:String,default:"fixed"}}),n_="n-float-button-group",rY=ce({name:"FloatButtonGroup",props:t_,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("FloatButtonGroup","-float-button-group",nY,tY,t,e),o=A(()=>{const{self:{color:s,boxShadow:a,buttonBorderColor:l,borderRadiusSquare:c},common:{cubicBezierEaseInOut:d}}=r.value;return{"--n-bezier":d,"--n-box-shadow":a,"--n-color":s,"--n-button-border-color":l,"--n-border-radius-square":c,position:t.position,left:Mt(t.left)||"",right:Mt(t.right)||"",top:Mt(t.top)||"",bottom:Mt(t.bottom)||""}});ft(n_,{shapeRef:Se(t,"shape")});const i=n?ot("float-button",void 0,o,t):void 0;return{cssVars:n?void 0:o,mergedClsPrefix:e,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){const{mergedClsPrefix:t,cssVars:e,shape:n}=this;return g("div",{class:[`${t}-float-button-group`,`${t}-float-button-group--${n}-shape`],style:e,role:"group"},this.$slots)}}),oY={name:"FloatButton",common:st,self(t){const{popoverColor:e,textColor2:n,buttonColor2Hover:r,buttonColor2Pressed:o,primaryColor:i,primaryColorHover:s,primaryColorPressed:a,baseColor:l,borderRadius:c}=t;return{color:e,textColor:n,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)",colorHover:r,colorPressed:o,colorPrimary:i,colorPrimaryHover:s,colorPrimaryPressed:a,textColorPrimary:l,borderRadiusSquare:c}}};function iY(t){const{popoverColor:e,textColor2:n,buttonColor2Hover:r,buttonColor2Pressed:o,primaryColor:i,primaryColorHover:s,primaryColorPressed:a,borderRadius:l}=t;return{color:e,colorHover:r,colorPressed:o,colorPrimary:i,colorPrimaryHover:s,colorPrimaryPressed:a,textColor:n,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .16)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .24)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .24)",textColorPrimary:"#fff",borderRadiusSquare:l}}const sY={common:lt,self:iY},aY=k("float-button",`
 user-select: none;
 cursor: pointer;
 color: var(--n-text-color);
 background-color: var(--n-color);
 font-size: 18px;
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-shadow: var(--n-box-shadow);
 display: flex;
 align-items: stretch;
 box-sizing: border-box;
`,[M("circle-shape",`
 border-radius: 4096px;
 `),M("square-shape",`
 border-radius: var(--n-border-radius-square);
 `),F("fill",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0
 left: 0;
 transition: background-color .3s var(--n-bezier);
 border-radius: inherit;
 `),F("body",`
 position: relative;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: transform .3s var(--n-bezier), opacity .3s var(--n-bezier);
 border-radius: inherit;
 flex-direction: column;
 box-sizing: border-box;
 padding: 2px 4px;
 gap: 2px;
 transform: scale(1);
 `,[F("description",`
 font-size: 12px;
 text-align: center;
 line-height: 14px;
 `)]),O("&:hover","box-shadow: var(--n-box-shadow-hover);",[O(">",[F("fill",`
 background-color: var(--n-color-hover);
 `)])]),O("&:active","box-shadow: var(--n-box-shadow-pressed);",[O(">",[F("fill",`
 background-color: var(--n-color-pressed);
 `)])]),M("show-menu",[O(">",[F("menu",`
 pointer-events: all;
 bottom: 100%;
 opacity: 1;
 `),F("close",`
 transform: scale(1);
 opacity: 1;
 `),F("body",`
 transform: scale(0.75);
 opacity: 0;
 `)])]),F("close",`
 opacity: 0;
 transform: scale(0.75);
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: transform .3s var(--n-bezier), opacity .3s var(--n-bezier);
 `),F("menu",`
 position: absolute;
 bottom: calc(100% - 8px);
 display: flex;
 flex-direction: column;
 opacity: 0;
 pointer-events: none;
 transition:
 opacity .3s var(--n-bezier),
 bottom .3s var(--n-bezier); 
 `,[O("> *",`
 margin-bottom: 16px;
 `),k("float-button",`
 position: relative !important;
 `)])]),r_=Object.assign(Object.assign({},ke.props),{width:{type:[Number,String],default:40},height:{type:[Number,String],default:40},left:[Number,String],right:[Number,String],top:[Number,String],bottom:[Number,String],shape:{type:String,default:"circle"},position:{type:String,default:"fixed"},type:{type:String,default:"default"},menuTrigger:String,showMenu:{type:Boolean,default:void 0},onUpdateShowMenu:{type:[Function,Array],default:void 0},"onUpdate:showMenu":{type:[Function,Array],default:void 0}}),lY=ce({name:"FloatButton",props:r_,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=z(null),o=ke("FloatButton","-float-button",aY,sY,t,e),i=Ve(n_,null),s=z(!1),a=Se(t,"showMenu"),l=Ft(a,s);function c(b){const{onUpdateShowMenu:y,"onUpdate:showMenu":x}=t;s.value=b,y&&we(y,b),x&&we(x,b)}const d=A(()=>{const{self:{color:b,textColor:y,boxShadow:x,boxShadowHover:C,boxShadowPressed:S,colorHover:T,colorPrimary:w,colorPrimaryHover:E,textColorPrimary:R,borderRadiusSquare:P,colorPressed:_,colorPrimaryPressed:I},common:{cubicBezierEaseInOut:L}}=o.value,{type:N}=t;return{"--n-bezier":L,"--n-box-shadow":x,"--n-box-shadow-hover":C,"--n-box-shadow-pressed":S,"--n-color":N==="primary"?w:b,"--n-text-color":N==="primary"?R:y,"--n-color-hover":N==="primary"?E:T,"--n-color-pressed":N==="primary"?I:_,"--n-border-radius-square":P}}),u=A(()=>{const{width:b,height:y}=t;return Object.assign({position:i?void 0:t.position,width:Mt(b),minHeight:Mt(y)},i?null:{left:Mt(t.left),right:Mt(t.right),top:Mt(t.top),bottom:Mt(t.bottom)})}),f=A(()=>i?i.shapeRef.value:t.shape),m=()=>{t.menuTrigger==="hover"&&c(!0)},h=()=>{t.menuTrigger==="hover"&&l.value&&c(!1)},p=()=>{t.menuTrigger==="click"&&c(!l.value)},v=n?ot("float-button",A(()=>t.type[0]),d,t):void 0;return Gt(()=>{const b=r.value;b&&_t("mousemoveoutside",b,h)}),Qt(()=>{const b=r.value;b&&It("mousemoveoutside",b,h)}),{inlineStyle:u,selfElRef:r,cssVars:n?void 0:d,mergedClsPrefix:e,mergedShape:f,mergedShowMenu:l,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender,Mouseenter:m,handleMouseleave:h,handleClick:p}},render(){var t;const{mergedClsPrefix:e,cssVars:n,mergedShape:r,type:o,menuTrigger:i,mergedShowMenu:s,themeClass:a,$slots:l,inlineStyle:c,onRender:d}=this;return d==null||d(),g("div",{ref:"selfElRef",class:[`${e}-float-button`,`${e}-float-button--${r}-shape`,`${e}-float-button--${o}-type`,s&&`${e}-float-button--show-menu`,a],style:[n,c],onMouseenter:this.Mouseenter,onMouseleave:this.handleMouseleave,onClick:this.handleClick,role:"button"},g("div",{class:`${e}-float-button__fill`,"aria-hidden":!0}),g("div",{class:`${e}-float-button__body`},(t=l.default)===null||t===void 0?void 0:t.call(l),Lt(l.description,u=>u?g("div",{class:`${e}-float-button__description`},u):null)),i?g("div",{class:`${e}-float-button__close`},g(yt,{clsPrefix:e},{default:()=>g(v0,null)})):null,i?g("div",{onClick:u=>{u.stopPropagation()},"data-float-button-menu":!0,class:`${e}-float-button__menu`},Et(l.menu,()=>[])):null)}}),Hd="n-form",o_="n-form-item-insts",cY=k("form",[M("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[k("form-item",{width:"auto",marginRight:"18px"},[O("&:last-child",{marginRight:0})])])]);var dY=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const i_=Object.assign(Object.assign({},ke.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:t=>{t.preventDefault()}},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),uY=ce({name:"Form",props:i_,setup(t){const{mergedClsPrefixRef:e}=Ge(t);ke("Form","-form",cY,II,t,e);const n={},r=z(void 0),o=l=>{const c=r.value;(c===void 0||l>=c)&&(r.value=l)};function i(l){return dY(this,arguments,void 0,function*(c,d=()=>!0){return yield new Promise((u,f)=>{const m=[];for(const h of Tr(n)){const p=n[h];for(const v of p)v.path&&m.push(v.internalValidate(null,d))}Promise.all(m).then(h=>{const p=h.some(y=>!y.valid),v=[],b=[];h.forEach(y=>{var x,C;!((x=y.errors)===null||x===void 0)&&x.length&&v.push(y.errors),!((C=y.warnings)===null||C===void 0)&&C.length&&b.push(y.warnings)}),c&&c(v.length?v:void 0,{warnings:b.length?b:void 0}),p?f(v.length?v:void 0):u({warnings:b.length?b:void 0})})})})}function s(){for(const l of Tr(n)){const c=n[l];for(const d of c)d.restoreValidation()}}return ft(Hd,{props:t,maxChildLabelWidthRef:r,deriveMaxChildLabelWidth:o}),ft(o_,{formItems:n}),Object.assign({validate:i,restoreValidation:s},{mergedClsPrefix:e})},render(){const{mergedClsPrefix:t}=this;return g("form",{class:[`${t}-form`,this.inline&&`${t}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fa.apply(this,arguments)}function fY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,fd(t,e)}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function fd(t,e){return fd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},fd(t,e)}function hY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ef(t,e,n){return hY()?ef=Reflect.construct.bind():ef=function(o,i,s){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(o,a),c=new l;return s&&fd(c,s.prototype),c},ef.apply(null,arguments)}function gY(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function $p(t){var e=typeof Map=="function"?new Map:void 0;return $p=function(r){if(r===null||!gY(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return ef(r,arguments,Op(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),fd(o,r)},$p(t)}var mY=/%[sdj%]/g,pY=function(){};function Fp(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function ho(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=0,i=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(mY,function(a){if(a==="%%")return"%";if(o>=i)return a;switch(a){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function vY(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function vr(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||vY(e)&&typeof t=="string"&&!t)}function bY(t,e,n){var r=[],o=0,i=t.length;function s(a){r.push.apply(r,a||[]),o++,o===i&&n(r)}t.forEach(function(a){e(a,s)})}function _C(t,e,n){var r=0,o=t.length;function i(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<o?e(t[a],i):n([])}i([])}function yY(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var LC=function(t){fY(e,t);function e(n,r){var o;return o=t.call(this,"Async Validation Error")||this,o.errors=n,o.fields=r,o}return e}($p(Error));function xY(t,e,n,r,o){if(e.first){var i=new Promise(function(f,m){var h=function(b){return r(b),b.length?m(new LC(b,Fp(b))):f(o)},p=yY(t);_C(p,n,h)});return i.catch(function(f){return f}),i}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,d=[],u=new Promise(function(f,m){var h=function(v){if(d.push.apply(d,v),c++,c===l)return r(d),d.length?m(new LC(d,Fp(d))):f(o)};a.length||(r(d),f(o)),a.forEach(function(p){var v=t[p];s.indexOf(p)!==-1?_C(v,n,h):bY(v,n,h)})});return u.catch(function(f){return f}),u}function CY(t){return!!(t&&t.message!==void 0)}function SY(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function DC(t,e){return function(n){var r;return t.fullFields?r=SY(e,t.fullFields):r=e[n.field||t.fullField],CY(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function OC(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=fa({},t[n],r):t[n]=r}}return t}var s_=function(e,n,r,o,i,s){e.required&&(!r.hasOwnProperty(e.field)||vr(n,s||e.type))&&o.push(ho(i.messages.required,e.fullField))},wY=function(e,n,r,o,i){(/^\s+$/.test(n)||n==="")&&o.push(ho(i.messages.whitespace,e.fullField))},Tu,RY=function(){if(Tu)return Tu;var t="[a-fA-F\\d:]",e=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+o+"$"),l=function(C){return C&&C.exact?i:new RegExp("(?:"+e(C)+n+e(C)+")|(?:"+e(C)+o+e(C)+")","g")};l.v4=function(x){return x&&x.exact?s:new RegExp(""+e(x)+n+e(x),"g")},l.v6=function(x){return x&&x.exact?a:new RegExp(""+e(x)+o+e(x),"g")};var c="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",u=l.v4().source,f=l.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",h="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',y="(?:"+c+"|www\\.)"+d+"(?:localhost|"+u+"|"+f+"|"+m+h+p+")"+v+b;return Tu=new RegExp("(?:^"+y+"$)","i"),Tu},$C={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ec={integer:function(e){return Ec.number(e)&&parseInt(e,10)===e},float:function(e){return Ec.number(e)&&!Ec.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Ec.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match($C.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(RY())},hex:function(e){return typeof e=="string"&&!!e.match($C.hex)}},TY=function(e,n,r,o,i){if(e.required&&n===void 0){s_(e,n,r,o,i);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?Ec[a](n)||o.push(ho(i.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&o.push(ho(i.messages.types[a],e.fullField,e.type))},EY=function(e,n,r,o,i){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=n,u=null,f=typeof n=="number",m=typeof n=="string",h=Array.isArray(n);if(f?u="number":m?u="string":h&&(u="array"),!u)return!1;h&&(d=n.length),m&&(d=n.replace(c,"_").length),s?d!==e.len&&o.push(ho(i.messages[u].len,e.fullField,e.len)):a&&!l&&d<e.min?o.push(ho(i.messages[u].min,e.fullField,e.min)):l&&!a&&d>e.max?o.push(ho(i.messages[u].max,e.fullField,e.max)):a&&l&&(d<e.min||d>e.max)&&o.push(ho(i.messages[u].range,e.fullField,e.min,e.max))},rl="enum",kY=function(e,n,r,o,i){e[rl]=Array.isArray(e[rl])?e[rl]:[],e[rl].indexOf(n)===-1&&o.push(ho(i.messages[rl],e.fullField,e[rl].join(", ")))},PY=function(e,n,r,o,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||o.push(ho(i.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||o.push(ho(i.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},sn={required:s_,whitespace:wY,type:TY,range:EY,enum:kY,pattern:PY},AY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n,"string")&&!e.required)return r();sn.required(e,n,o,s,i,"string"),vr(n,"string")||(sn.type(e,n,o,s,i),sn.range(e,n,o,s,i),sn.pattern(e,n,o,s,i),e.whitespace===!0&&sn.whitespace(e,n,o,s,i))}r(s)},IY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n)&&!e.required)return r();sn.required(e,n,o,s,i),n!==void 0&&sn.type(e,n,o,s,i)}r(s)},_Y=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),vr(n)&&!e.required)return r();sn.required(e,n,o,s,i),n!==void 0&&(sn.type(e,n,o,s,i),sn.range(e,n,o,s,i))}r(s)},LY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n)&&!e.required)return r();sn.required(e,n,o,s,i),n!==void 0&&sn.type(e,n,o,s,i)}r(s)},DY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n)&&!e.required)return r();sn.required(e,n,o,s,i),vr(n)||sn.type(e,n,o,s,i)}r(s)},OY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n)&&!e.required)return r();sn.required(e,n,o,s,i),n!==void 0&&(sn.type(e,n,o,s,i),sn.range(e,n,o,s,i))}r(s)},$Y=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n)&&!e.required)return r();sn.required(e,n,o,s,i),n!==void 0&&(sn.type(e,n,o,s,i),sn.range(e,n,o,s,i))}r(s)},FY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();sn.required(e,n,o,s,i,"array"),n!=null&&(sn.type(e,n,o,s,i),sn.range(e,n,o,s,i))}r(s)},MY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n)&&!e.required)return r();sn.required(e,n,o,s,i),n!==void 0&&sn.type(e,n,o,s,i)}r(s)},BY="enum",zY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n)&&!e.required)return r();sn.required(e,n,o,s,i),n!==void 0&&sn[BY](e,n,o,s,i)}r(s)},NY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n,"string")&&!e.required)return r();sn.required(e,n,o,s,i),vr(n,"string")||sn.pattern(e,n,o,s,i)}r(s)},UY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n,"date")&&!e.required)return r();if(sn.required(e,n,o,s,i),!vr(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),sn.type(e,l,o,s,i),l&&sn.range(e,l.getTime(),o,s,i)}}r(s)},HY=function(e,n,r,o,i){var s=[],a=Array.isArray(n)?"array":typeof n;sn.required(e,n,o,s,i,a),r(s)},Qg=function(e,n,r,o,i){var s=e.type,a=[],l=e.required||!e.required&&o.hasOwnProperty(e.field);if(l){if(vr(n,s)&&!e.required)return r();sn.required(e,n,o,a,i,s),vr(n,s)||sn.type(e,n,o,a,i)}r(a)},VY=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(vr(n)&&!e.required)return r();sn.required(e,n,o,s,i)}r(s)},jc={string:AY,method:IY,number:_Y,boolean:LY,regexp:DY,integer:OY,float:$Y,array:FY,object:MY,enum:zY,pattern:NY,date:UY,url:Qg,hex:Qg,email:Qg,required:HY,any:VY};function Mp(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Bp=Mp(),zl=function(){function t(n){this.rules=null,this._messages=Bp,this.define(n)}var e=t.prototype;return e.define=function(r){var o=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(i){var s=r[i];o.rules[i]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=OC(Mp(),r)),this._messages},e.validate=function(r,o,i){var s=this;o===void 0&&(o={}),i===void 0&&(i=function(){});var a=r,l=o,c=i;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function d(p){var v=[],b={};function y(C){if(Array.isArray(C)){var S;v=(S=v).concat.apply(S,C)}else v.push(C)}for(var x=0;x<p.length;x++)y(p[x]);v.length?(b=Fp(v),c(v,b)):c(null,a)}if(l.messages){var u=this.messages();u===Bp&&(u=Mp()),OC(u,l.messages),l.messages=u}else l.messages=this.messages();var f={},m=l.keys||Object.keys(this.rules);m.forEach(function(p){var v=s.rules[p],b=a[p];v.forEach(function(y){var x=y;typeof x.transform=="function"&&(a===r&&(a=fa({},a)),b=a[p]=x.transform(b)),typeof x=="function"?x={validator:x}:x=fa({},x),x.validator=s.getValidationMethod(x),x.validator&&(x.field=p,x.fullField=x.fullField||p,x.type=s.getType(x),f[p]=f[p]||[],f[p].push({rule:x,value:b,source:a,field:p}))})});var h={};return xY(f,l,function(p,v){var b=p.rule,y=(b.type==="object"||b.type==="array")&&(typeof b.fields=="object"||typeof b.defaultField=="object");y=y&&(b.required||!b.required&&p.value),b.field=p.field;function x(T,w){return fa({},w,{fullField:b.fullField+"."+T,fullFields:b.fullFields?[].concat(b.fullFields,[T]):[T]})}function C(T){T===void 0&&(T=[]);var w=Array.isArray(T)?T:[T];!l.suppressWarning&&w.length&&t.warning("async-validator:",w),w.length&&b.message!==void 0&&(w=[].concat(b.message));var E=w.map(DC(b,a));if(l.first&&E.length)return h[b.field]=1,v(E);if(!y)v(E);else{if(b.required&&!p.value)return b.message!==void 0?E=[].concat(b.message).map(DC(b,a)):l.error&&(E=[l.error(b,ho(l.messages.required,b.field))]),v(E);var R={};b.defaultField&&Object.keys(p.value).map(function(I){R[I]=b.defaultField}),R=fa({},R,p.rule.fields);var P={};Object.keys(R).forEach(function(I){var L=R[I],N=Array.isArray(L)?L:[L];P[I]=N.map(x.bind(null,I))});var _=new t(P);_.messages(l.messages),p.rule.options&&(p.rule.options.messages=l.messages,p.rule.options.error=l.error),_.validate(p.value,p.rule.options||l,function(I){var L=[];E&&E.length&&L.push.apply(L,E),I&&I.length&&L.push.apply(L,I),v(L.length?L:null)})}}var S;if(b.asyncValidator)S=b.asyncValidator(b,p.value,C,p.source,l);else if(b.validator){try{S=b.validator(b,p.value,C,p.source,l)}catch(T){console.error==null||console.error(T),l.suppressValidatorError||setTimeout(function(){throw T},0),C(T.message)}S===!0?C():S===!1?C(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||(b.fullField||b.field)+" fails"):S instanceof Array?C(S):S instanceof Error&&C(S.message)}S&&S.then&&S.then(function(){return C()},function(T){return C(T)})},function(p){d(p)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!jc.hasOwnProperty(r.type))throw new Error(ho("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var o=Object.keys(r),i=o.indexOf("message");return i!==-1&&o.splice(i,1),o.length===1&&o[0]==="required"?jc.required:jc[this.getType(r)]||void 0},t}();zl.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");jc[e]=n};zl.warning=pY;zl.messages=Bp;zl.validators=jc;const{cubicBezierEaseInOut:FC}=no;function jY({name:t="fade-down",fromOffset:e="-4px",enterDuration:n=".3s",leaveDuration:r=".3s",enterCubicBezier:o=FC,leaveCubicBezier:i=FC}={}){return[O(`&.${t}-transition-enter-from, &.${t}-transition-leave-to`,{opacity:0,transform:`translateY(${e})`}),O(`&.${t}-transition-enter-to, &.${t}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),O(`&.${t}-transition-leave-active`,{transition:`opacity ${r} ${i}, transform ${r} ${i}`}),O(`&.${t}-transition-enter-active`,{transition:`opacity ${n} ${o}, transform ${n} ${o}`})]}const WY=k("form-item",`
 display: grid;
 line-height: var(--n-line-height);
`,[k("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 min-height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 font-weight: var(--n-label-font-weight);
 `,[F("asterisk",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),F("asterisk-placeholder",`
 grid-area: mark;
 user-select: none;
 -webkit-user-select: none;
 visibility: hidden; 
 `)]),k("form-item-blank",`
 grid-area: blank;
 min-height: var(--n-blank-height);
 `),M("auto-label-width",[k("form-item-label","white-space: nowrap;")]),M("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 grid-template-rows: auto 1fr;
 align-items: flex-start;
 `,[k("form-item-label",`
 display: grid;
 grid-template-columns: 1fr auto;
 min-height: var(--n-blank-height);
 height: auto;
 box-sizing: border-box;
 flex-shrink: 0;
 flex-grow: 0;
 `,[M("reverse-columns-space",`
 grid-template-columns: auto 1fr;
 `),M("left-mark",`
 grid-template-areas:
 "mark text"
 ". text";
 `),M("right-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),M("right-hanging-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),F("text",`
 grid-area: text; 
 `),F("asterisk",`
 grid-area: mark; 
 align-self: end;
 `)])]),M("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: minmax(var(--n-label-height), auto) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[M("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),k("form-item-label",`
 display: flex;
 align-items: flex-start;
 justify-content: var(--n-label-text-align);
 `)]),k("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),k("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[O("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),k("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[M("warning",{color:"var(--n-feedback-text-color-warning)"}),M("error",{color:"var(--n-feedback-text-color-error)"}),jY({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]);function KY(t){const e=Ve(Hd,null);return{mergedSize:A(()=>t.size!==void 0?t.size:(e==null?void 0:e.props.size)!==void 0?e.props.size:"medium")}}function GY(t){const e=Ve(Hd,null),n=A(()=>{const{labelPlacement:h}=t;return h!==void 0?h:e!=null&&e.props.labelPlacement?e.props.labelPlacement:"top"}),r=A(()=>n.value==="left"&&(t.labelWidth==="auto"||(e==null?void 0:e.props.labelWidth)==="auto")),o=A(()=>{if(n.value==="top")return;const{labelWidth:h}=t;if(h!==void 0&&h!=="auto")return Mt(h);if(r.value){const p=e==null?void 0:e.maxChildLabelWidthRef.value;return p!==void 0?Mt(p):void 0}if((e==null?void 0:e.props.labelWidth)!==void 0)return Mt(e.props.labelWidth)}),i=A(()=>{const{labelAlign:h}=t;if(h)return h;if(e!=null&&e.props.labelAlign)return e.props.labelAlign}),s=A(()=>{var h;return[(h=t.labelProps)===null||h===void 0?void 0:h.style,t.labelStyle,{width:o.value}]}),a=A(()=>{const{showRequireMark:h}=t;return h!==void 0?h:e==null?void 0:e.props.showRequireMark}),l=A(()=>{const{requireMarkPlacement:h}=t;return h!==void 0?h:(e==null?void 0:e.props.requireMarkPlacement)||"right"}),c=z(!1),d=z(!1),u=A(()=>{const{validationStatus:h}=t;if(h!==void 0)return h;if(c.value)return"error";if(d.value)return"warning"}),f=A(()=>{const{showFeedback:h}=t;return h!==void 0?h:(e==null?void 0:e.props.showFeedback)!==void 0?e.props.showFeedback:!0}),m=A(()=>{const{showLabel:h}=t;return h!==void 0?h:(e==null?void 0:e.props.showLabel)!==void 0?e.props.showLabel:!0});return{validationErrored:c,validationWarned:d,mergedLabelStyle:s,mergedLabelPlacement:n,mergedLabelAlign:i,mergedShowRequireMark:a,mergedRequireMarkPlacement:l,mergedValidationStatus:u,mergedShowFeedback:f,mergedShowLabel:m,isAutoLabelWidth:r}}function qY(t){const e=Ve(Hd,null),n=A(()=>{const{rulePath:s}=t;if(s!==void 0)return s;const{path:a}=t;if(a!==void 0)return a}),r=A(()=>{const s=[],{rule:a}=t;if(a!==void 0&&(Array.isArray(a)?s.push(...a):s.push(a)),e){const{rules:l}=e.props,{value:c}=n;if(l!==void 0&&c!==void 0){const d=cd(l,c);d!==void 0&&(Array.isArray(d)?s.push(...d):s.push(d))}}return s}),o=A(()=>r.value.some(s=>s.required)),i=A(()=>o.value||t.required);return{mergedRules:r,mergedRequired:i}}var MC=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Vd=Object.assign(Object.assign({},ke.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,feedbackClass:String,feedbackStyle:[String,Object],showLabel:{type:Boolean,default:void 0},labelProps:Object}),a_=Tr(Vd);function BC(t,e){return(...n)=>{try{const r=t(...n);return!e&&(typeof r=="boolean"||r instanceof Error||Array.isArray(r))||r!=null&&r.then?r:(r===void 0||Rr("form-item/validate",`You return a ${typeof r} typed value in the validator method, which is not recommended. Please use ${e?"`Promise`":"`boolean`, `Error` or `Promise`"} typed value instead.`),!0)}catch(r){Rr("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(r);return}}}const Q0=ce({name:"FormItem",props:Vd,setup(t){XM(o_,"formItems",Se(t,"path"));const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=Ve(Hd,null),o=KY(t),i=GY(t),{validationErrored:s,validationWarned:a}=i,{mergedRequired:l,mergedRules:c}=qY(t),{mergedSize:d}=o,{mergedLabelPlacement:u,mergedLabelAlign:f,mergedRequireMarkPlacement:m}=i,h=z([]),p=z(Vr()),v=r?Se(r.props,"disabled"):z(!1),b=ke("Form","-form-item",WY,II,t,e);gt(Se(t,"path"),()=>{t.ignorePathChange||y()});function y(){h.value=[],s.value=!1,a.value=!1,t.feedback&&(p.value=Vr())}const x=(...N)=>MC(this,[...N],void 0,function*(H=null,G=()=>!0,W={suppressWarning:!0}){const{path:J}=t;W?W.first||(W.first=t.first):W={};const{value:ne}=c,D=r?cd(r.props.model,J||""):void 0,B={},j={},$=(H?ne.filter(Q=>Array.isArray(Q.trigger)?Q.trigger.includes(H):Q.trigger===H):ne).filter(G).map((Q,Y)=>{const re=Object.assign({},Q);if(re.validator&&(re.validator=BC(re.validator,!1)),re.asyncValidator&&(re.asyncValidator=BC(re.asyncValidator,!0)),re.renderMessage){const be=`__renderMessage__${Y}`;j[be]=re.message,re.message=be,B[be]=re.renderMessage}return re}),V=$.filter(Q=>Q.level!=="warning"),X=$.filter(Q=>Q.level==="warning"),Z={valid:!0,errors:void 0,warnings:void 0};if(!$.length)return Z;const q=J??"__n_no_path__",ue=new zl({[q]:V}),K=new zl({[q]:X}),{validateMessages:he}=(r==null?void 0:r.props)||{};he&&(ue.messages(he),K.messages(he));const Ie=Q=>{h.value=Q.map(Y=>{const re=(Y==null?void 0:Y.message)||"";return{key:re,render:()=>re.startsWith("__renderMessage__")?B[re]():re}}),Q.forEach(Y=>{var re;!((re=Y.message)===null||re===void 0)&&re.startsWith("__renderMessage__")&&(Y.message=j[Y.message])})};if(V.length){const Q=yield new Promise(Y=>{ue.validate({[q]:D},W,Y)});Q!=null&&Q.length&&(Z.valid=!1,Z.errors=Q,Ie(Q))}if(X.length&&!Z.errors){const Q=yield new Promise(Y=>{K.validate({[q]:D},W,Y)});Q!=null&&Q.length&&(Ie(Q),Z.warnings=Q)}return!Z.errors&&!Z.warnings?y():(s.value=!!Z.errors,a.value=!!Z.warnings),Z});function C(){x("blur")}function S(){x("change")}function T(){x("focus")}function w(){x("input")}function E(N,H){return MC(this,void 0,void 0,function*(){let G,W,J,ne;return typeof N=="string"?(G=N,W=H):N!==null&&typeof N=="object"&&(G=N.trigger,W=N.callback,J=N.shouldRuleBeApplied,ne=N.options),yield new Promise((D,B)=>{x(G,J,ne).then(({valid:j,errors:$,warnings:V})=>{j?(W&&W(void 0,{warnings:V}),D({warnings:V})):(W&&W($,{warnings:V}),B($))})})})}ft(Tf,{path:Se(t,"path"),disabled:v,mergedSize:o.mergedSize,mergedValidationStatus:i.mergedValidationStatus,restoreValidation:y,handleContentBlur:C,handleContentChange:S,handleContentFocus:T,handleContentInput:w});const R={validate:E,restoreValidation:y,internalValidate:x},P=z(null);Gt(()=>{if(!i.isAutoLabelWidth.value)return;const N=P.value;if(N!==null){const H=N.style.whiteSpace;N.style.whiteSpace="nowrap",N.style.width="",r==null||r.deriveMaxChildLabelWidth(Number(getComputedStyle(N).width.slice(0,-2))),N.style.whiteSpace=H}});const _=A(()=>{var N;const{value:H}=d,{value:G}=u,W=G==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:J},self:{labelTextColor:ne,asteriskColor:D,lineHeight:B,feedbackTextColor:j,feedbackTextColorWarning:$,feedbackTextColorError:V,feedbackPadding:X,labelFontWeight:Z,[Ae("labelHeight",H)]:q,[Ae("blankHeight",H)]:ue,[Ae("feedbackFontSize",H)]:K,[Ae("feedbackHeight",H)]:he,[Ae("labelPadding",W)]:Ie,[Ae("labelTextAlign",W)]:Q,[Ae(Ae("labelFontSize",G),H)]:Y}}=b.value;let re=(N=f.value)!==null&&N!==void 0?N:Q;return G==="top"&&(re=re==="right"?"flex-end":"flex-start"),{"--n-bezier":J,"--n-line-height":B,"--n-blank-height":ue,"--n-label-font-size":Y,"--n-label-text-align":re,"--n-label-height":q,"--n-label-padding":Ie,"--n-label-font-weight":Z,"--n-asterisk-color":D,"--n-label-text-color":ne,"--n-feedback-padding":X,"--n-feedback-font-size":K,"--n-feedback-height":he,"--n-feedback-text-color":j,"--n-feedback-text-color-warning":$,"--n-feedback-text-color-error":V}}),I=n?ot("form-item",A(()=>{var N;return`${d.value[0]}${u.value[0]}${((N=f.value)===null||N===void 0?void 0:N[0])||""}`}),_,t):void 0,L=A(()=>u.value==="left"&&m.value==="left"&&f.value==="left");return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:P,mergedClsPrefix:e,mergedRequired:l,feedbackId:p,renderExplains:h,reverseColSpace:L},i),o),R),{cssVars:n?void 0:_,themeClass:I==null?void 0:I.themeClass,onRender:I==null?void 0:I.onRender})},render(){const{$slots:t,mergedClsPrefix:e,mergedShowLabel:n,mergedShowRequireMark:r,mergedRequireMarkPlacement:o,onRender:i}=this,s=r!==void 0?r:this.mergedRequired;i==null||i();const a=()=>{const l=this.$slots.label?this.$slots.label():this.label;if(!l)return null;const c=g("span",{class:`${e}-form-item-label__text`},l),d=s?g("span",{class:`${e}-form-item-label__asterisk`},o!=="left"?" *":"* "):o==="right-hanging"&&g("span",{class:`${e}-form-item-label__asterisk-placeholder`}," *"),{labelProps:u}=this;return g("label",Object.assign({},u,{class:[u==null?void 0:u.class,`${e}-form-item-label`,`${e}-form-item-label--${o}-mark`,this.reverseColSpace&&`${e}-form-item-label--reverse-columns-space`],style:this.mergedLabelStyle,ref:"labelElementRef"}),o==="left"?[d,c]:[c,d])};return g("div",{class:[`${e}-form-item`,this.themeClass,`${e}-form-item--${this.mergedSize}-size`,`${e}-form-item--${this.mergedLabelPlacement}-labelled`,this.isAutoLabelWidth&&`${e}-form-item--auto-label-width`,!n&&`${e}-form-item--no-label`],style:this.cssVars},n&&a(),g("div",{class:[`${e}-form-item-blank`,this.mergedValidationStatus&&`${e}-form-item-blank--${this.mergedValidationStatus}`]},t),this.mergedShowFeedback?g("div",{key:this.feedbackId,style:this.feedbackStyle,class:[`${e}-form-item-feedback-wrapper`,this.feedbackClass]},g(en,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:l}=this;return Lt(t.feedback,c=>{var d;const{feedback:u}=this,f=c||u?g("div",{key:"__feedback__",class:`${e}-form-item-feedback__line`},c||u):this.renderExplains.length?(d=this.renderExplains)===null||d===void 0?void 0:d.map(({key:m,render:h})=>g("div",{key:m,class:`${e}-form-item-feedback__line`},h())):null;return f?l==="warning"?g("div",{key:"controlled-warning",class:`${e}-form-item-feedback ${e}-form-item-feedback--warning`},f):l==="error"?g("div",{key:"controlled-error",class:`${e}-form-item-feedback ${e}-form-item-feedback--error`},f):l==="success"?g("div",{key:"controlled-success",class:`${e}-form-item-feedback ${e}-form-item-feedback--success`},f):g("div",{key:"controlled-default",class:`${e}-form-item-feedback`},f):null})}})):null)}}),YY=Ds(24,null).map((t,e)=>{const n=e+1,r=`calc(100% / 24 * ${n})`;return[M(`${n}-span`,{width:r}),M(`${n}-offset`,{marginLeft:r}),M(`${n}-push`,{left:r}),M(`${n}-pull`,{right:r})]}),XY=O([k("row",{width:"100%",display:"flex",flexWrap:"wrap"}),k("col",{verticalAlign:"top",boxSizing:"border-box",display:"inline-block",position:"relative",zIndex:"auto"},[F("box",{position:"relative",zIndex:"auto",width:"100%",height:"100%"}),YY])]),l_="n-row",zh={gutter:{type:[Array,Number,String],default:0},alignItems:String,justifyContent:String},QY=Tr(zh),c_=ce({name:"Row",props:zh,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n}=Ge(t);xo("-legacy-grid",XY,e);const r=rn("Row",n,e),o=pt(()=>{const{gutter:s}=t;return Array.isArray(s)&&s[1]||0}),i=pt(()=>{const{gutter:s}=t;return Array.isArray(s)?s[0]:Number(s)});return ft(l_,{mergedClsPrefixRef:e,gutterRef:Se(t,"gutter"),verticalGutterRef:o,horizontalGutterRef:i}),{mergedClsPrefix:e,rtlEnabled:r,styleMargin:pt(()=>`-${Mt(o.value,{c:.5})} -${Mt(i.value,{c:.5})}`),styleWidth:pt(()=>`calc(100% + ${Mt(i.value)})`)}},render(){return g("div",{class:[`${this.mergedClsPrefix}-row`,this.rtlEnabled&&`${this.mergedClsPrefix}-row--rtl`],style:{margin:this.styleMargin,width:this.styleWidth,alignItems:this.alignItems,justifyContent:this.justifyContent}},this.$slots)}}),Nh={span:{type:[String,Number],default:1},push:{type:[String,Number],default:0},pull:{type:[String,Number],default:0},offset:{type:[String,Number],default:0}},ZY=Tr(Nh),d_=ce({name:"Col",props:Nh,setup(t){const e=Ve(l_,null);return e||nr("col","`n-col` must be placed inside `n-row`."),{mergedClsPrefix:e.mergedClsPrefixRef,gutter:e.gutterRef,stylePadding:A(()=>`${Mt(e.verticalGutterRef.value,{c:.5})} ${Mt(e.horizontalGutterRef.value,{c:.5})}`),mergedPush:A(()=>Number(t.push)-Number(t.pull))}},render(){const{$slots:t,span:e,mergedPush:n,offset:r,stylePadding:o,gutter:i,mergedClsPrefix:s}=this;return g("div",{class:[`${s}-col`,{[`${s}-col--${e}-span`]:!0,[`${s}-col--${n}-push`]:n>0,[`${s}-col--${-n}-pull`]:n<0,[`${s}-col--${r}-offset`]:r}],style:{padding:o}},i?g("div",null,t):t)}}),Z0=Object.assign(Object.assign({},Nh),Vd),JY=Tr(Z0),u_=ce({name:"FormItemCol",props:Z0,setup(){const t=z(null);return{formItemInstRef:t,validate:(...r)=>{const{value:o}=t;if(o)return o.validate(...r)},restoreValidation:()=>{const{value:r}=t;r&&r.restoreValidation()}}},render(){return g(d_,Gn(this.$props,ZY),{default:()=>{const t=Gn(this.$props,a_);return g(Q0,Object.assign({ref:"formItemInstRef"},t),this.$slots)}})}}),zC=1,f_="n-grid",h_=1,hd={span:{type:[Number,String],default:h_},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},eX=Tr(hd),zp=ce({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:hd,setup(){const{isSsrRef:t,xGapRef:e,itemStyleRef:n,overflowRef:r,layoutShiftDisabledRef:o}=Ve(f_),i=Zi();return{overflow:r,itemStyle:n,layoutShiftDisabled:o,mergedXGap:A(()=>hn(e.value||0)),deriveStyle:()=>{t.value;const{privateSpan:s=h_,privateShow:a=!0,privateColStart:l=void 0,privateOffset:c=0}=i.vnode.props,{value:d}=e,u=hn(d||0);return{display:a?"":"none",gridColumn:`${l??`span ${s}`} / span ${s}`,marginLeft:c?`calc((100% - (${s} - 1) * ${u}) / ${s} * ${c} + ${u} * ${c})`:""}}}},render(){var t,e;if(this.layoutShiftDisabled){const{span:n,offset:r,mergedXGap:o}=this;return g("div",{style:{gridColumn:`span ${n} / span ${n}`,marginLeft:r?`calc((100% - (${n} - 1) * ${o}) / ${n} * ${r} + ${o} * ${r})`:""}},this.$slots)}return g("div",{style:[this.itemStyle,this.deriveStyle()]},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t,{overflow:this.overflow}))}}),Np=Object.assign(Object.assign({},hd),Vd),NC=ce({__GRID_ITEM__:!0,name:"FormItemGridItem",alias:["FormItemGi"],props:Np,setup(){const t=z(null);return{formItemInstRef:t,validate:(...r)=>{const{value:o}=t;if(o)return o.validate(...r)},restoreValidation:()=>{const{value:r}=t;r&&r.restoreValidation()}}},render(){return g(zp,Gn(this.$.vnode.props||{},eX),{default:()=>{const t=Gn(this.$props,a_);return g(Q0,Object.assign({ref:"formItemInstRef"},t),this.$slots)}})}}),tX=Object.assign(Object.assign({},zh),Z0),nX=ce({name:"FormItemRow",props:tX,setup(){const t=z(null);return{formItemColInstRef:t,validate:(...r)=>{const{value:o}=t;if(o)return o.validate(...r)},restoreValidation:()=>{const{value:r}=t;r&&r.restoreValidation()}}},render(){return g(c_,Gn(this.$props,QY),{default:()=>{const t=Gn(this.$props,JY);return g(u_,Object.assign(Object.assign({ref:"formItemColInstRef"},t),{span:24}),this.$slots)}})}}),g_=ce({name:"GlobalStyle",setup(){if(typeof document>"u")return;const t=Ve(to,null),{body:e}=document,{style:n}=e;let r=!1,o=!0;Qi(()=>{Xt(()=>{var i,s;const{textColor2:a,fontSize:l,fontFamily:c,bodyColor:d,cubicBezierEaseInOut:u,lineHeight:f}=t?gl({},((i=t.mergedThemeRef.value)===null||i===void 0?void 0:i.common)||lt,(s=t.mergedThemeOverridesRef.value)===null||s===void 0?void 0:s.common):lt;if(r||!e.hasAttribute("n-styled")){n.setProperty("-webkit-text-size-adjust","100%"),n.setProperty("-webkit-tap-highlight-color","transparent"),n.padding="0",n.margin="0",n.backgroundColor=d,n.color=a,n.fontSize=l,n.fontFamily=c,n.lineHeight=f;const m=`color .3s ${u}, background-color .3s ${u}`;o?setTimeout(()=>{n.transition=m},0):n.transition=m,e.setAttribute("n-styled",""),r=!0,o=!1}})}),Wl(()=>{r&&e.removeAttribute("n-styled")})},render(){return null}}),rX=k("gradient-text",`
 display: inline-block;
 font-weight: var(--n-font-weight);
 -webkit-background-clip: text;
 background-clip: text;
 color: #0000;
 white-space: nowrap;
 background-image: linear-gradient(var(--n-rotate), var(--n-color-start) 0%, var(--n-color-end) 100%);
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier);
`),m_=Object.assign(Object.assign({},ke.props),{size:[String,Number],fontSize:[String,Number],type:{type:String,default:"primary"},color:[Object,String],gradient:[Object,String]}),oX=ce({name:"GradientText",props:m_,setup(t){Jv();const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=A(()=>{const{type:c}=t;return c==="danger"?"error":c}),o=A(()=>{let c=t.size||t.fontSize;return c&&(c=Mt(c)),c||void 0}),i=A(()=>{const c=t.color||t.gradient;if(typeof c=="string")return c;if(c){const d=c.deg||0,u=c.from,f=c.to;return`linear-gradient(${d}deg, ${u} 0%, ${f} 100%)`}}),s=ke("GradientText","-gradient-text",rX,NG,t,e),a=A(()=>{const{value:c}=r,{common:{cubicBezierEaseInOut:d},self:{rotate:u,[Ae("colorStart",c)]:f,[Ae("colorEnd",c)]:m,fontWeight:h}}=s.value;return{"--n-bezier":d,"--n-rotate":u,"--n-color-start":f,"--n-color-end":m,"--n-font-weight":h}}),l=n?ot("gradient-text",A(()=>r.value[0]),a,t):void 0;return{mergedClsPrefix:e,compatibleType:r,styleFontSize:o,styleBgImage:i,cssVars:n?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){const{mergedClsPrefix:t,onRender:e}=this;return e==null||e(),g("span",{class:[`${t}-gradient-text`,`${t}-gradient-text--${this.compatibleType}-type`,this.themeClass],style:[{fontSize:this.styleFontSize,backgroundImage:this.styleBgImage},this.cssVars]},this.$slots)}}),iX={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},p_=24,Zg="__ssr__",v_={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:p_},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},sX=ce({name:"Grid",inheritAttrs:!1,props:v_,setup(t){const{mergedClsPrefixRef:e,mergedBreakpointsRef:n}=Ge(t),r=/^\d+$/,o=z(void 0),i=qM((n==null?void 0:n.value)||iX),s=pt(()=>!!(t.itemResponsive||!r.test(t.cols.toString())||!r.test(t.xGap.toString())||!r.test(t.yGap.toString()))),a=A(()=>{if(s.value)return t.responsive==="self"?o.value:i.value}),l=pt(()=>{var b;return(b=Number(Ka(t.cols.toString(),a.value)))!==null&&b!==void 0?b:p_}),c=pt(()=>Ka(t.xGap.toString(),a.value)),d=pt(()=>Ka(t.yGap.toString(),a.value)),u=b=>{o.value=b.contentRect.width},f=b=>{Ta(u,b)},m=z(!1),h=A(()=>{if(t.responsive==="self")return f}),p=z(!1),v=z();return Gt(()=>{const{value:b}=v;b&&b.hasAttribute(Zg)&&(b.removeAttribute(Zg),p.value=!0)}),ft(f_,{layoutShiftDisabledRef:Se(t,"layoutShiftDisabled"),isSsrRef:p,itemStyleRef:Se(t,"itemStyle"),xGapRef:c,overflowRef:m}),{isSsr:!jr,contentEl:v,mergedClsPrefix:e,style:A(()=>t.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${t.cols}, minmax(0, 1fr))`,columnGap:hn(t.xGap),rowGap:hn(t.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${l.value}, minmax(0, 1fr))`,columnGap:hn(c.value),rowGap:hn(d.value)}),isResponsive:s,responsiveQuery:a,responsiveCols:l,handleResize:h,overflow:m}},render(){if(this.layoutShiftDisabled)return g("div",sr({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const t=()=>{var e,n,r,o,i,s,a;this.overflow=!1;const l=Yr(Gl(this)),c=[],{collapsed:d,collapsedRows:u,responsiveCols:f,responsiveQuery:m}=this;l.forEach(y=>{var x,C,S,T,w;if(((x=y==null?void 0:y.type)===null||x===void 0?void 0:x.__GRID_ITEM__)!==!0)return;if(Q3(y)){const P=Hr(y);P.props?P.props.privateShow=!1:P.props={privateShow:!1},c.push({child:P,rawChildSpan:0});return}y.dirs=((C=y.dirs)===null||C===void 0?void 0:C.filter(({dir:P})=>P!==bo))||null,((S=y.dirs)===null||S===void 0?void 0:S.length)===0&&(y.dirs=null);const E=Hr(y),R=Number((w=Ka((T=E.props)===null||T===void 0?void 0:T.span,m))!==null&&w!==void 0?w:zC);R!==0&&c.push({child:E,rawChildSpan:R})});let h=0;const p=(e=c[c.length-1])===null||e===void 0?void 0:e.child;if(p!=null&&p.props){const y=(n=p.props)===null||n===void 0?void 0:n.suffix;y!==void 0&&y!==!1&&(h=Number((o=Ka((r=p.props)===null||r===void 0?void 0:r.span,m))!==null&&o!==void 0?o:zC),p.props.privateSpan=h,p.props.privateColStart=f+1-h,p.props.privateShow=(i=p.props.privateShow)!==null&&i!==void 0?i:!0)}let v=0,b=!1;for(const{child:y,rawChildSpan:x}of c){if(b&&(this.overflow=!0),!b){const C=Number((a=Ka((s=y.props)===null||s===void 0?void 0:s.offset,m))!==null&&a!==void 0?a:0),S=Math.min(x+C,f);if(y.props?(y.props.privateSpan=S,y.props.privateOffset=C):y.props={privateSpan:S,privateOffset:C},d){const T=v%f;S+T>f&&(v+=f-T),S+v+h>u*f?b=!0:v+=S}}b&&(y.props?y.props.privateShow!==!0&&(y.props.privateShow=!1):y.props={privateShow:!1})}return g("div",sr({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[Zg]:this.isSsr||void 0},this.$attrs),c.map(({child:y})=>y))};return this.isResponsive&&this.responsive==="self"?g(Fr,{onResize:this.handleResize},{default:t}):t()}});function aX(t,e){const n=[];let r=0,o;for(;(o=e.exec(t))!==null&&(o.index>r&&n.push({text:t.slice(r,o.index),isMatch:!1}),n.push({text:o[0],isMatch:!0}),r=e.lastIndex,!!e.global););return r<t.length&&n.push({text:t.slice(r),isMatch:!1}),n}const b_={highlightTag:{type:String,default:"mark"},caseSensitive:Boolean,autoEscape:{type:Boolean,default:!0},text:String,patterns:{type:Array,default:()=>[]},highlightClass:String,highlightStyle:[Object,String]},lX=ce({name:"Highlight",props:b_,setup(t){const{mergedClsPrefixRef:e}=Ge(),n=o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{highlightedNode:A(()=>{const o=e.value;let i=[];const{patterns:s,text:a}=t;if(s.length===0||!a)i=[a];else{const{highlightTag:l,caseSensitive:c,autoEscape:d,highlightClass:u,highlightStyle:f}=t,m=s.map(v=>d?n(v):v).join("|"),h=new RegExp(`(${m})`,c?"g":"gi");i=aX(a,h).map(({text:v,isMatch:b})=>b?g(l,{class:[`${o}-highlight__mark`,u],style:f},v):v)}return g("span",{class:`${o}-highlight`},i)}),mergedClsPrefix:e}},render(){return this.highlightedNode}});function y_(t){const{primaryColor:e,baseColor:n}=t;return{color:e,iconColor:n}}const cX={common:lt,self:y_},dX={name:"IconWrapper",common:st,self:y_},uX=k("icon-wrapper",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
`),x_=Object.assign(Object.assign({},ke.props),{size:{type:Number,default:24},borderRadius:{type:Number,default:6},color:String,iconColor:String}),fX=ce({name:"IconWrapper",props:x_,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ge(t),o=ke("IconWrapper","-icon-wrapper",uX,cX,t,n),i=A(()=>{const{common:{cubicBezierEaseInOut:a},self:{color:l,iconColor:c}}=o.value;return{"--n-bezier":a,"--n-color":l,"--n-icon-color":c}}),s=r?ot("icon-wrapper",void 0,i,t):void 0;return()=>{const a=Mt(t.size);return s==null||s.onRender(),g("div",{class:[`${n.value}-icon-wrapper`,s==null?void 0:s.themeClass.value],style:[i==null?void 0:i.value,{height:a,width:a,borderRadius:Mt(t.borderRadius),backgroundColor:t.color,color:t.iconColor}]},e)}}}),hX={name:"Image",common:st,peers:{Tooltip:Ah},self:t=>{const{textColor2:e}=t;return{toolbarIconColor:e,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}};function gX(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const mX={name:"Image",common:lt,peers:{Tooltip:Ih},self:gX};function pX(){return g("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"}))}function vX(){return g("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"}))}function bX(){return g("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"}))}const J0=Object.assign(Object.assign({},ke.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),C_="n-image",yX=O([O("body >",[k("image-container","position: fixed;")]),k("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),k("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[Ki()]),k("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[k("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),Ki()]),k("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[ar()]),k("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),k("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[wt("preview-disabled",`
 cursor: pointer;
 `),O("img",`
 border-radius: inherit;
 `)])]),Eu=32,S_=ce({name:"ImagePreview",props:Object.assign(Object.assign({},J0),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(t){const e=ke("Image","-image",yX,mX,t,Se(t,"clsPrefix"));let n=null;const r=z(null),o=z(null),i=z(void 0),s=z(!1),a=z(!1),{localeRef:l}=Mn("Image");function c(){const{value:Y}=o;if(!n||!Y)return;const{style:re}=Y,be=n.getBoundingClientRect(),Ce=be.left+be.width/2,le=be.top+be.height/2;re.transformOrigin=`${Ce}px ${le}px`}function d(Y){var re,be;switch(Y.key){case" ":Y.preventDefault();break;case"ArrowLeft":(re=t.onPrev)===null||re===void 0||re.call(t);break;case"ArrowRight":(be=t.onNext)===null||be===void 0||be.call(t);break;case"Escape":Z();break}}gt(s,Y=>{Y?_t("keydown",document,d):It("keydown",document,d)}),Qt(()=>{It("keydown",document,d)});let u=0,f=0,m=0,h=0,p=0,v=0,b=0,y=0,x=!1;function C(Y){const{clientX:re,clientY:be}=Y;m=re-u,h=be-f,Ta(X)}function S(Y){const{mouseUpClientX:re,mouseUpClientY:be,mouseDownClientX:Ce,mouseDownClientY:le}=Y,de=Ce-re,fe=le-be,te=`vertical${fe>0?"Top":"Bottom"}`,ae=`horizontal${de>0?"Left":"Right"}`;return{moveVerticalDirection:te,moveHorizontalDirection:ae,deltaHorizontal:de,deltaVertical:fe}}function T(Y){const{value:re}=r;if(!re)return{offsetX:0,offsetY:0};const be=re.getBoundingClientRect(),{moveVerticalDirection:Ce,moveHorizontalDirection:le,deltaHorizontal:de,deltaVertical:fe}=Y||{};let te=0,ae=0;return be.width<=window.innerWidth?te=0:be.left>0?te=(be.width-window.innerWidth)/2:be.right<window.innerWidth?te=-(be.width-window.innerWidth)/2:le==="horizontalRight"?te=Math.min((be.width-window.innerWidth)/2,p-(de??0)):te=Math.max(-((be.width-window.innerWidth)/2),p-(de??0)),be.height<=window.innerHeight?ae=0:be.top>0?ae=(be.height-window.innerHeight)/2:be.bottom<window.innerHeight?ae=-(be.height-window.innerHeight)/2:Ce==="verticalBottom"?ae=Math.min((be.height-window.innerHeight)/2,v-(fe??0)):ae=Math.max(-((be.height-window.innerHeight)/2),v-(fe??0)),{offsetX:te,offsetY:ae}}function w(Y){It("mousemove",document,C),It("mouseup",document,w);const{clientX:re,clientY:be}=Y;x=!1;const Ce=S({mouseUpClientX:re,mouseUpClientY:be,mouseDownClientX:b,mouseDownClientY:y}),le=T(Ce);m=le.offsetX,h=le.offsetY,X()}const E=Ve(C_,null);function R(Y){var re,be;if((be=(re=E==null?void 0:E.previewedImgPropsRef.value)===null||re===void 0?void 0:re.onMousedown)===null||be===void 0||be.call(re,Y),Y.button!==0)return;const{clientX:Ce,clientY:le}=Y;x=!0,u=Ce-m,f=le-h,p=m,v=h,b=Ce,y=le,X(),_t("mousemove",document,C),_t("mouseup",document,w)}const P=1.5;let _=0,I=1,L=0;function N(Y){var re,be;(be=(re=E==null?void 0:E.previewedImgPropsRef.value)===null||re===void 0?void 0:re.onDblclick)===null||be===void 0||be.call(re,Y);const Ce=B();I=I===Ce?1:Ce,X()}function H(){I=1,_=0}function G(){var Y;H(),L=0,(Y=t.onPrev)===null||Y===void 0||Y.call(t)}function W(){var Y;H(),L=0,(Y=t.onNext)===null||Y===void 0||Y.call(t)}function J(){L-=90,X()}function ne(){L+=90,X()}function D(){const{value:Y}=r;if(!Y)return 1;const{innerWidth:re,innerHeight:be}=window,Ce=Math.max(1,Y.naturalHeight/(be-Eu)),le=Math.max(1,Y.naturalWidth/(re-Eu));return Math.max(3,Ce*2,le*2)}function B(){const{value:Y}=r;if(!Y)return 1;const{innerWidth:re,innerHeight:be}=window,Ce=Y.naturalHeight/(be-Eu),le=Y.naturalWidth/(re-Eu);return Ce<1&&le<1?1:Math.max(Ce,le)}function j(){const Y=D();I<Y&&(_+=1,I=Math.min(Y,Math.pow(P,_)),X())}function $(){if(I>.5){const Y=I;_-=1,I=Math.max(.5,Math.pow(P,_));const re=Y-I;X(!1);const be=T();I+=re,X(!1),I-=re,m=be.offsetX,h=be.offsetY,X()}}function V(){const Y=i.value;Y&&yh(Y,void 0)}function X(Y=!0){var re;const{value:be}=r;if(!be)return;const{style:Ce}=be,le=vi((re=E==null?void 0:E.previewedImgPropsRef.value)===null||re===void 0?void 0:re.style);let de="";if(typeof le=="string")de=`${le};`;else for(const te in le)de+=`${fE(te)}: ${le[te]};`;const fe=`transform-origin: center; transform: translateX(${m}px) translateY(${h}px) rotate(${L}deg) scale(${I});`;x?Ce.cssText=`${de}cursor: grabbing; transition: none;${fe}`:Ce.cssText=`${de}cursor: grab;${fe}${Y?"":"transition: none;"}`,Y||be.offsetHeight}function Z(){s.value=!s.value,a.value=!0}function q(){I=B(),_=Math.ceil(Math.log(I)/Math.log(P)),m=0,h=0,X()}const ue={setPreviewSrc:Y=>{i.value=Y},setThumbnailEl:Y=>{n=Y},toggleShow:Z};function K(Y,re){if(t.showToolbarTooltip){const{value:be}=e;return g(_h,{to:!1,theme:be.peers.Tooltip,themeOverrides:be.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>l.value[re],trigger:()=>Y})}else return Y}const he=A(()=>{const{common:{cubicBezierEaseInOut:Y},self:{toolbarIconColor:re,toolbarBorderRadius:be,toolbarBoxShadow:Ce,toolbarColor:le}}=e.value;return{"--n-bezier":Y,"--n-toolbar-icon-color":re,"--n-toolbar-color":le,"--n-toolbar-border-radius":be,"--n-toolbar-box-shadow":Ce}}),{inlineThemeDisabled:Ie}=Ge(),Q=Ie?ot("image-preview",void 0,he,t):void 0;return Object.assign({previewRef:r,previewWrapperRef:o,previewSrc:i,show:s,appear:br(),displayed:a,previewedImgProps:E==null?void 0:E.previewedImgPropsRef,handleWheel(Y){Y.preventDefault()},handlePreviewMousedown:R,handlePreviewDblclick:N,syncTransformOrigin:c,handleAfterLeave:()=>{H(),L=0,a.value=!1},handleDragStart:Y=>{var re,be;(be=(re=E==null?void 0:E.previewedImgPropsRef.value)===null||re===void 0?void 0:re.onDragstart)===null||be===void 0||be.call(re,Y),Y.preventDefault()},zoomIn:j,zoomOut:$,handleDownloadClick:V,rotateCounterclockwise:J,rotateClockwise:ne,handleSwitchPrev:G,handleSwitchNext:W,withTooltip:K,resizeToOrignalImageSize:q,cssVars:Ie?void 0:he,themeClass:Q==null?void 0:Q.themeClass,onRender:Q==null?void 0:Q.onRender},ue)},render(){var t,e;const{clsPrefix:n,renderToolbar:r,withTooltip:o}=this,i=o(g(yt,{clsPrefix:n,onClick:this.handleSwitchPrev},{default:pX}),"tipPrevious"),s=o(g(yt,{clsPrefix:n,onClick:this.handleSwitchNext},{default:vX}),"tipNext"),a=o(g(yt,{clsPrefix:n,onClick:this.rotateCounterclockwise},{default:()=>g(P8,null)}),"tipCounterclockwise"),l=o(g(yt,{clsPrefix:n,onClick:this.rotateClockwise},{default:()=>g(k8,null)}),"tipClockwise"),c=o(g(yt,{clsPrefix:n,onClick:this.resizeToOrignalImageSize},{default:()=>g(T8,null)}),"tipOriginalSize"),d=o(g(yt,{clsPrefix:n,onClick:this.zoomOut},{default:()=>g(O8,null)}),"tipZoomOut"),u=o(g(yt,{clsPrefix:n,onClick:this.handleDownloadClick},{default:()=>g(vE,null)}),"tipDownload"),f=o(g(yt,{clsPrefix:n,onClick:this.toggleShow},{default:bX}),"tipClose"),m=o(g(yt,{clsPrefix:n,onClick:this.zoomIn},{default:()=>g(D8,null)}),"tipZoomIn");return g(Vt,null,(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t),g(Od,{show:this.show},{default:()=>{var h;return this.show||this.displayed?((h=this.onRender)===null||h===void 0||h.call(this),$n(g("div",{class:[`${n}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},g(en,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?g("div",{class:`${n}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?g(en,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?g("div",{class:`${n}-image-preview-toolbar`},r?r({nodes:{prev:i,next:s,rotateCounterclockwise:a,rotateClockwise:l,resizeToOriginalSize:c,zoomOut:d,zoomIn:m,download:u,close:f}}):g(Vt,null,this.onPrev?g(Vt,null,i,s):null,a,l,c,d,m,u,f)):null}):null,g(en,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:p={}}=this;return $n(g("div",{class:`${n}-image-preview-wrapper`,ref:"previewWrapperRef"},g("img",Object.assign({},p,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${n}-image-preview`,p.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[bo,this.show]])}})),[[Dd,{enabled:this.show}]])):null}}))}}),w_="n-image-group",R_=J0,T_=ce({name:"ImageGroup",props:R_,setup(t){let e;const{mergedClsPrefixRef:n}=Ge(t),r=`c${Vr()}`,o=Zi(),i=z(null),s=l=>{var c;e=l,(c=i.value)===null||c===void 0||c.setPreviewSrc(l)};function a(l){var c,d;if(!(o!=null&&o.proxy))return;const f=o.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${r}]:not([data-error=true])`);if(!f.length)return;const m=Array.from(f).findIndex(h=>h.dataset.previewSrc===e);~m?s(f[(m+l+f.length)%f.length].dataset.previewSrc):s(f[0].dataset.previewSrc),l===1?(c=t.onPreviewNext)===null||c===void 0||c.call(t):(d=t.onPreviewPrev)===null||d===void 0||d.call(t)}return ft(w_,{mergedClsPrefixRef:n,setPreviewSrc:s,setThumbnailEl:l=>{var c;(c=i.value)===null||c===void 0||c.setThumbnailEl(l)},toggleShow:()=>{var l;(l=i.value)===null||l===void 0||l.toggleShow()},groupId:r,renderToolbarRef:Se(t,"renderToolbar")}),{mergedClsPrefix:n,previewInstRef:i,next:()=>{a(1)},prev:()=>{a(-1)}}},render(){return g(S_,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},this.$slots)}}),E_=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},J0),k_=ce({name:"Image",props:E_,slots:Object,inheritAttrs:!1,setup(t){const e=z(null),n=z(!1),r=z(null),o=Ve(w_,null),{mergedClsPrefixRef:i}=o||Ge(t),s={click:()=>{if(t.previewDisabled||n.value)return;const c=t.previewSrc||t.src;if(o){o.setPreviewSrc(c),o.setThumbnailEl(e.value),o.toggleShow();return}const{value:d}=r;d&&(d.setPreviewSrc(c),d.setThumbnailEl(e.value),d.toggleShow())}},a=z(!t.lazy);Gt(()=>{var c;(c=e.value)===null||c===void 0||c.setAttribute("data-group-id",(o==null?void 0:o.groupId)||"")}),Gt(()=>{if(t.lazy&&t.intersectionObserverOptions){let c;const d=Xt(()=>{c==null||c(),c=void 0,c=lk(e.value,t.intersectionObserverOptions,a)});Qt(()=>{d(),c==null||c()})}}),Xt(()=>{var c;t.src||((c=t.imgProps)===null||c===void 0||c.src),n.value=!1});const l=z(!1);return ft(C_,{previewedImgPropsRef:Se(t,"previewedImgProps")}),Object.assign({mergedClsPrefix:i,groupId:o==null?void 0:o.groupId,previewInstRef:r,imageRef:e,showError:n,shouldStartLoading:a,loaded:l,mergedOnClick:c=>{var d,u;s.click(),(u=(d=t.imgProps)===null||d===void 0?void 0:d.onClick)===null||u===void 0||u.call(d,c)},mergedOnError:c=>{if(!a.value)return;n.value=!0;const{onError:d,imgProps:{onError:u}={}}=t;d==null||d(c),u==null||u(c)},mergedOnLoad:c=>{const{onLoad:d,imgProps:{onLoad:u}={}}=t;d==null||d(c),u==null||u(c),l.value=!0}},s)},render(){var t,e;const{mergedClsPrefix:n,imgProps:r={},loaded:o,$attrs:i,lazy:s}=this,a=Et(this.$slots.error,()=>[]),l=(e=(t=this.$slots).placeholder)===null||e===void 0?void 0:e.call(t),c=this.src||r.src,d=this.showError&&a.length?a:g("img",Object.assign(Object.assign({},r),{ref:"imageRef",width:this.width||r.width,height:this.height||r.height,src:this.showError?this.fallbackSrc:s&&this.intersectionObserverOptions?this.shouldStartLoading?c:void 0:c,alt:this.alt||r.alt,"aria-label":this.alt||r.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:ak&&s&&!this.intersectionObserverOptions?"lazy":"eager",style:[r.style||"",l&&!o?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return g("div",Object.assign({},i,{role:"none",class:[i.class,`${n}-image`,(this.previewDisabled||this.showError)&&`${n}-image--preview-disabled`]}),this.groupId?d:g(S_,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:n,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},{default:()=>d}),!o&&l)}});var xX=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const P_={distance:{type:Number,default:0},onLoad:Function,scrollbarProps:Object},CX=ce({name:"InfiniteScroll",props:P_,setup(t){const e=z(null);let n=!1;const r=()=>xX(this,void 0,void 0,function*(){var s;const{value:a}=e;if(a){const{containerRef:l}=a,c=l==null?void 0:l.scrollHeight,d=l==null?void 0:l.clientHeight,u=l==null?void 0:l.scrollTop;if(l&&c!==void 0&&d!==void 0&&u!==void 0&&u+d>=c-t.distance){n=!0;try{yield(s=t.onLoad)===null||s===void 0?void 0:s.call(t)}catch{}n=!1}}});return{scrollbarInstRef:e,handleScroll:()=>{n||r()},handleWheel:s=>{s.deltaY<=0||n||r()}}},render(){return g($l,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",onWheel:this.handleWheel,onScroll:this.handleScroll}),{default:()=>Et(this.$slots.default,()=>[])})}}),SX=O([k("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),k("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]);function wX(t){return t==null||typeof t=="string"&&t.trim()===""?null:Number(t)}function RX(t){return t.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(t)||/^-?\d*$/.test(t))||t==="-"||t==="-0"}function Jg(t){return t==null?!0:!Number.isNaN(t)}function UC(t,e){return typeof t!="number"?"":e===void 0?String(t):t.toFixed(e)}function em(t){if(t===null)return null;if(typeof t=="number")return t;{const e=Number(t);return Number.isNaN(e)?null:e}}const HC=800,VC=100,A_=Object.assign(Object.assign({},ke.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},inputProps:Object,readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},round:{type:Boolean,default:void 0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),TX=ce({name:"InputNumber",props:A_,slots:Object,setup(t){const{mergedBorderedRef:e,mergedClsPrefixRef:n,mergedRtlRef:r}=Ge(t),o=ke("InputNumber","-input-number",SX,VG,t,n),{localeRef:i}=Mn("InputNumber"),s=jn(t),{mergedSizeRef:a,mergedDisabledRef:l,mergedStatusRef:c}=s,d=z(null),u=z(null),f=z(null),m=z(t.defaultValue),h=Se(t,"value"),p=Ft(h,m),v=z(""),b=le=>{const de=String(le).split(".")[1];return de?de.length:0},y=le=>{const de=[t.min,t.max,t.step,le].map(fe=>fe===void 0?0:b(fe));return Math.max(...de)},x=pt(()=>{const{placeholder:le}=t;return le!==void 0?le:i.value.placeholder}),C=pt(()=>{const le=em(t.step);return le!==null?le===0?1:Math.abs(le):1}),S=pt(()=>{const le=em(t.min);return le!==null?le:null}),T=pt(()=>{const le=em(t.max);return le!==null?le:null}),w=()=>{const{value:le}=p;if(Jg(le)){const{format:de,precision:fe}=t;de?v.value=de(le):le===null||fe===void 0||b(le)>fe?v.value=UC(le,void 0):v.value=UC(le,fe)}else v.value=String(le)};w();const E=le=>{const{value:de}=p;if(le===de){w();return}const{"onUpdate:value":fe,onUpdateValue:te,onChange:ae}=t,{nTriggerFormInput:Ee,nTriggerFormChange:se}=s;ae&&we(ae,le),te&&we(te,le),fe&&we(fe,le),m.value=le,Ee(),se()},R=({offset:le,doUpdateIfValid:de,fixPrecision:fe,isInputing:te})=>{const{value:ae}=v;if(te&&RX(ae))return!1;const Ee=(t.parse||wX)(ae);if(Ee===null)return de&&E(null),null;if(Jg(Ee)){const se=b(Ee),{precision:ie}=t;if(ie!==void 0&&ie<se&&!fe)return!1;let ge=Number.parseFloat((Ee+le).toFixed(ie??y(Ee)));if(Jg(ge)){const{value:Le}=T,{value:xe}=S;if(Le!==null&&ge>Le){if(!de||te)return!1;ge=Le}if(xe!==null&&ge<xe){if(!de||te)return!1;ge=xe}return t.validator&&!t.validator(ge)?!1:(de&&E(ge),ge)}}return!1},P=pt(()=>R({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),_=pt(()=>{const{value:le}=p;if(t.validator&&le===null)return!1;const{value:de}=C;return R({offset:-de,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),I=pt(()=>{const{value:le}=p;if(t.validator&&le===null)return!1;const{value:de}=C;return R({offset:+de,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function L(le){const{onFocus:de}=t,{nTriggerFormFocus:fe}=s;de&&we(de,le),fe()}function N(le){var de,fe;if(le.target===((de=d.value)===null||de===void 0?void 0:de.wrapperElRef))return;const te=R({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(te!==!1){const se=(fe=d.value)===null||fe===void 0?void 0:fe.inputElRef;se&&(se.value=String(te||"")),p.value===te&&w()}else w();const{onBlur:ae}=t,{nTriggerFormBlur:Ee}=s;ae&&we(ae,le),Ee(),$t(()=>{w()})}function H(le){const{onClear:de}=t;de&&we(de,le)}function G(){const{value:le}=I;if(!le){ue();return}const{value:de}=p;if(de===null)t.validator||E(D());else{const{value:fe}=C;R({offset:fe,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function W(){const{value:le}=_;if(!le){Z();return}const{value:de}=p;if(de===null)t.validator||E(D());else{const{value:fe}=C;R({offset:-fe,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const J=L,ne=N;function D(){if(t.validator)return null;const{value:le}=S,{value:de}=T;return le!==null?Math.max(0,le):de!==null?Math.min(0,de):0}function B(le){H(le),E(null)}function j(le){var de,fe,te;!((de=f.value)===null||de===void 0)&&de.$el.contains(le.target)&&le.preventDefault(),!((fe=u.value)===null||fe===void 0)&&fe.$el.contains(le.target)&&le.preventDefault(),(te=d.value)===null||te===void 0||te.activate()}let $=null,V=null,X=null;function Z(){X&&(window.clearTimeout(X),X=null),$&&(window.clearInterval($),$=null)}let q=null;function ue(){q&&(window.clearTimeout(q),q=null),V&&(window.clearInterval(V),V=null)}function K(){Z(),X=window.setTimeout(()=>{$=window.setInterval(()=>{W()},VC)},HC),_t("mouseup",document,Z,{once:!0})}function he(){ue(),q=window.setTimeout(()=>{V=window.setInterval(()=>{G()},VC)},HC),_t("mouseup",document,ue,{once:!0})}const Ie=()=>{V||G()},Q=()=>{$||W()};function Y(le){var de,fe;if(le.key==="Enter"){if(le.target===((de=d.value)===null||de===void 0?void 0:de.wrapperElRef))return;R({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((fe=d.value)===null||fe===void 0||fe.deactivate())}else if(le.key==="ArrowUp"){if(!I.value||t.keyboard.ArrowUp===!1)return;le.preventDefault(),R({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&G()}else if(le.key==="ArrowDown"){if(!_.value||t.keyboard.ArrowDown===!1)return;le.preventDefault(),R({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&W()}}function re(le){v.value=le,t.updateValueOnInput&&!t.format&&!t.parse&&t.precision===void 0&&R({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}gt(p,()=>{w()});const be={focus:()=>{var le;return(le=d.value)===null||le===void 0?void 0:le.focus()},blur:()=>{var le;return(le=d.value)===null||le===void 0?void 0:le.blur()},select:()=>{var le;return(le=d.value)===null||le===void 0?void 0:le.select()}},Ce=rn("InputNumber",r,n);return Object.assign(Object.assign({},be),{rtlEnabled:Ce,inputInstRef:d,minusButtonInstRef:u,addButtonInstRef:f,mergedClsPrefix:n,mergedBordered:e,uncontrolledValue:m,mergedValue:p,mergedPlaceholder:x,displayedValueInvalid:P,mergedSize:a,mergedDisabled:l,displayedValue:v,addable:I,minusable:_,mergedStatus:c,handleFocus:J,handleBlur:ne,handleClear:B,handleMouseDown:j,handleAddClick:Ie,handleMinusClick:Q,handleAddMousedown:he,handleMinusMousedown:K,handleKeyDown:Y,handleUpdateDisplayedValue:re,mergedTheme:o,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:A(()=>{const{self:{iconColorDisabled:le}}=o.value,[de,fe,te,ae]=rr(le);return{textColorTextDisabled:`rgb(${de}, ${fe}, ${te})`,opacityDisabled:`${ae}`}})})},render(){const{mergedClsPrefix:t,$slots:e}=this,n=()=>g(Ko,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>Et(e["minus-icon"],()=>[g(yt,{clsPrefix:t},{default:()=>g(yE,null)})])}),r=()=>g(Ko,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>Et(e["add-icon"],()=>[g(yt,{clsPrefix:t},{default:()=>g(Ol,null)})])});return g("div",{class:[`${t}-input-number`,this.rtlEnabled&&`${t}-input-number--rtl`]},g(tr,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,round:this.round,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,inputProps:this.inputProps,internalLoadingBeforeSuffix:!0},{prefix:()=>{var o;return this.showButton&&this.buttonPlacement==="both"?[n(),Lt(e.prefix,i=>i?g("span",{class:`${t}-input-number-prefix`},i):null)]:(o=e.prefix)===null||o===void 0?void 0:o.call(e)},suffix:()=>{var o;return this.showButton?[Lt(e.suffix,i=>i?g("span",{class:`${t}-input-number-suffix`},i):null),this.buttonPlacement==="right"?n():null,r()]:(o=e.suffix)===null||o===void 0?void 0:o.call(e)}}))}}),EX=O([k("input-otp",`
 display: flex;
 align-items: center;
 gap: var(--n-gap);
 `,[M("block","",[k("input","",[wt("autosize",`
 text-align: center;
 min-width: 0;
 `),M("autosize",`
 text-align: center;
 min-width: 0;
 `)])]),wt("block","",[k("input","",[wt("autosize",`
 width: var(--n-input-width);
 text-align: center;
 `),M("autosize",`
 width: var(--n-input-width);
 text-align: center;
 `)])])])]);var kX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const I_=Object.assign(Object.assign({},ke.props),{defaultValue:{type:Array,default:[]},value:Array,length:{type:Number,default:6},block:Boolean,size:String,disabled:Boolean,mask:Boolean,readonly:Boolean,status:String,gap:[String,Number],placeholder:{type:String,default:""},allowInput:Function,onBlur:[Function,Array],onFocus:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFinish:[Function,Array]}),PX=ce({name:"InputOtp",props:I_,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n,inlineThemeDisabled:r}=Ge(t),o=ke("InputOtp","-input-otp",EX,jG,t,e),i=rn("InputOtp",n,e),s=jn(t),{mergedSizeRef:a,mergedDisabledRef:l,mergedStatusRef:c}=s,d=A(()=>{const{value:I}=a,{gap:L}=t,{self:{[Ae("inputWidth",I)]:N,[Ae("gap",I)]:H}}=o.value;return{"--n-gap":L===void 0?H:typeof L=="number"?hn(L):L,"--n-input-width":N}}),u=r?ot("input-otp",A(()=>{const{value:I}=a;return I[0]}),d,t):void 0,f=z(t.defaultValue),m=Se(t,"value"),h=Ft(m,f),p=z([]),v=A(()=>t.mask?"password":"text"),b=(I,L)=>{if(p!=null&&p.value.some(G=>G.inputElRef===I.relatedTarget))return;const{onFocus:N}=t;N&&we(N,I,L);const{nTriggerFormFocus:H}=s;H()},y=(I,L)=>{if(p!=null&&p.value.some(G=>G.inputElRef===I.relatedTarget))return;const{onBlur:N}=t,{nTriggerFormBlur:H}=s;N&&we(N,I,L),H()},x=I=>{I>=t.length||I<0||(p==null||p.value[I].focus(),p==null||p.value[I].select())},C=I=>{I>=t.length-1||x(I+1)},S=I=>{I<=0||x(I-1)},T=I=>{const L=I?Array.from(I):[],N=t.length;for(;L.length>N;)L.pop();for(;L.length<N;)L.push("");return L};function w(I,L){const{nTriggerFormInput:N,nTriggerFormChange:H}=s;if(q3(I,h.value)){N();return}const{"onUpdate:value":G,onUpdateValue:W,length:J,onFinish:ne}=t;G&&we(G,I,L),W&&we(W,I,L),I.filter(D=>D).length===J&&ne&&we(ne,I),f.value=I,N(),H()}const E=(I,L)=>{if(t.readonly||l.value)return;I.preventDefault();const{clipboardData:N}=I,H=N==null?void 0:N.getData("text");if(!H)return;const G=T(h.value);let W=L;const J=t.allowInput;let ne=!1,D="";for(let B=0;B<H.length&&!(!(J&&!J(H[B],W,G))&&(ne=!0,G[W]=H[B],D+=H[B],W++,W>=G.length));++B);ne&&(x(W),w(G,{diff:D,index:W,source:"paste"}))},R=(I,L)=>{if(l.value)return;const N=I.code||I.key,H=T(h.value);N==="Backspace"&&!t.readonly?(I.preventDefault(),H[Math.max(L,0)]="",w(H,{diff:"",index:L,source:"delete"}),S(L)):N==="ArrowLeft"?(I.preventDefault(),S(L)):N==="ArrowRight"&&(I.preventDefault(),C(L))},P=(I,L)=>{const N=T(h.value),H=N[L],G=I.replace(H,""),W=G[G.length-1]||I[I.length-1]||"",J=t.allowInput;J&&!J(W,L,N)||(N[L]=W,w(N,{diff:W,index:L,source:"input"}),C(L))},_=I=>({onInput:L=>P(L,I),onPaste:L=>E(L,I),onKeydown:L=>R(L,I),onFocus:L=>b(L,I),onBlur:L=>y(L,I)});return{mergedTheme:o,perItemValueArray:A(()=>T(h.value)),mergedClsPrefix:e,inputRefList:p,inputType:v,rtlEnabled:i,mergedStatus:c,mergedDisabled:l,cssVars:r?void 0:d,themeClass:u==null?void 0:u.themeClass,getTemplateEvents:_,onRender:u==null?void 0:u.onRender}},render(){const{mergedTheme:t,mergedClsPrefix:e,perItemValueArray:n,size:r,placeholder:o,mergedDisabled:i,mergedStatus:s,readonly:a,inputType:l,$slots:c,getTemplateEvents:d,themeClass:u,onRender:f}=this;return f==null||f(),g("div",{style:this.cssVars,class:[`${e}-input-otp`,u,this.rtlEnabled&&`${e}-input-otp--rtl`,this.block&&`${e}-input-otp--block`]},Ds(this.length,void 0).map((m,h)=>Vn(c.default,Object.assign({index:h,value:n[h],type:l,size:r,placeholder:o,disabled:i,readonly:a,status:s,builtinThemeOverrides:{paddingTiny:"0",paddingSmall:"0",paddingMedium:"0",paddingLarge:"0"},theme:t.peers.Input,themeOverrides:t.peerOverrides.Input,ref:p=>this.inputRefList[h]=p},d(h)),p=>{var{index:v}=p,b=kX(p,["index"]);return[g(tr,Object.assign({},b,{key:v}))]})))}}),__="n-layout-sider",Uh={type:String,default:"static"},AX=k("layout",`
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 flex: auto;
 overflow: hidden;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[k("layout-scroll-container",`
 overflow-x: hidden;
 box-sizing: border-box;
 height: 100%;
 `),M("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),Up={embedded:Boolean,position:Uh,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentClass:String,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},L_="n-layout";function D_(t){return ce({name:t?"LayoutContent":"Layout",props:Object.assign(Object.assign({},ke.props),Up),setup(e){const n=z(null),r=z(null),{mergedClsPrefixRef:o,inlineThemeDisabled:i}=Ge(e),s=ke("Layout","-layout",AX,Bh,e,o);function a(p,v){if(e.nativeScrollbar){const{value:b}=n;b&&(v===void 0?b.scrollTo(p):b.scrollTo(p,v))}else{const{value:b}=r;b&&b.scrollTo(p,v)}}ft(L_,e);let l=0,c=0;const d=p=>{var v;const b=p.target;l=b.scrollLeft,c=b.scrollTop,(v=e.onScroll)===null||v===void 0||v.call(e,p)};t0(()=>{if(e.nativeScrollbar){const p=n.value;p&&(p.scrollTop=c,p.scrollLeft=l)}});const u={display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},f={scrollTo:a},m=A(()=>{const{common:{cubicBezierEaseInOut:p},self:v}=s.value;return{"--n-bezier":p,"--n-color":e.embedded?v.colorEmbedded:v.color,"--n-text-color":v.textColor}}),h=i?ot("layout",A(()=>e.embedded?"e":""),m,e):void 0;return Object.assign({mergedClsPrefix:o,scrollableElRef:n,scrollbarInstRef:r,hasSiderStyle:u,mergedTheme:s,handleNativeElScroll:d,cssVars:i?void 0:m,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender},f)},render(){var e;const{mergedClsPrefix:n,hasSider:r}=this;(e=this.onRender)===null||e===void 0||e.call(this);const o=r?this.hasSiderStyle:void 0,i=[this.themeClass,t&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return g("div",{class:i,style:this.cssVars},this.nativeScrollbar?g("div",{ref:"scrollableElRef",class:[`${n}-layout-scroll-container`,this.contentClass],style:[this.contentStyle,o],onScroll:this.handleNativeElScroll},this.$slots):g(Sn,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:this.contentClass,contentStyle:[this.contentStyle,o]}),this.$slots))}})}const IX=D_(!1),_X=D_(!0),LX=k("layout-footer",`
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-sizing: border-box;
`,[M("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 bottom: 0;
 `),M("bordered",`
 border-top: solid 1px var(--n-border-color);
 `)]),O_=Object.assign(Object.assign({},ke.props),{inverted:Boolean,position:Uh,bordered:Boolean}),DX=ce({name:"LayoutFooter",props:O_,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Layout","-layout-footer",LX,Bh,t,e),o=A(()=>{const{common:{cubicBezierEaseInOut:s},self:a}=r.value,l={"--n-bezier":s};return t.inverted?(l["--n-color"]=a.footerColorInverted,l["--n-text-color"]=a.textColorInverted,l["--n-border-color"]=a.footerBorderColorInverted):(l["--n-color"]=a.footerColor,l["--n-text-color"]=a.textColor,l["--n-border-color"]=a.footerBorderColor),l}),i=n?ot("layout-footer",A(()=>t.inverted?"a":"b"),o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{class:[`${e}-layout-footer`,this.themeClass,this.position&&`${e}-layout-footer--${this.position}-positioned`,this.bordered&&`${e}-layout-footer--bordered`],style:this.cssVars},this.$slots)}}),OX=k("layout-header",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 box-sizing: border-box;
 width: 100%;
 background-color: var(--n-color);
 color: var(--n-text-color);
`,[M("absolute-positioned",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 `),M("bordered",`
 border-bottom: solid 1px var(--n-border-color);
 `)]),$_={position:Uh,inverted:Boolean,bordered:{type:Boolean,default:!1}},$X=ce({name:"LayoutHeader",props:Object.assign(Object.assign({},ke.props),$_),setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Layout","-layout-header",OX,Bh,t,e),o=A(()=>{const{common:{cubicBezierEaseInOut:s},self:a}=r.value,l={"--n-bezier":s};return t.inverted?(l["--n-color"]=a.headerColorInverted,l["--n-text-color"]=a.textColorInverted,l["--n-border-color"]=a.headerBorderColorInverted):(l["--n-color"]=a.headerColor,l["--n-text-color"]=a.textColor,l["--n-border-color"]=a.headerBorderColor),l}),i=n?ot("layout-header",A(()=>t.inverted?"a":"b"),o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{class:[`${e}-layout-header`,this.themeClass,this.position&&`${e}-layout-header--${this.position}-positioned`,this.bordered&&`${e}-layout-header--bordered`],style:this.cssVars},this.$slots)}}),FX=k("layout-sider",`
 flex-shrink: 0;
 box-sizing: border-box;
 position: relative;
 z-index: 1;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 min-width .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 display: flex;
 justify-content: flex-end;
`,[M("bordered",[F("border",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 1px;
 background-color: var(--n-border-color);
 transition: background-color .3s var(--n-bezier);
 `)]),F("left-placement",[M("bordered",[F("border",`
 right: 0;
 `)])]),M("right-placement",`
 justify-content: flex-start;
 `,[M("bordered",[F("border",`
 left: 0;
 `)]),M("collapsed",[k("layout-toggle-button",[k("base-icon",`
 transform: rotate(180deg);
 `)]),k("layout-toggle-bar",[O("&:hover",[F("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),F("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),k("layout-toggle-button",`
 left: 0;
 transform: translateX(-50%) translateY(-50%);
 `,[k("base-icon",`
 transform: rotate(0);
 `)]),k("layout-toggle-bar",`
 left: -28px;
 transform: rotate(180deg);
 `,[O("&:hover",[F("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),F("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),M("collapsed",[k("layout-toggle-bar",[O("&:hover",[F("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),F("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),k("layout-toggle-button",[k("base-icon",`
 transform: rotate(0);
 `)])]),k("layout-toggle-button",`
 transition:
 color .3s var(--n-bezier),
 right .3s var(--n-bezier),
 left .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 cursor: pointer;
 width: 24px;
 height: 24px;
 position: absolute;
 top: 50%;
 right: 0;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 18px;
 color: var(--n-toggle-button-icon-color);
 border: var(--n-toggle-button-border);
 background-color: var(--n-toggle-button-color);
 box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);
 transform: translateX(50%) translateY(-50%);
 z-index: 1;
 `,[k("base-icon",`
 transition: transform .3s var(--n-bezier);
 transform: rotate(180deg);
 `)]),k("layout-toggle-bar",`
 cursor: pointer;
 height: 72px;
 width: 32px;
 position: absolute;
 top: calc(50% - 36px);
 right: -28px;
 `,[F("top, bottom",`
 position: absolute;
 width: 4px;
 border-radius: 2px;
 height: 38px;
 left: 14px;
 transition: 
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),F("bottom",`
 position: absolute;
 top: 34px;
 `),O("&:hover",[F("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),F("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),F("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),O("&:hover",[F("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),F("border",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 width: 1px;
 transition: background-color .3s var(--n-bezier);
 `),k("layout-sider-scroll-container",`
 flex-grow: 1;
 flex-shrink: 0;
 box-sizing: border-box;
 height: 100%;
 opacity: 0;
 transition: opacity .3s var(--n-bezier);
 max-width: 100%;
 `),M("show-content",[k("layout-sider-scroll-container",{opacity:1})]),M("absolute-positioned",`
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 `)]),MX=ce({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:t}=this;return g("div",{onClick:this.onClick,class:`${t}-layout-toggle-bar`},g("div",{class:`${t}-layout-toggle-bar__top`}),g("div",{class:`${t}-layout-toggle-bar__bottom`}))}}),BX=ce({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:t}=this;return g("div",{class:`${t}-layout-toggle-button`,onClick:this.onClick},g(yt,{clsPrefix:t},{default:()=>g(Ba,null)}))}}),F_={position:Uh,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentClass:String,contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerClass:String,triggerStyle:[String,Object],collapsedTriggerClass:String,collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},zX=ce({name:"LayoutSider",props:Object.assign(Object.assign({},ke.props),F_),setup(t){const e=Ve(L_),n=z(null),r=z(null),o=z(t.defaultCollapsed),i=Ft(Se(t,"collapsed"),o),s=A(()=>Mt(i.value?t.collapsedWidth:t.width)),a=A(()=>t.collapseMode!=="transform"?{}:{minWidth:Mt(t.width)}),l=A(()=>e?e.siderPlacement:"left");function c(S,T){if(t.nativeScrollbar){const{value:w}=n;w&&(T===void 0?w.scrollTo(S):w.scrollTo(S,T))}else{const{value:w}=r;w&&w.scrollTo(S,T)}}function d(){const{"onUpdate:collapsed":S,onUpdateCollapsed:T,onExpand:w,onCollapse:E}=t,{value:R}=i;T&&we(T,!R),S&&we(S,!R),o.value=!R,R?w&&we(w):E&&we(E)}let u=0,f=0;const m=S=>{var T;const w=S.target;u=w.scrollLeft,f=w.scrollTop,(T=t.onScroll)===null||T===void 0||T.call(t,S)};t0(()=>{if(t.nativeScrollbar){const S=n.value;S&&(S.scrollTop=f,S.scrollLeft=u)}}),ft(__,{collapsedRef:i,collapseModeRef:Se(t,"collapseMode")});const{mergedClsPrefixRef:h,inlineThemeDisabled:p}=Ge(t),v=ke("Layout","-layout-sider",FX,Bh,t,h);function b(S){var T,w;S.propertyName==="max-width"&&(i.value?(T=t.onAfterLeave)===null||T===void 0||T.call(t):(w=t.onAfterEnter)===null||w===void 0||w.call(t))}const y={scrollTo:c},x=A(()=>{const{common:{cubicBezierEaseInOut:S},self:T}=v.value,{siderToggleButtonColor:w,siderToggleButtonBorder:E,siderToggleBarColor:R,siderToggleBarColorHover:P}=T,_={"--n-bezier":S,"--n-toggle-button-color":w,"--n-toggle-button-border":E,"--n-toggle-bar-color":R,"--n-toggle-bar-color-hover":P};return t.inverted?(_["--n-color"]=T.siderColorInverted,_["--n-text-color"]=T.textColorInverted,_["--n-border-color"]=T.siderBorderColorInverted,_["--n-toggle-button-icon-color"]=T.siderToggleButtonIconColorInverted,_.__invertScrollbar=T.__invertScrollbar):(_["--n-color"]=T.siderColor,_["--n-text-color"]=T.textColor,_["--n-border-color"]=T.siderBorderColor,_["--n-toggle-button-icon-color"]=T.siderToggleButtonIconColor),_}),C=p?ot("layout-sider",A(()=>t.inverted?"a":"b"),x,t):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:r,mergedClsPrefix:h,mergedTheme:v,styleMaxWidth:s,mergedCollapsed:i,scrollContainerStyle:a,siderPlacement:l,handleNativeElScroll:m,handleTransitionend:b,handleTriggerClick:d,inlineThemeDisabled:p,cssVars:x,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender},y)},render(){var t;const{mergedClsPrefix:e,mergedCollapsed:n,showTrigger:r}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("aside",{class:[`${e}-layout-sider`,this.themeClass,`${e}-layout-sider--${this.position}-positioned`,`${e}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${e}-layout-sider--bordered`,n&&`${e}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${e}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:Mt(this.width)}]},this.nativeScrollbar?g("div",{class:[`${e}-layout-sider-scroll-container`,this.contentClass],onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):g(Sn,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,contentClass:this.contentClass,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&this.cssVars.__invertScrollbar==="true"?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),r?r==="bar"?g(MX,{clsPrefix:e,class:n?this.collapsedTriggerClass:this.triggerClass,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):g(BX,{clsPrefix:e,class:n?this.collapsedTriggerClass:this.triggerClass,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?g("div",{class:`${e}-layout-sider__border`}):null)}}),M_={extraFontSize:"12px",width:"440px"},NX={name:"Transfer",common:st,peers:{Checkbox:Ql,Scrollbar:oo,Input:Co,Empty:Ua,Button:ao},self(t){const{iconColorDisabled:e,iconColor:n,fontWeight:r,fontSizeLarge:o,fontSizeMedium:i,fontSizeSmall:s,heightLarge:a,heightMedium:l,heightSmall:c,borderRadius:d,inputColor:u,tableHeaderColor:f,textColor1:m,textColorDisabled:h,textColor2:p,hoverColor:v}=t;return Object.assign(Object.assign({},M_),{itemHeightSmall:c,itemHeightMedium:l,itemHeightLarge:a,fontSizeSmall:s,fontSizeMedium:i,fontSizeLarge:o,borderRadius:d,borderColor:"#0000",listColor:u,headerColor:f,titleTextColor:m,titleTextColorDisabled:h,extraTextColor:p,filterDividerColor:"#0000",itemTextColor:p,itemTextColorDisabled:h,itemColorPending:v,titleFontWeight:r,iconColor:n,iconColorDisabled:e})}};function UX(t){const{fontWeight:e,iconColorDisabled:n,iconColor:r,fontSizeLarge:o,fontSizeMedium:i,fontSizeSmall:s,heightLarge:a,heightMedium:l,heightSmall:c,borderRadius:d,cardColor:u,tableHeaderColor:f,textColor1:m,textColorDisabled:h,textColor2:p,borderColor:v,hoverColor:b}=t;return Object.assign(Object.assign({},M_),{itemHeightSmall:c,itemHeightMedium:l,itemHeightLarge:a,fontSizeSmall:s,fontSizeMedium:i,fontSizeLarge:o,borderRadius:d,borderColor:v,listColor:u,headerColor:vt(u,f),titleTextColor:m,titleTextColorDisabled:h,extraTextColor:p,filterDividerColor:v,itemTextColor:p,itemTextColorDisabled:h,itemColorPending:b,titleFontWeight:e,iconColor:r,iconColorDisabled:n})}const HX={name:"Transfer",common:lt,peers:{Checkbox:Xl,Scrollbar:ro,Input:io,Empty:rs,Button:so},self:UX},jd="n-transfer",VX=O([O("@keyframes legacy-transfer-slide-in-from-left",`
 0% {
 transform: translateX(-150%);
 }
 100% {
 transform: translateX(0);
 }
 `),O("@keyframes legacy-transfer-slide-out-to-right",`
 0% {
 transform: translateX(0);
 }
 100% {
 transform: translateX(150%);
 }
 `),O("@keyframes legacy-transfer-slide-in-from-right",`
 0% {
 transform: translateX(150%);
 }
 100% {
 transform: translateX(0);
 }
 `),O("@keyframes legacy-transfer-slide-out-to-left",`
 0% {
 transform: translateX(0);
 }
 100% {
 transform: translateX(-150%);
 }
 `),O("@keyframes legacy-transfer-height-collapse",`
 0% {
 max-height: var(--n-item-height);
 }
 100% {
 max-height: 0;
 }
 `),O("@keyframes legacy-transfer-height-expand",`
 0% {
 max-height: 0;
 }
 100% {
 max-height: var(--n-item-height);
 }
 `)]),jX=O([k("legacy-transfer",`
 display: flex;
 width: var(--n-width);
 font-size: var(--n-font-size);
 height: 240px;
 display: flex;
 flex-wrap: nowrap;
 `,[k("legacy-transfer-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),M("disabled",[k("legacy-transfer-icon",{color:"var(--n-icon-color-disabled)"})]),k("legacy-transfer-list",`
 height: inherit;
 display: flex;
 flex-direction: column;
 background-clip: padding-box;
 width: calc(50% - 36px);
 position: relative;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 background-color: var(--n-list-color);
 `,[F("border",`
 border: 1px solid var(--n-border-color);
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `),k("legacy-transfer-list-header",`
 height: calc(var(--n-item-height) + 4px);
 box-sizing: border-box;
 display: flex;
 align-items: center;
 background-clip: padding-box;
 border-radius: inherit;
 border-bottom-left-radius: 0;
 border-bottom-right-radius: 0;
 background-color: var(--n-header-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[F("checkbox",`
 display: flex;
 align-items: center;
 position: relative;
 padding: 0 9px 0 14px;
 `),F("header",`
 flex: 1;
 line-height: 1;
 font-weight: var(--n-header-font-weight);
 transition: color .3s var(--n-bezier);
 color: var(--n-header-text-color);
 `,[M("disabled",{color:"var(--n-header-text-color-disabled)"})]),F("extra",`
 transition: color .3s var(--n-bezier);
 font-size: var(--n-extra-font-size);
 justify-self: flex-end;
 margin-right: 14px;
 white-space: nowrap;
 color: var(--n-header-extra-text-color);
 `)]),k("legacy-transfer-list-body",`
 flex-basis: 0;
 flex-grow: 1;
 box-sizing: border-box;
 position: relative;
 display: flex;
 flex-direction: column;
 border-radius: inherit;
 border-top-left-radius: 0;
 border-top-right-radius: 0;
 `,[k("legacy-transfer-filter",`
 padding: 0 8px 8px 8px;
 box-sizing: border-box;
 background-color: var(--n-header-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-filter-divider-color);
 `),k("legacy-transfer-list-flex-container",`
 flex: 1;
 position: relative;
 `,[k("scrollbar",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 height: unset;
 `,[k("scrollbar-content",{width:"100%"})]),k("empty",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 `,[Ki()]),k("legacy-transfer-list-content",`
 padding: 0;
 margin: 0;
 position: relative;
 `,[M("transition-disabled",[k("legacy-transfer-list-item",{animation:"none !important"})]),k("legacy-transfer-list-item",`
 height: var(--n-item-height);
 max-height: var(--n-item-height);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 cursor: pointer;
 display: flex;
 align-items: center;
 color: var(--n-item-text-color);
 `,[wt("disabled",[O("&:hover",{backgroundColor:"var(--n-item-color-pending)"})]),F("extra",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap;
 padding-right: 4px;
 `),F("checkbox",`
 display: flex;
 align-items: center;
 position: relative;
 padding: 0 9px 0 14px;
 `),M("disabled",`
 cursor: not-allowed
 background-color: #0000;
 color: var(--n-item-text-color-disabled);
 `),M("source",{animationFillMode:"forwards"},[O("&.item-enter-active",`
 transform: translateX(150%);
 animation-duration: .25s, .25s;
 animation-timing-function: var(--n-bezier), var(--n-bezier-ease-out);
 animation-delay: 0s, .25s;
 animation-name: legacy-transfer-height-expand, legacy-transfer-slide-in-from-right;
 `),O("&.item-leave-active",`
 transform: translateX(-150%);
 animation-duration: .25s, .25s;
 animation-timing-function: var(--n-bezier), var(--n-bezier-ease-in);
 animation-delay: .25s, 0s;
 animation-name: legacy-transfer-height-collapse, legacy-transfer-slide-out-to-right;
 `)]),M("target",{animationFillMode:"forwards"},[O("&.item-enter-active",`
 transform: translateX(-150%);
 animation-duration: .25s, .25s;
 animation-timing-function: var(--n-bezier), var(--n-bezier-ease-out);
 animation-delay: 0s, .25s;
 animation-name: legacy-transfer-height-expand, legacy-transfer-slide-in-from-left;
 `),O("&.item-leave-active",`
 transform: translateX(150%);
 animation-duration: .25s, .25s;
 animation-timing-function: var(--n-bezier), var(--n-bezier-ease-in);
 animation-delay: .25s, 0s;
 animation-name: legacy-transfer-height-collapse, legacy-transfer-slide-out-to-left;
 `)])])])])])]),k("legacy-transfer-gap",{width:"72px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}),k("button",[O("&:first-child",{marginBottom:"12px"})])]),VX]),jC=ce({name:"TransferFilter",props:{value:String,placeholder:String,disabled:Boolean,onFocus:{type:Function,required:!0},onBlur:{type:Function,required:!0},onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e}=Ve(jd);return{mergedClsPrefix:e,mergedTheme:t}},render(){const{mergedTheme:t,mergedClsPrefix:e}=this;return g("div",{class:`${e}-legacy-transfer-filter`},g(tr,{value:this.value,onUpdateValue:this.onUpdateValue,disabled:this.disabled,theme:t.peers.Input,themeOverrides:t.peerOverrides.Input,clearable:!0,size:"small",placeholder:this.placeholder,onFocus:this.onFocus,onBlur:this.onBlur},{"clear-icon-placeholder":()=>g(yt,{clsPrefix:e,class:`${e}-legacy-transfer-icon`},{default:()=>g(xE,null)})}))}}),WC=ce({name:"TransferHeader",props:{source:{type:Boolean,default:!1},onChange:{type:Function,required:!0},title:String},setup(t){const{srcOptsRef:e,tgtOptsRef:n,srcCheckedStatusRef:r,tgtCheckedStatusRef:o,srcCheckedValuesRef:i,tgtCheckedValuesRef:s,mergedThemeRef:a,disabledRef:l,mergedClsPrefixRef:c}=Ve(jd),d=A(()=>{const{source:u}=t;return u?r.value:o.value});return()=>{const{source:u}=t,{value:f}=d,{value:m}=a,{value:h}=c;return g("div",{class:`${h}-legacy-transfer-list-header`},g("div",{class:`${h}-legacy-transfer-list-header__checkbox`},g(os,{theme:m.peers.Checkbox,themeOverrides:m.peerOverrides.Checkbox,checked:f.checked,indeterminate:f.indeterminate,disabled:f.disabled||l.value,onUpdateChecked:t.onChange})),g("div",{class:`${h}-legacy-transfer-list-header__header`},t.title),g("div",{class:`${h}-legacy-transfer-list-header__extra`},u?i.value.length:s.value.length,"/",u?e.value.length:n.value.length))}}}),KC=ce({name:"NTransferListItem",props:{source:{type:Boolean,default:!1},label:{type:String,required:!0},value:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},setup(t){const{source:e}=t,{mergedClsPrefixRef:n,mergedThemeRef:r,srcCheckedValuesRef:o,tgtCheckedValuesRef:i,handleSrcCheckboxClick:s,handleTgtCheckboxClick:a}=Ve(jd),l=pt(e?()=>o.value.includes(t.value):()=>i.value.includes(t.value));return{mergedClsPrefix:n,mergedTheme:r,checked:l,handleClick:e?()=>{t.disabled||s(!l.value,t.value)}:()=>{t.disabled||a(!l.value,t.value)}}},render(){const{disabled:t,mergedTheme:e,mergedClsPrefix:n,label:r,checked:o,source:i}=this;return g("div",{class:[`${n}-legacy-transfer-list-item`,t&&`${n}-legacy-transfer-list-item--disabled`,i?`${n}-legacy-transfer-list-item--source`:`${n}-legacy-transfer-list-item--target`],onClick:this.handleClick},g("div",{class:`${n}-legacy-transfer-list-item__checkbox`},g(os,{theme:e.peers.Checkbox,themeOverrides:e.peerOverrides.Checkbox,disabled:t,checked:o})),g("div",{class:`${n}-legacy-transfer-list-item__label`,title:Ll(r)},r))}}),GC=ce({name:"TransferList",props:{virtualScroll:{type:Boolean,required:!0},itemSize:{type:Number,required:!0},options:{type:Array,required:!0},disabled:{type:Boolean,required:!0},isMounted:{type:Boolean,required:!0},isInputing:{type:Boolean,required:!0},source:{type:Boolean,default:!1}},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e}=Ve(jd),n=z(null),r=z(null);function o(){var a;(a=n.value)===null||a===void 0||a.sync()}function i(){const{value:a}=r;if(!a)return null;const{listElRef:l}=a;return l}function s(){const{value:a}=r;if(!a)return null;const{itemsElRef:l}=a;return l}return{mergedTheme:t,mergedClsPrefix:e,scrollerInstRef:n,vlInstRef:r,syncVLScroller:o,scrollContainer:i,scrollContent:s}},render(){const{mergedTheme:t,mergedClsPrefix:e,virtualScroll:n,syncVLScroller:r}=this;return g(Vt,null,g(Sn,{ref:"scrollerInstRef",theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,container:n?this.scrollContainer:void 0,content:n?this.scrollContent:void 0},{default:()=>n?g(qo,{ref:"vlInstRef",style:{height:"100%"},class:`${e}-legacy-transfer-list-content`,items:this.options,itemSize:this.itemSize,showScrollbar:!1,onResize:r,onScroll:r,keyField:"value"},{default:({item:o})=>{const{source:i,disabled:s}=this;return g(KC,{source:i,key:o.value,value:o.value,disabled:o.disabled||s,label:o.label})}}):g("div",{class:`${e}-legacy-transfer-list-content`},g(hh,{name:"item",appear:this.isMounted,css:!this.isInputing},{default:()=>{const{source:o,disabled:i}=this;return this.options.map(s=>g(KC,{source:o,key:s.value,value:s.value,disabled:s.disabled||i,label:s.label}))}}))}),g(en,{name:"fade-in-transition",appear:this.isMounted,css:!this.isInputing},{default:()=>this.options.length?null:g(Gi,{theme:t.peers.Empty,themeOverrides:t.peerOverrides.Empty})}))}});function WX(t,e){const n=z(t.defaultValue),r=Se(t,"value"),o=Ft(r,n),i=A(()=>{const P=new Map;return(t.options||[]).forEach(_=>P.set(_.value,_)),P}),s=A(()=>new Set(o.value||[])),a=A(()=>t.options.filter(P=>!s.value.has(P.value))),l=A(()=>{const P=i.value;return(o.value||[]).map(_=>P.get(_))}),c=z(""),d=z(""),u=A(()=>{if(!t.filterable)return a.value;const{filter:P}=t;return a.value.filter(_=>P(c.value,_,"source"))}),f=A(()=>{if(!t.filterable)return l.value;const{filter:P}=t;return l.value.filter(_=>P(d.value,_,"target"))}),m=A(()=>new Set(u.value.filter(P=>!P.disabled).map(P=>P.value))),h=A(()=>new Set(f.value.filter(P=>!P.disabled).map(P=>P.value))),p=z([]),v=z([]),b=A(()=>{const P=p.value.filter(I=>m.value.has(I)).length,_=m.value.size;return _===0?{checked:!1,indeterminate:!1,disabled:!0}:P===0?{checked:!1,indeterminate:!1}:P===_?{checked:!0,indeterminate:!1}:{checked:!1,indeterminate:!0}}),y=A(()=>{const P=v.value.filter(I=>h.value.has(I)).length,_=h.value.size;return _===0?{checked:!1,indeterminate:!1,disabled:!0}:P===0?{checked:!1,indeterminate:!1}:P===_?{checked:!0,indeterminate:!1}:{checked:!1,indeterminate:!0}}),x=pt(()=>e.value?!0:v.value.length===0),C=pt(()=>e.value?!0:p.value.length===0),S=z(!1);function T(){S.value=!0}function w(){S.value=!1}function E(P){c.value=P??""}function R(P){d.value=P??""}return{uncontrolledValue:n,mergedValue:o,avlSrcValueSet:m,avlTgtValueSet:h,tgtOpts:l,srcOpts:a,filteredSrcOpts:u,filteredTgtOpts:f,srcCheckedValues:p,tgtCheckedValues:v,srcCheckedStatus:b,tgtCheckedStatus:y,srcPattern:c,tgtPattern:d,isInputing:S,fromButtonDisabled:x,toButtonDisabled:C,handleInputFocus:T,handleInputBlur:w,handleTgtFilterUpdateValue:R,handleSrcFilterUpdateValue:E}}const B_=Object.assign(Object.assign({},ke.props),{value:Array,defaultValue:{type:Array,default:null},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:void 0},virtualScroll:Boolean,sourceTitle:String,targetTitle:String,filterable:Boolean,sourceFilterPlaceholder:String,targetFilterPlaceholder:String,filter:{type:Function,default:(t,e)=>t?~`${e.label}`.toLowerCase().indexOf(`${t}`.toLowerCase()):!0},size:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),KX=ce({name:"LegacyTransfer",props:B_,setup(t){const{mergedClsPrefixRef:e}=Ge(t),n=ke("LegacyTransfer","-legacy-transfer",jX,HX,t,e),r=jn(t),{mergedSizeRef:o,mergedDisabledRef:i}=r,s=A(()=>{const{value:D}=o,{self:{[Ae("itemHeight",D)]:B}}=n.value;return on(B)}),{uncontrolledValue:a,mergedValue:l,avlSrcValueSet:c,avlTgtValueSet:d,tgtOpts:u,srcOpts:f,filteredSrcOpts:m,filteredTgtOpts:h,srcCheckedValues:p,tgtCheckedValues:v,srcCheckedStatus:b,tgtCheckedStatus:y,srcPattern:x,tgtPattern:C,isInputing:S,fromButtonDisabled:T,toButtonDisabled:w,handleInputFocus:E,handleInputBlur:R,handleTgtFilterUpdateValue:P,handleSrcFilterUpdateValue:_}=WX(t,i);function I(D){const{onUpdateValue:B,"onUpdate:value":j,onChange:$}=t,{nTriggerFormInput:V,nTriggerFormChange:X}=r;B&&we(B,D),j&&we(j,D),$&&we($,D),a.value=D,V(),X()}function L(){const{value:{checked:D,indeterminate:B}}=b;B||D?p.value=[]:p.value=Array.from(c.value)}function N(){const{value:{checked:D,indeterminate:B}}=y;B||D?v.value=[]:v.value=Array.from(d.value)}function H(D,B){if(D)v.value.push(B);else{const j=v.value.findIndex($=>$===B);~j&&v.value.splice(j,1)}}function G(D,B){if(D)p.value.push(B);else{const j=p.value.findIndex($=>$===B);~j&&p.value.splice(j,1)}}function W(){I(p.value.concat(l.value||[])),p.value=[]}function J(){const D=new Set(v.value);I((l.value||[]).filter(B=>!D.has(B))),v.value=[]}ft(jd,{mergedClsPrefixRef:e,mergedSizeRef:o,disabledRef:i,mergedThemeRef:n,srcCheckedValuesRef:p,tgtCheckedValuesRef:v,srcOptsRef:f,tgtOptsRef:u,srcCheckedStatusRef:b,tgtCheckedStatusRef:y,handleSrcCheckboxClick:G,handleTgtCheckboxClick:H});const{localeRef:ne}=Mn("LegacyTransfer");return{locale:ne,mergedClsPrefix:e,mergedDisabled:i,itemSize:s,isMounted:br(),isInputing:S,mergedTheme:n,filteredSrcOpts:m,filteredTgtOpts:h,srcPattern:x,tgtPattern:C,toButtonDisabled:w,fromButtonDisabled:T,handleSrcHeaderCheck:L,handleTgtHeaderCheck:N,handleToSrcClick:J,handleToTgtClick:W,handleInputFocus:E,handleInputBlur:R,handleTgtFilterUpdateValue:P,handleSrcFilterUpdateValue:_,cssVars:A(()=>{const{value:D}=o,{common:{cubicBezierEaseInOut:B,cubicBezierEaseIn:j,cubicBezierEaseOut:$},self:{width:V,borderRadius:X,borderColor:Z,listColor:q,headerColor:ue,titleTextColor:K,titleTextColorDisabled:he,extraTextColor:Ie,filterDividerColor:Q,itemTextColor:Y,itemColorPending:re,itemTextColorDisabled:be,extraFontSize:Ce,titleFontWeight:le,iconColor:de,iconColorDisabled:fe,[Ae("fontSize",D)]:te,[Ae("itemHeight",D)]:ae}}=n.value;return{"--n-bezier":B,"--n-bezier-ease-in":j,"--n-bezier-ease-out":$,"--n-border-color":Z,"--n-border-radius":X,"--n-extra-font-size":Ce,"--n-filter-divider-color":Q,"--n-font-size":te,"--n-header-color":ue,"--n-header-extra-text-color":Ie,"--n-header-font-weight":le,"--n-header-text-color":K,"--n-header-text-color-disabled":he,"--n-item-color-pending":re,"--n-item-height":ae,"--n-item-text-color":Y,"--n-item-text-color-disabled":be,"--n-list-color":q,"--n-width":V,"--n-icon-color":de,"--n-icon-color-disabled":fe}})}},render(){const{mergedClsPrefix:t}=this;return g("div",{class:[`${t}-legacy-transfer`,this.mergedDisabled&&`${t}-legacy-transfer--disabled`,this.filterable&&`${t}-legacy-transfer--filterable`],style:this.cssVars},g("div",{class:`${t}-legacy-transfer-list`},g(WC,{source:!0,onChange:this.handleSrcHeaderCheck,title:this.sourceTitle||this.locale.sourceTitle}),g("div",{class:`${t}-legacy-transfer-list-body`},this.filterable?g(jC,{onUpdateValue:this.handleSrcFilterUpdateValue,value:this.srcPattern,disabled:this.mergedDisabled,placeholder:this.sourceFilterPlaceholder,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur}):null,g("div",{class:`${t}-legacy-transfer-list-flex-container`},g(GC,{source:!0,options:this.filteredSrcOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,isMounted:this.isMounted,isInputing:this.isInputing,itemSize:this.itemSize}))),g("div",{class:`${t}-legacy-transfer-list__border`})),g("div",{class:`${t}-legacy-transfer-gap`},g(At,{disabled:this.toButtonDisabled||this.mergedDisabled,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,onClick:this.handleToTgtClick},{icon:()=>g(yt,{clsPrefix:t},{default:()=>g(Ba,null)})}),g(At,{disabled:this.fromButtonDisabled||this.mergedDisabled,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,onClick:this.handleToSrcClick},{icon:()=>g(yt,{clsPrefix:t},{default:()=>g(p0,null)})})),g("div",{class:`${t}-legacy-transfer-list`},g(WC,{onChange:this.handleTgtHeaderCheck,title:this.targetTitle||this.locale.targetTitle}),g("div",{class:`${t}-legacy-transfer-list-body`},this.filterable?g(jC,{onUpdateValue:this.handleTgtFilterUpdateValue,value:this.tgtPattern,disabled:this.mergedDisabled,placeholder:this.targetFilterPlaceholder,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur}):null,g("div",{class:`${t}-legacy-transfer-list-flex-container`},g(GC,{options:this.filteredTgtOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,isMounted:this.isMounted,isInputing:this.isInputing,itemSize:this.itemSize}))),g("div",{class:`${t}-legacy-transfer-list__border`})))}}),GX=O([k("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[M("show-divider",[k("list-item",[O("&:not(:last-child)",[F("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),M("clickable",[k("list-item",`
 cursor: pointer;
 `)]),M("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),M("hoverable",[k("list-item",`
 border-radius: var(--n-border-radius);
 `,[O("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[F("divider",`
 background-color: transparent;
 `)])])]),M("bordered, hoverable",[k("list-item",`
 padding: 12px 20px;
 `),F("header, footer",`
 padding: 12px 20px;
 `)]),F("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[O("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),k("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[F("prefix",`
 margin-right: 20px;
 flex: 0;
 `),F("suffix",`
 margin-left: 20px;
 flex: 0;
 `),F("main",`
 flex: 1;
 `),F("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),Ti(k("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Ji(k("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),z_=Object.assign(Object.assign({},ke.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),N_="n-list",qX=ce({name:"List",props:z_,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=Ge(t),o=rn("List",r,e),i=ke("List","-list",GX,YG,t,e);ft(N_,{showDividerRef:Se(t,"showDivider"),mergedClsPrefixRef:e});const s=A(()=>{const{common:{cubicBezierEaseInOut:l},self:{fontSize:c,textColor:d,color:u,colorModal:f,colorPopover:m,borderColor:h,borderColorModal:p,borderColorPopover:v,borderRadius:b,colorHover:y,colorHoverModal:x,colorHoverPopover:C}}=i.value;return{"--n-font-size":c,"--n-bezier":l,"--n-text-color":d,"--n-color":u,"--n-border-radius":b,"--n-border-color":h,"--n-border-color-modal":p,"--n-border-color-popover":v,"--n-color-modal":f,"--n-color-popover":m,"--n-color-hover":y,"--n-color-hover-modal":x,"--n-color-hover-popover":C}}),a=n?ot("list",void 0,s,t):void 0;return{mergedClsPrefix:e,rtlEnabled:o,cssVars:n?void 0:s,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var t;const{$slots:e,mergedClsPrefix:n,onRender:r}=this;return r==null||r(),g("ul",{class:[`${n}-list`,this.rtlEnabled&&`${n}-list--rtl`,this.bordered&&`${n}-list--bordered`,this.showDivider&&`${n}-list--show-divider`,this.hoverable&&`${n}-list--hoverable`,this.clickable&&`${n}-list--clickable`,this.themeClass],style:this.cssVars},e.header?g("div",{class:`${n}-list__header`},e.header()):null,(t=e.default)===null||t===void 0?void 0:t.call(e),e.footer?g("div",{class:`${n}-list__footer`},e.footer()):null)}}),YX=ce({name:"ListItem",slots:Object,setup(){const t=Ve(N_,null);return t||nr("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:t.showDividerRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){const{$slots:t,mergedClsPrefix:e}=this;return g("li",{class:`${e}-list-item`},t.prefix?g("div",{class:`${e}-list-item__prefix`},t.prefix()):null,t.default?g("div",{class:`${e}-list-item__main`},t):null,t.suffix?g("div",{class:`${e}-list-item__suffix`},t.suffix()):null,this.showDivider&&g("div",{class:`${e}-list-item__divider`}))}}),U_="n-log",XX=ce({props:{line:{type:String,default:""}},setup(t){const{trimRef:e,highlightRef:n,languageRef:r,mergedHljsRef:o}=Ve(U_),i=z(null),s=A(()=>e.value?t.line.trim():t.line);function a(){i.value&&(i.value.innerHTML=l(r.value,s.value))}function l(c,d){const{value:u}=o;return u&&c&&u.getLanguage(c)?u.highlight(d,{language:c}).value:d}return Gt(()=>{n.value&&a()}),gt(Se(t,"line"),()=>{n.value&&a()}),{highlight:n,selfRef:i,maybeTrimmedLines:s}},render(){const{highlight:t,maybeTrimmedLines:e}=this;return g("pre",{ref:"selfRef"},t?null:e)}}),QX=ce({name:"LogLoader",props:{clsPrefix:{type:String,required:!0}},setup(){return{locale:Mn("Log").localeRef}},render(){const{clsPrefix:t}=this;return g("div",{class:`${t}-log-loader`},g(Qo,{clsPrefix:t,strokeWidth:24,scale:.85}),g("span",{class:`${t}-log-loader__content`},this.locale.loading))}}),ZX=k("log",`
 position: relative;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
`,[O("pre",`
 white-space: pre-wrap;
 word-break: break-word;
 margin: 0;
 `),k("log-loader",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 box-sizing: border-box;
 position: absolute;
 right: 16px;
 top: 8px;
 height: 34px;
 border-radius: 17px;
 line-height: 34px;
 white-space: nowrap;
 overflow: hidden;
 border: var(--n-loader-border);
 color: var(--n-loader-text-color);
 background-color: var(--n-loader-color);
 font-size: var(--n-loader-font-size);
 `,[ar(),F("content",`
 display: inline-block;
 vertical-align: bottom;
 line-height: 34px;
 padding-left: 40px;
 padding-right: 20px;
 white-space: nowrap;
 `),k("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 12px;
 top: calc(50% - 10px);
 font-size: 20px;
 width: 20px;
 height: 20px;
 display: inline-block;
 `)])]),H_=Object.assign(Object.assign({},ke.props),{loading:Boolean,trim:Boolean,log:String,fontSize:{type:Number,default:14},lines:{type:Array,default:()=>[]},lineHeight:{type:Number,default:1.25},language:String,rows:{type:Number,default:15},offsetTop:{type:Number,default:0},offsetBottom:{type:Number,default:0},hljs:Object,onReachTop:Function,onReachBottom:Function,onRequireMore:Function}),JX=ce({name:"Log",props:H_,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=z(!1),o=A(()=>t.language!==void 0),i=A(()=>`calc(${Math.round(t.rows*t.lineHeight*t.fontSize)}px)`),s=A(()=>{const{log:y}=t;return y?y.split(`
`):t.lines}),a=z(null),l=ke("Log","-log",ZX,JG,t,e);function c(y){const x=y.target,C=x.firstElementChild;if(r.value){$t(()=>{r.value=!1});return}const S=x.offsetHeight,T=x.scrollTop,w=C.offsetHeight,E=T,R=w-T-S;if(E<=t.offsetTop){const{onReachTop:P,onRequireMore:_}=t;_&&_("top"),P&&P()}if(R<=t.offsetBottom){const{onReachBottom:P,onRequireMore:_}=t;_&&_("bottom"),P&&P()}}const d=Hc(u,300);function u(y){if(r.value){$t(()=>{r.value=!1});return}if(a.value){const{containerRef:x,contentRef:C}=a.value;if(x&&C){const S=x.offsetHeight,T=x.scrollTop,w=C.offsetHeight,E=T,R=w-T-S,P=y.deltaY;if(E===0&&P<0){const{onRequireMore:_}=t;_&&_("top")}if(R<=0&&P>0){const{onRequireMore:_}=t;_&&_("bottom")}}}}function f(y){const{value:x}=a;if(!x)return;const{silent:C,top:S,position:T}=y;C&&(r.value=!0),S!==void 0?x.scrollTo({left:0,top:S}):(T==="bottom"||T==="top")&&x.scrollTo({position:T})}function m(y=!1){Rr("log","`scrollToTop` is deprecated, please use `scrollTo({ position: 'top'})` instead."),f({position:"top",silent:y})}function h(y=!1){Rr("log","`scrollToTop` is deprecated, please use `scrollTo({ position: 'bottom'})` instead."),f({position:"bottom",silent:y})}ft(U_,{languageRef:Se(t,"language"),mergedHljsRef:wT(t),trimRef:Se(t,"trim"),highlightRef:o});const p={scrollTo:f},v=A(()=>{const{self:{loaderFontSize:y,loaderTextColor:x,loaderColor:C,loaderBorder:S,loadingColor:T},common:{cubicBezierEaseInOut:w}}=l.value;return{"--n-bezier":w,"--n-loader-font-size":y,"--n-loader-border":S,"--n-loader-color":C,"--n-loader-text-color":x,"--n-loading-color":T}}),b=n?ot("log",void 0,v,t):void 0;return Object.assign(Object.assign({},p),{mergedClsPrefix:e,scrollbarRef:a,mergedTheme:l,styleHeight:i,mergedLines:s,scrollToTop:m,scrollToBottom:h,handleWheel:d,handleScroll:c,cssVars:n?void 0:v,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender})},render(){const{mergedClsPrefix:t,mergedTheme:e,onRender:n}=this;return n==null||n(),g("div",{class:[`${t}-log`,this.themeClass],style:[{lineHeight:this.lineHeight,height:this.styleHeight},this.cssVars],onWheelPassive:this.handleWheel},[g(Sn,{ref:"scrollbarRef",theme:e.peers.Scrollbar,themeOverrides:e.peerOverrides.Scrollbar,onScroll:this.handleScroll},{default:()=>g(fP,{internalNoHighlight:!0,internalFontSize:this.fontSize,theme:e.peers.Code,themeOverrides:e.peerOverrides.Code},{default:()=>this.mergedLines.map((r,o)=>g(XX,{key:o,line:r}))})}),g(en,{name:"fade-in-scale-up-transition"},{default:()=>this.loading?g(QX,{clsPrefix:t}):null})])}});function V_(){return{}}const eQ={common:lt,self:V_},tQ={name:"Marquee",common:st,self:V_},nQ=Object.assign(Object.assign({},ke.props),{autoFill:Boolean,speed:{type:Number,default:48}}),rQ=O([k("marquee",`
 overflow: hidden;
 display: flex;
 `,[F("group",`
 flex: 0 0 auto;
 min-width: var(--n-min-width);
 z-index: 1;
 display: flex;
 flex-direction: row;
 align-items: center;
 animation: n-marquee var(--n-duration) linear var(--n-delay) var(--n-iteration-count);
 animation-play-state: var(--n-play);
 animation-delay: var(--n-delay);
 animation-direction: var(--n-direction);
 `),wt("auto-fill",[F("group","min-width: 100%;"),F("item","min-width: 100%;")])]),O("@keyframes n-marquee",{from:{transform:"translateX(0)"},to:{transform:"translateX(-100%)"}})]),oQ=ce({name:"Marquee",props:nQ,setup(t){const{mergedClsPrefixRef:e}=Ge(t);ke("Marquee","-marquee",rQ,eQ,t,e);const n=z(null),r=z(-1),o=z(-1),i=z("running"),s=A(()=>{if(!t.autoFill)return 1;const{value:m}=r,{value:h}=o;return m===-1||h===-1?1:Math.ceil(o.value/m)}),a=A(()=>{const{value:m}=r;return m===-1?0:m*s.value/t.speed}),l=A(()=>({"--n-play":i.value,"--n-direction":"normal","--n-duration":`${a.value}s`,"--n-delay":"0s","--n-iteration-count":"infinite","--n-min-width":"auto"}));function c(){i.value="paused",$t().then(()=>{var m;(m=n.value)===null||m===void 0||m.offsetTop,i.value="running"})}function d(m){o.value=m.contentRect.width}function u(m){r.value=m.contentRect.width}function f(){c()}return{mergedClsPrefix:e,animationCssVars:l,containerElRef:n,repeatCountInOneGroup:s,handleContainerResize:d,handleContentResize:u,handleAnimationIteration:f}},render(){const{$slots:t,mergedClsPrefix:e,animationCssVars:n,repeatCountInOneGroup:r,handleAnimationIteration:o}=this,i=g(Fr,{onResize:this.handleContentResize},g("div",{class:`${e}-marquee__item ${e}-marquee__original-item`},t)),s=g("div",{class:`${e}-marquee__item`},t);return this.autoFill?g(Fr,{onResize:this.handleContainerResize},g("div",{class:`${e}-marquee ${e}-marquee--auto-fill`,ref:"containerElRef",style:n},g("div",{class:`${e}-marquee__group`,onAnimationiteration:o},i,Ds(r-1,s)),g("div",{class:`${e}-marquee__group`},Ds(r,s)))):g("div",{class:[`${e}-marquee`],ref:"containerElRef",style:n},g("div",{class:`${e}-marquee__group`,onAnimationiteration:o},i),g("div",{class:`${e}-marquee__group`},s))}}),iQ=O([k("mention","width: 100%; z-index: auto; position: relative;"),k("mention-menu",`
 box-shadow: var(--n-menu-box-shadow);
 `,[ar({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]);function sQ(t,e={debug:!1,useSelectionEnd:!1,checkWidthOverflow:!0}){const n=t.selectionStart!==null?t.selectionStart:0,r=t.selectionEnd!==null?t.selectionEnd:0,o=e.useSelectionEnd?r:n,i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],s=navigator.userAgent.toLowerCase().includes("firefox");if(!jr)throw new Error("textarea-caret-position#getCaretPosition should only be called in a browser");const a=e==null?void 0:e.debug;if(a){const h=document.querySelector("#input-textarea-caret-position-mirror-div");h!=null&&h.parentNode&&h.parentNode.removeChild(h)}const l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);const c=l.style,d=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,u=t.nodeName==="INPUT";c.whiteSpace=u?"nowrap":"pre-wrap",u||(c.wordWrap="break-word"),c.position="absolute",a||(c.visibility="hidden"),i.forEach(h=>{if(u&&h==="lineHeight")if(d.boxSizing==="border-box"){const p=Number.parseInt(d.height),v=Number.parseInt(d.paddingTop)+Number.parseInt(d.paddingBottom)+Number.parseInt(d.borderTopWidth)+Number.parseInt(d.borderBottomWidth),b=v+Number.parseInt(d.lineHeight);p>b?c.lineHeight=`${p-v}px`:p===b?c.lineHeight=d.lineHeight:c.lineHeight="0"}else c.lineHeight=d.height;else c[h]=d[h]}),s?t.scrollHeight>Number.parseInt(d.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=t.value.substring(0,o),u&&l.textContent&&(l.textContent=l.textContent.replace(/\s/g," "));const f=document.createElement("span");f.textContent=t.value.substring(o)||".",f.style.position="relative",f.style.left=`${-t.scrollLeft}px`,f.style.top=`${-t.scrollTop}px`,l.appendChild(f);const m={top:f.offsetTop+Number.parseInt(d.borderTopWidth),left:f.offsetLeft+Number.parseInt(d.borderLeftWidth),absolute:!1,height:Number.parseInt(d.fontSize)*1.5};return a?f.style.backgroundColor="#aaa":document.body.removeChild(l),m.left>=t.clientWidth&&e.checkWidthOverflow&&(m.left=t.clientWidth),m}const j_=Object.assign(Object.assign({},ke.props),{to:an.propTo,autosize:[Boolean,Object],options:{type:Array,default:[]},filter:{type:Function,default:(t,e)=>t?typeof e.label=="string"?e.label.startsWith(t):typeof e.value=="string"?e.value.startsWith(t):!1:!0},type:{type:String,default:"text"},separator:{type:String,validator:t=>t.length!==1?(Rr("mention","`separator`'s length must be 1."),!1):!0,default:" "},bordered:{type:Boolean,default:void 0},disabled:Boolean,value:String,defaultValue:{type:String,default:""},loading:Boolean,prefix:{type:[String,Array],default:"@"},placeholder:{type:String,default:""},placement:{type:String,default:"bottom-start"},size:String,renderLabel:Function,status:String,"onUpdate:show":[Array,Function],onUpdateShow:[Array,Function],"onUpdate:value":[Array,Function],onUpdateValue:[Array,Function],onSearch:Function,onSelect:Function,onFocus:Function,onBlur:Function,internalDebug:Boolean}),aQ=ce({name:"Mention",props:j_,slots:Object,setup(t){const{namespaceRef:e,mergedClsPrefixRef:n,mergedBorderedRef:r,inlineThemeDisabled:o}=Ge(t),i=ke("Mention","-mention",iQ,nq,t,n),s=jn(t),a=z(null),l=z(null),c=z(null),d=z(null),u=z("");let f=null,m=null,h=null;const p=A(()=>{const{value:$}=u;return t.options.filter(V=>t.filter($,V))}),v=A(()=>Xr(p.value,{getKey:$=>$.value})),b=z(null),y=z(!1),x=z(t.defaultValue),C=Se(t,"value"),S=Ft(C,x),T=A(()=>{const{self:{menuBoxShadow:$}}=i.value;return{"--n-menu-box-shadow":$}}),w=o?ot("mention",void 0,T,t):void 0;function E($){if(t.disabled)return;const{onUpdateShow:V,"onUpdate:show":X}=t;V&&we(V,$),X&&we(X,$),$||(f=null,m=null,h=null),y.value=$}function R($){const{onUpdateValue:V,"onUpdate:value":X}=t,{nTriggerFormChange:Z,nTriggerFormInput:q}=s;X&&we(X,$),V&&we(V,$),q(),Z(),x.value=$}function P(){return t.type==="text"?a.value.inputElRef:a.value.textareaElRef}function _(){var $;const V=P();if(document.activeElement!==V){E(!1);return}const{selectionEnd:X}=V;if(X===null){E(!1);return}const Z=V.value,{separator:q}=t,{prefix:ue}=t,K=typeof ue=="string"?[ue]:ue;for(let he=X-1;he>=0;--he){const Ie=Z[he];if(Ie===q||Ie===`
`||Ie==="\r"){E(!1);return}if(K.includes(Ie)){const Q=Z.slice(he+1,X);E(!0),($=t.onSearch)===null||$===void 0||$.call(t,Q,Ie),u.value=Q,f=Ie,m=he+1,h=X;return}}E(!1)}function I(){const{value:$}=l;if(!$)return;const V=P(),X=sQ(V),Z=V.getBoundingClientRect(),q=d.value.getBoundingClientRect();$.style.left=`${X.left+Z.left-q.left}px`,$.style.top=`${X.top+Z.top-q.top}px`,$.style.height=`${X.height}px`}function L(){var $;y.value&&(($=c.value)===null||$===void 0||$.syncPosition())}function N($){R($),H()}function H(){setTimeout(()=>{I(),_(),$t().then(L)},0)}function G($){var V,X;if($.key==="ArrowLeft"||$.key==="ArrowRight"){if(!((V=a.value)===null||V===void 0)&&V.isCompositing)return;H()}else if($.key==="ArrowUp"||$.key==="ArrowDown"||$.key==="Enter"){if(!((X=a.value)===null||X===void 0)&&X.isCompositing)return;const{value:Z}=b;if(y.value){if(Z)if($.preventDefault(),$.key==="ArrowUp")Z.prev();else if($.key==="ArrowDown")Z.next();else{const q=Z.getPendingTmNode();q?B(q):E(!1)}}else H()}}function W($){const{onFocus:V}=t;V==null||V($);const{nTriggerFormFocus:X}=s;X(),H()}function J(){var $;($=a.value)===null||$===void 0||$.focus()}function ne(){var $;($=a.value)===null||$===void 0||$.blur()}function D($){const{onBlur:V}=t;V==null||V($);const{nTriggerFormBlur:X}=s;X(),E(!1)}function B($){var V;if(f===null||m===null||h===null)return;const{rawNode:{value:X=""}}=$,Z=P(),q=Z.value,{separator:ue}=t,K=q.slice(h),he=K.startsWith(ue),Ie=`${X}${he?"":ue}`;R(q.slice(0,m)+Ie+K),(V=t.onSelect)===null||V===void 0||V.call(t,$.rawNode,f);const Q=m+Ie.length+(he?1:0);$t().then(()=>{Z.selectionStart=Q,Z.selectionEnd=Q,_()})}function j(){t.disabled||H()}return{namespace:e,mergedClsPrefix:n,mergedBordered:r,mergedSize:s.mergedSizeRef,mergedStatus:s.mergedStatusRef,mergedTheme:i,treeMate:v,selectMenuInstRef:b,inputInstRef:a,cursorRef:l,followerRef:c,wrapperElRef:d,showMenu:y,adjustedTo:an(t),isMounted:br(),mergedValue:S,handleInputFocus:W,handleInputBlur:D,handleInputUpdateValue:N,handleInputKeyDown:G,handleSelect:B,handleInputMouseDown:j,focus:J,blur:ne,cssVars:o?void 0:T,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender}},render(){const{mergedTheme:t,mergedClsPrefix:e,$slots:n}=this;return g("div",{class:`${e}-mention`,ref:"wrapperElRef"},g(tr,{status:this.mergedStatus,themeOverrides:t.peerOverrides.Input,theme:t.peers.Input,size:this.mergedSize,autosize:this.autosize,type:this.type,ref:"inputInstRef",placeholder:this.placeholder,onMousedown:this.handleInputMouseDown,onUpdateValue:this.handleInputUpdateValue,onKeydown:this.handleInputKeyDown,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,bordered:this.mergedBordered,disabled:this.disabled,value:this.mergedValue}),g(Mo,null,{default:()=>[g(Bo,null,{default:()=>g("div",{style:{position:"absolute",width:0},ref:"cursorRef"})}),g(yo,{ref:"followerRef",placement:this.placement,show:this.showMenu,containerClass:this.namespace,to:this.adjustedTo,teleportDisabled:this.adjustedTo===an.tdkey},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{const{mergedTheme:r,onRender:o}=this;return o==null||o(),this.showMenu?g(Md,{clsPrefix:e,theme:r.peers.InternalSelectMenu,themeOverrides:r.peerOverrides.InternalSelectMenu,autoPending:!0,ref:"selectMenuInstRef",class:[`${e}-mention-menu`,this.themeClass],loading:this.loading,treeMate:this.treeMate,virtualScroll:!1,style:this.cssVars,onToggle:this.handleSelect,renderLabel:this.renderLabel},n):null}})})]}))}}),Wd="n-menu",eb="n-submenu",tb="n-menu-item-group",qC=[O("&::before","background-color: var(--n-item-color-hover);"),F("arrow",`
 color: var(--n-arrow-color-hover);
 `),F("icon",`
 color: var(--n-item-icon-color-hover);
 `),k("menu-item-content-header",`
 color: var(--n-item-text-color-hover);
 `,[O("a",`
 color: var(--n-item-text-color-hover);
 `),F("extra",`
 color: var(--n-item-text-color-hover);
 `)])],YC=[F("icon",`
 color: var(--n-item-icon-color-hover-horizontal);
 `),k("menu-item-content-header",`
 color: var(--n-item-text-color-hover-horizontal);
 `,[O("a",`
 color: var(--n-item-text-color-hover-horizontal);
 `),F("extra",`
 color: var(--n-item-text-color-hover-horizontal);
 `)])],lQ=O([k("menu",`
 background-color: var(--n-color);
 color: var(--n-item-text-color);
 overflow: hidden;
 transition: background-color .3s var(--n-bezier);
 box-sizing: border-box;
 font-size: var(--n-font-size);
 padding-bottom: 6px;
 `,[M("horizontal",`
 max-width: 100%;
 width: 100%;
 display: flex;
 overflow: hidden;
 padding-bottom: 0;
 `,[k("submenu","margin: 0;"),k("menu-item","margin: 0;"),k("menu-item-content",`
 padding: 0 20px;
 border-bottom: 2px solid #0000;
 `,[O("&::before","display: none;"),M("selected","border-bottom: 2px solid var(--n-border-color-horizontal)")]),k("menu-item-content",[M("selected",[F("icon","color: var(--n-item-icon-color-active-horizontal);"),k("menu-item-content-header",`
 color: var(--n-item-text-color-active-horizontal);
 `,[O("a","color: var(--n-item-text-color-active-horizontal);"),F("extra","color: var(--n-item-text-color-active-horizontal);")])]),M("child-active",`
 border-bottom: 2px solid var(--n-border-color-horizontal);
 `,[k("menu-item-content-header",`
 color: var(--n-item-text-color-child-active-horizontal);
 `,[O("a",`
 color: var(--n-item-text-color-child-active-horizontal);
 `),F("extra",`
 color: var(--n-item-text-color-child-active-horizontal);
 `)]),F("icon",`
 color: var(--n-item-icon-color-child-active-horizontal);
 `)]),wt("disabled",[wt("selected, child-active",[O("&:focus-within",YC)]),M("selected",[ra(null,[F("icon","color: var(--n-item-icon-color-active-hover-horizontal);"),k("menu-item-content-header",`
 color: var(--n-item-text-color-active-hover-horizontal);
 `,[O("a","color: var(--n-item-text-color-active-hover-horizontal);"),F("extra","color: var(--n-item-text-color-active-hover-horizontal);")])])]),M("child-active",[ra(null,[F("icon","color: var(--n-item-icon-color-child-active-hover-horizontal);"),k("menu-item-content-header",`
 color: var(--n-item-text-color-child-active-hover-horizontal);
 `,[O("a","color: var(--n-item-text-color-child-active-hover-horizontal);"),F("extra","color: var(--n-item-text-color-child-active-hover-horizontal);")])])]),ra("border-bottom: 2px solid var(--n-border-color-horizontal);",YC)]),k("menu-item-content-header",[O("a","color: var(--n-item-text-color-horizontal);")])])]),wt("responsive",[k("menu-item-content-header",`
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),M("collapsed",[k("menu-item-content",[M("selected",[O("&::before",`
 background-color: var(--n-item-color-active-collapsed) !important;
 `)]),k("menu-item-content-header","opacity: 0;"),F("arrow","opacity: 0;"),F("icon","color: var(--n-item-icon-color-collapsed);")])]),k("menu-item",`
 height: var(--n-item-height);
 margin-top: 6px;
 position: relative;
 `),k("menu-item-content",`
 box-sizing: border-box;
 line-height: 1.75;
 height: 100%;
 display: grid;
 grid-template-areas: "icon content arrow";
 grid-template-columns: auto 1fr auto;
 align-items: center;
 cursor: pointer;
 position: relative;
 padding-right: 18px;
 transition:
 background-color .3s var(--n-bezier),
 padding-left .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[O("> *","z-index: 1;"),O("&::before",`
 z-index: auto;
 content: "";
 background-color: #0000;
 position: absolute;
 left: 8px;
 right: 8px;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),M("disabled",`
 opacity: .45;
 cursor: not-allowed;
 `),M("collapsed",[F("arrow","transform: rotate(0);")]),M("selected",[O("&::before","background-color: var(--n-item-color-active);"),F("arrow","color: var(--n-arrow-color-active);"),F("icon","color: var(--n-item-icon-color-active);"),k("menu-item-content-header",`
 color: var(--n-item-text-color-active);
 `,[O("a","color: var(--n-item-text-color-active);"),F("extra","color: var(--n-item-text-color-active);")])]),M("child-active",[k("menu-item-content-header",`
 color: var(--n-item-text-color-child-active);
 `,[O("a",`
 color: var(--n-item-text-color-child-active);
 `),F("extra",`
 color: var(--n-item-text-color-child-active);
 `)]),F("arrow",`
 color: var(--n-arrow-color-child-active);
 `),F("icon",`
 color: var(--n-item-icon-color-child-active);
 `)]),wt("disabled",[wt("selected, child-active",[O("&:focus-within",qC)]),M("selected",[ra(null,[F("arrow","color: var(--n-arrow-color-active-hover);"),F("icon","color: var(--n-item-icon-color-active-hover);"),k("menu-item-content-header",`
 color: var(--n-item-text-color-active-hover);
 `,[O("a","color: var(--n-item-text-color-active-hover);"),F("extra","color: var(--n-item-text-color-active-hover);")])])]),M("child-active",[ra(null,[F("arrow","color: var(--n-arrow-color-child-active-hover);"),F("icon","color: var(--n-item-icon-color-child-active-hover);"),k("menu-item-content-header",`
 color: var(--n-item-text-color-child-active-hover);
 `,[O("a","color: var(--n-item-text-color-child-active-hover);"),F("extra","color: var(--n-item-text-color-child-active-hover);")])])]),M("selected",[ra(null,[O("&::before","background-color: var(--n-item-color-active-hover);")])]),ra(null,qC)]),F("icon",`
 grid-area: icon;
 color: var(--n-item-icon-color);
 transition:
 color .3s var(--n-bezier),
 font-size .3s var(--n-bezier),
 margin-right .3s var(--n-bezier);
 box-sizing: content-box;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 `),F("arrow",`
 grid-area: arrow;
 font-size: 16px;
 color: var(--n-arrow-color);
 transform: rotate(180deg);
 opacity: 1;
 transition:
 color .3s var(--n-bezier),
 transform 0.2s var(--n-bezier),
 opacity 0.2s var(--n-bezier);
 `),k("menu-item-content-header",`
 grid-area: content;
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 opacity: 1;
 white-space: nowrap;
 color: var(--n-item-text-color);
 `,[O("a",`
 outline: none;
 text-decoration: none;
 transition: color .3s var(--n-bezier);
 color: var(--n-item-text-color);
 `,[O("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),F("extra",`
 font-size: .93em;
 color: var(--n-group-text-color);
 transition: color .3s var(--n-bezier);
 `)])]),k("submenu",`
 cursor: pointer;
 position: relative;
 margin-top: 6px;
 `,[k("menu-item-content",`
 height: var(--n-item-height);
 `),k("submenu-children",`
 overflow: hidden;
 padding: 0;
 `,[qi({duration:".2s"})])]),k("menu-item-group",[k("menu-item-group-title",`
 margin-top: 6px;
 color: var(--n-group-text-color);
 cursor: default;
 font-size: .93em;
 height: 36px;
 display: flex;
 align-items: center;
 transition:
 padding-left .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)])]),k("menu-tooltip",[O("a",`
 color: inherit;
 text-decoration: none;
 `)]),k("menu-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 6px 18px;
 `)]);function ra(t,e){return[M("hover",t,e),O("&:hover",t,e)]}const W_=ce({name:"MenuOptionContent",props:{collapsed:Boolean,disabled:Boolean,title:[String,Function],icon:Function,extra:[String,Function],showArrow:Boolean,childActive:Boolean,hover:Boolean,paddingLeft:Number,selected:Boolean,maxIconSize:{type:Number,required:!0},activeIconSize:{type:Number,required:!0},iconMarginRight:{type:Number,required:!0},clsPrefix:{type:String,required:!0},onClick:Function,tmNode:{type:Object,required:!0},isEllipsisPlaceholder:Boolean},setup(t){const{props:e}=Ve(Wd);return{menuProps:e,style:A(()=>{const{paddingLeft:n}=t;return{paddingLeft:n&&`${n}px`}}),iconStyle:A(()=>{const{maxIconSize:n,activeIconSize:r,iconMarginRight:o}=t;return{width:`${n}px`,height:`${n}px`,fontSize:`${r}px`,marginRight:`${o}px`}})}},render(){const{clsPrefix:t,tmNode:e,menuProps:{renderIcon:n,renderLabel:r,renderExtra:o,expandIcon:i}}=this,s=n?n(e.rawNode):dn(this.icon);return g("div",{onClick:a=>{var l;(l=this.onClick)===null||l===void 0||l.call(this,a)},role:"none",class:[`${t}-menu-item-content`,{[`${t}-menu-item-content--selected`]:this.selected,[`${t}-menu-item-content--collapsed`]:this.collapsed,[`${t}-menu-item-content--child-active`]:this.childActive,[`${t}-menu-item-content--disabled`]:this.disabled,[`${t}-menu-item-content--hover`]:this.hover}],style:this.style},s&&g("div",{class:`${t}-menu-item-content__icon`,style:this.iconStyle,role:"none"},[s]),g("div",{class:`${t}-menu-item-content-header`,role:"none"},this.isEllipsisPlaceholder?this.title:r?r(e.rawNode):dn(this.title),this.extra||o?g("span",{class:`${t}-menu-item-content-header__extra`}," ",o?o(e.rawNode):dn(this.extra)):null),this.showArrow?g(yt,{ariaHidden:!0,class:`${t}-menu-item-content__arrow`,clsPrefix:t},{default:()=>i?i(e.rawNode):g(x8,null)}):null)}}),ku=8;function nb(t){const e=Ve(Wd),{props:n,mergedCollapsedRef:r}=e,o=Ve(eb,null),i=Ve(tb,null),s=A(()=>n.mode==="horizontal"),a=A(()=>s.value?n.dropdownPlacement:"tmNodes"in t?"right-start":"right"),l=A(()=>{var f;return Math.max((f=n.collapsedIconSize)!==null&&f!==void 0?f:n.iconSize,n.iconSize)}),c=A(()=>{var f;return!s.value&&t.root&&r.value&&(f=n.collapsedIconSize)!==null&&f!==void 0?f:n.iconSize}),d=A(()=>{if(s.value)return;const{collapsedWidth:f,indent:m,rootIndent:h}=n,{root:p,isGroup:v}=t,b=h===void 0?m:h;return p?r.value?f/2-l.value/2:b:i&&typeof i.paddingLeftRef.value=="number"?m/2+i.paddingLeftRef.value:o&&typeof o.paddingLeftRef.value=="number"?(v?m/2:m)+o.paddingLeftRef.value:0}),u=A(()=>{const{collapsedWidth:f,indent:m,rootIndent:h}=n,{value:p}=l,{root:v}=t;return s.value||!v||!r.value?ku:(h===void 0?m:h)+p+ku-(f+p)/2});return{dropdownPlacement:a,activeIconSize:c,maxIconSize:l,paddingLeft:d,iconMarginRight:u,NMenu:e,NSubmenu:o}}const rb={internalKey:{type:[String,Number],required:!0},root:Boolean,isGroup:Boolean,level:{type:Number,required:!0},title:[String,Function],extra:[String,Function]},cQ=ce({name:"MenuDivider",setup(){const t=Ve(Wd),{mergedClsPrefixRef:e,isHorizontalRef:n}=t;return()=>n.value?null:g("div",{class:`${e.value}-menu-divider`})}}),K_=Object.assign(Object.assign({},rb),{tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function}),dQ=Tr(K_),uQ=ce({name:"MenuOption",props:K_,setup(t){const e=nb(t),{NSubmenu:n,NMenu:r}=e,{props:o,mergedClsPrefixRef:i,mergedCollapsedRef:s}=r,a=n?n.mergedDisabledRef:{value:!1},l=A(()=>a.value||t.disabled);function c(u){const{onClick:f}=t;f&&f(u)}function d(u){l.value||(r.doSelect(t.internalKey,t.tmNode.rawNode),c(u))}return{mergedClsPrefix:i,dropdownPlacement:e.dropdownPlacement,paddingLeft:e.paddingLeft,iconMarginRight:e.iconMarginRight,maxIconSize:e.maxIconSize,activeIconSize:e.activeIconSize,mergedTheme:r.mergedThemeRef,menuProps:o,dropdownEnabled:pt(()=>t.root&&s.value&&o.mode!=="horizontal"&&!l.value),selected:pt(()=>r.mergedValueRef.value===t.internalKey),mergedDisabled:l,handleClick:d}},render(){const{mergedClsPrefix:t,mergedTheme:e,tmNode:n,menuProps:{renderLabel:r,nodeProps:o}}=this,i=o==null?void 0:o(n.rawNode);return g("div",Object.assign({},i,{role:"menuitem",class:[`${t}-menu-item`,i==null?void 0:i.class]}),g(_h,{theme:e.peers.Tooltip,themeOverrides:e.peerOverrides.Tooltip,trigger:"hover",placement:this.dropdownPlacement,disabled:!this.dropdownEnabled||this.title===void 0,internalExtraClass:["menu-tooltip"]},{default:()=>r?r(n.rawNode):dn(this.title),trigger:()=>g(W_,{tmNode:n,clsPrefix:t,paddingLeft:this.paddingLeft,iconMarginRight:this.iconMarginRight,maxIconSize:this.maxIconSize,activeIconSize:this.activeIconSize,selected:this.selected,title:this.title,extra:this.extra,disabled:this.mergedDisabled,icon:this.icon,onClick:this.handleClick})}))}}),G_=Object.assign(Object.assign({},rb),{tmNode:{type:Object,required:!0},tmNodes:{type:Array,required:!0}}),fQ=Tr(G_),hQ=ce({name:"MenuOptionGroup",props:G_,setup(t){ft(eb,null);const e=nb(t);ft(tb,{paddingLeftRef:e.paddingLeft});const{mergedClsPrefixRef:n,props:r}=Ve(Wd);return function(){const{value:o}=n,i=e.paddingLeft.value,{nodeProps:s}=r,a=s==null?void 0:s(t.tmNode.rawNode);return g("div",{class:`${o}-menu-item-group`,role:"group"},g("div",Object.assign({},a,{class:[`${o}-menu-item-group-title`,a==null?void 0:a.class],style:[(a==null?void 0:a.style)||"",i!==void 0?`padding-left: ${i}px;`:""]}),dn(t.title),t.extra?g(Vt,null," ",dn(t.extra)):null),g("div",null,t.tmNodes.map(l=>ob(l,r))))}}});function Hp(t){return t.type==="divider"||t.type==="render"}function gQ(t){return t.type==="divider"}function ob(t,e){const{rawNode:n}=t,{show:r}=n;if(r===!1)return null;if(Hp(n))return gQ(n)?g(cQ,Object.assign({key:t.key},n.props)):null;const{labelField:o}=e,{key:i,level:s,isGroup:a}=t,l=Object.assign(Object.assign({},n),{title:n.title||n[o],extra:n.titleExtra||n.extra,key:i,internalKey:i,level:s,root:s===0,isGroup:a});return t.children?t.isGroup?g(hQ,Gn(l,fQ,{tmNode:t,tmNodes:t.children,key:i})):g(Vp,Gn(l,mQ,{key:i,rawNodes:n[e.childrenField],tmNodes:t.children,tmNode:t})):g(uQ,Gn(l,dQ,{key:i,tmNode:t}))}const q_=Object.assign(Object.assign({},rb),{rawNodes:{type:Array,default:()=>[]},tmNodes:{type:Array,default:()=>[]},tmNode:{type:Object,required:!0},disabled:Boolean,icon:Function,onClick:Function,domId:String,virtualChildActive:{type:Boolean,default:void 0},isEllipsisPlaceholder:Boolean}),mQ=Tr(q_),Vp=ce({name:"Submenu",props:q_,setup(t){const e=nb(t),{NMenu:n,NSubmenu:r}=e,{props:o,mergedCollapsedRef:i,mergedThemeRef:s}=n,a=A(()=>{const{disabled:f}=t;return r!=null&&r.mergedDisabledRef.value||o.disabled?!0:f}),l=z(!1);ft(eb,{paddingLeftRef:e.paddingLeft,mergedDisabledRef:a}),ft(tb,null);function c(){const{onClick:f}=t;f&&f()}function d(){a.value||(i.value||n.toggleExpand(t.internalKey),c())}function u(f){l.value=f}return{menuProps:o,mergedTheme:s,doSelect:n.doSelect,inverted:n.invertedRef,isHorizontal:n.isHorizontalRef,mergedClsPrefix:n.mergedClsPrefixRef,maxIconSize:e.maxIconSize,activeIconSize:e.activeIconSize,iconMarginRight:e.iconMarginRight,dropdownPlacement:e.dropdownPlacement,dropdownShow:l,paddingLeft:e.paddingLeft,mergedDisabled:a,mergedValue:n.mergedValueRef,childActive:pt(()=>{var f;return(f=t.virtualChildActive)!==null&&f!==void 0?f:n.activePathRef.value.includes(t.internalKey)}),collapsed:A(()=>o.mode==="horizontal"?!1:i.value?!0:!n.mergedExpandedKeysRef.value.includes(t.internalKey)),dropdownEnabled:A(()=>!a.value&&(o.mode==="horizontal"||i.value)),handlePopoverShowChange:u,handleClick:d}},render(){var t;const{mergedClsPrefix:e,menuProps:{renderIcon:n,renderLabel:r}}=this,o=()=>{const{isHorizontal:s,paddingLeft:a,collapsed:l,mergedDisabled:c,maxIconSize:d,activeIconSize:u,title:f,childActive:m,icon:h,handleClick:p,menuProps:{nodeProps:v},dropdownShow:b,iconMarginRight:y,tmNode:x,mergedClsPrefix:C,isEllipsisPlaceholder:S,extra:T}=this,w=v==null?void 0:v(x.rawNode);return g("div",Object.assign({},w,{class:[`${C}-menu-item`,w==null?void 0:w.class],role:"menuitem"}),g(W_,{tmNode:x,paddingLeft:a,collapsed:l,disabled:c,iconMarginRight:y,maxIconSize:d,activeIconSize:u,title:f,extra:T,showArrow:!s,childActive:m,clsPrefix:C,icon:h,hover:b,onClick:p,isEllipsisPlaceholder:S}))},i=()=>g(Ai,null,{default:()=>{const{tmNodes:s,collapsed:a}=this;return a?null:g("div",{class:`${e}-submenu-children`,role:"menu"},s.map(l=>ob(l,this.menuProps)))}});return this.root?g($h,Object.assign({size:"large",trigger:"hover"},(t=this.menuProps)===null||t===void 0?void 0:t.dropdownProps,{themeOverrides:this.mergedTheme.peerOverrides.Dropdown,theme:this.mergedTheme.peers.Dropdown,builtinThemeOverrides:{fontSizeLarge:"14px",optionIconSizeLarge:"18px"},value:this.mergedValue,disabled:!this.dropdownEnabled,placement:this.dropdownPlacement,keyField:this.menuProps.keyField,labelField:this.menuProps.labelField,childrenField:this.menuProps.childrenField,onUpdateShow:this.handlePopoverShowChange,options:this.rawNodes,onSelect:this.doSelect,inverted:this.inverted,renderIcon:n,renderLabel:r}),{default:()=>g("div",{class:`${e}-submenu`,role:"menu","aria-expanded":!this.collapsed,id:this.domId},o(),this.isHorizontal?null:i())}):g("div",{class:`${e}-submenu`,role:"menu","aria-expanded":!this.collapsed,id:this.domId},o(),i())}}),Y_=Object.assign(Object.assign({},ke.props),{options:{type:Array,default:()=>[]},collapsed:{type:Boolean,default:void 0},collapsedWidth:{type:Number,default:48},iconSize:{type:Number,default:20},collapsedIconSize:{type:Number,default:24},rootIndent:Number,indent:{type:Number,default:32},labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandAll:Boolean,defaultExpandedKeys:Array,expandedKeys:Array,value:[String,Number],defaultValue:{type:[String,Number],default:null},mode:{type:String,default:"vertical"},watchProps:{type:Array,default:void 0},disabled:Boolean,show:{type:Boolean,default:!0},inverted:Boolean,"onUpdate:expandedKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],expandIcon:Function,renderIcon:Function,renderLabel:Function,renderExtra:Function,dropdownProps:Object,accordion:Boolean,nodeProps:Function,dropdownPlacement:{type:String,default:"bottom"},responsive:Boolean,items:Array,onOpenNamesChange:[Function,Array],onSelect:[Function,Array],onExpandedNamesChange:[Function,Array],expandedNames:Array,defaultExpandedNames:Array}),pQ=ce({name:"Menu",inheritAttrs:!1,props:Y_,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Menu","-menu",lQ,oq,t,e),o=Ve(__,null),i=A(()=>{var B;const{collapsed:j}=t;if(j!==void 0)return j;if(o){const{collapseModeRef:$,collapsedRef:V}=o;if($.value==="width")return(B=V.value)!==null&&B!==void 0?B:!1}return!1}),s=A(()=>{const{keyField:B,childrenField:j,disabledField:$}=t;return Xr(t.items||t.options,{getIgnored(V){return Hp(V)},getChildren(V){return V[j]},getDisabled(V){return V[$]},getKey(V){var X;return(X=V[B])!==null&&X!==void 0?X:V.name}})}),a=A(()=>new Set(s.value.treeNodes.map(B=>B.key))),{watchProps:l}=t,c=z(null);l!=null&&l.includes("defaultValue")?Xt(()=>{c.value=t.defaultValue}):c.value=t.defaultValue;const d=Se(t,"value"),u=Ft(d,c),f=z([]),m=()=>{f.value=t.defaultExpandAll?s.value.getNonLeafKeys():t.defaultExpandedNames||t.defaultExpandedKeys||s.value.getPath(u.value,{includeSelf:!1}).keyPath};l!=null&&l.includes("defaultExpandedKeys")?Xt(m):m();const h=Os(t,["expandedNames","expandedKeys"]),p=Ft(h,f),v=A(()=>s.value.treeNodes),b=A(()=>s.value.getPath(u.value).keyPath);ft(Wd,{props:t,mergedCollapsedRef:i,mergedThemeRef:r,mergedValueRef:u,mergedExpandedKeysRef:p,activePathRef:b,mergedClsPrefixRef:e,isHorizontalRef:A(()=>t.mode==="horizontal"),invertedRef:Se(t,"inverted"),doSelect:y,toggleExpand:C});function y(B,j){const{"onUpdate:value":$,onUpdateValue:V,onSelect:X}=t;V&&we(V,B,j),$&&we($,B,j),X&&we(X,B,j),c.value=B}function x(B){const{"onUpdate:expandedKeys":j,onUpdateExpandedKeys:$,onExpandedNamesChange:V,onOpenNamesChange:X}=t;j&&we(j,B),$&&we($,B),V&&we(V,B),X&&we(X,B),f.value=B}function C(B){const j=Array.from(p.value),$=j.findIndex(V=>V===B);if(~$)j.splice($,1);else{if(t.accordion&&a.value.has(B)){const V=j.findIndex(X=>a.value.has(X));V>-1&&j.splice(V,1)}j.push(B)}x(j)}const S=B=>{const j=s.value.getPath(B??u.value,{includeSelf:!1}).keyPath;if(!j.length)return;const $=Array.from(p.value),V=new Set([...$,...j]);t.accordion&&a.value.forEach(X=>{V.has(X)&&!j.includes(X)&&V.delete(X)}),x(Array.from(V))},T=A(()=>{const{inverted:B}=t,{common:{cubicBezierEaseInOut:j},self:$}=r.value,{borderRadius:V,borderColorHorizontal:X,fontSize:Z,itemHeight:q,dividerColor:ue}=$,K={"--n-divider-color":ue,"--n-bezier":j,"--n-font-size":Z,"--n-border-color-horizontal":X,"--n-border-radius":V,"--n-item-height":q};return B?(K["--n-group-text-color"]=$.groupTextColorInverted,K["--n-color"]=$.colorInverted,K["--n-item-text-color"]=$.itemTextColorInverted,K["--n-item-text-color-hover"]=$.itemTextColorHoverInverted,K["--n-item-text-color-active"]=$.itemTextColorActiveInverted,K["--n-item-text-color-child-active"]=$.itemTextColorChildActiveInverted,K["--n-item-text-color-child-active-hover"]=$.itemTextColorChildActiveInverted,K["--n-item-text-color-active-hover"]=$.itemTextColorActiveHoverInverted,K["--n-item-icon-color"]=$.itemIconColorInverted,K["--n-item-icon-color-hover"]=$.itemIconColorHoverInverted,K["--n-item-icon-color-active"]=$.itemIconColorActiveInverted,K["--n-item-icon-color-active-hover"]=$.itemIconColorActiveHoverInverted,K["--n-item-icon-color-child-active"]=$.itemIconColorChildActiveInverted,K["--n-item-icon-color-child-active-hover"]=$.itemIconColorChildActiveHoverInverted,K["--n-item-icon-color-collapsed"]=$.itemIconColorCollapsedInverted,K["--n-item-text-color-horizontal"]=$.itemTextColorHorizontalInverted,K["--n-item-text-color-hover-horizontal"]=$.itemTextColorHoverHorizontalInverted,K["--n-item-text-color-active-horizontal"]=$.itemTextColorActiveHorizontalInverted,K["--n-item-text-color-child-active-horizontal"]=$.itemTextColorChildActiveHorizontalInverted,K["--n-item-text-color-child-active-hover-horizontal"]=$.itemTextColorChildActiveHoverHorizontalInverted,K["--n-item-text-color-active-hover-horizontal"]=$.itemTextColorActiveHoverHorizontalInverted,K["--n-item-icon-color-horizontal"]=$.itemIconColorHorizontalInverted,K["--n-item-icon-color-hover-horizontal"]=$.itemIconColorHoverHorizontalInverted,K["--n-item-icon-color-active-horizontal"]=$.itemIconColorActiveHorizontalInverted,K["--n-item-icon-color-active-hover-horizontal"]=$.itemIconColorActiveHoverHorizontalInverted,K["--n-item-icon-color-child-active-horizontal"]=$.itemIconColorChildActiveHorizontalInverted,K["--n-item-icon-color-child-active-hover-horizontal"]=$.itemIconColorChildActiveHoverHorizontalInverted,K["--n-arrow-color"]=$.arrowColorInverted,K["--n-arrow-color-hover"]=$.arrowColorHoverInverted,K["--n-arrow-color-active"]=$.arrowColorActiveInverted,K["--n-arrow-color-active-hover"]=$.arrowColorActiveHoverInverted,K["--n-arrow-color-child-active"]=$.arrowColorChildActiveInverted,K["--n-arrow-color-child-active-hover"]=$.arrowColorChildActiveHoverInverted,K["--n-item-color-hover"]=$.itemColorHoverInverted,K["--n-item-color-active"]=$.itemColorActiveInverted,K["--n-item-color-active-hover"]=$.itemColorActiveHoverInverted,K["--n-item-color-active-collapsed"]=$.itemColorActiveCollapsedInverted):(K["--n-group-text-color"]=$.groupTextColor,K["--n-color"]=$.color,K["--n-item-text-color"]=$.itemTextColor,K["--n-item-text-color-hover"]=$.itemTextColorHover,K["--n-item-text-color-active"]=$.itemTextColorActive,K["--n-item-text-color-child-active"]=$.itemTextColorChildActive,K["--n-item-text-color-child-active-hover"]=$.itemTextColorChildActiveHover,K["--n-item-text-color-active-hover"]=$.itemTextColorActiveHover,K["--n-item-icon-color"]=$.itemIconColor,K["--n-item-icon-color-hover"]=$.itemIconColorHover,K["--n-item-icon-color-active"]=$.itemIconColorActive,K["--n-item-icon-color-active-hover"]=$.itemIconColorActiveHover,K["--n-item-icon-color-child-active"]=$.itemIconColorChildActive,K["--n-item-icon-color-child-active-hover"]=$.itemIconColorChildActiveHover,K["--n-item-icon-color-collapsed"]=$.itemIconColorCollapsed,K["--n-item-text-color-horizontal"]=$.itemTextColorHorizontal,K["--n-item-text-color-hover-horizontal"]=$.itemTextColorHoverHorizontal,K["--n-item-text-color-active-horizontal"]=$.itemTextColorActiveHorizontal,K["--n-item-text-color-child-active-horizontal"]=$.itemTextColorChildActiveHorizontal,K["--n-item-text-color-child-active-hover-horizontal"]=$.itemTextColorChildActiveHoverHorizontal,K["--n-item-text-color-active-hover-horizontal"]=$.itemTextColorActiveHoverHorizontal,K["--n-item-icon-color-horizontal"]=$.itemIconColorHorizontal,K["--n-item-icon-color-hover-horizontal"]=$.itemIconColorHoverHorizontal,K["--n-item-icon-color-active-horizontal"]=$.itemIconColorActiveHorizontal,K["--n-item-icon-color-active-hover-horizontal"]=$.itemIconColorActiveHoverHorizontal,K["--n-item-icon-color-child-active-horizontal"]=$.itemIconColorChildActiveHorizontal,K["--n-item-icon-color-child-active-hover-horizontal"]=$.itemIconColorChildActiveHoverHorizontal,K["--n-arrow-color"]=$.arrowColor,K["--n-arrow-color-hover"]=$.arrowColorHover,K["--n-arrow-color-active"]=$.arrowColorActive,K["--n-arrow-color-active-hover"]=$.arrowColorActiveHover,K["--n-arrow-color-child-active"]=$.arrowColorChildActive,K["--n-arrow-color-child-active-hover"]=$.arrowColorChildActiveHover,K["--n-item-color-hover"]=$.itemColorHover,K["--n-item-color-active"]=$.itemColorActive,K["--n-item-color-active-hover"]=$.itemColorActiveHover,K["--n-item-color-active-collapsed"]=$.itemColorActiveCollapsed),K}),w=n?ot("menu",A(()=>t.inverted?"a":"b"),T,t):void 0,E=Vr(),R=z(null),P=z(null);let _=!0;const I=()=>{var B;_?_=!1:(B=R.value)===null||B===void 0||B.sync({showAllItemsBeforeCalculate:!0})};function L(){return document.getElementById(E)}const N=z(-1);function H(B){N.value=t.options.length-B}function G(B){B||(N.value=-1)}const W=A(()=>{const B=N.value;return{children:B===-1?[]:t.options.slice(B)}}),J=A(()=>{const{childrenField:B,disabledField:j,keyField:$}=t;return Xr([W.value],{getIgnored(V){return Hp(V)},getChildren(V){return V[B]},getDisabled(V){return V[j]},getKey(V){var X;return(X=V[$])!==null&&X!==void 0?X:V.name}})}),ne=A(()=>Xr([{}]).treeNodes[0]);function D(){var B;if(N.value===-1)return g(Vp,{root:!0,level:0,key:"__ellpisisGroupPlaceholder__",internalKey:"__ellpisisGroupPlaceholder__",title:"···",tmNode:ne.value,domId:E,isEllipsisPlaceholder:!0});const j=J.value.treeNodes[0],$=b.value,V=!!(!((B=j.children)===null||B===void 0)&&B.some(X=>$.includes(X.key)));return g(Vp,{level:0,root:!0,key:"__ellpisisGroup__",internalKey:"__ellpisisGroup__",title:"···",virtualChildActive:V,tmNode:j,domId:E,rawNodes:j.rawNode.children||[],tmNodes:j.children||[],isEllipsisPlaceholder:!0})}return{mergedClsPrefix:e,controlledExpandedKeys:h,uncontrolledExpanededKeys:f,mergedExpandedKeys:p,uncontrolledValue:c,mergedValue:u,activePath:b,tmNodes:v,mergedTheme:r,mergedCollapsed:i,cssVars:n?void 0:T,themeClass:w==null?void 0:w.themeClass,overflowRef:R,counterRef:P,updateCounter:()=>{},onResize:I,onUpdateOverflow:G,onUpdateCount:H,renderCounter:D,getCounter:L,onRender:w==null?void 0:w.onRender,showOption:S,deriveResponsiveState:I}},render(){const{mergedClsPrefix:t,mode:e,themeClass:n,onRender:r}=this;r==null||r();const o=()=>this.tmNodes.map(l=>ob(l,this.$props)),s=e==="horizontal"&&this.responsive,a=()=>g("div",sr(this.$attrs,{role:e==="horizontal"?"menubar":"menu",class:[`${t}-menu`,n,`${t}-menu--${e}`,s&&`${t}-menu--responsive`,this.mergedCollapsed&&`${t}-menu--collapsed`],style:this.cssVars}),s?g(ip,{ref:"overflowRef",onUpdateOverflow:this.onUpdateOverflow,getCounter:this.getCounter,onUpdateCount:this.onUpdateCount,updateCounter:this.updateCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:o,counter:this.renderCounter}):o());return s?g(Fr,{onResize:this.onResize},{default:a}):a()}}),vQ=t=>1-Math.pow(1-t,5);function bQ(t){const{from:e,to:n,duration:r,onUpdate:o,onFinish:i}=t,s=performance.now(),a=()=>{const l=performance.now(),c=Math.min(l-s,r),d=e+(n-e)*vQ(c/r);if(c===r){i();return}o(d),requestAnimationFrame(a)};a()}const X_={to:{type:Number,default:0},precision:{type:Number,default:0},showSeparator:Boolean,locale:String,from:{type:Number,default:0},active:{type:Boolean,default:!0},duration:{type:Number,default:2e3},onFinish:Function},yQ=ce({name:"NumberAnimation",props:X_,setup(t){const{localeRef:e}=Mn("name"),{duration:n}=t,r=z(t.from),o=A(()=>{const{locale:f}=t;return f!==void 0?f:e.value});let i=!1;const s=f=>{r.value=f},a=()=>{var f;r.value=t.to,i=!1,(f=t.onFinish)===null||f===void 0||f.call(t)},l=(f=t.from,m=t.to)=>{i=!0,r.value=t.from,f!==m&&bQ({from:f,to:m,duration:n,onUpdate:s,onFinish:a})},c=A(()=>{var f;const h=s8(r.value,t.precision).toFixed(t.precision).split("."),p=new Intl.NumberFormat(o.value),v=(f=p.formatToParts(.5).find(x=>x.type==="decimal"))===null||f===void 0?void 0:f.value,b=t.showSeparator?p.format(Number(h[0])):h[0],y=h[1];return{integer:b,decimal:y,decimalSeparator:v}});function d(){i||l()}return Gt(()=>{Xt(()=>{t.active&&l()})}),Object.assign({formattedValue:c},{play:d})},render(){const{formattedValue:{integer:t,decimal:e,decimalSeparator:n}}=this;return[t,e?n:null,e]}}),xQ=O([k("page-header-header",`
 margin-bottom: 20px;
 `),k("page-header",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[F("main",`
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 `),F("back",`
 display: flex;
 margin-right: 16px;
 font-size: var(--n-back-size);
 cursor: pointer;
 color: var(--n-back-color);
 transition: color .3s var(--n-bezier);
 `,[O("&:hover","color: var(--n-back-color-hover);"),O("&:active","color: var(--n-back-color-pressed);")]),F("avatar",`
 display: flex;
 margin-right: 12px
 `),F("title",`
 margin-right: 16px;
 transition: color .3s var(--n-bezier);
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),F("subtitle",`
 font-size: 14px;
 transition: color .3s var(--n-bezier);
 color: var(--n-subtitle-text-color);
 `)]),k("page-header-content",`
 font-size: var(--n-font-size);
 `,[O("&:not(:first-child)","margin-top: 20px;")]),k("page-header-footer",`
 font-size: var(--n-font-size);
 `,[O("&:not(:first-child)","margin-top: 20px;")])]),Q_=Object.assign(Object.assign({},ke.props),{title:String,subtitle:String,extra:String,onBack:Function}),CQ=ce({name:"PageHeader",props:Q_,slots:Object,setup(t){const{mergedClsPrefixRef:e,mergedRtlRef:n,inlineThemeDisabled:r}=Ge(t),o=ke("PageHeader","-page-header",xQ,aq,t,e),i=rn("PageHeader",n,e),s=A(()=>{const{self:{titleTextColor:l,subtitleTextColor:c,backColor:d,fontSize:u,titleFontSize:f,backSize:m,titleFontWeight:h,backColorHover:p,backColorPressed:v},common:{cubicBezierEaseInOut:b}}=o.value;return{"--n-title-text-color":l,"--n-title-font-size":f,"--n-title-font-weight":h,"--n-font-size":u,"--n-back-size":m,"--n-subtitle-text-color":c,"--n-back-color":d,"--n-back-color-hover":p,"--n-back-color-pressed":v,"--n-bezier":b}}),a=r?ot("page-header",void 0,s,t):void 0;return{rtlEnabled:i,mergedClsPrefix:e,cssVars:r?void 0:s,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var t;const{onBack:e,title:n,subtitle:r,extra:o,mergedClsPrefix:i,cssVars:s,$slots:a}=this;(t=this.onRender)===null||t===void 0||t.call(this);const{title:l,subtitle:c,extra:d,default:u,header:f,avatar:m,footer:h,back:p}=a,v=e,b=n||l,y=r||c,x=o||d;return g("div",{style:s,class:[`${i}-page-header-wrapper`,this.themeClass,this.rtlEnabled&&`${i}-page-header-wrapper--rtl`]},f?g("div",{class:`${i}-page-header-header`,key:"breadcrumb"},f()):null,(v||m||b||y||x)&&g("div",{class:`${i}-page-header`,key:"header"},g("div",{class:`${i}-page-header__main`,key:"back"},v?g("div",{class:`${i}-page-header__back`,onClick:e},p?p():g(yt,{clsPrefix:i},{default:()=>g(p8,null)})):null,m?g("div",{class:`${i}-page-header__avatar`},m()):null,b?g("div",{class:`${i}-page-header__title`,key:"title"},n||l()):null,y?g("div",{class:`${i}-page-header__subtitle`,key:"subtitle"},r||c()):null),x?g("div",{class:`${i}-page-header__extra`},o||d()):null),u?g("div",{class:`${i}-page-header-content`,key:"content"},u()):null,h?g("div",{class:`${i}-page-header-footer`,key:"footer"},h()):null)}}),Z_="n-popconfirm",J_={positiveText:String,negativeText:String,showIcon:{type:Boolean,default:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0}},XC=Tr(J_),SQ=ce({name:"NPopconfirmPanel",props:J_,setup(t){const{localeRef:e}=Mn("Popconfirm"),{inlineThemeDisabled:n}=Ge(),{mergedClsPrefixRef:r,mergedThemeRef:o,props:i}=Ve(Z_),s=A(()=>{const{common:{cubicBezierEaseInOut:l},self:{fontSize:c,iconSize:d,iconColor:u}}=o.value;return{"--n-bezier":l,"--n-font-size":c,"--n-icon-size":d,"--n-icon-color":u}}),a=n?ot("popconfirm-panel",void 0,s,i):void 0;return Object.assign(Object.assign({},Mn("Popconfirm")),{mergedClsPrefix:r,cssVars:n?void 0:s,localizedPositiveText:A(()=>t.positiveText||e.value.positiveText),localizedNegativeText:A(()=>t.negativeText||e.value.negativeText),positiveButtonProps:Se(i,"positiveButtonProps"),negativeButtonProps:Se(i,"negativeButtonProps"),handlePositiveClick(l){t.onPositiveClick(l)},handleNegativeClick(l){t.onNegativeClick(l)},themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender})},render(){var t;const{mergedClsPrefix:e,showIcon:n,$slots:r}=this,o=Et(r.action,()=>this.negativeText===null&&this.positiveText===null?[]:[this.negativeText!==null&&g(At,Object.assign({size:"small",onClick:this.handleNegativeClick},this.negativeButtonProps),{default:()=>this.localizedNegativeText}),this.positiveText!==null&&g(At,Object.assign({size:"small",type:"primary",onClick:this.handlePositiveClick},this.positiveButtonProps),{default:()=>this.localizedPositiveText})]);return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{class:[`${e}-popconfirm__panel`,this.themeClass],style:this.cssVars},Lt(r.default,i=>n||i?g("div",{class:`${e}-popconfirm__body`},n?g("div",{class:`${e}-popconfirm__icon`},Et(r.icon,()=>[g(yt,{clsPrefix:e},{default:()=>g(qs,null)})])):null,i):null),o?g("div",{class:[`${e}-popconfirm__action`]},o):null)}}),wQ=k("popconfirm",[F("body",`
 font-size: var(--n-font-size);
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 position: relative;
 `,[F("icon",`
 display: flex;
 font-size: var(--n-icon-size);
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 margin: 0 8px 0 0;
 `)]),F("action",`
 display: flex;
 justify-content: flex-end;
 `,[O("&:not(:first-child)","margin-top: 8px"),k("button",[O("&:not(:last-child)","margin-right: 8px;")])])]),e2=Object.assign(Object.assign(Object.assign({},ke.props),Ia),{positiveText:String,negativeText:String,showIcon:{type:Boolean,default:!0},trigger:{type:String,default:"click"},positiveButtonProps:Object,negativeButtonProps:Object,onPositiveClick:Function,onNegativeClick:Function}),RQ=ce({name:"Popconfirm",props:e2,slots:Object,__popover__:!0,setup(t){const{mergedClsPrefixRef:e}=Ge(),n=ke("Popconfirm","-popconfirm",wQ,dq,t,e),r=z(null);function o(a){var l;if(!(!((l=r.value)===null||l===void 0)&&l.getMergedShow()))return;const{onPositiveClick:c,"onUpdate:show":d}=t;Promise.resolve(c?c(a):!0).then(u=>{var f;u!==!1&&((f=r.value)===null||f===void 0||f.setShow(!1),d&&we(d,!1))})}function i(a){var l;if(!(!((l=r.value)===null||l===void 0)&&l.getMergedShow()))return;const{onNegativeClick:c,"onUpdate:show":d}=t;Promise.resolve(c?c(a):!0).then(u=>{var f;u!==!1&&((f=r.value)===null||f===void 0||f.setShow(!1),d&&we(d,!1))})}return ft(Z_,{mergedThemeRef:n,mergedClsPrefixRef:e,props:t}),{setShow(a){var l;(l=r.value)===null||l===void 0||l.setShow(a)},syncPosition(){var a;(a=r.value)===null||a===void 0||a.syncPosition()},mergedTheme:n,popoverInstRef:r,handlePositiveClick:o,handleNegativeClick:i}},render(){const{$slots:t,$props:e,mergedTheme:n}=this;return g(ja,Gs(e,XC,{theme:n.peers.Popover,themeOverrides:n.peerOverrides.Popover,internalExtraClass:["popconfirm"],ref:"popoverInstRef"}),{trigger:t.trigger,default:()=>{const r=Gn(e,XC);return g(SQ,Object.assign(Object.assign({},r),{onPositiveClick:this.handlePositiveClick,onNegativeClick:this.handleNegativeClick}),t)}})}}),TQ={success:g(Na,null),error:g(za,null),warning:g(qs,null),info:g(Us,null)},EQ=ce({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(t,{slots:e}){function n(o,i,s,a){const{gapDegree:l,viewBoxWidth:c,strokeWidth:d}=t,u=50,f=0,m=u,h=0,p=2*u,v=50+d/2,b=`M ${v},${v} m ${f},${m}
      a ${u},${u} 0 1 1 ${h},${-p}
      a ${u},${u} 0 1 1 ${-h},${p}`,y=Math.PI*2*u,x={stroke:a==="rail"?s:typeof t.fillColor=="object"?"url(#gradient)":s,strokeDasharray:`${o/100*(y-l)}px ${c*8}px`,strokeDashoffset:`-${l/2}px`,transformOrigin:i?"center":void 0,transform:i?`rotate(${i}deg)`:void 0};return{pathString:b,pathStyle:x}}const r=()=>{const o=typeof t.fillColor=="object",i=o?t.fillColor.stops[0]:"",s=o?t.fillColor.stops[1]:"";return o&&g("defs",null,g("linearGradient",{id:"gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%"},g("stop",{offset:"0%","stop-color":i}),g("stop",{offset:"100%","stop-color":s})))};return()=>{const{fillColor:o,railColor:i,strokeWidth:s,offsetDegree:a,status:l,percentage:c,showIndicator:d,indicatorTextColor:u,unit:f,gapOffsetDegree:m,clsPrefix:h}=t,{pathString:p,pathStyle:v}=n(100,0,i,"rail"),{pathString:b,pathStyle:y}=n(c,a,o,"fill"),x=100+s;return g("div",{class:`${h}-progress-content`,role:"none"},g("div",{class:`${h}-progress-graph`,"aria-hidden":!0},g("div",{class:`${h}-progress-graph-circle`,style:{transform:m?`rotate(${m}deg)`:void 0}},g("svg",{viewBox:`0 0 ${x} ${x}`},r(),g("g",null,g("path",{class:`${h}-progress-graph-circle-rail`,d:p,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:v})),g("g",null,g("path",{class:[`${h}-progress-graph-circle-fill`,c===0&&`${h}-progress-graph-circle-fill--empty`],d:b,"stroke-width":s,"stroke-linecap":"round",fill:"none",style:y}))))),d?g("div",null,e.default?g("div",{class:`${h}-progress-custom-content`,role:"none"},e.default()):l!=="default"?g("div",{class:`${h}-progress-icon`,"aria-hidden":!0},g(yt,{clsPrefix:h},{default:()=>TQ[l]})):g("div",{class:`${h}-progress-text`,style:{color:u},role:"none"},g("span",{class:`${h}-progress-text__percentage`},c),g("span",{class:`${h}-progress-text__unit`},f))):null)}}}),kQ={success:g(Na,null),error:g(za,null),warning:g(qs,null),info:g(Us,null)},PQ=ce({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(t,{slots:e}){const n=A(()=>Mt(t.height)),r=A(()=>{var s,a;return typeof t.fillColor=="object"?`linear-gradient(to right, ${(s=t.fillColor)===null||s===void 0?void 0:s.stops[0]} , ${(a=t.fillColor)===null||a===void 0?void 0:a.stops[1]})`:t.fillColor}),o=A(()=>t.railBorderRadius!==void 0?Mt(t.railBorderRadius):t.height!==void 0?Mt(t.height,{c:.5}):""),i=A(()=>t.fillBorderRadius!==void 0?Mt(t.fillBorderRadius):t.railBorderRadius!==void 0?Mt(t.railBorderRadius):t.height!==void 0?Mt(t.height,{c:.5}):"");return()=>{const{indicatorPlacement:s,railColor:a,railStyle:l,percentage:c,unit:d,indicatorTextColor:u,status:f,showIndicator:m,processing:h,clsPrefix:p}=t;return g("div",{class:`${p}-progress-content`,role:"none"},g("div",{class:`${p}-progress-graph`,"aria-hidden":!0},g("div",{class:[`${p}-progress-graph-line`,{[`${p}-progress-graph-line--indicator-${s}`]:!0}]},g("div",{class:`${p}-progress-graph-line-rail`,style:[{backgroundColor:a,height:n.value,borderRadius:o.value},l]},g("div",{class:[`${p}-progress-graph-line-fill`,h&&`${p}-progress-graph-line-fill--processing`],style:{maxWidth:`${t.percentage}%`,background:r.value,height:n.value,lineHeight:n.value,borderRadius:i.value}},s==="inside"?g("div",{class:`${p}-progress-graph-line-indicator`,style:{color:u}},e.default?e.default():`${c}${d}`):null)))),m&&s==="outside"?g("div",null,e.default?g("div",{class:`${p}-progress-custom-content`,style:{color:u},role:"none"},e.default()):f==="default"?g("div",{role:"none",class:`${p}-progress-icon ${p}-progress-icon--as-text`,style:{color:u}},c,d):g("div",{class:`${p}-progress-icon`,"aria-hidden":!0},g(yt,{clsPrefix:p},{default:()=>kQ[f]}))):null)}}});function QC(t,e,n=100){return`m ${n/2} ${n/2-t} a ${t} ${t} 0 1 1 0 ${2*t} a ${t} ${t} 0 1 1 0 -${2*t}`}const AQ=ce({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(t,{slots:e}){const n=A(()=>t.percentage.map((i,s)=>`${Math.PI*i/100*(t.viewBoxWidth/2-t.strokeWidth/2*(1+2*s)-t.circleGap*s)*2}, ${t.viewBoxWidth*8}`)),r=(o,i)=>{const s=t.fillColor[i],a=typeof s=="object"?s.stops[0]:"",l=typeof s=="object"?s.stops[1]:"";return typeof t.fillColor[i]=="object"&&g("linearGradient",{id:`gradient-${i}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},g("stop",{offset:"0%","stop-color":a}),g("stop",{offset:"100%","stop-color":l}))};return()=>{const{viewBoxWidth:o,strokeWidth:i,circleGap:s,showIndicator:a,fillColor:l,railColor:c,railStyle:d,percentage:u,clsPrefix:f}=t;return g("div",{class:`${f}-progress-content`,role:"none"},g("div",{class:`${f}-progress-graph`,"aria-hidden":!0},g("div",{class:`${f}-progress-graph-circle`},g("svg",{viewBox:`0 0 ${o} ${o}`},g("defs",null,u.map((m,h)=>r(m,h))),u.map((m,h)=>g("g",{key:h},g("path",{class:`${f}-progress-graph-circle-rail`,d:QC(o/2-i/2*(1+2*h)-s*h,i,o),"stroke-width":i,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:c[h]},d[h]]}),g("path",{class:[`${f}-progress-graph-circle-fill`,m===0&&`${f}-progress-graph-circle-fill--empty`],d:QC(o/2-i/2*(1+2*h)-s*h,i,o),"stroke-width":i,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:n.value[h],strokeDashoffset:0,stroke:typeof l[h]=="object"?`url(#gradient-${h})`:l[h]}})))))),a&&e.default?g("div",null,g("div",{class:`${f}-progress-text`},e.default())):null)}}}),IQ=O([k("progress",{display:"inline-block"},[k("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),M("line",`
 width: 100%;
 display: block;
 `,[k("progress-content",`
 display: flex;
 align-items: center;
 `,[k("progress-graph",{flex:1})]),k("progress-custom-content",{marginLeft:"14px"}),k("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[M("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),M("circle, dashboard",{width:"120px"},[k("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),k("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),k("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),M("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[k("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),k("progress-content",{position:"relative"}),k("progress-graph",{position:"relative"},[k("progress-graph-circle",[O("svg",{verticalAlign:"bottom"}),k("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[M("empty",{opacity:0})]),k("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),k("progress-graph-line",[M("indicator-inside",[k("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[k("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),k("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),M("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[k("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),k("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),k("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[k("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[M("processing",[O("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),O("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),t2=Object.assign(Object.assign({},ke.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),n2=ce({name:"Progress",props:t2,setup(t){const e=A(()=>t.indicatorPlacement||t.indicatorPosition),n=A(()=>{if(t.gapDegree||t.gapDegree===0)return t.gapDegree;if(t.type==="dashboard")return 75}),{mergedClsPrefixRef:r,inlineThemeDisabled:o}=Ge(t),i=ke("Progress","-progress",IQ,MI,t,r),s=A(()=>{const{status:l}=t,{common:{cubicBezierEaseInOut:c},self:{fontSize:d,fontSizeCircle:u,railColor:f,railHeight:m,iconSizeCircle:h,iconSizeLine:p,textColorCircle:v,textColorLineInner:b,textColorLineOuter:y,lineBgProcessing:x,fontWeightCircle:C,[Ae("iconColor",l)]:S,[Ae("fillColor",l)]:T}}=i.value;return{"--n-bezier":c,"--n-fill-color":T,"--n-font-size":d,"--n-font-size-circle":u,"--n-font-weight-circle":C,"--n-icon-color":S,"--n-icon-size-circle":h,"--n-icon-size-line":p,"--n-line-bg-processing":x,"--n-rail-color":f,"--n-rail-height":m,"--n-text-color-circle":v,"--n-text-color-line-inner":b,"--n-text-color-line-outer":y}}),a=o?ot("progress",A(()=>t.status[0]),s,t):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:e,gapDeg:n,cssVars:o?void 0:s,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){const{type:t,cssVars:e,indicatorTextColor:n,showIndicator:r,status:o,railColor:i,railStyle:s,color:a,percentage:l,viewBoxWidth:c,strokeWidth:d,mergedIndicatorPlacement:u,unit:f,borderRadius:m,fillBorderRadius:h,height:p,processing:v,circleGap:b,mergedClsPrefix:y,gapDeg:x,gapOffsetDegree:C,themeClass:S,$slots:T,onRender:w}=this;return w==null||w(),g("div",{class:[S,`${y}-progress`,`${y}-progress--${t}`,`${y}-progress--${o}`],style:e,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":l,role:t==="circle"||t==="line"||t==="dashboard"?"progressbar":"none"},t==="circle"||t==="dashboard"?g(EQ,{clsPrefix:y,status:o,showIndicator:r,indicatorTextColor:n,railColor:i,fillColor:a,railStyle:s,offsetDegree:this.offsetDegree,percentage:l,viewBoxWidth:c,strokeWidth:d,gapDegree:x===void 0?t==="dashboard"?75:0:x,gapOffsetDegree:C,unit:f},T):t==="line"?g(PQ,{clsPrefix:y,status:o,showIndicator:r,indicatorTextColor:n,railColor:i,fillColor:a,railStyle:s,percentage:l,processing:v,indicatorPlacement:u,unit:f,fillBorderRadius:h,railBorderRadius:m,height:p},T):t==="multiple-circle"?g(AQ,{clsPrefix:y,strokeWidth:d,railColor:i,fillColor:a,railStyle:s,viewBoxWidth:c,percentage:l,showIndicator:r,circleGap:b},T):null)}}),_Q={name:"QrCode",common:st,self:t=>({borderRadius:t.borderRadius})};function LQ(t){return{borderRadius:t.borderRadius}}const DQ={common:lt,self:LQ};var jo;(function(t){class e{static encodeText(s,a){const l=t.QrSegment.makeSegments(s);return e.encodeSegments(l,a)}static encodeBinary(s,a){const l=t.QrSegment.makeBytes(s);return e.encodeSegments([l],a)}static encodeSegments(s,a,l=1,c=40,d=-1,u=!0){if(!(e.MIN_VERSION<=l&&l<=c&&c<=e.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");let f,m;for(f=l;;f++){const b=e.getNumDataCodewords(f,a)*8,y=o.getTotalBits(s,f);if(y<=b){m=y;break}if(f>=c)throw new RangeError("Data too long")}for(const b of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])u&&m<=e.getNumDataCodewords(f,b)*8&&(a=b);const h=[];for(const b of s){n(b.mode.modeBits,4,h),n(b.numChars,b.mode.numCharCountBits(f),h);for(const y of b.getData())h.push(y)}const p=e.getNumDataCodewords(f,a)*8;n(0,Math.min(4,p-h.length),h),n(0,(8-h.length%8)%8,h);for(let b=236;h.length<p;b^=253)n(b,8,h);const v=[];for(;v.length*8<h.length;)v.push(0);return h.forEach((b,y)=>v[y>>>3]|=b<<7-(y&7)),new e(f,a,v,d)}constructor(s,a,l,c){if(this.version=s,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],s<e.MIN_VERSION||s>e.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=s*4+17;const d=[];for(let f=0;f<this.size;f++)d.push(!1);for(let f=0;f<this.size;f++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();const u=this.addEccAndInterleave(l);if(this.drawCodewords(u),c===-1){let f=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const h=this.getPenaltyScore();h<f&&(c=m,f=h),this.applyMask(m)}}this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}getModule(s,a){return s>=0&&s<this.size&&a>=0&&a<this.size&&this.modules[a][s]}getModules(){return this.modules}drawFunctionPatterns(){for(let l=0;l<this.size;l++)this.setFunctionModule(6,l,l%2===0),this.setFunctionModule(l,6,l%2===0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const s=this.getAlignmentPatternPositions(),a=s.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||this.drawAlignmentPattern(s[l],s[c]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(s){const a=this.errorCorrectionLevel.formatBits<<3|s;let l=a;for(let d=0;d<10;d++)l=l<<1^(l>>>9)*1335;const c=(a<<10|l)^21522;for(let d=0;d<=5;d++)this.setFunctionModule(8,d,r(c,d));this.setFunctionModule(8,7,r(c,6)),this.setFunctionModule(8,8,r(c,7)),this.setFunctionModule(7,8,r(c,8));for(let d=9;d<15;d++)this.setFunctionModule(14-d,8,r(c,d));for(let d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,r(c,d));for(let d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,r(c,d));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let s=this.version;for(let l=0;l<12;l++)s=s<<1^(s>>>11)*7973;const a=this.version<<12|s;for(let l=0;l<18;l++){const c=r(a,l),d=this.size-11+l%3,u=Math.floor(l/3);this.setFunctionModule(d,u,c),this.setFunctionModule(u,d,c)}}drawFinderPattern(s,a){for(let l=-4;l<=4;l++)for(let c=-4;c<=4;c++){const d=Math.max(Math.abs(c),Math.abs(l)),u=s+c,f=a+l;u>=0&&u<this.size&&f>=0&&f<this.size&&this.setFunctionModule(u,f,d!==2&&d!==4)}}drawAlignmentPattern(s,a){for(let l=-2;l<=2;l++)for(let c=-2;c<=2;c++)this.setFunctionModule(s+c,a+l,Math.max(Math.abs(c),Math.abs(l))!==1)}setFunctionModule(s,a,l){this.modules[a][s]=l,this.isFunction[a][s]=!0}addEccAndInterleave(s){const a=this.version,l=this.errorCorrectionLevel;if(s.length!==e.getNumDataCodewords(a,l))throw new RangeError("Invalid argument");const c=e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a],d=e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a],u=Math.floor(e.getNumRawDataModules(a)/8),f=c-u%c,m=Math.floor(u/c),h=[],p=e.reedSolomonComputeDivisor(d);for(let b=0,y=0;b<c;b++){const x=s.slice(y,y+m-d+(b<f?0:1));y+=x.length;const C=e.reedSolomonComputeRemainder(x,p);b<f&&x.push(0),h.push(x.concat(C))}const v=[];for(let b=0;b<h[0].length;b++)h.forEach((y,x)=>{(b!==m-d||x>=f)&&v.push(y[b])});return v}drawCodewords(s){if(s.length!==Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let a=0;for(let l=this.size-1;l>=1;l-=2){l===6&&(l=5);for(let c=0;c<this.size;c++)for(let d=0;d<2;d++){const u=l-d,m=(l+1&2)===0?this.size-1-c:c;!this.isFunction[m][u]&&a<s.length*8&&(this.modules[m][u]=r(s[a>>>3],7-(a&7)),a++)}}}applyMask(s){if(s<0||s>7)throw new RangeError("Mask value out of range");for(let a=0;a<this.size;a++)for(let l=0;l<this.size;l++){let c;switch(s){case 0:c=(l+a)%2===0;break;case 1:c=a%2===0;break;case 2:c=l%3===0;break;case 3:c=(l+a)%3===0;break;case 4:c=(Math.floor(l/3)+Math.floor(a/2))%2===0;break;case 5:c=l*a%2+l*a%3===0;break;case 6:c=(l*a%2+l*a%3)%2===0;break;case 7:c=((l+a)%2+l*a%3)%2===0;break;default:throw new Error("Unreachable")}!this.isFunction[a][l]&&c&&(this.modules[a][l]=!this.modules[a][l])}}getPenaltyScore(){let s=0;for(let d=0;d<this.size;d++){let u=!1,f=0;const m=[0,0,0,0,0,0,0];for(let h=0;h<this.size;h++)this.modules[d][h]===u?(f++,f===5?s+=e.PENALTY_N1:f>5&&s++):(this.finderPenaltyAddHistory(f,m),u||(s+=this.finderPenaltyCountPatterns(m)*e.PENALTY_N3),u=this.modules[d][h],f=1);s+=this.finderPenaltyTerminateAndCount(u,f,m)*e.PENALTY_N3}for(let d=0;d<this.size;d++){let u=!1,f=0;const m=[0,0,0,0,0,0,0];for(let h=0;h<this.size;h++)this.modules[h][d]===u?(f++,f===5?s+=e.PENALTY_N1:f>5&&s++):(this.finderPenaltyAddHistory(f,m),u||(s+=this.finderPenaltyCountPatterns(m)*e.PENALTY_N3),u=this.modules[h][d],f=1);s+=this.finderPenaltyTerminateAndCount(u,f,m)*e.PENALTY_N3}for(let d=0;d<this.size-1;d++)for(let u=0;u<this.size-1;u++){const f=this.modules[d][u];f===this.modules[d][u+1]&&f===this.modules[d+1][u]&&f===this.modules[d+1][u+1]&&(s+=e.PENALTY_N2)}let a=0;for(const d of this.modules)a=d.reduce((u,f)=>u+(f?1:0),a);const l=this.size*this.size,c=Math.ceil(Math.abs(a*20-l*10)/l)-1;return s+=c*e.PENALTY_N4,s}getAlignmentPatternPositions(){if(this.version===1)return[];{const s=Math.floor(this.version/7)+2,a=this.version===32?26:Math.ceil((this.version*4+4)/(s*2-2))*2,l=[6];for(let c=this.size-7;l.length<s;c-=a)l.splice(1,0,c);return l}}static getNumRawDataModules(s){if(s<e.MIN_VERSION||s>e.MAX_VERSION)throw new RangeError("Version number out of range");let a=(16*s+128)*s+64;if(s>=2){const l=Math.floor(s/7)+2;a-=(25*l-10)*l-55,s>=7&&(a-=36)}return a}static getNumDataCodewords(s,a){return Math.floor(e.getNumRawDataModules(s)/8)-e.ECC_CODEWORDS_PER_BLOCK[a.ordinal][s]*e.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][s]}static reedSolomonComputeDivisor(s){if(s<1||s>255)throw new RangeError("Degree out of range");const a=[];for(let c=0;c<s-1;c++)a.push(0);a.push(1);let l=1;for(let c=0;c<s;c++){for(let d=0;d<a.length;d++)a[d]=e.reedSolomonMultiply(a[d],l),d+1<a.length&&(a[d]^=a[d+1]);l=e.reedSolomonMultiply(l,2)}return a}static reedSolomonComputeRemainder(s,a){const l=a.map(c=>0);for(const c of s){const d=c^l.shift();l.push(0),a.forEach((u,f)=>l[f]^=e.reedSolomonMultiply(u,d))}return l}static reedSolomonMultiply(s,a){if(s>>>8||a>>>8)throw new RangeError("Byte out of range");let l=0;for(let c=7;c>=0;c--)l=l<<1^(l>>>7)*285,l^=(a>>>c&1)*s;return l}finderPenaltyCountPatterns(s){const a=s[1],l=a>0&&s[2]===a&&s[3]===a*3&&s[4]===a&&s[5]===a;return(l&&s[0]>=a*4&&s[6]>=a?1:0)+(l&&s[6]>=a*4&&s[0]>=a?1:0)}finderPenaltyTerminateAndCount(s,a,l){return s&&(this.finderPenaltyAddHistory(a,l),a=0),a+=this.size,this.finderPenaltyAddHistory(a,l),this.finderPenaltyCountPatterns(l)}finderPenaltyAddHistory(s,a){a[0]===0&&(s+=this.size),a.pop(),a.unshift(s)}}e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(i,s,a){if(s<0||s>31||i>>>s)throw new RangeError("Value out of range");for(let l=s-1;l>=0;l--)a.push(i>>>l&1)}function r(i,s){return(i>>>s&1)!==0}class o{static makeBytes(s){const a=[];for(const l of s)n(l,8,a);return new o(o.Mode.BYTE,s.length,a)}static makeNumeric(s){if(!o.isNumeric(s))throw new RangeError("String contains non-numeric characters");const a=[];for(let l=0;l<s.length;){const c=Math.min(s.length-l,3);n(Number.parseInt(s.substr(l,c),10),c*3+1,a),l+=c}return new o(o.Mode.NUMERIC,s.length,a)}static makeAlphanumeric(s){if(!o.isAlphanumeric(s))throw new RangeError("String contains unencodable characters in alphanumeric mode");const a=[];let l;for(l=0;l+2<=s.length;l+=2){let c=o.ALPHANUMERIC_CHARSET.indexOf(s.charAt(l))*45;c+=o.ALPHANUMERIC_CHARSET.indexOf(s.charAt(l+1)),n(c,11,a)}return l<s.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(s.charAt(l)),6,a),new o(o.Mode.ALPHANUMERIC,s.length,a)}static makeSegments(s){return s===""?[]:o.isNumeric(s)?[o.makeNumeric(s)]:o.isAlphanumeric(s)?[o.makeAlphanumeric(s)]:[o.makeBytes(o.toUtf8ByteArray(s))]}static makeEci(s){const a=[];if(s<0)throw new RangeError("ECI assignment value out of range");if(s<128)n(s,8,a);else if(s<16384)n(2,2,a),n(s,14,a);else if(s<1e6)n(6,3,a),n(s,21,a);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,a)}static isNumeric(s){return o.NUMERIC_REGEX.test(s)}static isAlphanumeric(s){return o.ALPHANUMERIC_REGEX.test(s)}constructor(s,a,l){if(this.mode=s,this.numChars=a,this.bitData=l,a<0)throw new RangeError("Invalid argument");this.bitData=l.slice()}getData(){return this.bitData.slice()}static getTotalBits(s,a){let l=0;for(const c of s){const d=c.mode.numCharCountBits(a);if(c.numChars>=1<<d)return 1/0;l+=4+d+c.bitData.length}return l}static toUtf8ByteArray(s){s=encodeURI(s);const a=[];for(let l=0;l<s.length;l++)s.charAt(l)!=="%"?a.push(s.charCodeAt(l)):(a.push(Number.parseInt(s.substr(l+1,2),16)),l+=2);return a}}o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+./:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=o})(jo||(jo={}));(function(t){(function(e){class n{constructor(o,i){this.ordinal=o,this.formatBits=i}}n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(jo||(jo={}));(function(t){(function(e){class n{constructor(o,i){this.modeBits=o,this.numBitsCharCount=i}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}}n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(jo||(jo={}));const OQ=O([k("qr-code",`
 background: #fff;
 border-radius: var(--n-border-radius);
 display: inline-flex;
 `)]),$Q={L:jo.QrCode.Ecc.LOW,M:jo.QrCode.Ecc.MEDIUM,Q:jo.QrCode.Ecc.QUARTILE,H:jo.QrCode.Ecc.HIGH},r2=Object.assign(Object.assign({},ke.props),{value:String,color:{type:String,default:"#000"},backgroundColor:{type:String,default:"#FFF"},iconSrc:String,iconSize:{type:Number,default:40},iconBackgroundColor:{type:String,default:"#FFF"},iconBorderRadius:{type:Number,default:4},size:{type:Number,default:100},padding:{type:[Number,String],default:12},errorCorrectionLevel:{type:String,default:"M"},type:{type:String,default:"canvas"}}),tm=2,FQ=ce({name:"QrCode",props:r2,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("QrCode","-qr-code",OQ,DQ,t,e),o=A(()=>({"--n-border-radius":r.value.self.borderRadius})),i=n?ot("qr-code",void 0,o,t):void 0,s=z(),a=A(()=>{var f;const m=$Q[t.errorCorrectionLevel];return jo.QrCode.encodeText((f=t.value)!==null&&f!==void 0?f:"-",m)});Gt(()=>{const f=z(0);let m=null;Xt(()=>{t.type!=="svg"&&(f.value,l(a.value,t.size,t.color,t.backgroundColor,m?{icon:m,iconBorderRadius:t.iconBorderRadius,iconSize:t.iconSize,iconBackgroundColor:t.iconBackgroundColor}:null))}),Xt(()=>{if(t.type==="svg")return;const{iconSrc:h}=t;if(h){let p=!1;const v=new Image;return v.src=h,v.onload=()=>{p||(m=v,f.value++)},()=>{p=!0}}})});function l(f,m,h,p,v){const b=s.value;if(!b)return;const y=m*tm,x=f.size,C=y/x;b.width=y,b.height=y;const S=b.getContext("2d");if(S){S.clearRect(0,0,b.width,b.height);for(let T=0;T<f.size;T++)for(let w=0;w<f.size;w++){S.fillStyle=f.getModule(w,T)?h:p;const E=Math.floor(w*C),R=Math.ceil((w+1)*C),P=Math.floor(T*C),_=Math.ceil((T+1)*C);S.fillRect(E,P,R-E,_-P)}if(v){const{icon:T,iconBackgroundColor:w,iconBorderRadius:E,iconSize:R}=v,P=R*tm,_=(b.width-P)/2,I=(b.height-P)/2;S.fillStyle=w,S.beginPath(),S.roundRect(_,I,P,P,E*tm),S.fill();const L=T.width/T.height,N=L>=1?P:P*L,H=L<=1?P:P/L,G=_+(P-N)/2,W=I+(P-H)/2;S.drawImage(T,G,W,N,H)}}}function c(f,m=0){const h=[];return f.forEach((p,v)=>{let b=null;p.forEach((y,x)=>{if(!y&&b!==null){h.push(`M${b+m} ${v+m}h${x-b}v1H${b+m}z`),b=null;return}if(x===p.length-1){if(!y)return;b===null?h.push(`M${x+m},${v+m} h1v1H${x+m}z`):h.push(`M${b+m},${v+m} h${x+1-b}v1H${b+m}z`);return}y&&b===null&&(b=x)})}),h.join("")}function d(f,m,h){const p=f.getModules(),v=p.length,b=p;let y="";const x=`<path fill="transparent" d="M0,0 h${v}v${v}H0z" shape-rendering="crispEdges"></path>`,C=`<path fill="${t.color}" d="${c(b,0)}" shape-rendering="crispEdges"></path>`;let S="";if(h){const{iconSrc:T,iconSize:w}=h,R=Math.floor(m*.1),P=v/m,_=(w||R)*P,I=(w||R)*P,L=p.length/2-I/2,N=p.length/2-_/2;S+=`<image href="${T}" width="${I}" height="${_}" x="${L}" y="${N}" preserveAspectRatio="none"></image>`}return y+=x,y+=C,y+=S,{innerHtml:y,numCells:v}}const u=A(()=>d(a.value,t.size,t.iconSrc?{iconSrc:t.iconSrc,iconBorderRadius:t.iconBorderRadius,iconSize:t.iconSize,iconBackgroundColor:t.iconBackgroundColor}:null));return{canvasRef:s,mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,svgInfo:u}},render(){const{mergedClsPrefix:t,backgroundColor:e,padding:n,cssVars:r,themeClass:o,size:i,type:s}=this;return g("div",{class:[`${t}-qr-code`,o],style:Object.assign({padding:typeof n=="number"?`${n}px`:n,backgroundColor:e,width:`${i}px`,height:`${i}px`},r)},s==="canvas"?g("canvas",{ref:"canvasRef",style:{width:`${i}px`,height:`${i}px`}}):g("svg",{height:i,width:i,viewBox:`0 0 ${this.svgInfo.numCells} ${this.svgInfo.numCells}`,role:"img",innerHTML:this.svgInfo.innerHtml}))}}),MQ=()=>g("svg",{viewBox:"0 0 512 512"},g("path",{d:"M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"})),BQ=k("rate",{display:"inline-flex",flexWrap:"nowrap"},[O("&:hover",[F("item",`
 transition:
 transform .1s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),F("item",`
 position: relative;
 display: flex;
 transition:
 transform .1s var(--n-bezier),
 color .3s var(--n-bezier);
 transform: scale(1);
 font-size: var(--n-item-size);
 color: var(--n-item-color);
 `,[O("&:not(:first-child)",`
 margin-left: 6px;
 `),M("active",`
 color: var(--n-item-color-active);
 `)]),wt("readonly",`
 cursor: pointer;
 `,[F("item",[O("&:hover",`
 transform: scale(1.05);
 `),O("&:active",`
 transform: scale(0.96);
 `)])]),F("half",`
 display: flex;
 transition: inherit;
 position: absolute;
 top: 0;
 left: 0;
 bottom: 0;
 width: 50%;
 overflow: hidden;
 color: rgba(255, 255, 255, 0);
 `,[M("active",`
 color: var(--n-item-color-active);
 `)])]),o2=Object.assign(Object.assign({},ke.props),{allowHalf:Boolean,count:{type:Number,default:5},value:Number,defaultValue:{type:Number,default:null},readonly:Boolean,size:{type:[String,Number],default:"medium"},clearable:Boolean,color:String,onClear:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),zQ=ce({name:"Rate",props:o2,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Rate","-rate",BQ,gq,t,e),o=Se(t,"value"),i=z(t.defaultValue),s=z(null),a=jn(t),l=Ft(o,i);function c(x){const{"onUpdate:value":C,onUpdateValue:S}=t,{nTriggerFormChange:T,nTriggerFormInput:w}=a;C&&we(C,x),S&&we(S,x),i.value=x,T(),w()}function d(x,C){return t.allowHalf?C.offsetX>=Math.floor(C.currentTarget.offsetWidth/2)?x+1:x+.5:x+1}let u=!1;function f(x,C){u||(s.value=d(x,C))}function m(){s.value=null}function h(x,C){var S;const{clearable:T}=t,w=d(x,C);T&&w===l.value?(u=!0,(S=t.onClear)===null||S===void 0||S.call(t),s.value=null,c(null)):c(w)}function p(){u=!1}const v=A(()=>{const{size:x}=t,{self:C}=r.value;return typeof x=="number"?`${x}px`:C[Ae("size",x)]}),b=A(()=>{const{common:{cubicBezierEaseInOut:x},self:C}=r.value,{itemColor:S,itemColorActive:T}=C,{color:w}=t;return{"--n-bezier":x,"--n-item-color":S,"--n-item-color-active":w||T,"--n-item-size":v.value}}),y=n?ot("rate",A(()=>{const x=v.value,{color:C}=t;let S="";return x&&(S+=x[0]),C&&(S+=Ea(C)),S}),b,t):void 0;return{mergedClsPrefix:e,mergedValue:l,hoverIndex:s,handleMouseMove:f,handleClick:h,handleMouseLeave:m,handleMouseEnterSomeStar:p,cssVars:n?void 0:b,themeClass:y==null?void 0:y.themeClass,onRender:y==null?void 0:y.onRender}},render(){const{readonly:t,hoverIndex:e,mergedValue:n,mergedClsPrefix:r,onRender:o,$slots:{default:i}}=this;return o==null||o(),g("div",{class:[`${r}-rate`,{[`${r}-rate--readonly`]:t},this.themeClass],style:this.cssVars,onMouseleave:this.handleMouseLeave},Fv(this.count,(s,a)=>{const l=i?i({index:a}):g(yt,{clsPrefix:r},{default:MQ}),c=e!==null?a+1<=e:a+1<=(n||0);return g("div",{key:a,class:[`${r}-rate__item`,c&&`${r}-rate__item--active`],onClick:t?void 0:d=>{this.handleClick(a,d)},onMouseenter:this.handleMouseEnterSomeStar,onMousemove:t?void 0:d=>{this.handleMouseMove(a,d)}},l,this.allowHalf?g("div",{class:[`${r}-rate__half`,{[`${r}-rate__half--active`]:!c&&e!==null?a+.5<=e:a+.5<=(n||0)}]},l):null)}))}});function NQ(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},g("path",{fill:"#EF9645",d:"M15.5 2.965c1.381 0 2.5 1.119 2.5 2.5v.005L20.5.465c1.381 0 2.5 1.119 2.5 2.5V4.25l2.5-1.535c1.381 0 2.5 1.119 2.5 2.5V8.75L29 18H15.458L15.5 2.965z"}),g("path",{fill:"#FFDC5D",d:"M4.625 16.219c1.381-.611 3.354.208 4.75 2.188.917 1.3 1.187 3.151 2.391 3.344.46.073 1.234-.313 1.234-1.397V4.5s0-2 2-2 2 2 2 2v11.633c0-.029 1-.064 1-.082V2s0-2 2-2 2 2 2 2v14.053c0 .017 1 .041 1 .069V4.25s0-2 2-2 2 2 2 2v12.638c0 .118 1 .251 1 .398V8.75s0-2 2-2 2 2 2 2V24c0 6.627-5.373 12-12 12-4.775 0-8.06-2.598-9.896-5.292C8.547 28.423 8.096 26.051 8 25.334c0 0-.123-1.479-1.156-2.865-1.469-1.969-2.5-3.156-3.125-3.866-.317-.359-.625-1.707.906-2.384z"}))}function UQ(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},g("circle",{fill:"#FFCB4C",cx:"18",cy:"17.018",r:"17"}),g("path",{fill:"#65471B",d:"M14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"}),g("ellipse",{fill:"#65471B",cx:"13.119",cy:"11.174",rx:"2.125",ry:"2.656"}),g("ellipse",{fill:"#65471B",cx:"24.375",cy:"12.236",rx:"2.125",ry:"2.656"}),g("path",{fill:"#F19020",d:"M17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048l3.152-.681z"}),g("path",{fill:"#65471B",d:"M9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z"}))}function HQ(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},g("ellipse",{fill:"#292F33",cx:"18",cy:"26",rx:"18",ry:"10"}),g("ellipse",{fill:"#66757F",cx:"18",cy:"24",rx:"18",ry:"10"}),g("path",{fill:"#E1E8ED",d:"M18 31C3.042 31 1 16 1 12h34c0 2-1.958 19-17 19z"}),g("path",{fill:"#77B255",d:"M35 12.056c0 5.216-7.611 9.444-17 9.444S1 17.271 1 12.056C1 6.84 8.611 3.611 18 3.611s17 3.229 17 8.445z"}),g("ellipse",{fill:"#A6D388",cx:"18",cy:"13",rx:"15",ry:"7"}),g("path",{d:"M21 17c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.739-1.109.9-2.246.478-3.377-.461-1.236-1.438-1.996-1.731-2.077-.553 0-.958-.443-.958-.996 0-.552.491-.995 1.043-.995.997 0 2.395 1.153 3.183 2.625 1.034 1.933.91 4.039-.351 5.929-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.196-.451.294-.707.294zm-6-2c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.727-1.091.893-2.083.494-2.947-.444-.961-1.431-1.469-1.684-1.499-.552 0-.989-.447-.989-1 0-.552.458-1 1.011-1 .997 0 2.585.974 3.36 2.423.481.899 1.052 2.761-.528 5.131-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.197-.451.295-.707.295z",fill:"#5C913B"}))}function VQ(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},g("path",{fill:"#FFCC4D",d:"M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"}),g("ellipse",{fill:"#664500",cx:"18",cy:"27",rx:"5",ry:"6"}),g("path",{fill:"#664500",d:"M5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm24.002 0c-.305 0-.604-.138-.801-.4-2.64-3.521-6.061-3.598-6.206-3.6-.55-.006-.994-.456-.991-1.005C22.006 5.444 22.45 5 23 5c.184 0 4.537.05 7.8 4.4.332.442.242 1.069-.2 1.4-.18.135-.39.2-.599.2zm-16.087 4.5l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L12.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L13.914 15.5zm11 0l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L23.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L24.914 15.5z"}))}const jQ=k("result",`
 color: var(--n-text-color);
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier);
`,[k("result-icon",`
 display: flex;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `,[F("status-image",`
 font-size: var(--n-icon-size);
 width: 1em;
 height: 1em;
 `),k("base-icon",`
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),k("result-content",{marginTop:"24px"}),k("result-footer",`
 margin-top: 24px;
 text-align: center;
 `),k("result-header",[F("title",`
 margin-top: 16px;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 text-align: center;
 color: var(--n-title-text-color);
 font-size: var(--n-title-font-size);
 `),F("description",`
 margin-top: 4px;
 text-align: center;
 font-size: var(--n-font-size);
 `)])]),WQ={403:NQ,404:UQ,418:HQ,500:VQ,info:()=>g(Us,null),success:()=>g(Na,null),warning:()=>g(qs,null),error:()=>g(za,null)},i2=Object.assign(Object.assign({},ke.props),{size:{type:String,default:"medium"},status:{type:String,default:"info"},title:String,description:String}),KQ=ce({name:"Result",props:i2,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Result","-result",jQ,pq,t,e),o=A(()=>{const{size:s,status:a}=t,{common:{cubicBezierEaseInOut:l},self:{textColor:c,lineHeight:d,titleTextColor:u,titleFontWeight:f,[Ae("iconColor",a)]:m,[Ae("fontSize",s)]:h,[Ae("titleFontSize",s)]:p,[Ae("iconSize",s)]:v}}=r.value;return{"--n-bezier":l,"--n-font-size":h,"--n-icon-size":v,"--n-line-height":d,"--n-text-color":c,"--n-title-font-size":p,"--n-title-font-weight":f,"--n-title-text-color":u,"--n-icon-color":m||""}}),i=n?ot("result",A(()=>{const{size:s,status:a}=t;let l="";return s&&(l+=s[0]),a&&(l+=a[0]),l}),o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;const{status:e,$slots:n,mergedClsPrefix:r,onRender:o}=this;return o==null||o(),g("div",{class:[`${r}-result`,this.themeClass],style:this.cssVars},g("div",{class:`${r}-result-icon`},((t=n.icon)===null||t===void 0?void 0:t.call(n))||g(yt,{clsPrefix:r},{default:()=>WQ[e]()})),g("div",{class:`${r}-result-header`},this.title?g("div",{class:`${r}-result-header__title`},this.title):null,this.description?g("div",{class:`${r}-result-header__description`},this.description):null),n.default&&g("div",{class:`${r}-result-content`},n),n.footer&&g("div",{class:`${r}-result-footer`},n.footer()))}}),s2=Object.assign(Object.assign({},ke.props),{trigger:String,xScrollable:Boolean,onScroll:Function,contentClass:String,contentStyle:[Object,String],size:Number,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),GQ=ce({name:"Scrollbar",props:s2,setup(){const t=z(null);return Object.assign(Object.assign({},{scrollTo:(...n)=>{var r;(r=t.value)===null||r===void 0||r.scrollTo(n[0],n[1])},scrollBy:(...n)=>{var r;(r=t.value)===null||r===void 0||r.scrollBy(n[0],n[1])}}),{scrollbarInstRef:t})},render(){return g(Sn,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),qQ={name:"Skeleton",common:st,self(t){const{heightSmall:e,heightMedium:n,heightLarge:r,borderRadius:o}=t;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:o,heightSmall:e,heightMedium:n,heightLarge:r}}};function YQ(t){const{heightSmall:e,heightMedium:n,heightLarge:r,borderRadius:o}=t;return{color:"#eee",colorEnd:"#ddd",borderRadius:o,heightSmall:e,heightMedium:n,heightLarge:r}}const XQ={common:lt,self:YQ},QQ=O([k("skeleton",`
 height: 1em;
 width: 100%;
 transition:
 --n-color-start .3s var(--n-bezier),
 --n-color-end .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 animation: 2s skeleton-loading infinite cubic-bezier(0.36, 0, 0.64, 1);
 background-color: var(--n-color-start);
 `),O("@keyframes skeleton-loading",`
 0% {
 background: var(--n-color-start);
 }
 40% {
 background: var(--n-color-end);
 }
 80% {
 background: var(--n-color-start);
 }
 100% {
 background: var(--n-color-start);
 }
 `)]),a2=Object.assign(Object.assign({},ke.props),{text:Boolean,round:Boolean,circle:Boolean,height:[String,Number],width:[String,Number],size:String,repeat:{type:Number,default:1},animated:{type:Boolean,default:!0},sharp:{type:Boolean,default:!0}}),ZQ=ce({name:"Skeleton",inheritAttrs:!1,props:a2,setup(t){Jv();const{mergedClsPrefixRef:e}=Ge(t),n=ke("Skeleton","-skeleton",QQ,XQ,t,e);return{mergedClsPrefix:e,style:A(()=>{var r,o;const i=n.value,{common:{cubicBezierEaseInOut:s}}=i,a=i.self,{color:l,colorEnd:c,borderRadius:d}=a;let u;const{circle:f,sharp:m,round:h,width:p,height:v,size:b,text:y,animated:x}=t;b!==void 0&&(u=a[Ae("height",b)]);const C=f?(r=p??v)!==null&&r!==void 0?r:u:p,S=(o=f?p??v:v)!==null&&o!==void 0?o:u;return{display:y?"inline-block":"",verticalAlign:y?"-0.125em":"",borderRadius:f?"50%":h?"4096px":m?"":d,width:typeof C=="number"?hn(C):C,height:typeof S=="number"?hn(S):S,animation:x?"":"none","--n-bezier":s,"--n-color-start":l,"--n-color-end":c}})}},render(){const{repeat:t,style:e,mergedClsPrefix:n,$attrs:r}=this,o=g("div",sr({class:`${n}-skeleton`,style:e},r));return t>1?g(Vt,null,Ds(t,null).map(i=>[o,`
`])):o}}),JQ=O([k("slider",`
 display: block;
 padding: calc((var(--n-handle-size) - var(--n-rail-height)) / 2) 0;
 position: relative;
 z-index: 0;
 width: 100%;
 cursor: pointer;
 user-select: none;
 -webkit-user-select: none;
 `,[M("reverse",[k("slider-handles",[k("slider-handle-wrapper",`
 transform: translate(50%, -50%);
 `)]),k("slider-dots",[k("slider-dot",`
 transform: translateX(50%, -50%);
 `)]),M("vertical",[k("slider-handles",[k("slider-handle-wrapper",`
 transform: translate(-50%, -50%);
 `)]),k("slider-marks",[k("slider-mark",`
 transform: translateY(calc(-50% + var(--n-dot-height) / 2));
 `)]),k("slider-dots",[k("slider-dot",`
 transform: translateX(-50%) translateY(0);
 `)])])]),M("vertical",`
 box-sizing: content-box;
 padding: 0 calc((var(--n-handle-size) - var(--n-rail-height)) / 2);
 width: var(--n-rail-width-vertical);
 height: 100%;
 `,[k("slider-handles",`
 top: calc(var(--n-handle-size) / 2);
 right: 0;
 bottom: calc(var(--n-handle-size) / 2);
 left: 0;
 `,[k("slider-handle-wrapper",`
 top: unset;
 left: 50%;
 transform: translate(-50%, 50%);
 `)]),k("slider-rail",`
 height: 100%;
 `,[F("fill",`
 top: unset;
 right: 0;
 bottom: unset;
 left: 0;
 `)]),M("with-mark",`
 width: var(--n-rail-width-vertical);
 margin: 0 32px 0 8px;
 `),k("slider-marks",`
 top: calc(var(--n-handle-size) / 2);
 right: unset;
 bottom: calc(var(--n-handle-size) / 2);
 left: 22px;
 font-size: var(--n-mark-font-size);
 `,[k("slider-mark",`
 transform: translateY(50%);
 white-space: nowrap;
 `)]),k("slider-dots",`
 top: calc(var(--n-handle-size) / 2);
 right: unset;
 bottom: calc(var(--n-handle-size) / 2);
 left: 50%;
 `,[k("slider-dot",`
 transform: translateX(-50%) translateY(50%);
 `)])]),M("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `,[k("slider-handle",`
 cursor: not-allowed;
 `)]),M("with-mark",`
 width: 100%;
 margin: 8px 0 32px 0;
 `),O("&:hover",[k("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[F("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),k("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),M("active",[k("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[F("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),k("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),k("slider-marks",`
 position: absolute;
 top: 18px;
 left: calc(var(--n-handle-size) / 2);
 right: calc(var(--n-handle-size) / 2);
 `,[k("slider-mark",`
 position: absolute;
 transform: translateX(-50%);
 white-space: nowrap;
 `)]),k("slider-rail",`
 width: 100%;
 position: relative;
 height: var(--n-rail-height);
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 border-radius: calc(var(--n-rail-height) / 2);
 `,[F("fill",`
 position: absolute;
 top: 0;
 bottom: 0;
 border-radius: calc(var(--n-rail-height) / 2);
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-fill-color);
 `)]),k("slider-handles",`
 position: absolute;
 top: 0;
 right: calc(var(--n-handle-size) / 2);
 bottom: 0;
 left: calc(var(--n-handle-size) / 2);
 `,[k("slider-handle-wrapper",`
 outline: none;
 position: absolute;
 top: 50%;
 transform: translate(-50%, -50%);
 cursor: pointer;
 display: flex;
 `,[k("slider-handle",`
 height: var(--n-handle-size);
 width: var(--n-handle-size);
 border-radius: 50%;
 overflow: hidden;
 transition: box-shadow .2s var(--n-bezier), background-color .3s var(--n-bezier);
 background-color: var(--n-handle-color);
 box-shadow: var(--n-handle-box-shadow);
 `,[O("&:hover",`
 box-shadow: var(--n-handle-box-shadow-hover);
 `)]),O("&:focus",[k("slider-handle",`
 box-shadow: var(--n-handle-box-shadow-focus);
 `,[O("&:hover",`
 box-shadow: var(--n-handle-box-shadow-active);
 `)])])])]),k("slider-dots",`
 position: absolute;
 top: 50%;
 left: calc(var(--n-handle-size) / 2);
 right: calc(var(--n-handle-size) / 2);
 `,[M("transition-disabled",[k("slider-dot","transition: none;")]),k("slider-dot",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 transform: translate(-50%, -50%);
 height: var(--n-dot-height);
 width: var(--n-dot-width);
 border-radius: var(--n-dot-border-radius);
 overflow: hidden;
 box-sizing: border-box;
 border: var(--n-dot-border);
 background-color: var(--n-dot-color);
 `,[M("active","border: var(--n-dot-border-active);")])])]),k("slider-handle-indicator",`
 font-size: var(--n-font-size);
 padding: 6px 10px;
 border-radius: var(--n-indicator-border-radius);
 color: var(--n-indicator-text-color);
 background-color: var(--n-indicator-color);
 box-shadow: var(--n-indicator-box-shadow);
 `,[ar()]),k("slider-handle-indicator",`
 font-size: var(--n-font-size);
 padding: 6px 10px;
 border-radius: var(--n-indicator-border-radius);
 color: var(--n-indicator-text-color);
 background-color: var(--n-indicator-color);
 box-shadow: var(--n-indicator-box-shadow);
 `,[M("top",`
 margin-bottom: 12px;
 `),M("right",`
 margin-left: 12px;
 `),M("bottom",`
 margin-top: 12px;
 `),M("left",`
 margin-right: 12px;
 `),ar()]),Ti(k("slider",[k("slider-dot","background-color: var(--n-dot-color-modal);")])),Ji(k("slider",[k("slider-dot","background-color: var(--n-dot-color-popover);")]))]);function ZC(t){return window.TouchEvent&&t instanceof window.TouchEvent}function JC(){const t=new Map,e=n=>r=>{t.set(n,r)};return Ov(()=>{t.clear()}),[t,e]}const eZ=0,l2=Object.assign(Object.assign({},ke.props),{to:an.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,keyboard:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:[Number,String],default:1},range:Boolean,value:[Number,Array],placement:String,showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},vertical:Boolean,reverse:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onDragstart:[Function],onDragend:[Function]}),tZ=ce({name:"Slider",props:l2,slots:Object,setup(t){const{mergedClsPrefixRef:e,namespaceRef:n,inlineThemeDisabled:r}=Ge(t),o=ke("Slider","-slider",JQ,xq,t,e),i=z(null),[s,a]=JC(),[l,c]=JC(),d=z(new Set),u=jn(t),{mergedDisabledRef:f}=u,m=A(()=>{const{step:se}=t;if(Number(se)<=0||se==="mark")return 0;const ie=se.toString();let ge=0;return ie.includes(".")&&(ge=ie.length-ie.indexOf(".")-1),ge}),h=z(t.defaultValue),p=Se(t,"value"),v=Ft(p,h),b=A(()=>{const{value:se}=v;return(t.range?se:[se]).map(j)}),y=A(()=>b.value.length>2),x=A(()=>t.placement===void 0?t.vertical?"right":"top":t.placement),C=A(()=>{const{marks:se}=t;return se?Object.keys(se).map(Number.parseFloat):null}),S=z(-1),T=z(-1),w=z(-1),E=z(!1),R=z(!1),P=A(()=>{const{vertical:se,reverse:ie}=t;return se?ie?"top":"bottom":ie?"right":"left"}),_=A(()=>{if(y.value)return;const se=b.value,ie=$(t.range?Math.min(...se):t.min),ge=$(t.range?Math.max(...se):se[0]),{value:Le}=P;return t.vertical?{[Le]:`${ie}%`,height:`${ge-ie}%`}:{[Le]:`${ie}%`,width:`${ge-ie}%`}}),I=A(()=>{const se=[],{marks:ie}=t;if(ie){const ge=b.value.slice();ge.sort((bt,dt)=>bt-dt);const{value:Le}=P,{value:xe}=y,{range:We}=t,at=xe?()=>!1:bt=>We?bt>=ge[0]&&bt<=ge[ge.length-1]:bt<=ge[0];for(const bt of Object.keys(ie)){const dt=Number(bt);se.push({active:at(dt),key:dt,label:ie[bt],style:{[Le]:`${$(dt)}%`}})}}return se});function L(se,ie){const ge=$(se),{value:Le}=P;return{[Le]:`${ge}%`,zIndex:ie===S.value?1:0}}function N(se){return t.showTooltip||w.value===se||S.value===se&&E.value}function H(se){return E.value?!(S.value===se&&T.value===se):!0}function G(se){var ie;~se&&(S.value=se,(ie=s.get(se))===null||ie===void 0||ie.focus())}function W(){l.forEach((se,ie)=>{N(ie)&&se.syncPosition()})}function J(se){const{"onUpdate:value":ie,onUpdateValue:ge}=t,{nTriggerFormInput:Le,nTriggerFormChange:xe}=u;ge&&we(ge,se),ie&&we(ie,se),h.value=se,Le(),xe()}function ne(se){const{range:ie}=t;if(ie){if(Array.isArray(se)){const{value:ge}=b;se.join()!==ge.join()&&J(se)}}else Array.isArray(se)||b.value[0]!==se&&J(se)}function D(se,ie){if(t.range){const ge=b.value.slice();ge.splice(ie,1,se),ne(ge)}else ne(se)}function B(se,ie,ge){const Le=ge!==void 0;ge||(ge=se-ie>0?1:-1);const xe=C.value||[],{step:We}=t;if(We==="mark"){const dt=Z(se,xe.concat(ie),Le?ge:void 0);return dt?dt.value:ie}if(We<=0)return ie;const{value:at}=m;let bt;if(Le){const dt=Number((ie/We).toFixed(at)),Ct=Math.floor(dt),Tt=dt>Ct?Ct:Ct-1,Qe=dt<Ct?Ct:Ct+1;bt=Z(ie,[Number((Tt*We).toFixed(at)),Number((Qe*We).toFixed(at)),...xe],ge)}else{const dt=X(se);bt=Z(se,[...xe,dt])}return bt?j(bt.value):ie}function j(se){return Math.min(t.max,Math.max(t.min,se))}function $(se){const{max:ie,min:ge}=t;return(se-ge)/(ie-ge)*100}function V(se){const{max:ie,min:ge}=t;return ge+(ie-ge)*se}function X(se){const{step:ie,min:ge}=t;if(Number(ie)<=0||ie==="mark")return se;const Le=Math.round((se-ge)/ie)*ie+ge;return Number(Le.toFixed(m.value))}function Z(se,ie=C.value,ge){if(!(ie!=null&&ie.length))return null;let Le=null,xe=-1;for(;++xe<ie.length;){const We=ie[xe]-se,at=Math.abs(We);(ge===void 0||We*ge>0)&&(Le===null||at<Le.distance)&&(Le={index:xe,distance:at,value:ie[xe]})}return Le}function q(se){const ie=i.value;if(!ie)return;const ge=ZC(se)?se.touches[0]:se,Le=ie.getBoundingClientRect();let xe;return t.vertical?xe=(Le.bottom-ge.clientY)/Le.height:xe=(ge.clientX-Le.left)/Le.width,t.reverse&&(xe=1-xe),V(xe)}function ue(se){if(f.value||!t.keyboard)return;const{vertical:ie,reverse:ge}=t;switch(se.key){case"ArrowUp":se.preventDefault(),K(ie&&ge?-1:1);break;case"ArrowRight":se.preventDefault(),K(!ie&&ge?-1:1);break;case"ArrowDown":se.preventDefault(),K(ie&&ge?1:-1);break;case"ArrowLeft":se.preventDefault(),K(!ie&&ge?1:-1);break}}function K(se){const ie=S.value;if(ie===-1)return;const{step:ge}=t,Le=b.value[ie],xe=Number(ge)<=0||ge==="mark"?Le:Le+ge*se;D(B(xe,Le,se>0?1:-1),ie)}function he(se){var ie,ge;if(f.value||!ZC(se)&&se.button!==eZ)return;const Le=q(se);if(Le===void 0)return;const xe=b.value.slice(),We=t.range?(ge=(ie=Z(Le,xe))===null||ie===void 0?void 0:ie.index)!==null&&ge!==void 0?ge:-1:0;We!==-1&&(se.preventDefault(),G(We),Ie(),D(B(Le,b.value[We]),We))}function Ie(){E.value||(E.value=!0,t.onDragstart&&we(t.onDragstart),_t("touchend",document,re),_t("mouseup",document,re),_t("touchmove",document,Y),_t("mousemove",document,Y))}function Q(){E.value&&(E.value=!1,t.onDragend&&we(t.onDragend),It("touchend",document,re),It("mouseup",document,re),It("touchmove",document,Y),It("mousemove",document,Y))}function Y(se){const{value:ie}=S;if(!E.value||ie===-1){Q();return}const ge=q(se);ge!==void 0&&D(B(ge,b.value[ie]),ie)}function re(){Q()}function be(se){S.value=se,f.value||(w.value=se)}function Ce(se){S.value===se&&(S.value=-1,Q()),w.value===se&&(w.value=-1)}function le(se){w.value=se}function de(se){w.value===se&&(w.value=-1)}gt(S,(se,ie)=>void $t(()=>T.value=ie)),gt(v,()=>{if(t.marks){if(R.value)return;R.value=!0,$t(()=>{R.value=!1})}$t(W)}),Qt(()=>{Q()});const fe=A(()=>{const{self:{markFontSize:se,railColor:ie,railColorHover:ge,fillColor:Le,fillColorHover:xe,handleColor:We,opacityDisabled:at,dotColor:bt,dotColorModal:dt,handleBoxShadow:Ct,handleBoxShadowHover:Tt,handleBoxShadowActive:Qe,handleBoxShadowFocus:rt,dotBorder:oe,dotBoxShadow:ee,railHeight:Pe,railWidthVertical:Ne,handleSize:Ue,dotHeight:pe,dotWidth:$e,dotBorderRadius:me,fontSize:Oe,dotBorderActive:Ze,dotColorPopover:tt},common:{cubicBezierEaseInOut:Re}}=o.value;return{"--n-bezier":Re,"--n-dot-border":oe,"--n-dot-border-active":Ze,"--n-dot-border-radius":me,"--n-dot-box-shadow":ee,"--n-dot-color":bt,"--n-dot-color-modal":dt,"--n-dot-color-popover":tt,"--n-dot-height":pe,"--n-dot-width":$e,"--n-fill-color":Le,"--n-fill-color-hover":xe,"--n-font-size":Oe,"--n-handle-box-shadow":Ct,"--n-handle-box-shadow-active":Qe,"--n-handle-box-shadow-focus":rt,"--n-handle-box-shadow-hover":Tt,"--n-handle-color":We,"--n-handle-size":Ue,"--n-opacity-disabled":at,"--n-rail-color":ie,"--n-rail-color-hover":ge,"--n-rail-height":Pe,"--n-rail-width-vertical":Ne,"--n-mark-font-size":se}}),te=r?ot("slider",void 0,fe,t):void 0,ae=A(()=>{const{self:{fontSize:se,indicatorColor:ie,indicatorBoxShadow:ge,indicatorTextColor:Le,indicatorBorderRadius:xe}}=o.value;return{"--n-font-size":se,"--n-indicator-border-radius":xe,"--n-indicator-box-shadow":ge,"--n-indicator-color":ie,"--n-indicator-text-color":Le}}),Ee=r?ot("slider-indicator",void 0,ae,t):void 0;return{mergedClsPrefix:e,namespace:n,uncontrolledValue:h,mergedValue:v,mergedDisabled:f,mergedPlacement:x,isMounted:br(),adjustedTo:an(t),dotTransitionDisabled:R,markInfos:I,isShowTooltip:N,shouldKeepTooltipTransition:H,handleRailRef:i,setHandleRefs:a,setFollowerRefs:c,fillStyle:_,getHandleStyle:L,activeIndex:S,arrifiedValues:b,followerEnabledIndexSet:d,handleRailMouseDown:he,handleHandleFocus:be,handleHandleBlur:Ce,handleHandleMouseEnter:le,handleHandleMouseLeave:de,handleRailKeyDown:ue,indicatorCssVars:r?void 0:ae,indicatorThemeClass:Ee==null?void 0:Ee.themeClass,indicatorOnRender:Ee==null?void 0:Ee.onRender,cssVars:r?void 0:fe,themeClass:te==null?void 0:te.themeClass,onRender:te==null?void 0:te.onRender}},render(){var t;const{mergedClsPrefix:e,themeClass:n,formatTooltip:r}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{class:[`${e}-slider`,n,{[`${e}-slider--disabled`]:this.mergedDisabled,[`${e}-slider--active`]:this.activeIndex!==-1,[`${e}-slider--with-mark`]:this.marks,[`${e}-slider--vertical`]:this.vertical,[`${e}-slider--reverse`]:this.reverse}],style:this.cssVars,onKeydown:this.handleRailKeyDown,onMousedown:this.handleRailMouseDown,onTouchstart:this.handleRailMouseDown},g("div",{class:`${e}-slider-rail`},g("div",{class:`${e}-slider-rail__fill`,style:this.fillStyle}),this.marks?g("div",{class:[`${e}-slider-dots`,this.dotTransitionDisabled&&`${e}-slider-dots--transition-disabled`]},this.markInfos.map(o=>g("div",{key:o.key,class:[`${e}-slider-dot`,{[`${e}-slider-dot--active`]:o.active}],style:o.style}))):null,g("div",{ref:"handleRailRef",class:`${e}-slider-handles`},this.arrifiedValues.map((o,i)=>{const s=this.isShowTooltip(i);return g(Mo,null,{default:()=>[g(Bo,null,{default:()=>g("div",{ref:this.setHandleRefs(i),class:`${e}-slider-handle-wrapper`,tabindex:this.mergedDisabled?-1:0,role:"slider","aria-valuenow":o,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-orientation":this.vertical?"vertical":"horizontal","aria-disabled":this.disabled,style:this.getHandleStyle(o,i),onFocus:()=>{this.handleHandleFocus(i)},onBlur:()=>{this.handleHandleBlur(i)},onMouseenter:()=>{this.handleHandleMouseEnter(i)},onMouseleave:()=>{this.handleHandleMouseLeave(i)}},Et(this.$slots.thumb,()=>[g("div",{class:`${e}-slider-handle`})]))}),this.tooltip&&g(yo,{ref:this.setFollowerRefs(i),show:s,to:this.adjustedTo,enabled:this.showTooltip&&!this.range||this.followerEnabledIndexSet.has(i),teleportDisabled:this.adjustedTo===an.tdkey,placement:this.mergedPlacement,containerClass:this.namespace},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:this.shouldKeepTooltipTransition(i),onEnter:()=>{this.followerEnabledIndexSet.add(i)},onAfterLeave:()=>{this.followerEnabledIndexSet.delete(i)}},{default:()=>{var a;return s?((a=this.indicatorOnRender)===null||a===void 0||a.call(this),g("div",{class:[`${e}-slider-handle-indicator`,this.indicatorThemeClass,`${e}-slider-handle-indicator--${this.mergedPlacement}`],style:this.indicatorCssVars},typeof r=="function"?r(o):o)):null}})})]})})),this.marks?g("div",{class:`${e}-slider-marks`},this.markInfos.map(o=>g("div",{key:o.key,class:`${e}-slider-mark`,style:o.style},typeof o.label=="function"?o.label():o.label))):null))}}),nZ=O([O("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),k("spin-container",`
 position: relative;
 `,[k("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Ki()])]),k("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),k("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[M("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),k("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),k("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[M("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),rZ={small:20,medium:18,large:16},c2=Object.assign(Object.assign({},ke.props),{contentClass:String,contentStyle:[Object,String],description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0},delay:Number}),oZ=ce({name:"Spin",props:c2,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Spin","-spin",nZ,Cq,t,e),o=A(()=>{const{size:l}=t,{common:{cubicBezierEaseInOut:c},self:d}=r.value,{opacitySpinning:u,color:f,textColor:m}=d,h=typeof l=="number"?hn(l):d[Ae("size",l)];return{"--n-bezier":c,"--n-opacity-spinning":u,"--n-size":h,"--n-color":f,"--n-text-color":m}}),i=n?ot("spin",A(()=>{const{size:l}=t;return typeof l=="number"?String(l):l[0]}),o,t):void 0,s=Os(t,["spinning","show"]),a=z(!1);return Xt(l=>{let c;if(s.value){const{delay:d}=t;if(d){c=window.setTimeout(()=>{a.value=!0},d),l(()=>{clearTimeout(c)});return}}a.value=s.value}),{mergedClsPrefix:e,active:a,mergedStrokeWidth:A(()=>{const{strokeWidth:l}=t;if(l!==void 0)return l;const{size:c}=t;return rZ[typeof c=="number"?"medium":c]}),cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t,e;const{$slots:n,mergedClsPrefix:r,description:o}=this,i=n.icon&&this.rotate,s=(o||n.description)&&g("div",{class:`${r}-spin-description`},o||((t=n.description)===null||t===void 0?void 0:t.call(n))),a=n.icon?g("div",{class:[`${r}-spin-body`,this.themeClass]},g("div",{class:[`${r}-spin`,i&&`${r}-spin--rotate`],style:n.default?"":this.cssVars},n.icon()),s):g("div",{class:[`${r}-spin-body`,this.themeClass]},g(Qo,{clsPrefix:r,style:n.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${r}-spin`}),s);return(e=this.onRender)===null||e===void 0||e.call(this),n.default?g("div",{class:[`${r}-spin-container`,this.themeClass],style:this.cssVars},g("div",{class:[`${r}-spin-content`,this.active&&`${r}-spin-content--spinning`,this.contentClass],style:this.contentStyle},n),g(en,{name:"fade-in-transition"},{default:()=>this.active?a:null})):a}}),iZ={name:"Split",common:st};function sZ(t){const{primaryColorHover:e,borderColor:n}=t;return{resizableTriggerColorHover:e,resizableTriggerColor:n}}const aZ={common:lt,self:sZ},lZ=k("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[M("horizontal",`
 flex-direction: row;
 `),M("vertical",`
 flex-direction: column;
 `),k("split-pane-1",`
 overflow: hidden;
 `),k("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),F("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[M("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),O("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),d2=Object.assign(Object.assign({},ke.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),cZ=ce({name:"Split",props:d2,slots:Object,setup(t){var e;const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ge(t),o=ke("Split","-split",lZ,aZ,t,n),i=A(()=>{const{common:{cubicBezierEaseInOut:x},self:{resizableTriggerColor:C,resizableTriggerColorHover:S}}=o.value;return{"--n-bezier":x,"--n-resize-trigger-color":C,"--n-resize-trigger-color-hover":S}}),s=z(null),a=z(!1),l=Se(t,"size"),c=z(t.defaultSize);!((e=t.watchProps)===null||e===void 0)&&e.includes("defaultSize")&&Xt(()=>c.value=t.defaultSize);const d=x=>{const C=t["onUpdate:size"];t.onUpdateSize&&we(t.onUpdateSize,x),C&&we(C,x),c.value=x},u=Ft(l,c),f=A(()=>{const x=u.value;if(typeof x=="string")return{flex:`0 0 ${x}`};if(typeof x=="number"){const C=x*100;return{flex:`0 0 calc(${C}% - ${t.resizeTriggerSize*C/100}px)`}}}),m=A(()=>t.direction==="horizontal"?{width:`${t.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${t.resizeTriggerSize}px`}),h=A(()=>{const x=t.direction==="horizontal";return{width:x?`${t.resizeTriggerSize}px`:"",height:x?"":`${t.resizeTriggerSize}px`,cursor:t.direction==="horizontal"?"col-resize":"row-resize"}});let p=0;const v=x=>{x.preventDefault(),a.value=!0,t.onDragStart&&t.onDragStart(x);const C="mousemove",S="mouseup",T=R=>{b(R),t.onDragMove&&t.onDragMove(R)},w=()=>{It(C,document,T),It(S,document,w),a.value=!1,t.onDragEnd&&t.onDragEnd(x),document.body.style.cursor=""};document.body.style.cursor=h.value.cursor,_t(C,document,T),_t(S,document,w);const E=s.value;if(E){const R=E.getBoundingClientRect();t.direction==="horizontal"?p=x.clientX-R.left:p=R.top-x.clientY}b(x)};function b(x){var C,S;const T=(S=(C=s.value)===null||C===void 0?void 0:C.parentElement)===null||S===void 0?void 0:S.getBoundingClientRect();if(!T)return;const{direction:w}=t,E=T.width-t.resizeTriggerSize,R=T.height-t.resizeTriggerSize,P=w==="horizontal"?E:R,_=w==="horizontal"?x.clientX-T.left-p:x.clientY-T.top+p,{min:I,max:L}=t,N=typeof I=="string"?on(I):I*P,H=typeof L=="string"?on(L):L*P;let G=_;G=Math.max(G,N),G=Math.min(G,H,P),typeof u.value=="string"?d(`${G}px`):d(G/P)}const y=r?ot("split",void 0,i,t):void 0;return{themeClass:y==null?void 0:y.themeClass,onRender:y==null?void 0:y.onRender,cssVars:r?void 0:i,resizeTriggerElRef:s,isDragging:a,mergedClsPrefix:n,resizeTriggerWrapperStyle:h,resizeTriggerStyle:m,handleMouseDown:v,firstPaneStyle:f}},render(){var t,e,n,r,o;return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},g("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(n=(e=this.$slots)[1])===null||n===void 0?void 0:n.call(e)),!this.disabled&&g("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},Et(this.$slots["resize-trigger"],()=>[g("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),g("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(o=(r=this.$slots)[2])===null||o===void 0?void 0:o.call(r)))}}),dZ=k("statistic",[F("label",`
 font-weight: var(--n-label-font-weight);
 transition: .3s color var(--n-bezier);
 font-size: var(--n-label-font-size);
 color: var(--n-label-text-color);
 `),k("statistic-value",`
 margin-top: 4px;
 font-weight: var(--n-value-font-weight);
 `,[F("prefix",`
 margin: 0 4px 0 0;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-prefix-text-color);
 `,[k("icon",{verticalAlign:"-0.125em"})]),F("content",`
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-text-color);
 `),F("suffix",`
 margin: 0 0 0 4px;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-suffix-text-color);
 `,[k("icon",{verticalAlign:"-0.125em"})])])]),u2=Object.assign(Object.assign({},ke.props),{tabularNums:Boolean,label:String,value:[String,Number]}),uZ=ce({name:"Statistic",props:u2,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=Ge(t),o=ke("Statistic","-statistic",dZ,wq,t,e),i=rn("Statistic",r,e),s=A(()=>{const{self:{labelFontWeight:l,valueFontSize:c,valueFontWeight:d,valuePrefixTextColor:u,labelTextColor:f,valueSuffixTextColor:m,valueTextColor:h,labelFontSize:p},common:{cubicBezierEaseInOut:v}}=o.value;return{"--n-bezier":v,"--n-label-font-size":p,"--n-label-font-weight":l,"--n-label-text-color":f,"--n-value-font-weight":d,"--n-value-font-size":c,"--n-value-prefix-text-color":u,"--n-value-suffix-text-color":m,"--n-value-text-color":h}}),a=n?ot("statistic",void 0,s,t):void 0;return{rtlEnabled:i,mergedClsPrefix:e,cssVars:n?void 0:s,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var t;const{mergedClsPrefix:e,$slots:{default:n,label:r,prefix:o,suffix:i}}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("div",{class:[`${e}-statistic`,this.themeClass,this.rtlEnabled&&`${e}-statistic--rtl`],style:this.cssVars},Lt(r,s=>g("div",{class:`${e}-statistic__label`},this.label||s)),g("div",{class:`${e}-statistic-value`,style:{fontVariantNumeric:this.tabularNums?"tabular-nums":""}},Lt(o,s=>s&&g("span",{class:`${e}-statistic-value__prefix`},s)),this.value!==void 0?g("span",{class:`${e}-statistic-value__content`},this.value):Lt(n,s=>s&&g("span",{class:`${e}-statistic-value__content`},s)),Lt(i,s=>s&&g("span",{class:`${e}-statistic-value__suffix`},s))))}}),fZ=k("steps",`
 width: 100%;
 display: flex;
`,[k("step",`
 position: relative;
 display: flex;
 flex: 1;
 `,[M("disabled","cursor: not-allowed"),M("clickable",`
 cursor: pointer;
 `),O("&:last-child",[k("step-splitor","display: none;")])]),k("step-splitor",`
 background-color: var(--n-splitor-color);
 margin-top: calc(var(--n-step-header-font-size) / 2);
 height: 1px;
 flex: 1;
 align-self: flex-start;
 margin-left: 12px;
 margin-right: 12px;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),k("step-content","flex: 1;",[k("step-content-header",`
 color: var(--n-header-text-color);
 margin-top: calc(var(--n-indicator-size) / 2 - var(--n-step-header-font-size) / 2);
 line-height: var(--n-step-header-font-size);
 font-size: var(--n-step-header-font-size);
 position: relative;
 display: flex;
 font-weight: var(--n-step-header-font-weight);
 margin-left: 9px;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[F("title",`
 white-space: nowrap;
 flex: 0;
 `)]),F("description",`
 color: var(--n-description-text-color);
 margin-top: 12px;
 margin-left: 9px;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),k("step-indicator",`
 background-color: var(--n-indicator-color);
 box-shadow: 0 0 0 1px var(--n-indicator-border-color);
 height: var(--n-indicator-size);
 width: var(--n-indicator-size);
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `,[k("step-indicator-slot",`
 position: relative;
 width: var(--n-indicator-icon-size);
 height: var(--n-indicator-icon-size);
 font-size: var(--n-indicator-icon-size);
 line-height: var(--n-indicator-icon-size);
 `,[F("index",`
 display: inline-block;
 text-align: center;
 position: absolute;
 left: 0;
 top: 0;
 white-space: nowrap;
 font-size: var(--n-indicator-index-font-size);
 width: var(--n-indicator-icon-size);
 height: var(--n-indicator-icon-size);
 line-height: var(--n-indicator-icon-size);
 color: var(--n-indicator-text-color);
 transition: color .3s var(--n-bezier);
 `,[wr()]),k("icon",`
 color: var(--n-indicator-text-color);
 transition: color .3s var(--n-bezier);
 `,[wr()]),k("base-icon",`
 color: var(--n-indicator-text-color);
 transition: color .3s var(--n-bezier);
 `,[wr()])])]),M("vertical","flex-direction: column;",[wt("show-description",[O(">",[k("step","padding-bottom: 8px;")])]),O(">",[k("step","margin-bottom: 16px;",[O("&:last-child","margin-bottom: 0;"),O(">",[k("step-indicator",[O(">",[k("step-splitor",`
 position: absolute;
 bottom: -8px;
 width: 1px;
 margin: 0 !important;
 left: calc(var(--n-indicator-size) / 2);
 height: calc(100% - var(--n-indicator-size));
 `)])]),k("step-content",[F("description","margin-top: 8px;")])])])])])]);function hZ(t,e){return typeof t!="object"||t===null||Array.isArray(t)?null:(t.props||(t.props={}),t.props.internalIndex=e+1,t)}function gZ(t){return t.map((e,n)=>hZ(e,n))}const f2=Object.assign(Object.assign({},ke.props),{current:Number,status:{type:String,default:"process"},size:{type:String,default:"medium"},vertical:Boolean,"onUpdate:current":[Function,Array],onUpdateCurrent:[Function,Array]}),h2="n-steps",mZ=ce({name:"Steps",props:f2,slots:Object,setup(t,{slots:e}){const{mergedClsPrefixRef:n,mergedRtlRef:r}=Ge(t),o=rn("Steps",r,n),i=ke("Steps","-steps",fZ,Eq,t,n);return ft(h2,{props:t,mergedThemeRef:i,mergedClsPrefixRef:n,stepsSlots:e}),{mergedClsPrefix:n,rtlEnabled:o}},render(){const{mergedClsPrefix:t}=this;return g("div",{class:[`${t}-steps`,this.rtlEnabled&&`${t}-steps--rtl`,this.vertical&&`${t}-steps--vertical`]},gZ(Yr(Gl(this))))}}),g2={status:String,title:String,description:String,disabled:Boolean,internalIndex:{type:Number,default:0}},pZ=ce({name:"Step",props:g2,slots:Object,setup(t){const e=Ve(h2,null);e||nr("step","`n-step` must be placed inside `n-steps`.");const{inlineThemeDisabled:n}=Ge(),{props:r,mergedThemeRef:o,mergedClsPrefixRef:i,stepsSlots:s}=e,a=A(()=>r.vertical),l=A(()=>{const{status:f}=t;if(f)return f;{const{internalIndex:m}=t,{current:h}=r;if(h===void 0)return"process";if(m<h)return"finish";if(m===h)return r.status||"process";if(m>h)return"wait"}return"process"}),c=A(()=>{const{value:f}=l,{size:m}=r,{common:{cubicBezierEaseInOut:h},self:{stepHeaderFontWeight:p,[Ae("stepHeaderFontSize",m)]:v,[Ae("indicatorIndexFontSize",m)]:b,[Ae("indicatorSize",m)]:y,[Ae("indicatorIconSize",m)]:x,[Ae("indicatorTextColor",f)]:C,[Ae("indicatorBorderColor",f)]:S,[Ae("headerTextColor",f)]:T,[Ae("splitorColor",f)]:w,[Ae("indicatorColor",f)]:E,[Ae("descriptionTextColor",f)]:R}}=o.value;return{"--n-bezier":h,"--n-description-text-color":R,"--n-header-text-color":T,"--n-indicator-border-color":S,"--n-indicator-color":E,"--n-indicator-icon-size":x,"--n-indicator-index-font-size":b,"--n-indicator-size":y,"--n-indicator-text-color":C,"--n-splitor-color":w,"--n-step-header-font-size":v,"--n-step-header-font-weight":p}}),d=n?ot("step",A(()=>{const{value:f}=l,{size:m}=r;return`${f[0]}${m[0]}`}),c,r):void 0,u=A(()=>{if(t.disabled)return;const{onUpdateCurrent:f,"onUpdate:current":m}=r;return f||m?()=>{f&&we(f,t.internalIndex),m&&we(m,t.internalIndex)}:void 0});return{stepsSlots:s,mergedClsPrefix:i,vertical:a,mergedStatus:l,handleStepClick:u,cssVars:n?void 0:c,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){const{mergedClsPrefix:t,onRender:e,handleStepClick:n,disabled:r}=this,o=Lt(this.$slots.default,i=>{const s=i||this.description;return s?g("div",{class:`${t}-step-content__description`},s):null});return e==null||e(),g("div",{class:[`${t}-step`,r&&`${t}-step--disabled`,!r&&n&&`${t}-step--clickable`,this.themeClass,o&&`${t}-step--show-description`,`${t}-step--${this.mergedStatus}-status`],style:this.cssVars,onClick:n},g("div",{class:`${t}-step-indicator`},g("div",{class:`${t}-step-indicator-slot`},g(Pi,null,{default:()=>Lt(this.$slots.icon,i=>{const{mergedStatus:s,stepsSlots:a}=this;return s==="finish"||s==="error"?s==="finish"?g(yt,{clsPrefix:t,key:"finish"},{default:()=>Et(a["finish-icon"],()=>[g(m0,null)])}):s==="error"?g(yt,{clsPrefix:t,key:"error"},{default:()=>Et(a["error-icon"],()=>[g(v0,null)])}):null:i||g("div",{key:this.internalIndex,class:`${t}-step-indicator-slot__index`},this.internalIndex)})})),this.vertical?g("div",{class:`${t}-step-splitor`}):null),g("div",{class:`${t}-step-content`},g("div",{class:`${t}-step-content-header`},g("div",{class:`${t}-step-content-header__title`},Et(this.$slots.title,()=>[this.title])),this.vertical?null:g("div",{class:`${t}-step-splitor`})),o))}}),vZ=k("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[F("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),F("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),F("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),k("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[wr({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),F("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),F("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),F("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),O("&:focus",[F("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),M("round",[F("rail","border-radius: calc(var(--n-rail-height) / 2);",[F("button","border-radius: calc(var(--n-button-height) / 2);")])]),wt("disabled",[wt("icon",[M("rubber-band",[M("pressed",[F("rail",[F("button","max-width: var(--n-button-width-pressed);")])]),F("rail",[O("&:active",[F("button","max-width: var(--n-button-width-pressed);")])]),M("active",[M("pressed",[F("rail",[F("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),F("rail",[O("&:active",[F("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),M("active",[F("rail",[F("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),F("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[F("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[wr()]),F("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),M("active",[F("rail","background-color: var(--n-rail-color-active);")]),M("loading",[F("rail",`
 cursor: wait;
 `)]),M("disabled",[F("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),m2=Object.assign(Object.assign({},ke.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let bc;const p2=ce({name:"Switch",props:m2,slots:Object,setup(t){bc===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?bc=CSS.supports("width","max(1px)"):bc=!1:bc=!0);const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Switch","-switch",vZ,Iq,t,e),o=jn(t),{mergedSizeRef:i,mergedDisabledRef:s}=o,a=z(t.defaultValue),l=Se(t,"value"),c=Ft(l,a),d=A(()=>c.value===t.checkedValue),u=z(!1),f=z(!1),m=A(()=>{const{railStyle:E}=t;if(E)return E({focused:f.value,checked:d.value})});function h(E){const{"onUpdate:value":R,onChange:P,onUpdateValue:_}=t,{nTriggerFormInput:I,nTriggerFormChange:L}=o;R&&we(R,E),_&&we(_,E),P&&we(P,E),a.value=E,I(),L()}function p(){const{nTriggerFormFocus:E}=o;E()}function v(){const{nTriggerFormBlur:E}=o;E()}function b(){t.loading||s.value||(c.value!==t.checkedValue?h(t.checkedValue):h(t.uncheckedValue))}function y(){f.value=!0,p()}function x(){f.value=!1,v(),u.value=!1}function C(E){t.loading||s.value||E.key===" "&&(c.value!==t.checkedValue?h(t.checkedValue):h(t.uncheckedValue),u.value=!1)}function S(E){t.loading||s.value||E.key===" "&&(E.preventDefault(),u.value=!0)}const T=A(()=>{const{value:E}=i,{self:{opacityDisabled:R,railColor:P,railColorActive:_,buttonBoxShadow:I,buttonColor:L,boxShadowFocus:N,loadingColor:H,textColor:G,iconColor:W,[Ae("buttonHeight",E)]:J,[Ae("buttonWidth",E)]:ne,[Ae("buttonWidthPressed",E)]:D,[Ae("railHeight",E)]:B,[Ae("railWidth",E)]:j,[Ae("railBorderRadius",E)]:$,[Ae("buttonBorderRadius",E)]:V},common:{cubicBezierEaseInOut:X}}=r.value;let Z,q,ue;return bc?(Z=`calc((${B} - ${J}) / 2)`,q=`max(${B}, ${J})`,ue=`max(${j}, calc(${j} + ${J} - ${B}))`):(Z=hn((on(B)-on(J))/2),q=hn(Math.max(on(B),on(J))),ue=on(B)>on(J)?j:hn(on(j)+on(J)-on(B))),{"--n-bezier":X,"--n-button-border-radius":V,"--n-button-box-shadow":I,"--n-button-color":L,"--n-button-width":ne,"--n-button-width-pressed":D,"--n-button-height":J,"--n-height":q,"--n-offset":Z,"--n-opacity-disabled":R,"--n-rail-border-radius":$,"--n-rail-color":P,"--n-rail-color-active":_,"--n-rail-height":B,"--n-rail-width":j,"--n-width":ue,"--n-box-shadow-focus":N,"--n-loading-color":H,"--n-text-color":G,"--n-icon-color":W}}),w=n?ot("switch",A(()=>i.value[0]),T,t):void 0;return{handleClick:b,handleBlur:x,handleFocus:y,handleKeyup:C,handleKeydown:S,mergedRailStyle:m,pressed:u,mergedClsPrefix:e,mergedValue:c,checked:d,mergedDisabled:s,cssVars:n?void 0:T,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender}},render(){const{mergedClsPrefix:t,mergedDisabled:e,checked:n,mergedRailStyle:r,onRender:o,$slots:i}=this;o==null||o();const{checked:s,unchecked:a,icon:l,"checked-icon":c,"unchecked-icon":d}=i,u=!(xa(l)&&xa(c)&&xa(d));return g("div",{role:"switch","aria-checked":n,class:[`${t}-switch`,this.themeClass,u&&`${t}-switch--icon`,n&&`${t}-switch--active`,e&&`${t}-switch--disabled`,this.round&&`${t}-switch--round`,this.loading&&`${t}-switch--loading`,this.pressed&&`${t}-switch--pressed`,this.rubberBand&&`${t}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},g("div",{class:`${t}-switch__rail`,"aria-hidden":"true",style:r},Lt(s,f=>Lt(a,m=>f||m?g("div",{"aria-hidden":!0,class:`${t}-switch__children-placeholder`},g("div",{class:`${t}-switch__rail-placeholder`},g("div",{class:`${t}-switch__button-placeholder`}),f),g("div",{class:`${t}-switch__rail-placeholder`},g("div",{class:`${t}-switch__button-placeholder`}),m)):null)),g("div",{class:`${t}-switch__button`},Lt(l,f=>Lt(c,m=>Lt(d,h=>g(Pi,null,{default:()=>this.loading?g(Qo,{key:"loading",clsPrefix:t,strokeWidth:20}):this.checked&&(m||f)?g("div",{class:`${t}-switch__button-icon`,key:m?"checked-icon":"icon"},m||f):!this.checked&&(h||f)?g("div",{class:`${t}-switch__button-icon`,key:h?"unchecked-icon":"icon"},h||f):null})))),Lt(s,f=>f&&g("div",{key:"checked",class:`${t}-switch__checked`},f)),Lt(a,f=>f&&g("div",{key:"unchecked",class:`${t}-switch__unchecked`},f)))))}}),bZ=O([k("table",`
 font-size: var(--n-font-size);
 font-variant-numeric: tabular-nums;
 line-height: var(--n-line-height);
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 text-align: left;
 border-collapse: separate;
 border-spacing: 0;
 overflow: hidden;
 background-color: var(--n-td-color);
 border-color: var(--n-merged-border-color);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 --n-merged-border-color: var(--n-border-color);
 `,[O("th",`
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 text-align: inherit;
 padding: var(--n-th-padding);
 vertical-align: inherit;
 text-transform: none;
 border: 0px solid var(--n-merged-border-color);
 font-weight: var(--n-th-font-weight);
 color: var(--n-th-text-color);
 background-color: var(--n-th-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 `,[O("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),O("td",`
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 padding: var(--n-td-padding);
 color: var(--n-td-text-color);
 background-color: var(--n-td-color);
 border: 0px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 `,[O("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),M("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `,[O("tr",[O("&:last-child",[O("td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `)])])]),M("single-line",[O("th",`
 border-right: 0px solid var(--n-merged-border-color);
 `),O("td",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),M("single-column",[O("tr",[O("&:not(:last-child)",[O("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])]),M("striped",[O("tr:nth-of-type(even)",[O("td","background-color: var(--n-td-color-striped)")])]),wt("bottom-bordered",[O("tr",[O("&:last-child",[O("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])])]),Ti(k("table",`
 background-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `,[O("th",`
 background-color: var(--n-th-color-modal);
 `),O("td",`
 background-color: var(--n-td-color-modal);
 `)])),Ji(k("table",`
 background-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `,[O("th",`
 background-color: var(--n-th-color-popover);
 `),O("td",`
 background-color: var(--n-td-color-popover);
 `)]))]),v2=Object.assign(Object.assign({},ke.props),{bordered:{type:Boolean,default:!0},bottomBordered:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!0},striped:Boolean,singleColumn:Boolean,size:{type:String,default:"medium"}}),yZ=ce({name:"Table",props:v2,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=Ge(t),o=ke("Table","-table",bZ,Lq,t,e),i=rn("Table",r,e),s=A(()=>{const{size:l}=t,{self:{borderColor:c,tdColor:d,tdColorModal:u,tdColorPopover:f,thColor:m,thColorModal:h,thColorPopover:p,thTextColor:v,tdTextColor:b,borderRadius:y,thFontWeight:x,lineHeight:C,borderColorModal:S,borderColorPopover:T,tdColorStriped:w,tdColorStripedModal:E,tdColorStripedPopover:R,[Ae("fontSize",l)]:P,[Ae("tdPadding",l)]:_,[Ae("thPadding",l)]:I},common:{cubicBezierEaseInOut:L}}=o.value;return{"--n-bezier":L,"--n-td-color":d,"--n-td-color-modal":u,"--n-td-color-popover":f,"--n-td-text-color":b,"--n-border-color":c,"--n-border-color-modal":S,"--n-border-color-popover":T,"--n-border-radius":y,"--n-font-size":P,"--n-th-color":m,"--n-th-color-modal":h,"--n-th-color-popover":p,"--n-th-font-weight":x,"--n-th-text-color":v,"--n-line-height":C,"--n-td-padding":_,"--n-th-padding":I,"--n-td-color-striped":w,"--n-td-color-striped-modal":E,"--n-td-color-striped-popover":R}}),a=n?ot("table",A(()=>t.size[0]),s,t):void 0;return{rtlEnabled:i,mergedClsPrefix:e,cssVars:n?void 0:s,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("table",{class:[`${e}-table`,this.themeClass,{[`${e}-table--rtl`]:this.rtlEnabled,[`${e}-table--bottom-bordered`]:this.bottomBordered,[`${e}-table--bordered`]:this.bordered,[`${e}-table--single-line`]:this.singleLine,[`${e}-table--single-column`]:this.singleColumn,[`${e}-table--striped`]:this.striped}],style:this.cssVars},this.$slots)}}),xZ=ce({name:"Tbody",render(){return g("tbody",null,this.$slots)}}),CZ=ce({name:"Td",render(){return g("td",null,this.$slots)}}),SZ=ce({name:"Th",render(){return g("th",null,this.$slots)}}),wZ=ce({name:"Thead",render(){return g("thead",null,this.$slots)}}),RZ=ce({name:"Tr",render(){return g("tr",null,this.$slots)}}),ib="n-tabs",sb={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},TZ=ce({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:sb,slots:Object,setup(t){const e=Ve(ib,null);return e||nr("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:e.paneStyleRef,class:e.paneClassRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){return g("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),b2=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},Gs(sb,["displayDirective"])),Nf=ce({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:b2,setup(t){const{mergedClsPrefixRef:e,valueRef:n,typeRef:r,closableRef:o,tabStyleRef:i,addTabStyleRef:s,tabClassRef:a,addTabClassRef:l,tabChangeIdRef:c,onBeforeLeaveRef:d,triggerRef:u,handleAdd:f,activateTab:m,handleClose:h}=Ve(ib);return{trigger:u,mergedClosable:A(()=>{if(t.internalAddable)return!1;const{closable:p}=t;return p===void 0?o.value:p}),style:i,addStyle:s,tabClass:a,addTabClass:l,clsPrefix:e,value:n,type:r,handleClose(p){p.stopPropagation(),!t.disabled&&h(t.name)},activateTab(){if(t.disabled)return;if(t.internalAddable){f();return}const{name:p}=t,v=++c.id;if(p!==n.value){const{value:b}=d;b?Promise.resolve(b(t.name,n.value)).then(y=>{y&&c.id===v&&m(p)}):m(p)}}}},render(){const{internalAddable:t,clsPrefix:e,name:n,disabled:r,label:o,tab:i,value:s,mergedClosable:a,trigger:l,$slots:{default:c}}=this,d=o??i;return g("div",{class:`${e}-tabs-tab-wrapper`},this.internalLeftPadded?g("div",{class:`${e}-tabs-tab-pad`}):null,g("div",Object.assign({key:n,"data-name":n,"data-disabled":r?!0:void 0},sr({class:[`${e}-tabs-tab`,s===n&&`${e}-tabs-tab--active`,r&&`${e}-tabs-tab--disabled`,a&&`${e}-tabs-tab--closable`,t&&`${e}-tabs-tab--addable`,t?this.addTabClass:this.tabClass],onClick:l==="click"?this.activateTab:void 0,onMouseenter:l==="hover"?this.activateTab:void 0,style:t?this.addStyle:this.style},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),g("span",{class:`${e}-tabs-tab__label`},t?g(Vt,null,g("div",{class:`${e}-tabs-tab__height-placeholder`}," "),g(yt,{clsPrefix:e},{default:()=>g(Ol,null)})):c?c():typeof d=="object"?d:dn(d??n)),a&&this.type==="card"?g(ns,{clsPrefix:e,class:`${e}-tabs-tab__close`,onClick:this.handleClose,disabled:r}):null))}}),EZ=k("tabs",`
 box-sizing: border-box;
 width: 100%;
 display: flex;
 flex-direction: column;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[M("segment-type",[k("tabs-rail",[O("&.transition-disabled",[k("tabs-capsule",`
 transition: none;
 `)])])]),M("top",[k("tab-pane",`
 padding: var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left);
 `)]),M("left",[k("tab-pane",`
 padding: var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) var(--n-pane-padding-top);
 `)]),M("left, right",`
 flex-direction: row;
 `,[k("tabs-bar",`
 width: 2px;
 right: 0;
 transition:
 top .2s var(--n-bezier),
 max-height .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),k("tabs-tab",`
 padding: var(--n-tab-padding-vertical); 
 `)]),M("right",`
 flex-direction: row-reverse;
 `,[k("tab-pane",`
 padding: var(--n-pane-padding-left) var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom);
 `),k("tabs-bar",`
 left: 0;
 `)]),M("bottom",`
 flex-direction: column-reverse;
 justify-content: flex-end;
 `,[k("tab-pane",`
 padding: var(--n-pane-padding-bottom) var(--n-pane-padding-right) var(--n-pane-padding-top) var(--n-pane-padding-left);
 `),k("tabs-bar",`
 top: 0;
 `)]),k("tabs-rail",`
 position: relative;
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[k("tabs-capsule",`
 border-radius: var(--n-tab-border-radius);
 position: absolute;
 pointer-events: none;
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 transition: transform 0.3s var(--n-bezier);
 `),k("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[k("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[M("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 `),O("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),M("flex",[k("tabs-nav",`
 width: 100%;
 position: relative;
 `,[k("tabs-wrapper",`
 width: 100%;
 `,[k("tabs-tab",`
 margin-right: 0;
 `)])])]),k("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[F("prefix, suffix",`
 display: flex;
 align-items: center;
 `),F("prefix","padding-right: 16px;"),F("suffix","padding-left: 16px;")]),M("top, bottom",[k("tabs-nav-scroll-wrapper",[O("&::before",`
 top: 0;
 bottom: 0;
 left: 0;
 width: 20px;
 `),O("&::after",`
 top: 0;
 bottom: 0;
 right: 0;
 width: 20px;
 `),M("shadow-start",[O("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),M("shadow-end",[O("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)])])]),M("left, right",[k("tabs-nav-scroll-content",`
 flex-direction: column;
 `),k("tabs-nav-scroll-wrapper",[O("&::before",`
 top: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),O("&::after",`
 bottom: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),M("shadow-start",[O("&::before",`
 box-shadow: inset 0 10px 8px -8px rgba(0, 0, 0, .12);
 `)]),M("shadow-end",[O("&::after",`
 box-shadow: inset 0 -10px 8px -8px rgba(0, 0, 0, .12);
 `)])])]),k("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[k("tabs-nav-y-scroll",`
 height: 100%;
 width: 100%;
 overflow-y: auto; 
 scrollbar-width: none;
 `,[O("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `)]),O("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 z-index: 1;
 `)]),k("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 min-height: 100%;
 width: fit-content;
 box-sizing: border-box;
 `),k("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),k("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),k("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[M("disabled",{cursor:"not-allowed"}),F("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),F("label",`
 display: flex;
 align-items: center;
 z-index: 1;
 `)]),k("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[O("&.transition-disabled",`
 transition: none;
 `),M("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),k("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),k("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[O("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),O("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),O("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),O("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),O("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),k("tabs-tab-pad",`
 box-sizing: border-box;
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),M("line-type, bar-type",[k("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[O("&:hover",{color:"var(--n-tab-text-color-hover)"}),M("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),M("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),k("tabs-nav",[M("line-type",[M("top",[F("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),k("tabs-nav-scroll-content",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),k("tabs-bar",`
 bottom: -1px;
 `)]),M("left",[F("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),k("tabs-nav-scroll-content",`
 border-right: 1px solid var(--n-tab-border-color);
 `),k("tabs-bar",`
 right: -1px;
 `)]),M("right",[F("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),k("tabs-nav-scroll-content",`
 border-left: 1px solid var(--n-tab-border-color);
 `),k("tabs-bar",`
 left: -1px;
 `)]),M("bottom",[F("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),k("tabs-nav-scroll-content",`
 border-top: 1px solid var(--n-tab-border-color);
 `),k("tabs-bar",`
 top: -1px;
 `)]),F("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),k("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 `),k("tabs-bar",`
 border-radius: 0;
 `)]),M("card-type",[F("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),k("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 `),k("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 `),k("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[M("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 justify-content: center;
 `,[F("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),wt("disabled",[O("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),M("closable","padding-right: 8px;"),M("active",`
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),M("disabled","color: var(--n-tab-text-color-disabled);")])]),M("left, right",`
 flex-direction: column; 
 `,[F("prefix, suffix",`
 padding: var(--n-tab-padding-vertical);
 `),k("tabs-wrapper",`
 flex-direction: column;
 `),k("tabs-tab-wrapper",`
 flex-direction: column;
 `,[k("tabs-tab-pad",`
 height: var(--n-tab-gap-vertical);
 width: 100%;
 `)])]),M("top",[M("card-type",[k("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);"),F("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),k("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 `,[M("active",`
 border-bottom: 1px solid #0000;
 `)]),k("tabs-tab-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),k("tabs-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `)])]),M("left",[M("card-type",[k("tabs-scroll-padding","border-right: 1px solid var(--n-tab-border-color);"),F("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),k("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-bottom-left-radius: var(--n-tab-border-radius);
 `,[M("active",`
 border-right: 1px solid #0000;
 `)]),k("tabs-tab-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `),k("tabs-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `)])]),M("right",[M("card-type",[k("tabs-scroll-padding","border-left: 1px solid var(--n-tab-border-color);"),F("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),k("tabs-tab",`
 border-top-right-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[M("active",`
 border-left: 1px solid #0000;
 `)]),k("tabs-tab-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `),k("tabs-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `)])]),M("bottom",[M("card-type",[k("tabs-scroll-padding","border-top: 1px solid var(--n-tab-border-color);"),F("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),k("tabs-tab",`
 border-bottom-left-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[M("active",`
 border-top: 1px solid #0000;
 `)]),k("tabs-tab-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `),k("tabs-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `)])])])]),y2=Object.assign(Object.assign({},ke.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},placement:{type:String,default:"top"},tabStyle:[String,Object],tabClass:String,addTabStyle:[String,Object],addTabClass:String,barWidth:Number,paneClass:String,paneStyle:[String,Object],paneWrapperClass:String,paneWrapperStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),kZ=ce({name:"Tabs",props:y2,slots:Object,setup(t,{slots:e}){var n,r,o,i;const{mergedClsPrefixRef:s,inlineThemeDisabled:a}=Ge(t),l=ke("Tabs","-tabs",EZ,$q,t,s),c=z(null),d=z(null),u=z(null),f=z(null),m=z(null),h=z(null),p=z(!0),v=z(!0),b=Os(t,["labelSize","size"]),y=Os(t,["activeName","value"]),x=z((r=(n=y.value)!==null&&n!==void 0?n:t.defaultValue)!==null&&r!==void 0?r:e.default?(i=(o=Yr(e.default())[0])===null||o===void 0?void 0:o.props)===null||i===void 0?void 0:i.name:null),C=Ft(y,x),S={id:0},T=A(()=>{if(!(!t.justifyContent||t.type==="card"))return{display:"flex",justifyContent:t.justifyContent}});gt(C,()=>{S.id=0,_(),I()});function w(){var te;const{value:ae}=C;return ae===null?null:(te=c.value)===null||te===void 0?void 0:te.querySelector(`[data-name="${ae}"]`)}function E(te){if(t.type==="card")return;const{value:ae}=d;if(!ae)return;const Ee=ae.style.opacity==="0";if(te){const se=`${s.value}-tabs-bar--disabled`,{barWidth:ie,placement:ge}=t;if(te.dataset.disabled==="true"?ae.classList.add(se):ae.classList.remove(se),["top","bottom"].includes(ge)){if(P(["top","maxHeight","height"]),typeof ie=="number"&&te.offsetWidth>=ie){const Le=Math.floor((te.offsetWidth-ie)/2)+te.offsetLeft;ae.style.left=`${Le}px`,ae.style.maxWidth=`${ie}px`}else ae.style.left=`${te.offsetLeft}px`,ae.style.maxWidth=`${te.offsetWidth}px`;ae.style.width="8192px",Ee&&(ae.style.transition="none"),ae.offsetWidth,Ee&&(ae.style.transition="",ae.style.opacity="1")}else{if(P(["left","maxWidth","width"]),typeof ie=="number"&&te.offsetHeight>=ie){const Le=Math.floor((te.offsetHeight-ie)/2)+te.offsetTop;ae.style.top=`${Le}px`,ae.style.maxHeight=`${ie}px`}else ae.style.top=`${te.offsetTop}px`,ae.style.maxHeight=`${te.offsetHeight}px`;ae.style.height="8192px",Ee&&(ae.style.transition="none"),ae.offsetHeight,Ee&&(ae.style.transition="",ae.style.opacity="1")}}}function R(){if(t.type==="card")return;const{value:te}=d;te&&(te.style.opacity="0")}function P(te){const{value:ae}=d;if(ae)for(const Ee of te)ae.style[Ee]=""}function _(){if(t.type==="card")return;const te=w();te?E(te):R()}function I(){var te;const ae=(te=m.value)===null||te===void 0?void 0:te.$el;if(!ae)return;const Ee=w();if(!Ee)return;const{scrollLeft:se,offsetWidth:ie}=ae,{offsetLeft:ge,offsetWidth:Le}=Ee;se>ge?ae.scrollTo({top:0,left:ge,behavior:"smooth"}):ge+Le>se+ie&&ae.scrollTo({top:0,left:ge+Le-ie,behavior:"smooth"})}const L=z(null);let N=0,H=null;function G(te){const ae=L.value;if(ae){N=te.getBoundingClientRect().height;const Ee=`${N}px`,se=()=>{ae.style.height=Ee,ae.style.maxHeight=Ee};H?(se(),H(),H=null):H=se}}function W(te){const ae=L.value;if(ae){const Ee=te.getBoundingClientRect().height,se=()=>{document.body.offsetHeight,ae.style.maxHeight=`${Ee}px`,ae.style.height=`${Math.max(N,Ee)}px`};H?(H(),H=null,se()):H=se}}function J(){const te=L.value;if(te){te.style.maxHeight="",te.style.height="";const{paneWrapperStyle:ae}=t;if(typeof ae=="string")te.style.cssText=ae;else if(ae){const{maxHeight:Ee,height:se}=ae;Ee!==void 0&&(te.style.maxHeight=Ee),se!==void 0&&(te.style.height=se)}}}const ne={value:[]},D=z("next");function B(te){const ae=C.value;let Ee="next";for(const se of ne.value){if(se===ae)break;if(se===te){Ee="prev";break}}D.value=Ee,j(te)}function j(te){const{onActiveNameChange:ae,onUpdateValue:Ee,"onUpdate:value":se}=t;ae&&we(ae,te),Ee&&we(Ee,te),se&&we(se,te),x.value=te}function $(te){const{onClose:ae}=t;ae&&we(ae,te)}function V(){const{value:te}=d;if(!te)return;const ae="transition-disabled";te.classList.add(ae),_(),te.classList.remove(ae)}const X=z(null);function Z({transitionDisabled:te}){const ae=c.value;if(!ae)return;te&&ae.classList.add("transition-disabled");const Ee=w();Ee&&X.value&&(X.value.style.width=`${Ee.offsetWidth}px`,X.value.style.height=`${Ee.offsetHeight}px`,X.value.style.transform=`translateX(${Ee.offsetLeft-on(getComputedStyle(ae).paddingLeft)}px)`,te&&X.value.offsetWidth),te&&ae.classList.remove("transition-disabled")}gt([C],()=>{t.type==="segment"&&$t(()=>{Z({transitionDisabled:!1})})}),Gt(()=>{t.type==="segment"&&Z({transitionDisabled:!0})});let q=0;function ue(te){var ae;if(te.contentRect.width===0&&te.contentRect.height===0||q===te.contentRect.width)return;q=te.contentRect.width;const{type:Ee}=t;if((Ee==="line"||Ee==="bar")&&V(),Ee!=="segment"){const{placement:se}=t;re((se==="top"||se==="bottom"?(ae=m.value)===null||ae===void 0?void 0:ae.$el:h.value)||null)}}const K=Hc(ue,64);gt([()=>t.justifyContent,()=>t.size],()=>{$t(()=>{const{type:te}=t;(te==="line"||te==="bar")&&V()})});const he=z(!1);function Ie(te){var ae;const{target:Ee,contentRect:{width:se,height:ie}}=te,ge=Ee.parentElement.parentElement.offsetWidth,Le=Ee.parentElement.parentElement.offsetHeight,{placement:xe}=t;if(!he.value)xe==="top"||xe==="bottom"?ge<se&&(he.value=!0):Le<ie&&(he.value=!0);else{const{value:We}=f;if(!We)return;xe==="top"||xe==="bottom"?ge-se>We.$el.offsetWidth&&(he.value=!1):Le-ie>We.$el.offsetHeight&&(he.value=!1)}re(((ae=m.value)===null||ae===void 0?void 0:ae.$el)||null)}const Q=Hc(Ie,64);function Y(){const{onAdd:te}=t;te&&te(),$t(()=>{const ae=w(),{value:Ee}=m;!ae||!Ee||Ee.scrollTo({left:ae.offsetLeft,top:0,behavior:"smooth"})})}function re(te){if(!te)return;const{placement:ae}=t;if(ae==="top"||ae==="bottom"){const{scrollLeft:Ee,scrollWidth:se,offsetWidth:ie}=te;p.value=Ee<=0,v.value=Ee+ie>=se}else{const{scrollTop:Ee,scrollHeight:se,offsetHeight:ie}=te;p.value=Ee<=0,v.value=Ee+ie>=se}}const be=Hc(te=>{re(te.target)},64);ft(ib,{triggerRef:Se(t,"trigger"),tabStyleRef:Se(t,"tabStyle"),tabClassRef:Se(t,"tabClass"),addTabStyleRef:Se(t,"addTabStyle"),addTabClassRef:Se(t,"addTabClass"),paneClassRef:Se(t,"paneClass"),paneStyleRef:Se(t,"paneStyle"),mergedClsPrefixRef:s,typeRef:Se(t,"type"),closableRef:Se(t,"closable"),valueRef:C,tabChangeIdRef:S,onBeforeLeaveRef:Se(t,"onBeforeLeave"),activateTab:B,handleClose:$,handleAdd:Y}),ph(()=>{_(),I()}),Xt(()=>{const{value:te}=u;if(!te)return;const{value:ae}=s,Ee=`${ae}-tabs-nav-scroll-wrapper--shadow-start`,se=`${ae}-tabs-nav-scroll-wrapper--shadow-end`;p.value?te.classList.remove(Ee):te.classList.add(Ee),v.value?te.classList.remove(se):te.classList.add(se)});const Ce={syncBarPosition:()=>{_()}},le=()=>{Z({transitionDisabled:!0})},de=A(()=>{const{value:te}=b,{type:ae}=t,Ee={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[ae],se=`${te}${Ee}`,{self:{barColor:ie,closeIconColor:ge,closeIconColorHover:Le,closeIconColorPressed:xe,tabColor:We,tabBorderColor:at,paneTextColor:bt,tabFontWeight:dt,tabBorderRadius:Ct,tabFontWeightActive:Tt,colorSegment:Qe,fontWeightStrong:rt,tabColorSegment:oe,closeSize:ee,closeIconSize:Pe,closeColorHover:Ne,closeColorPressed:Ue,closeBorderRadius:pe,[Ae("panePadding",te)]:$e,[Ae("tabPadding",se)]:me,[Ae("tabPaddingVertical",se)]:Oe,[Ae("tabGap",se)]:Ze,[Ae("tabGap",`${se}Vertical`)]:tt,[Ae("tabTextColor",ae)]:Re,[Ae("tabTextColorActive",ae)]:He,[Ae("tabTextColorHover",ae)]:ve,[Ae("tabTextColorDisabled",ae)]:Be,[Ae("tabFontSize",te)]:Ke},common:{cubicBezierEaseInOut:ct}}=l.value;return{"--n-bezier":ct,"--n-color-segment":Qe,"--n-bar-color":ie,"--n-tab-font-size":Ke,"--n-tab-text-color":Re,"--n-tab-text-color-active":He,"--n-tab-text-color-disabled":Be,"--n-tab-text-color-hover":ve,"--n-pane-text-color":bt,"--n-tab-border-color":at,"--n-tab-border-radius":Ct,"--n-close-size":ee,"--n-close-icon-size":Pe,"--n-close-color-hover":Ne,"--n-close-color-pressed":Ue,"--n-close-border-radius":pe,"--n-close-icon-color":ge,"--n-close-icon-color-hover":Le,"--n-close-icon-color-pressed":xe,"--n-tab-color":We,"--n-tab-font-weight":dt,"--n-tab-font-weight-active":Tt,"--n-tab-padding":me,"--n-tab-padding-vertical":Oe,"--n-tab-gap":Ze,"--n-tab-gap-vertical":tt,"--n-pane-padding-left":Un($e,"left"),"--n-pane-padding-right":Un($e,"right"),"--n-pane-padding-top":Un($e,"top"),"--n-pane-padding-bottom":Un($e,"bottom"),"--n-font-weight-strong":rt,"--n-tab-color-segment":oe}}),fe=a?ot("tabs",A(()=>`${b.value[0]}${t.type[0]}`),de,t):void 0;return Object.assign({mergedClsPrefix:s,mergedValue:C,renderedNames:new Set,segmentCapsuleElRef:X,tabsPaneWrapperRef:L,tabsElRef:c,barElRef:d,addTabInstRef:f,xScrollInstRef:m,scrollWrapperElRef:u,addTabFixed:he,tabWrapperStyle:T,handleNavResize:K,mergedSize:b,handleScroll:be,handleTabsResize:Q,cssVars:a?void 0:de,themeClass:fe==null?void 0:fe.themeClass,animationDirection:D,renderNameListRef:ne,yScrollElRef:h,handleSegmentResize:le,onAnimationBeforeLeave:G,onAnimationEnter:W,onAnimationAfterEnter:J,onRender:fe==null?void 0:fe.onRender},Ce)},render(){const{mergedClsPrefix:t,type:e,placement:n,addTabFixed:r,addable:o,mergedSize:i,renderNameListRef:s,onRender:a,paneWrapperClass:l,paneWrapperStyle:c,$slots:{default:d,prefix:u,suffix:f}}=this;a==null||a();const m=d?Yr(d()).filter(S=>S.type.__TAB_PANE__===!0):[],h=d?Yr(d()).filter(S=>S.type.__TAB__===!0):[],p=!h.length,v=e==="card",b=e==="segment",y=!v&&!b&&this.justifyContent;s.value=[];const x=()=>{const S=g("div",{style:this.tabWrapperStyle,class:`${t}-tabs-wrapper`},y?null:g("div",{class:`${t}-tabs-scroll-padding`,style:n==="top"||n==="bottom"?{width:`${this.tabsPadding}px`}:{height:`${this.tabsPadding}px`}}),p?m.map((T,w)=>(s.value.push(T.props.name),nm(g(Nf,Object.assign({},T.props,{internalCreatedByPane:!0,internalLeftPadded:w!==0&&(!y||y==="center"||y==="start"||y==="end")}),T.children?{default:T.children.tab}:void 0)))):h.map((T,w)=>(s.value.push(T.props.name),nm(w!==0&&!y?nS(T):T))),!r&&o&&v?tS(o,(p?m.length:h.length)!==0):null,y?null:g("div",{class:`${t}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));return g("div",{ref:"tabsElRef",class:`${t}-tabs-nav-scroll-content`},v&&o?g(Fr,{onResize:this.handleTabsResize},{default:()=>S}):S,v?g("div",{class:`${t}-tabs-pad`}):null,v?null:g("div",{ref:"barElRef",class:`${t}-tabs-bar`}))},C=b?"top":n;return g("div",{class:[`${t}-tabs`,this.themeClass,`${t}-tabs--${e}-type`,`${t}-tabs--${i}-size`,y&&`${t}-tabs--flex`,`${t}-tabs--${C}`],style:this.cssVars},g("div",{class:[`${t}-tabs-nav--${e}-type`,`${t}-tabs-nav--${C}`,`${t}-tabs-nav`]},Lt(u,S=>S&&g("div",{class:`${t}-tabs-nav__prefix`},S)),b?g(Fr,{onResize:this.handleSegmentResize},{default:()=>g("div",{class:`${t}-tabs-rail`,ref:"tabsElRef"},g("div",{class:`${t}-tabs-capsule`,ref:"segmentCapsuleElRef"},g("div",{class:`${t}-tabs-wrapper`},g("div",{class:`${t}-tabs-tab`}))),p?m.map((S,T)=>(s.value.push(S.props.name),g(Nf,Object.assign({},S.props,{internalCreatedByPane:!0,internalLeftPadded:T!==0}),S.children?{default:S.children.tab}:void 0))):h.map((S,T)=>(s.value.push(S.props.name),T===0?S:nS(S))))}):g(Fr,{onResize:this.handleNavResize},{default:()=>g("div",{class:`${t}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},["top","bottom"].includes(C)?g(H3,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:x}):g("div",{class:`${t}-tabs-nav-y-scroll`,onScroll:this.handleScroll,ref:"yScrollElRef"},x()))}),r&&o&&v?tS(o,!0):null,Lt(f,S=>S&&g("div",{class:`${t}-tabs-nav__suffix`},S))),p&&(this.animated&&(C==="top"||C==="bottom")?g("div",{ref:"tabsPaneWrapperRef",style:c,class:[`${t}-tabs-pane-wrapper`,l]},eS(m,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):eS(m,this.mergedValue,this.renderedNames)))}});function eS(t,e,n,r,o,i,s){const a=[];return t.forEach(l=>{const{name:c,displayDirective:d,"display-directive":u}=l.props,f=h=>d===h||u===h,m=e===c;if(l.key!==void 0&&(l.key=c),m||f("show")||f("show:lazy")&&n.has(c)){n.has(c)||n.add(c);const h=!f("if");a.push(h?$n(l,[[bo,m]]):l)}}),s?g(hh,{name:`${s}-transition`,onBeforeLeave:r,onEnter:o,onAfterEnter:i},{default:()=>a}):a}function tS(t,e){return g(Nf,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:e,disabled:typeof t=="object"&&t.disabled})}function nS(t){const e=Hr(t);return e.props?e.props.internalLeftPadded=!0:e.props={internalLeftPadded:!0},e}function nm(t){return Array.isArray(t.dynamicProps)?t.dynamicProps.includes("internalLeftPadded")||t.dynamicProps.push("internalLeftPadded"):t.dynamicProps=["internalLeftPadded"],t}const PZ=k("thing",`
 display: flex;
 transition: color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 color: var(--n-text-color);
`,[k("thing-avatar",`
 margin-right: 12px;
 margin-top: 2px;
 `),k("thing-avatar-header-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 `,[k("thing-header-wrapper",`
 flex: 1;
 `)]),k("thing-main",`
 flex-grow: 1;
 `,[k("thing-header",`
 display: flex;
 margin-bottom: 4px;
 justify-content: space-between;
 align-items: center;
 `,[F("title",`
 font-size: 16px;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 color: var(--n-title-text-color);
 `)]),F("description",[O("&:not(:last-child)",`
 margin-bottom: 4px;
 `)]),F("content",[O("&:not(:first-child)",`
 margin-top: 12px;
 `)]),F("footer",[O("&:not(:first-child)",`
 margin-top: 12px;
 `)]),F("action",[O("&:not(:first-child)",`
 margin-top: 12px;
 `)])])]),x2=Object.assign(Object.assign({},ke.props),{title:String,titleExtra:String,description:String,descriptionClass:String,descriptionStyle:[String,Object],content:String,contentClass:String,contentStyle:[String,Object],contentIndented:Boolean}),AZ=ce({name:"Thing",props:x2,slots:Object,setup(t,{slots:e}){const{mergedClsPrefixRef:n,inlineThemeDisabled:r,mergedRtlRef:o}=Ge(t),i=ke("Thing","-thing",PZ,Mq,t,n),s=rn("Thing",o,n),a=A(()=>{const{self:{titleTextColor:c,textColor:d,titleFontWeight:u,fontSize:f},common:{cubicBezierEaseInOut:m}}=i.value;return{"--n-bezier":m,"--n-font-size":f,"--n-text-color":d,"--n-title-font-weight":u,"--n-title-text-color":c}}),l=r?ot("thing",void 0,a,t):void 0;return()=>{var c;const{value:d}=n,u=s?s.value:!1;return(c=l==null?void 0:l.onRender)===null||c===void 0||c.call(l),g("div",{class:[`${d}-thing`,l==null?void 0:l.themeClass,u&&`${d}-thing--rtl`],style:r?void 0:a.value},e.avatar&&t.contentIndented?g("div",{class:`${d}-thing-avatar`},e.avatar()):null,g("div",{class:`${d}-thing-main`},!t.contentIndented&&(e.header||t.title||e["header-extra"]||t.titleExtra||e.avatar)?g("div",{class:`${d}-thing-avatar-header-wrapper`},e.avatar?g("div",{class:`${d}-thing-avatar`},e.avatar()):null,e.header||t.title||e["header-extra"]||t.titleExtra?g("div",{class:`${d}-thing-header-wrapper`},g("div",{class:`${d}-thing-header`},e.header||t.title?g("div",{class:`${d}-thing-header__title`},e.header?e.header():t.title):null,e["header-extra"]||t.titleExtra?g("div",{class:`${d}-thing-header__extra`},e["header-extra"]?e["header-extra"]():t.titleExtra):null),e.description||t.description?g("div",{class:[`${d}-thing-main__description`,t.descriptionClass],style:t.descriptionStyle},e.description?e.description():t.description):null):null):g(Vt,null,e.header||t.title||e["header-extra"]||t.titleExtra?g("div",{class:`${d}-thing-header`},e.header||t.title?g("div",{class:`${d}-thing-header__title`},e.header?e.header():t.title):null,e["header-extra"]||t.titleExtra?g("div",{class:`${d}-thing-header__extra`},e["header-extra"]?e["header-extra"]():t.titleExtra):null):null,e.description||t.description?g("div",{class:[`${d}-thing-main__description`,t.descriptionClass],style:t.descriptionStyle},e.description?e.description():t.description):null),e.default||t.content?g("div",{class:[`${d}-thing-main__content`,t.contentClass],style:t.contentStyle},e.default?e.default():t.content):null,e.footer?g("div",{class:`${d}-thing-main__footer`},e.footer()):null,e.action?g("div",{class:`${d}-thing-main__action`},e.action()):null))}}}),C2={time:{type:[Number,Date],default:void 0},type:{type:String,default:"datetime"},to:{type:[Number,Date],default:void 0},unix:Boolean,format:String,text:Boolean,timeZone:String},IZ=ce({name:"Time",props:C2,setup(t){const e=Date.now(),{localeRef:n,dateLocaleRef:r}=Mn("Time"),o=A(()=>{const{timeZone:c}=t;return c?(d,u,f)=>TA(d,c,u,f):cn}),i=A(()=>({locale:r.value.locale})),s=A(()=>{const{time:c}=t;return t.unix?c===void 0?e:tC(typeof c=="number"?c:c.valueOf()):c??e}),a=A(()=>{const{to:c}=t;return t.unix?c===void 0?e:tC(typeof c=="number"?c:c.valueOf()):c??e});return{renderedTime:A(()=>t.format?o.value(s.value,t.format,i.value):t.type==="date"?o.value(s.value,n.value.dateFormat,i.value):t.type==="datetime"?o.value(s.value,n.value.dateTimeFormat,i.value):f9(s.value,a.value,{addSuffix:!0,locale:r.value.locale}))}},render(){return this.text?hr(this.renderedTime):g("time",[this.renderedTime])}}),rS=1.25,_Z=k("timeline",`
 position: relative;
 width: 100%;
 display: flex;
 flex-direction: column;
 line-height: ${rS};
`,[M("horizontal",`
 flex-direction: row;
 `,[O(">",[k("timeline-item",`
 flex-shrink: 0;
 padding-right: 40px;
 `,[M("dashed-line-type",[O(">",[k("timeline-item-timeline",[F("line",`
 background-image: linear-gradient(90deg, var(--n-color-start), var(--n-color-start) 50%, transparent 50%, transparent 100%);
 background-size: 10px 1px;
 `)])])]),O(">",[k("timeline-item-content",`
 margin-top: calc(var(--n-icon-size) + 12px);
 `,[O(">",[F("meta",`
 margin-top: 6px;
 margin-bottom: unset;
 `)])]),k("timeline-item-timeline",`
 width: 100%;
 height: calc(var(--n-icon-size) + 12px);
 `,[F("line",`
 left: var(--n-icon-size);
 top: calc(var(--n-icon-size) / 2 - 1px);
 right: 0px;
 width: unset;
 height: 2px;
 `)])])])])]),M("right-placement",[k("timeline-item",[k("timeline-item-content",`
 text-align: right;
 margin-right: calc(var(--n-icon-size) + 12px);
 `),k("timeline-item-timeline",`
 width: var(--n-icon-size);
 right: 0;
 `)])]),M("left-placement",[k("timeline-item",[k("timeline-item-content",`
 margin-left: calc(var(--n-icon-size) + 12px);
 `),k("timeline-item-timeline",`
 left: 0;
 `)])]),k("timeline-item",`
 position: relative;
 `,[O("&:last-child",[k("timeline-item-timeline",[F("line",`
 display: none;
 `)]),k("timeline-item-content",[F("meta",`
 margin-bottom: 0;
 `)])]),k("timeline-item-content",[F("title",`
 margin: var(--n-title-margin);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),F("content",`
 transition: color .3s var(--n-bezier);
 font-size: var(--n-content-font-size);
 color: var(--n-content-text-color);
 `),F("meta",`
 transition: color .3s var(--n-bezier);
 font-size: 12px;
 margin-top: 6px;
 margin-bottom: 20px;
 color: var(--n-meta-text-color);
 `)]),M("dashed-line-type",[k("timeline-item-timeline",[F("line",`
 --n-color-start: var(--n-line-color);
 transition: --n-color-start .3s var(--n-bezier);
 background-color: transparent;
 background-image: linear-gradient(180deg, var(--n-color-start), var(--n-color-start) 50%, transparent 50%, transparent 100%);
 background-size: 1px 10px;
 `)])]),k("timeline-item-timeline",`
 width: calc(var(--n-icon-size) + 12px);
 position: absolute;
 top: calc(var(--n-title-font-size) * ${rS} / 2 - var(--n-icon-size) / 2);
 height: 100%;
 `,[F("circle",`
 border: var(--n-circle-border);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 border-radius: var(--n-icon-size);
 box-sizing: border-box;
 `),F("icon",`
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 display: flex;
 align-items: center;
 justify-content: center;
 `),F("line",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 top: var(--n-icon-size);
 left: calc(var(--n-icon-size) / 2 - 1px);
 bottom: 0px;
 width: 2px;
 background-color: var(--n-line-color);
 `)])])]),S2=Object.assign(Object.assign({},ke.props),{horizontal:Boolean,itemPlacement:{type:String,default:"left"},size:{type:String,default:"medium"},iconSize:Number}),w2="n-timeline",LZ=ce({name:"Timeline",props:S2,setup(t,{slots:e}){const{mergedClsPrefixRef:n}=Ge(t),r=ke("Timeline","-timeline",_Z,Uq,t,n);return ft(w2,{props:t,mergedThemeRef:r,mergedClsPrefixRef:n}),()=>{const{value:o}=n;return g("div",{class:[`${o}-timeline`,t.horizontal&&`${o}-timeline--horizontal`,`${o}-timeline--${t.size}-size`,!t.horizontal&&`${o}-timeline--${t.itemPlacement}-placement`]},e)}}}),R2={time:[String,Number],title:String,content:String,color:String,lineType:{type:String,default:"default"},type:{type:String,default:"default"}},DZ=ce({name:"TimelineItem",props:R2,slots:Object,setup(t){const e=Ve(w2);e||nr("timeline-item","`n-timeline-item` must be placed inside `n-timeline`."),Jv();const{inlineThemeDisabled:n}=Ge(),r=A(()=>{const{props:{size:i,iconSize:s},mergedThemeRef:a}=e,{type:l}=t,{self:{titleTextColor:c,contentTextColor:d,metaTextColor:u,lineColor:f,titleFontWeight:m,contentFontSize:h,[Ae("iconSize",i)]:p,[Ae("titleMargin",i)]:v,[Ae("titleFontSize",i)]:b,[Ae("circleBorder",l)]:y,[Ae("iconColor",l)]:x},common:{cubicBezierEaseInOut:C}}=a.value;return{"--n-bezier":C,"--n-circle-border":y,"--n-icon-color":x,"--n-content-font-size":h,"--n-content-text-color":d,"--n-line-color":f,"--n-meta-text-color":u,"--n-title-font-size":b,"--n-title-font-weight":m,"--n-title-margin":v,"--n-title-text-color":c,"--n-icon-size":Mt(s)||p}}),o=n?ot("timeline-item",A(()=>{const{props:{size:i,iconSize:s}}=e,{type:a}=t;return`${i[0]}${s||"a"}${a[0]}`}),r,e.props):void 0;return{mergedClsPrefix:e.mergedClsPrefixRef,cssVars:n?void 0:r,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){const{mergedClsPrefix:t,color:e,onRender:n,$slots:r}=this;return n==null||n(),g("div",{class:[`${t}-timeline-item`,this.themeClass,`${t}-timeline-item--${this.type}-type`,`${t}-timeline-item--${this.lineType}-line-type`],style:this.cssVars},g("div",{class:`${t}-timeline-item-timeline`},g("div",{class:`${t}-timeline-item-timeline__line`}),Lt(r.icon,o=>o?g("div",{class:`${t}-timeline-item-timeline__icon`,style:{color:e}},o):g("div",{class:`${t}-timeline-item-timeline__circle`,style:{borderColor:e}}))),g("div",{class:`${t}-timeline-item-content`},Lt(r.header,o=>o||this.title?g("div",{class:`${t}-timeline-item-content__title`},o||this.title):null),g("div",{class:`${t}-timeline-item-content__content`},Et(r.default,()=>[this.content])),g("div",{class:`${t}-timeline-item-content__meta`},Et(r.footer,()=>[this.time]))))}}),Kd="n-transfer",OZ=k("transfer",`
 width: 100%;
 font-size: var(--n-font-size);
 height: 300px;
 display: flex;
 flex-wrap: nowrap;
 word-break: break-word;
`,[M("disabled",[k("transfer-list",[k("transfer-list-header",[F("title",`
 color: var(--n-header-text-color-disabled);
 `),F("extra",`
 color: var(--n-header-extra-text-color-disabled);
 `)])])]),k("transfer-list",`
 flex: 1;
 min-width: 0;
 height: inherit;
 display: flex;
 flex-direction: column;
 background-clip: padding-box;
 position: relative;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-list-color);
 `,[M("source",`
 border-top-left-radius: var(--n-border-radius);
 border-bottom-left-radius: var(--n-border-radius);
 `,[F("border","border-right: 1px solid var(--n-divider-color);")]),M("target",`
 border-top-right-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[F("border","border-left: none;")]),F("border",`
 padding: 0 12px;
 border: 1px solid var(--n-border-color);
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `),k("transfer-list-header",`
 min-height: var(--n-header-height);
 box-sizing: border-box;
 display: flex;
 padding: 12px 12px 10px 12px;
 align-items: center;
 background-clip: padding-box;
 border-radius: inherit;
 border-bottom-left-radius: 0;
 border-bottom-right-radius: 0;
 line-height: 1.5;
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[O("> *:not(:first-child)",`
 margin-left: 8px;
 `),F("title",`
 flex: 1;
 min-width: 0;
 line-height: 1.5;
 font-size: var(--n-header-font-size);
 font-weight: var(--n-header-font-weight);
 transition: color .3s var(--n-bezier);
 color: var(--n-header-text-color);
 `),F("button",`
 position: relative;
 `),F("extra",`
 transition: color .3s var(--n-bezier);
 font-size: var(--n-extra-font-size);
 margin-right: 0;
 white-space: nowrap;
 color: var(--n-header-extra-text-color);
 `)]),k("transfer-list-body",`
 flex-basis: 0;
 flex-grow: 1;
 box-sizing: border-box;
 position: relative;
 display: flex;
 flex-direction: column;
 border-radius: inherit;
 border-top-left-radius: 0;
 border-top-right-radius: 0;
 `,[k("transfer-filter",`
 padding: 4px 12px 8px 12px;
 box-sizing: border-box;
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),k("transfer-list-flex-container",`
 flex: 1;
 position: relative;
 `,[k("scrollbar",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 height: unset;
 `),k("empty",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 `),k("transfer-list-content",`
 padding: 0;
 margin: 0;
 position: relative;
 `,[k("transfer-list-item",`
 padding: 0 12px;
 min-height: var(--n-item-height);
 display: flex;
 align-items: center;
 color: var(--n-item-text-color);
 position: relative;
 transition: color .3s var(--n-bezier);
 `,[F("background",`
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),F("checkbox",`
 position: relative;
 margin-right: 8px;
 `),F("close",`
 opacity: 0;
 pointer-events: none;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),F("label",`
 position: relative;
 min-width: 0;
 flex-grow: 1;
 `),M("source","cursor: pointer;"),M("disabled",`
 cursor: not-allowed;
 color: var(--n-item-text-color-disabled);
 `),wt("disabled",[O("&:hover",[F("background","background-color: var(--n-item-color-pending);"),F("close",`
 opacity: 1;
 pointer-events: all;
 `)])])])])])])])]),oS=ce({name:"TransferFilter",props:{value:String,placeholder:String,disabled:Boolean,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e}=Ve(Kd);return{mergedClsPrefix:e,mergedTheme:t}},render(){const{mergedTheme:t,mergedClsPrefix:e}=this;return g("div",{class:`${e}-transfer-filter`},g(tr,{value:this.value,onUpdateValue:this.onUpdateValue,disabled:this.disabled,placeholder:this.placeholder,theme:t.peers.Input,themeOverrides:t.peerOverrides.Input,clearable:!0,size:"small"},{"clear-icon-placeholder":()=>g(yt,{clsPrefix:e},{default:()=>g(xE,null)})}))}}),iS=ce({name:"TransferHeader",props:{size:{type:String,required:!0},selectAllText:String,clearText:String,source:Boolean,onCheckedAll:Function,onClearAll:Function,title:[String,Function]},setup(t){const{targetOptionsRef:e,canNotSelectAnythingRef:n,canBeClearedRef:r,allCheckedRef:o,mergedThemeRef:i,disabledRef:s,mergedClsPrefixRef:a,srcOptionsLengthRef:l}=Ve(Kd),{localeRef:c}=Mn("Transfer");return()=>{const{source:d,onClearAll:u,onCheckedAll:f,selectAllText:m,clearText:h}=t,{value:p}=i,{value:v}=a,{value:b}=c,y=t.size==="large"?"small":"tiny",{title:x}=t;return g("div",{class:`${v}-transfer-list-header`},x&&g("div",{class:`${v}-transfer-list-header__title`},typeof x=="function"?x():x),d&&g(At,{class:`${v}-transfer-list-header__button`,theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,size:y,tertiary:!0,onClick:o.value?u:f,disabled:n.value||s.value},{default:()=>o.value?h||b.unselectAll:m||b.selectAll}),!d&&r.value&&g(At,{class:`${v}-transfer-list-header__button`,theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,size:y,tertiary:!0,onClick:u,disabled:s.value},{default:()=>b.clearAll}),g("div",{class:`${v}-transfer-list-header__extra`},d?b.total(l.value):b.selected(e.value.length)))}}}),sS=ce({name:"NTransferListItem",props:{source:Boolean,label:{type:String,required:!0},value:{type:[String,Number],required:!0},disabled:Boolean,option:{type:Object,required:!0}},setup(t){const{targetValueSetRef:e,mergedClsPrefixRef:n,mergedThemeRef:r,handleItemCheck:o,renderSourceLabelRef:i,renderTargetLabelRef:s,showSelectedRef:a}=Ve(Kd),l=pt(()=>e.value.has(t.value));function c(){t.disabled||o(!l.value,t.value)}return{mergedClsPrefix:n,mergedTheme:r,checked:l,showSelected:a,renderSourceLabel:i,renderTargetLabel:s,handleClick:c}},render(){const{disabled:t,mergedTheme:e,mergedClsPrefix:n,label:r,checked:o,source:i,renderSourceLabel:s,renderTargetLabel:a}=this;return g("div",{class:[`${n}-transfer-list-item`,t&&`${n}-transfer-list-item--disabled`,i?`${n}-transfer-list-item--source`:`${n}-transfer-list-item--target`],onClick:i?this.handleClick:void 0},g("div",{class:`${n}-transfer-list-item__background`}),i&&this.showSelected&&g("div",{class:`${n}-transfer-list-item__checkbox`},g(os,{theme:e.peers.Checkbox,themeOverrides:e.peerOverrides.Checkbox,disabled:t,checked:o})),g("div",{class:`${n}-transfer-list-item__label`,title:Ll(r)},i?s?s({option:this.option}):r:a?a({option:this.option}):r),!i&&!t&&g(ns,{focusable:!1,class:`${n}-transfer-list-item__close`,clsPrefix:n,onClick:this.handleClick}))}}),aS=ce({name:"TransferList",props:{virtualScroll:{type:Boolean,required:!0},itemSize:{type:Number,required:!0},options:{type:Array,required:!0},disabled:{type:Boolean,required:!0},source:Boolean},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:e}=Ve(Kd),n=z(null),r=z(null);function o(){var a;(a=n.value)===null||a===void 0||a.sync()}function i(){const{value:a}=r;if(!a)return null;const{listElRef:l}=a;return l}function s(){const{value:a}=r;if(!a)return null;const{itemsElRef:l}=a;return l}return{mergedTheme:t,mergedClsPrefix:e,scrollerInstRef:n,vlInstRef:r,syncVLScroller:o,scrollContainer:i,scrollContent:s}},render(){const{mergedTheme:t,options:e}=this;if(e.length===0)return g(Gi,{theme:t.peers.Empty,themeOverrides:t.peerOverrides.Empty});const{mergedClsPrefix:n,virtualScroll:r,source:o,disabled:i,syncVLScroller:s}=this;return g(Sn,{ref:"scrollerInstRef",theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,container:r?this.scrollContainer:void 0,content:r?this.scrollContent:void 0},{default:()=>r?g(qo,{ref:"vlInstRef",style:{height:"100%"},class:`${n}-transfer-list-content`,items:this.options,itemSize:this.itemSize,showScrollbar:!1,onResize:s,onScroll:s,keyField:"value"},{default:({item:a})=>{const{source:l,disabled:c}=this;return g(sS,{source:l,key:a.value,value:a.value,disabled:a.disabled||c,label:a.label,option:a})}}):g("div",{class:`${n}-transfer-list-content`},e.map(a=>g(sS,{source:o,key:a.value,value:a.value,disabled:a.disabled||i,label:a.label,option:a})))})}});function $Z(t){const e=z(t.defaultValue),n=Ft(Se(t,"value"),e),r=A(()=>{const C=new Map;return(t.options||[]).forEach(S=>C.set(S.value,S)),C}),o=A(()=>new Set(n.value||[])),i=A(()=>{const C=r.value,S=[];return(n.value||[]).forEach(T=>{const w=C.get(T);w&&S.push(w)}),S}),s=z(""),a=z(""),l=A(()=>t.sourceFilterable||!!t.filterable),c=A(()=>{const{showSelected:C,options:S,filter:T}=t;return l.value?S.filter(w=>T(s.value,w,"source")&&(C||!o.value.has(w.value))):C?S:S.filter(w=>!o.value.has(w.value))}),d=A(()=>{if(!t.targetFilterable)return i.value;const{filter:C}=t;return i.value.filter(S=>C(a.value,S,"target"))}),u=A(()=>{const{value:C}=n;return C===null?new Set:new Set(C)}),f=A(()=>{const C=new Set(u.value);return c.value.forEach(S=>{!S.disabled&&!C.has(S.value)&&C.add(S.value)}),C}),m=A(()=>{const C=new Set(u.value);return c.value.forEach(S=>{!S.disabled&&C.has(S.value)&&C.delete(S.value)}),C}),h=A(()=>{const C=new Set(u.value);return d.value.forEach(S=>{S.disabled||C.delete(S.value)}),C}),p=A(()=>c.value.every(C=>C.disabled)),v=A(()=>{if(!c.value.length)return!1;const C=u.value;return c.value.every(S=>S.disabled||C.has(S.value))}),b=A(()=>d.value.some(C=>!C.disabled));function y(C){s.value=C??""}function x(C){a.value=C??""}return{uncontrolledValueRef:e,mergedValueRef:n,targetValueSetRef:o,valueSetForCheckAllRef:f,valueSetForUncheckAllRef:m,valueSetForClearRef:h,filteredTgtOptionsRef:d,filteredSrcOptionsRef:c,targetOptionsRef:i,canNotSelectAnythingRef:p,canBeClearedRef:b,allCheckedRef:v,srcPatternRef:s,tgtPatternRef:a,mergedSrcFilterableRef:l,handleSrcFilterUpdateValue:y,handleTgtFilterUpdateValue:x}}const T2=Object.assign(Object.assign({},ke.props),{value:Array,defaultValue:{type:Array,default:null},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:void 0},virtualScroll:Boolean,sourceTitle:[String,Function],selectAllText:String,clearText:String,targetTitle:[String,Function],filterable:{type:Boolean,default:void 0},sourceFilterable:Boolean,targetFilterable:Boolean,showSelected:{type:Boolean,default:!0},sourceFilterPlaceholder:String,targetFilterPlaceholder:String,filter:{type:Function,default:(t,e)=>t?~`${e.label}`.toLowerCase().indexOf(`${t}`.toLowerCase()):!0},size:String,renderSourceLabel:Function,renderTargetLabel:Function,renderSourceList:Function,renderTargetList:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),FZ=ce({name:"Transfer",props:T2,setup(t){const{mergedClsPrefixRef:e}=Ge(t),n=ke("Transfer","-transfer",OZ,jq,t,e),r=jn(t),{mergedSizeRef:o,mergedDisabledRef:i}=r,s=A(()=>{const{value:N}=o,{self:{[Ae("itemHeight",N)]:H}}=n.value;return on(H)}),{uncontrolledValueRef:a,mergedValueRef:l,targetValueSetRef:c,valueSetForCheckAllRef:d,valueSetForUncheckAllRef:u,valueSetForClearRef:f,filteredTgtOptionsRef:m,filteredSrcOptionsRef:h,targetOptionsRef:p,canNotSelectAnythingRef:v,canBeClearedRef:b,allCheckedRef:y,srcPatternRef:x,tgtPatternRef:C,mergedSrcFilterableRef:S,handleSrcFilterUpdateValue:T,handleTgtFilterUpdateValue:w}=$Z(t);function E(N){const{onUpdateValue:H,"onUpdate:value":G,onChange:W}=t,{nTriggerFormInput:J,nTriggerFormChange:ne}=r;H&&we(H,N),G&&we(G,N),W&&we(W,N),a.value=N,J(),ne()}function R(){E([...d.value])}function P(){E([...u.value])}function _(){E([...f.value])}function I(N,H){E(N?(l.value||[]).concat(H):(l.value||[]).filter(G=>G!==H))}function L(N){E(N)}return ft(Kd,{targetValueSetRef:c,mergedClsPrefixRef:e,disabledRef:i,mergedThemeRef:n,targetOptionsRef:p,canNotSelectAnythingRef:v,canBeClearedRef:b,allCheckedRef:y,srcOptionsLengthRef:A(()=>t.options.length),handleItemCheck:I,renderSourceLabelRef:Se(t,"renderSourceLabel"),renderTargetLabelRef:Se(t,"renderTargetLabel"),showSelectedRef:Se(t,"showSelected")}),{mergedClsPrefix:e,mergedDisabled:i,itemSize:s,isMounted:br(),mergedTheme:n,filteredSrcOpts:h,filteredTgtOpts:m,srcPattern:x,tgtPattern:C,mergedSize:o,mergedSrcFilterable:S,handleSrcFilterUpdateValue:T,handleTgtFilterUpdateValue:w,handleSourceCheckAll:R,handleSourceUncheckAll:P,handleTargetClearAll:_,handleItemCheck:I,handleChecked:L,cssVars:A(()=>{const{value:N}=o,{common:{cubicBezierEaseInOut:H},self:{borderRadius:G,borderColor:W,listColor:J,titleTextColor:ne,titleTextColorDisabled:D,extraTextColor:B,itemTextColor:j,itemColorPending:$,itemTextColorDisabled:V,titleFontWeight:X,closeColorHover:Z,closeColorPressed:q,closeIconColor:ue,closeIconColorHover:K,closeIconColorPressed:he,closeIconSize:Ie,closeSize:Q,dividerColor:Y,extraTextColorDisabled:re,[Ae("extraFontSize",N)]:be,[Ae("fontSize",N)]:Ce,[Ae("titleFontSize",N)]:le,[Ae("itemHeight",N)]:de,[Ae("headerHeight",N)]:fe}}=n.value;return{"--n-bezier":H,"--n-border-color":W,"--n-border-radius":G,"--n-extra-font-size":be,"--n-font-size":Ce,"--n-header-font-size":le,"--n-header-extra-text-color":B,"--n-header-extra-text-color-disabled":re,"--n-header-font-weight":X,"--n-header-text-color":ne,"--n-header-text-color-disabled":D,"--n-item-color-pending":$,"--n-item-height":de,"--n-item-text-color":j,"--n-item-text-color-disabled":V,"--n-list-color":J,"--n-header-height":fe,"--n-close-size":Q,"--n-close-icon-size":Ie,"--n-close-color-hover":Z,"--n-close-color-pressed":q,"--n-close-icon-color":ue,"--n-close-icon-color-hover":K,"--n-close-icon-color-pressed":he,"--n-divider-color":Y}})}},render(){const{mergedClsPrefix:t,renderSourceList:e,renderTargetList:n,mergedTheme:r,mergedSrcFilterable:o,targetFilterable:i}=this;return g("div",{class:[`${t}-transfer`,this.mergedDisabled&&`${t}-transfer--disabled`],style:this.cssVars},g("div",{class:`${t}-transfer-list ${t}-transfer-list--source`},g(iS,{source:!0,selectAllText:this.selectAllText,clearText:this.clearText,title:this.sourceTitle,onCheckedAll:this.handleSourceCheckAll,onClearAll:this.handleSourceUncheckAll,size:this.mergedSize}),g("div",{class:`${t}-transfer-list-body`},o?g(oS,{onUpdateValue:this.handleSrcFilterUpdateValue,value:this.srcPattern,disabled:this.mergedDisabled,placeholder:this.sourceFilterPlaceholder}):null,g("div",{class:`${t}-transfer-list-flex-container`},e?g(Sn,{theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar},{default:()=>e({onCheck:this.handleChecked,checkedOptions:this.filteredTgtOpts,pattern:this.srcPattern})}):g(aS,{source:!0,options:this.filteredSrcOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,itemSize:this.itemSize}))),g("div",{class:`${t}-transfer-list__border`})),g("div",{class:`${t}-transfer-list ${t}-transfer-list--target`},g(iS,{onClearAll:this.handleTargetClearAll,size:this.mergedSize,title:this.targetTitle}),g("div",{class:`${t}-transfer-list-body`},i?g(oS,{onUpdateValue:this.handleTgtFilterUpdateValue,value:this.tgtPattern,disabled:this.mergedDisabled,placeholder:this.sourceFilterPlaceholder}):null,g("div",{class:`${t}-transfer-list-flex-container`},n?g(Sn,{theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar},{default:()=>n({onCheck:this.handleChecked,checkedOptions:this.filteredTgtOpts,pattern:this.tgtPattern})}):g(aS,{options:this.filteredTgtOpts,disabled:this.mergedDisabled,virtualScroll:this.virtualScroll,itemSize:this.itemSize}))),g("div",{class:`${t}-transfer-list__border`})))}}),ab="n-tree-select";function lS({position:t,offsetLevel:e,indent:n,el:r}){const o={position:"absolute",boxSizing:"border-box",right:0};if(t==="inside")o.left=0,o.top=0,o.bottom=0,o.borderRadius="inherit",o.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const i=t==="before"?"top":"bottom";o[i]=0,o.left=`${r.offsetLeft+6-e*n}px`,o.height="2px",o.backgroundColor="var(--n-drop-mark-color)",o.transformOrigin=i,o.borderRadius="1px",o.transform=t==="before"?"translateY(-4px)":"translateY(4px)"}return g("div",{style:o})}function MZ({dropPosition:t,node:e}){return e.isLeaf===!1||e.children?!0:t!=="inside"}const Gd="n-tree";function BZ({props:t,fNodesRef:e,mergedExpandedKeysRef:n,mergedSelectedKeysRef:r,mergedCheckedKeysRef:o,handleCheck:i,handleSelect:s,handleSwitcherClick:a}){const{value:l}=r,c=Ve(ab,null),d=c?c.pendingNodeKeyRef:z(l.length?l[l.length-1]:null);function u(f){var m;if(!t.keyboard)return{enterBehavior:null};const{value:h}=d;let p=null;if(h===null){if((f.key==="ArrowDown"||f.key==="ArrowUp")&&f.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(f.key)&&h===null){const{value:v}=e;let b=0;for(;b<v.length;){if(!v[b].disabled){d.value=v[b].key;break}b+=1}}}else{const{value:v}=e;let b=v.findIndex(y=>y.key===h);if(!~b)return{enterBehavior:null};if(f.key==="Enter"){const y=v[b];switch(p=((m=t.overrideDefaultNodeClickBehavior)===null||m===void 0?void 0:m.call(t,{option:y.rawNode}))||null,p){case"toggleCheck":i(y,!o.value.includes(y.key));break;case"toggleSelect":s(y);break;case"toggleExpand":a(y);break;case"none":break;case"default":default:p="default",s(y)}}else if(f.key==="ArrowDown")for(f.preventDefault(),b+=1;b<v.length;){if(!v[b].disabled){d.value=v[b].key;break}b+=1}else if(f.key==="ArrowUp")for(f.preventDefault(),b-=1;b>=0;){if(!v[b].disabled){d.value=v[b].key;break}b-=1}else if(f.key==="ArrowLeft"){const y=v[b];if(y.isLeaf||!n.value.includes(h)){const x=y.getParent();x&&(d.value=x.key)}else a(y)}else if(f.key==="ArrowRight"){const y=v[b];if(y.isLeaf)return{enterBehavior:null};if(!n.value.includes(h))a(y);else for(b+=1;b<v.length;){if(!v[b].disabled){d.value=v[b].key;break}b+=1}}}return{enterBehavior:p}}return{pendingNodeKeyRef:d,handleKeydown:u}}const zZ=ce({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(t){const e=Ve(Gd);function n(o){const{onCheck:i}=t;i&&i(o)}function r(o){n(o)}return{handleUpdateValue:r,mergedTheme:e.mergedThemeRef}},render(){const{clsPrefix:t,mergedTheme:e,checked:n,indeterminate:r,disabled:o,focusable:i,indent:s,handleUpdateValue:a}=this;return g("span",{class:[`${t}-tree-node-checkbox`,this.right&&`${t}-tree-node-checkbox--right`],style:{width:`${s}px`},"data-checkbox":!0},g(os,{focusable:i,disabled:o,theme:e.peers.Checkbox,themeOverrides:e.peerOverrides.Checkbox,checked:n,indeterminate:r,onUpdateChecked:a}))}}),NZ=ce({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(t){const{renderLabelRef:e,renderPrefixRef:n,renderSuffixRef:r,labelFieldRef:o}=Ve(Gd),i=z(null);function s(l){const{onClick:c}=t;c&&c(l)}function a(l){s(l)}return{selfRef:i,renderLabel:e,renderPrefix:n,renderSuffix:r,labelField:o,handleClick:a}},render(){const{clsPrefix:t,labelField:e,nodeProps:n,checked:r=!1,selected:o=!1,renderLabel:i,renderPrefix:s,renderSuffix:a,handleClick:l,onDragstart:c,tmNode:{rawNode:d,rawNode:{prefix:u,suffix:f,[e]:m}}}=this;return g("span",Object.assign({},n,{ref:"selfRef",class:[`${t}-tree-node-content`,n==null?void 0:n.class],onClick:l,draggable:c===void 0?void 0:!0,onDragstart:c}),s||u?g("div",{class:`${t}-tree-node-content__prefix`},s?s({option:d,selected:o,checked:r}):dn(u)):null,g("div",{class:`${t}-tree-node-content__text`},i?i({option:d,selected:o,checked:r}):dn(m)),a||f?g("div",{class:`${t}-tree-node-content__suffix`},a?a({option:d,selected:o,checked:r}):dn(f)):null)}}),UZ=ce({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function,tmNode:{type:Object,required:!0}},setup(t){const{renderSwitcherIconRef:e}=Ve(Gd,null);return()=>{const{clsPrefix:n,expanded:r,hide:o,indent:i,onClick:s}=t;return g("span",{"data-switcher":!0,class:[`${n}-tree-node-switcher`,r&&`${n}-tree-node-switcher--expanded`,o&&`${n}-tree-node-switcher--hide`],style:{width:`${i}px`},onClick:s},g("div",{class:`${n}-tree-node-switcher__icon`},g(Pi,null,{default:()=>{if(t.loading)return g(Qo,{clsPrefix:n,key:"loading",radius:85,strokeWidth:20});const{value:a}=e;return a?a({expanded:t.expanded,selected:t.selected,option:t.tmNode.rawNode}):g(yt,{clsPrefix:n,key:"switcher"},{default:()=>g(A8,null)})}})))}}});function E2(t){return A(()=>t.leafOnly?"child":t.checkStrategy)}function gs(t,e){return!!t.rawNode[e]}function k2(t,e,n,r){t==null||t.forEach(o=>{n(o),k2(o[e],e,n,r),r(o)})}function HZ(t,e,n,r,o){const i=new Set,s=new Set,a=[];return k2(t,r,l=>{if(a.push(l),o(e,l)){s.add(l[n]);for(let c=a.length-2;c>=0;--c)if(!i.has(a[c][n]))i.add(a[c][n]);else return}},()=>{a.pop()}),{expandedKeys:Array.from(i),highlightKeySet:s}}if(jr&&Image){const t=new Image;t.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function VZ(t,e,n,r,o){const i=new Set,s=new Set,a=new Set,l=[],c=[],d=[];function u(m){m.forEach(h=>{if(d.push(h),e(n,h)){i.add(h[r]),a.add(h[r]);for(let v=d.length-2;v>=0;--v){const b=d[v][r];if(!s.has(b))s.add(b),i.has(b)&&i.delete(b);else break}}const p=h[o];p&&u(p),d.pop()})}u(t);function f(m,h){m.forEach(p=>{const v=p[r],b=i.has(v),y=s.has(v);if(!b&&!y)return;const x=p[o];if(x)if(b)h.push(p);else{l.push(v);const C=Object.assign(Object.assign({},p),{[o]:[]});h.push(C),f(x,C[o])}else h.push(p)})}return f(t,c),{filteredTree:c,highlightKeySet:a,expandedKeys:l}}function jZ(t){return An(t,"checkbox")?"checkbox":An(t,"switcher")?"switcher":"node"}const P2=ce({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(t){const e=Ve(Gd),{droppingNodeParentRef:n,droppingMouseNodeRef:r,draggingNodeRef:o,droppingPositionRef:i,droppingOffsetLevelRef:s,nodePropsRef:a,indentRef:l,blockLineRef:c,checkboxPlacementRef:d,checkOnClickRef:u,disabledFieldRef:f,showLineRef:m,renderSwitcherIconRef:h,overrideDefaultNodeClickBehaviorRef:p}=e,v=pt(()=>!!t.tmNode.rawNode.checkboxDisabled),b=pt(()=>gs(t.tmNode,f.value)),y=pt(()=>e.disabledRef.value||b.value),x=A(()=>{const{value:$}=a;if($)return $({option:t.tmNode.rawNode})}),C=z(null),S={value:null};Gt(()=>{S.value=C.value.$el});function T(){const $=()=>{const{tmNode:V}=t;if(!V.isLeaf&&!V.shallowLoaded){if(!e.loadingKeysRef.value.has(V.key))e.loadingKeysRef.value.add(V.key);else return;const{onLoadRef:{value:X}}=e;X&&X(V.rawNode).then(Z=>{Z!==!1&&e.handleSwitcherClick(V)}).finally(()=>{e.loadingKeysRef.value.delete(V.key)})}else e.handleSwitcherClick(V)};h.value?setTimeout($,0):$()}const w=pt(()=>!b.value&&e.selectableRef.value&&(e.internalTreeSelect?e.mergedCheckStrategyRef.value!=="child"||e.multipleRef.value&&e.cascadeRef.value||t.tmNode.isLeaf:!0)),E=pt(()=>e.checkableRef.value&&(e.cascadeRef.value||e.mergedCheckStrategyRef.value!=="child"||t.tmNode.isLeaf)),R=pt(()=>e.displayedCheckedKeysRef.value.includes(t.tmNode.key)),P=pt(()=>{const{value:$}=E;if(!$)return!1;const{value:V}=u,{tmNode:X}=t;return typeof V=="boolean"?!X.disabled&&V:V(t.tmNode.rawNode)});function _($){const{value:V}=e.expandOnClickRef,{value:X}=w,{value:Z}=P;if(!X&&!V&&!Z||An($,"checkbox")||An($,"switcher"))return;const{tmNode:q}=t;X&&e.handleSelect(q),V&&!q.isLeaf&&T(),Z&&H(!R.value)}function I($){var V,X;if(!(An($,"checkbox")||An($,"switcher"))){if(!y.value){const Z=p.value;let q=!1;if(Z)switch(Z({option:t.tmNode.rawNode})){case"toggleCheck":q=!0,H(!R.value);break;case"toggleSelect":q=!0,e.handleSelect(t.tmNode);break;case"toggleExpand":q=!0,T(),q=!0;break;case"none":q=!0,q=!0;return}q||_($)}(X=(V=x.value)===null||V===void 0?void 0:V.onClick)===null||X===void 0||X.call(V,$)}}function L($){c.value||I($)}function N($){c.value&&I($)}function H($){e.handleCheck(t.tmNode,$)}function G($){e.handleDragStart({event:$,node:t.tmNode})}function W($){$.currentTarget===$.target&&e.handleDragEnter({event:$,node:t.tmNode})}function J($){$.preventDefault(),e.handleDragOver({event:$,node:t.tmNode})}function ne($){e.handleDragEnd({event:$,node:t.tmNode})}function D($){$.currentTarget===$.target&&e.handleDragLeave({event:$,node:t.tmNode})}function B($){$.preventDefault(),i.value!==null&&e.handleDrop({event:$,node:t.tmNode,dropPosition:i.value})}const j=A(()=>{const{clsPrefix:$}=t,{value:V}=l;if(m.value){const X=[];let Z=t.tmNode.parent;for(;Z;)Z.isLastChild?X.push(g("div",{class:`${$}-tree-node-indent`},g("div",{style:{width:`${V}px`}}))):X.push(g("div",{class:[`${$}-tree-node-indent`,`${$}-tree-node-indent--show-line`]},g("div",{style:{width:`${V}px`}}))),Z=Z.parent;return X.reverse()}else return Ds(t.tmNode.level,g("div",{class:`${t.clsPrefix}-tree-node-indent`},g("div",{style:{width:`${V}px`}})))});return{showDropMark:pt(()=>{const{value:$}=o;if(!$)return;const{value:V}=i;if(!V)return;const{value:X}=r;if(!X)return;const{tmNode:Z}=t;return Z.key===X.key}),showDropMarkAsParent:pt(()=>{const{value:$}=n;if(!$)return!1;const{tmNode:V}=t,{value:X}=i;return X==="before"||X==="after"?$.key===V.key:!1}),pending:pt(()=>e.pendingNodeKeyRef.value===t.tmNode.key),loading:pt(()=>e.loadingKeysRef.value.has(t.tmNode.key)),highlight:pt(()=>{var $;return($=e.highlightKeySetRef.value)===null||$===void 0?void 0:$.has(t.tmNode.key)}),checked:R,indeterminate:pt(()=>e.displayedIndeterminateKeysRef.value.includes(t.tmNode.key)),selected:pt(()=>e.mergedSelectedKeysRef.value.includes(t.tmNode.key)),expanded:pt(()=>e.mergedExpandedKeysRef.value.includes(t.tmNode.key)),disabled:y,checkable:E,mergedCheckOnClick:P,checkboxDisabled:v,selectable:w,expandOnClick:e.expandOnClickRef,internalScrollable:e.internalScrollableRef,draggable:e.draggableRef,blockLine:c,nodeProps:x,checkboxFocusable:e.internalCheckboxFocusableRef,droppingPosition:i,droppingOffsetLevel:s,indent:l,checkboxPlacement:d,showLine:m,contentInstRef:C,contentElRef:S,indentNodes:j,handleCheck:H,handleDrop:B,handleDragStart:G,handleDragEnter:W,handleDragOver:J,handleDragEnd:ne,handleDragLeave:D,handleLineClick:N,handleContentClick:L,handleSwitcherClick:T}},render(){const{tmNode:t,clsPrefix:e,checkable:n,expandOnClick:r,selectable:o,selected:i,checked:s,highlight:a,draggable:l,blockLine:c,indent:d,indentNodes:u,disabled:f,pending:m,internalScrollable:h,nodeProps:p,checkboxPlacement:v}=this,b=l&&!f?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,y=h?yT(t.key):void 0,x=v==="right",C=n?g(zZ,{indent:d,right:x,focusable:this.checkboxFocusable,disabled:f||this.checkboxDisabled,clsPrefix:e,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return g("div",Object.assign({class:`${e}-tree-node-wrapper`},b),g("div",Object.assign({},c?p:void 0,{class:[`${e}-tree-node`,{[`${e}-tree-node--selected`]:i,[`${e}-tree-node--checkable`]:n,[`${e}-tree-node--highlight`]:a,[`${e}-tree-node--pending`]:m,[`${e}-tree-node--disabled`]:f,[`${e}-tree-node--selectable`]:o,[`${e}-tree-node--clickable`]:o||r||this.mergedCheckOnClick},p==null?void 0:p.class],"data-key":y,draggable:l&&c,onClick:this.handleLineClick,onDragstart:l&&c&&!f?this.handleDragStart:void 0}),u,t.isLeaf&&this.showLine?g("div",{class:[`${e}-tree-node-indent`,`${e}-tree-node-indent--show-line`,t.isLeaf&&`${e}-tree-node-indent--is-leaf`,t.isLastChild&&`${e}-tree-node-indent--last-child`]},g("div",{style:{width:`${d}px`}})):g(UZ,{clsPrefix:e,expanded:this.expanded,selected:i,loading:this.loading,hide:t.isLeaf,tmNode:this.tmNode,indent:d,onClick:this.handleSwitcherClick}),x?null:C,g(NZ,{ref:"contentInstRef",clsPrefix:e,checked:s,selected:i,onClick:this.handleContentClick,nodeProps:c?void 0:p,onDragstart:l&&!c&&!f?this.handleDragStart:void 0,tmNode:t}),l?this.showDropMark?lS({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:d}):this.showDropMarkAsParent?lS({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:d}):null:null,x?C:null))}}),WZ=ce({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:t}=this;return g(Ai,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>g("div",{class:[`${t}-tree-motion-wrapper`,`${t}-tree-motion-wrapper--${this.mode}`],style:{height:hn(this.height)}},this.nodes.map(e=>g(P2,{clsPrefix:t,tmNode:e})))})}}),rm=wr(),KZ=k("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[O("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),O(">",[k("tree-node",[O("&:first-child","margin-top: 0;")])]),k("tree-motion-wrapper",[M("expand",[qi({duration:"0.2s"})]),M("collapse",[qi({duration:"0.2s",reverse:!0})])]),k("tree-node-wrapper",`
 box-sizing: border-box;
 padding: var(--n-node-wrapper-padding);
 `),k("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[M("highlight",[k("tree-node-content",[F("text","border-bottom-color: var(--n-node-text-color-disabled);")])]),M("disabled",[k("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),wt("disabled",[M("clickable",[k("tree-node-content",`
 cursor: pointer;
 `)])])]),M("block-node",[k("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),wt("block-line",[k("tree-node",[wt("disabled",[k("tree-node-content",[O("&:hover","background: var(--n-node-color-hover);")]),M("selectable",[k("tree-node-content",[O("&:active","background: var(--n-node-color-pressed);")])]),M("pending",[k("tree-node-content",`
 background: var(--n-node-color-hover);
 `)]),M("selected",[k("tree-node-content","background: var(--n-node-color-active);")])]),M("selected",[k("tree-node-content","background: var(--n-node-color-active);")])])]),M("block-line",[k("tree-node",[wt("disabled",[O("&:hover","background: var(--n-node-color-hover);"),M("pending",`
 background: var(--n-node-color-hover);
 `),M("selectable",[wt("selected",[O("&:active","background: var(--n-node-color-pressed);")])]),M("selected","background: var(--n-node-color-active);")]),M("selected","background: var(--n-node-color-active);"),M("disabled",`
 cursor: not-allowed;
 `)])]),k("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 `,[M("show-line","position: relative",[O("&::before",`
 position: absolute;
 left: 50%;
 border-left: 1px solid var(--n-line-color);
 transition: border-color .3s var(--n-bezier);
 transform: translate(-50%);
 content: "";
 top: var(--n-line-offset-top);
 bottom: var(--n-line-offset-bottom);
 `),M("last-child",[O("&::before",`
 bottom: 50%;
 `)]),M("is-leaf",[O("&::after",`
 position: absolute;
 content: "";
 left: calc(50% + 0.5px);
 right: 0;
 bottom: 50%;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-line-color);
 `)])]),wt("show-line","height: 0;")]),k("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: var(--n-node-content-height);
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[F("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[k("icon",[rm]),k("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[rm]),k("base-icon",[rm])]),M("hide","visibility: hidden;"),M("expanded","transform: rotate(90deg);")]),k("tree-node-checkbox",`
 display: inline-flex;
 height: var(--n-node-content-height);
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 `),k("tree-node-content",`
 user-select: none;
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: var(--n-node-content-height);
 box-sizing: border-box;
 line-height: var(--n-line-height);
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[O("&:last-child","margin-bottom: 0;"),F("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),F("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),F("suffix",`
 display: inline-flex;
 `)]),F("empty","margin: auto;")]);var GZ=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,l)}c((r=r.apply(t,[])).next())})};function jp(t,e,n,r){return{getIsGroup(){return!1},getKey(i){return i[t]},getChildren:r||(i=>i[e]),getDisabled(i){return!!(i[n]||i.checkboxDisabled)}}}const A2={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indent:{type:Number,default:24},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array],overrideDefaultNodeClickBehavior:Function},I2=Object.assign(Object.assign(Object.assign(Object.assign({},ke.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,showLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},scrollbarProps:Object,allowDrop:{type:Function,default:MZ},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),A2),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),_2=ce({name:"Tree",props:I2,slots:Object,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n,mergedRtlRef:r}=Ge(t),o=rn("Tree",r,e),i=ke("Tree","-tree",KZ,QI,t,e),s=z(null),a=z(null),l=z(null);function c(){var Te;return(Te=l.value)===null||Te===void 0?void 0:Te.listElRef}function d(){var Te;return(Te=l.value)===null||Te===void 0?void 0:Te.itemsElRef}const u=A(()=>{const{filter:Te}=t;if(Te)return Te;const{labelField:ze}=t;return(Xe,it)=>{if(!Xe.length)return!0;const ut=it[ze];return typeof ut=="string"?ut.toLowerCase().includes(Xe.toLowerCase()):!1}}),f=A(()=>{const{pattern:Te}=t;return Te?!Te.length||!u.value?{filteredTree:t.data,highlightKeySet:null,expandedKeys:void 0}:VZ(t.data,u.value,Te,t.keyField,t.childrenField):{filteredTree:t.data,highlightKeySet:null,expandedKeys:void 0}}),m=A(()=>Xr(t.showIrrelevantNodes?t.data:f.value.filteredTree,jp(t.keyField,t.childrenField,t.disabledField,t.getChildren))),h=Ve(ab,null),p=t.internalTreeSelect?h.dataTreeMate:A(()=>t.showIrrelevantNodes?m.value:Xr(t.data,jp(t.keyField,t.childrenField,t.disabledField,t.getChildren))),{watchProps:v}=t,b=z([]);v!=null&&v.includes("defaultCheckedKeys")?Xt(()=>{b.value=t.defaultCheckedKeys}):b.value=t.defaultCheckedKeys;const y=Se(t,"checkedKeys"),x=Ft(y,b),C=A(()=>p.value.getCheckedKeys(x.value,{cascade:t.cascade,allowNotLoaded:t.allowCheckingNotLoaded})),S=E2(t),T=A(()=>C.value.checkedKeys),w=A(()=>{const{indeterminateKeys:Te}=t;return Te!==void 0?Te:C.value.indeterminateKeys}),E=z([]);v!=null&&v.includes("defaultSelectedKeys")?Xt(()=>{E.value=t.defaultSelectedKeys}):E.value=t.defaultSelectedKeys;const R=Se(t,"selectedKeys"),P=Ft(R,E),_=z([]),I=Te=>{_.value=t.defaultExpandAll?p.value.getNonLeafKeys():Te===void 0?t.defaultExpandedKeys:Te};v!=null&&v.includes("defaultExpandedKeys")?Xt(()=>{I(void 0)}):Xt(()=>{I(t.defaultExpandedKeys)});const L=Se(t,"expandedKeys"),N=Ft(L,_),H=A(()=>m.value.getFlattenedNodes(N.value)),{pendingNodeKeyRef:G,handleKeydown:W}=BZ({props:t,mergedCheckedKeysRef:x,mergedSelectedKeysRef:P,fNodesRef:H,mergedExpandedKeysRef:N,handleCheck:Pe,handleSelect:pe,handleSwitcherClick:Ue});let J=null,ne=null;const D=z(new Set),B=A(()=>t.internalHighlightKeySet||f.value.highlightKeySet),j=Ft(B,D),$=z(new Set),V=A(()=>N.value.filter(Te=>!$.value.has(Te)));let X=0;const Z=z(null),q=z(null),ue=z(null),K=z(null),he=z(0),Ie=A(()=>{const{value:Te}=q;return Te?Te.parent:null});let Q=!1;gt(Se(t,"data"),()=>{Q=!0,$t(()=>{Q=!1}),$.value.clear(),G.value=null,Qe()},{deep:!1});let Y=!1;const re=()=>{Y=!0,$t(()=>{Y=!1})};let be;gt(Se(t,"pattern"),(Te,ze)=>{if(t.showIrrelevantNodes)if(be=void 0,Te){const{expandedKeys:Xe,highlightKeySet:it}=HZ(t.data,t.pattern,t.keyField,t.childrenField,u.value);D.value=it,re(),ie(Xe,se(Xe),{node:null,action:"filter"})}else D.value=new Set;else if(!Te.length)be!==void 0&&(re(),ie(be,se(be),{node:null,action:"filter"}));else{ze.length||(be=N.value);const{expandedKeys:Xe}=f.value;Xe!==void 0&&(re(),ie(Xe,se(Xe),{node:null,action:"filter"}))}});function Ce(Te){return GZ(this,void 0,void 0,function*(){const{onLoad:ze}=t;if(!ze){yield Promise.resolve();return}const{value:Xe}=$;if(!Xe.has(Te.key)){Xe.add(Te.key);try{(yield ze(Te.rawNode))===!1&&ee()}catch(it){console.error(it),ee()}Xe.delete(Te.key)}})}Xt(()=>{var Te;const{value:ze}=m;if(!ze)return;const{getNode:Xe}=ze;(Te=N.value)===null||Te===void 0||Te.forEach(it=>{const ut=Xe(it);ut&&!ut.shallowLoaded&&Ce(ut)})});const le=z(!1),de=z([]);gt(V,(Te,ze)=>{if(!t.animated||Y){$t(ae);return}if(Q)return;const Xe=on(i.value.self.nodeHeight),it=new Set(ze);let ut=null,Nt=null;for(const tn of Te)if(!it.has(tn)){if(ut!==null)return;ut=tn}const Rn=new Set(Te);for(const tn of ze)if(!Rn.has(tn)){if(Nt!==null)return;Nt=tn}if(ut===null&&Nt===null)return;const{virtualScroll:En}=t,yr=(En?l.value.listElRef:s.value).offsetHeight,Ir=Math.ceil(yr/Xe)+1;let Wn;if(ut!==null&&(Wn=ze),Nt!==null&&(Wn===void 0?Wn=Te:Wn=Wn.filter(tn=>tn!==Nt)),le.value=!0,de.value=m.value.getFlattenedNodes(Wn),ut!==null){const tn=de.value.findIndex(_e=>_e.key===ut);if(~tn){const _e=de.value[tn].children;if(_e){const et=bp(_e,Te);de.value.splice(tn+1,0,{__motion:!0,mode:"expand",height:En?et.length*Xe:void 0,nodes:En?et.slice(0,Ir):et})}}}if(Nt!==null){const tn=de.value.findIndex(_e=>_e.key===Nt);if(~tn){const _e=de.value[tn].children;if(!_e)return;le.value=!0;const et=bp(_e,Te);de.value.splice(tn+1,0,{__motion:!0,mode:"collapse",height:En?et.length*Xe:void 0,nodes:En?et.slice(0,Ir):et})}}});const fe=A(()=>TE(H.value)),te=A(()=>le.value?de.value:H.value);function ae(){const{value:Te}=a;Te&&Te.sync()}function Ee(){le.value=!1,t.virtualScroll&&$t(ae)}function se(Te){const{getNode:ze}=p.value;return Te.map(Xe=>{var it;return((it=ze(Xe))===null||it===void 0?void 0:it.rawNode)||null})}function ie(Te,ze,Xe){const{"onUpdate:expandedKeys":it,onUpdateExpandedKeys:ut}=t;_.value=Te,it&&we(it,Te,ze,Xe),ut&&we(ut,Te,ze,Xe)}function ge(Te,ze,Xe){const{"onUpdate:checkedKeys":it,onUpdateCheckedKeys:ut}=t;b.value=Te,ut&&we(ut,Te,ze,Xe),it&&we(it,Te,ze,Xe)}function Le(Te,ze){const{"onUpdate:indeterminateKeys":Xe,onUpdateIndeterminateKeys:it}=t;Xe&&we(Xe,Te,ze),it&&we(it,Te,ze)}function xe(Te,ze,Xe){const{"onUpdate:selectedKeys":it,onUpdateSelectedKeys:ut}=t;E.value=Te,ut&&we(ut,Te,ze,Xe),it&&we(it,Te,ze,Xe)}function We(Te){const{onDragenter:ze}=t;ze&&we(ze,Te)}function at(Te){const{onDragleave:ze}=t;ze&&we(ze,Te)}function bt(Te){const{onDragend:ze}=t;ze&&we(ze,Te)}function dt(Te){const{onDragstart:ze}=t;ze&&we(ze,Te)}function Ct(Te){const{onDragover:ze}=t;ze&&we(ze,Te)}function Tt(Te){const{onDrop:ze}=t;ze&&we(ze,Te)}function Qe(){rt(),oe()}function rt(){Z.value=null}function oe(){he.value=0,q.value=null,ue.value=null,K.value=null,ee()}function ee(){J&&(window.clearTimeout(J),J=null),ne=null}function Pe(Te,ze){if(t.disabled||gs(Te,t.disabledField))return;if(t.internalUnifySelectCheck&&!t.multiple){pe(Te);return}const Xe=ze?"check":"uncheck",{checkedKeys:it,indeterminateKeys:ut}=p.value[Xe](Te.key,T.value,{cascade:t.cascade,checkStrategy:S.value,allowNotLoaded:t.allowCheckingNotLoaded});ge(it,se(it),{node:Te.rawNode,action:Xe}),Le(ut,se(ut))}function Ne(Te){if(t.disabled)return;const{key:ze}=Te,{value:Xe}=N,it=Xe.findIndex(ut=>ut===ze);if(~it){const ut=Array.from(Xe);ut.splice(it,1),ie(ut,se(ut),{node:Te.rawNode,action:"collapse"})}else{const ut=m.value.getNode(ze);if(!ut||ut.isLeaf)return;let Nt;if(t.accordion){const Rn=new Set(Te.siblings.map(({key:En})=>En));Nt=Xe.filter(En=>!Rn.has(En)),Nt.push(ze)}else Nt=Xe.concat(ze);ie(Nt,se(Nt),{node:Te.rawNode,action:"expand"})}}function Ue(Te){t.disabled||le.value||Ne(Te)}function pe(Te){if(!(t.disabled||!t.selectable)){if(G.value=Te.key,t.internalUnifySelectCheck){const{value:{checkedKeys:ze,indeterminateKeys:Xe}}=C;t.multiple?Pe(Te,!(ze.includes(Te.key)||Xe.includes(Te.key))):ge([Te.key],se([Te.key]),{node:Te.rawNode,action:"check"})}if(t.multiple){const ze=Array.from(P.value),Xe=ze.findIndex(it=>it===Te.key);~Xe?t.cancelable&&ze.splice(Xe,1):~Xe||ze.push(Te.key),xe(ze,se(ze),{node:Te.rawNode,action:~Xe?"unselect":"select"})}else P.value.includes(Te.key)?t.cancelable&&xe([],[],{node:Te.rawNode,action:"unselect"}):xe([Te.key],se([Te.key]),{node:Te.rawNode,action:"select"})}}function $e(Te){if(J&&(window.clearTimeout(J),J=null),Te.isLeaf)return;ne=Te.key;const ze=()=>{if(ne!==Te.key)return;const{value:Xe}=ue;if(Xe&&Xe.key===Te.key&&!N.value.includes(Te.key)){const it=N.value.concat(Te.key);ie(it,se(it),{node:Te.rawNode,action:"expand"})}J=null,ne=null};Te.shallowLoaded?J=window.setTimeout(()=>{ze()},1e3):J=window.setTimeout(()=>{Ce(Te).then(()=>{ze()})},1e3)}function me({event:Te,node:ze}){!t.draggable||t.disabled||gs(ze,t.disabledField)||(He({event:Te,node:ze},!1),We({event:Te,node:ze.rawNode}))}function Oe({event:Te,node:ze}){!t.draggable||t.disabled||gs(ze,t.disabledField)||at({event:Te,node:ze.rawNode})}function Ze(Te){Te.target===Te.currentTarget&&oe()}function tt({event:Te,node:ze}){Qe(),!(!t.draggable||t.disabled||gs(ze,t.disabledField))&&bt({event:Te,node:ze.rawNode})}function Re({event:Te,node:ze}){!t.draggable||t.disabled||gs(ze,t.disabledField)||(X=Te.clientX,Z.value=ze,dt({event:Te,node:ze.rawNode}))}function He({event:Te,node:ze},Xe=!0){var it;if(!t.draggable||t.disabled||gs(ze,t.disabledField))return;const{value:ut}=Z;if(!ut)return;const{allowDrop:Nt,indent:Rn}=t;Xe&&Ct({event:Te,node:ze.rawNode});const En=Te.currentTarget,{height:yr,top:Ir}=En.getBoundingClientRect(),Wn=Te.clientY-Ir;let tn;Nt({node:ze.rawNode,dropPosition:"inside",phase:"drag"})?Wn<=8?tn="before":Wn>=yr-8?tn="after":tn="inside":Wn<=yr/2?tn="before":tn="after";const{value:et}=fe;let nt,jt;const Qn=et(ze.key);if(Qn===null){oe();return}let un=!1;tn==="inside"?(nt=ze,jt="inside"):tn==="before"?ze.isFirstChild?(nt=ze,jt="before"):(nt=H.value[Qn-1],jt="after"):(nt=ze,jt="after"),!nt.isLeaf&&N.value.includes(nt.key)&&(un=!0,jt==="after"&&(nt=H.value[Qn+1],nt?jt="before":(nt=ze,jt="inside")));const So=nt;if(ue.value=So,!un&&ut.isLastChild&&ut.key===nt.key&&(jt="after"),jt==="after"){let No=X-Te.clientX,lo=0;for(;No>=Rn/2&&nt.parent!==null&&nt.isLastChild&&lo<1;)No-=Rn,lo+=1,nt=nt.parent;he.value=lo}else he.value=0;if((ut.contains(nt)||jt==="inside"&&((it=ut.parent)===null||it===void 0?void 0:it.key)===nt.key)&&!(ut.key===So.key&&ut.key===nt.key)){oe();return}if(!Nt({node:nt.rawNode,dropPosition:jt,phase:"drag"})){oe();return}if(ut.key===nt.key)ee();else if(ne!==nt.key)if(jt==="inside"){if(t.expandOnDragenter){if($e(nt),!nt.shallowLoaded&&ne!==nt.key){Qe();return}}else if(!nt.shallowLoaded){Qe();return}}else ee();else jt!=="inside"&&ee();K.value=jt,q.value=nt}function ve({event:Te,node:ze,dropPosition:Xe}){if(!t.draggable||t.disabled||gs(ze,t.disabledField))return;const{value:it}=Z,{value:ut}=q,{value:Nt}=K;if(!(!it||!ut||!Nt)&&t.allowDrop({node:ut.rawNode,dropPosition:Nt,phase:"drag"})&&it.key!==ut.key){if(Nt==="before"){const Rn=it.getNext({includeDisabled:!0});if(Rn&&Rn.key===ut.key){oe();return}}if(Nt==="after"){const Rn=it.getPrev({includeDisabled:!0});if(Rn&&Rn.key===ut.key){oe();return}}Tt({event:Te,node:ut.rawNode,dragNode:it.rawNode,dropPosition:Xe}),Qe()}}function Be(){ae()}function Ke(){ae()}function ct(Te){var ze;if(t.virtualScroll||t.internalScrollable){const{value:Xe}=a;if(!((ze=Xe==null?void 0:Xe.containerRef)===null||ze===void 0)&&ze.contains(Te.relatedTarget))return;G.value=null}else{const{value:Xe}=s;if(Xe!=null&&Xe.contains(Te.relatedTarget))return;G.value=null}}gt(G,Te=>{var ze,Xe;if(Te!==null){if(t.virtualScroll)(ze=l.value)===null||ze===void 0||ze.scrollTo({key:Te});else if(t.internalScrollable){const{value:it}=a;if(it===null)return;const ut=(Xe=it.contentRef)===null||Xe===void 0?void 0:Xe.querySelector(`[data-key="${yT(Te)}"]`);if(!ut)return;it.scrollTo({el:ut})}}}),ft(Gd,{loadingKeysRef:$,highlightKeySetRef:j,displayedCheckedKeysRef:T,displayedIndeterminateKeysRef:w,mergedSelectedKeysRef:P,mergedExpandedKeysRef:N,mergedThemeRef:i,mergedCheckStrategyRef:S,nodePropsRef:Se(t,"nodeProps"),disabledRef:Se(t,"disabled"),checkableRef:Se(t,"checkable"),selectableRef:Se(t,"selectable"),expandOnClickRef:Se(t,"expandOnClick"),onLoadRef:Se(t,"onLoad"),draggableRef:Se(t,"draggable"),blockLineRef:Se(t,"blockLine"),indentRef:Se(t,"indent"),cascadeRef:Se(t,"cascade"),checkOnClickRef:Se(t,"checkOnClick"),checkboxPlacementRef:t.checkboxPlacement,droppingMouseNodeRef:ue,droppingNodeParentRef:Ie,draggingNodeRef:Z,droppingPositionRef:K,droppingOffsetLevelRef:he,fNodesRef:H,pendingNodeKeyRef:G,showLineRef:Se(t,"showLine"),disabledFieldRef:Se(t,"disabledField"),internalScrollableRef:Se(t,"internalScrollable"),internalCheckboxFocusableRef:Se(t,"internalCheckboxFocusable"),internalTreeSelect:t.internalTreeSelect,renderLabelRef:Se(t,"renderLabel"),renderPrefixRef:Se(t,"renderPrefix"),renderSuffixRef:Se(t,"renderSuffix"),renderSwitcherIconRef:Se(t,"renderSwitcherIcon"),labelFieldRef:Se(t,"labelField"),multipleRef:Se(t,"multiple"),overrideDefaultNodeClickBehaviorRef:Se(t,"overrideDefaultNodeClickBehavior"),handleSwitcherClick:Ue,handleDragEnd:tt,handleDragEnter:me,handleDragLeave:Oe,handleDragStart:Re,handleDrop:ve,handleDragOver:He,handleSelect:pe,handleCheck:Pe});function mt(Te,ze){var Xe,it;typeof Te=="number"?(Xe=l.value)===null||Xe===void 0||Xe.scrollTo(Te,ze||0):(it=l.value)===null||it===void 0||it.scrollTo(Te)}const ye={handleKeydown:W,scrollTo:mt,getCheckedData:()=>{if(!t.checkable)return{keys:[],options:[]};const{checkedKeys:Te}=C.value;return{keys:Te,options:se(Te)}},getIndeterminateData:()=>{if(!t.checkable)return{keys:[],options:[]};const{indeterminateKeys:Te}=C.value;return{keys:Te,options:se(Te)}}},Me=A(()=>{const{common:{cubicBezierEaseInOut:Te},self:{fontSize:ze,nodeBorderRadius:Xe,nodeColorHover:it,nodeColorPressed:ut,nodeColorActive:Nt,arrowColor:Rn,loadingColor:En,nodeTextColor:yr,nodeTextColorDisabled:Ir,dropMarkColor:Wn,nodeWrapperPadding:tn,nodeHeight:_e,lineHeight:et,lineColor:nt}}=i.value,jt=Un(tn,"top"),Qn=Un(tn,"bottom"),un=hn(on(_e)-on(jt)-on(Qn));return{"--n-arrow-color":Rn,"--n-loading-color":En,"--n-bezier":Te,"--n-font-size":ze,"--n-node-border-radius":Xe,"--n-node-color-active":Nt,"--n-node-color-hover":it,"--n-node-color-pressed":ut,"--n-node-text-color":yr,"--n-node-text-color-disabled":Ir,"--n-drop-mark-color":Wn,"--n-node-wrapper-padding":tn,"--n-line-offset-top":`-${jt}`,"--n-line-offset-bottom":`-${Qn}`,"--n-node-content-height":un,"--n-line-height":et,"--n-line-color":nt}}),Je=n?ot("tree",void 0,Me,t):void 0;return Object.assign(Object.assign({},ye),{mergedClsPrefix:e,mergedTheme:i,rtlEnabled:o,fNodes:te,aip:le,selfElRef:s,virtualListInstRef:l,scrollbarInstRef:a,handleFocusout:ct,handleDragLeaveTree:Ze,handleScroll:Be,getScrollContainer:c,getScrollContent:d,handleAfterEnter:Ee,handleResize:Ke,cssVars:n?void 0:Me,themeClass:Je==null?void 0:Je.themeClass,onRender:Je==null?void 0:Je.onRender})},render(){var t;const{fNodes:e,internalRenderEmpty:n}=this;if(!e.length&&n)return n();const{mergedClsPrefix:r,blockNode:o,blockLine:i,draggable:s,disabled:a,internalFocusable:l,checkable:c,handleKeydown:d,rtlEnabled:u,handleFocusout:f,scrollbarProps:m}=this,h=l&&!a,p=h?"0":void 0,v=[`${r}-tree`,u&&`${r}-tree--rtl`,c&&`${r}-tree--checkable`,(i||o)&&`${r}-tree--block-node`,i&&`${r}-tree--block-line`],b=x=>"__motion"in x?g(WZ,{height:x.height,nodes:x.nodes,clsPrefix:r,mode:x.mode,onAfterEnter:this.handleAfterEnter}):g(P2,{key:x.key,tmNode:x,clsPrefix:r});if(this.virtualScroll){const{mergedTheme:x,internalScrollablePadding:C}=this,S=Un(C||"0");return g($l,Object.assign({},m,{ref:"scrollbarInstRef",onDragleave:s?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:v,theme:x.peers.Scrollbar,themeOverrides:x.peerOverrides.Scrollbar,tabindex:p,onKeydown:h?d:void 0,onFocusout:h?f:void 0}),{default:()=>{var T;return(T=this.onRender)===null||T===void 0||T.call(this),e.length?g(qo,{ref:"virtualListInstRef",items:this.fNodes,itemSize:on(x.self.nodeHeight),ignoreItemResize:this.aip,paddingTop:S.top,paddingBottom:S.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:S.left,paddingRight:S.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:w})=>b(w)}):Et(this.$slots.empty,()=>[g(Gi,{class:`${r}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})])}})}const{internalScrollable:y}=this;return v.push(this.themeClass),(t=this.onRender)===null||t===void 0||t.call(this),y?g($l,Object.assign({},m,{class:v,tabindex:p,onKeydown:h?d:void 0,onFocusout:h?f:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}}),{default:()=>g("div",{onDragleave:s?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(b))}):g("div",{class:v,tabindex:p,ref:"selfElRef",style:this.cssVars,onKeydown:h?d:void 0,onFocusout:h?f:void 0,onDragleave:s?this.handleDragLeaveTree:void 0},e.length?e.map(b):Et(this.$slots.empty,()=>[g(Gi,{class:`${r}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),qZ=O([k("tree-select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),k("tree-select-menu",`
 position: relative;
 overflow: hidden;
 margin: 4px 0;
 transition: box-shadow .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-menu-border-radius);
 box-shadow: var(--n-menu-box-shadow);
 background-color: var(--n-menu-color);
 outline: none;
 `,[k("tree","max-height: var(--n-menu-height);"),F("empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),F("header",`
 padding: var(--n-header-padding);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-header-divider-color);
 color: var(--n-header-text-color);
 `),F("action",`
 padding: var(--n-action-padding);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),ar()])]);function cS(t,e){const{rawNode:n}=t;return Object.assign(Object.assign({},n),{label:n[e],value:t.key})}function dS(t,e,n,r){const{rawNode:o}=t;return Object.assign(Object.assign({},o),{value:t.key,label:e.map(i=>i.rawNode[r]).join(n)})}const L2=Object.assign(Object.assign(Object.assign(Object.assign({},ke.props),{bordered:{type:Boolean,default:!0},cascade:Boolean,checkable:Boolean,clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},consistentMenuWidth:{type:Boolean,default:!0},defaultShow:Boolean,defaultValue:{type:[String,Number,Array],default:null},disabled:{type:Boolean,default:void 0},filterable:Boolean,checkStrategy:{type:String,default:"all"},loading:Boolean,maxTagCount:[String,Number],multiple:Boolean,showPath:Boolean,separator:{type:String,default:" / "},options:{type:Array,default:()=>[]},placeholder:String,placement:{type:String,default:"bottom-start"},show:{type:Boolean,default:void 0},size:String,value:[String,Number,Array],to:an.propTo,menuProps:Object,virtualScroll:{type:Boolean,default:!0},status:String,renderTag:Function,ellipsisTagPopoverProps:Object}),A2),{renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,watchProps:Array,getChildren:Function,onBlur:Function,onFocus:Function,onLoad:Function,onUpdateShow:[Function,Array],onUpdateValue:[Function,Array],"onUpdate:value":[Function,Array],"onUpdate:show":[Function,Array],leafOnly:Boolean}),YZ=ce({name:"TreeSelect",props:L2,slots:Object,setup(t){const e=z(null),n=z(null),r=z(null),o=z(null),{mergedClsPrefixRef:i,namespaceRef:s,inlineThemeDisabled:a}=Ge(t),{localeRef:l}=Mn("Select"),{mergedSizeRef:c,mergedDisabledRef:d,mergedStatusRef:u,nTriggerFormBlur:f,nTriggerFormChange:m,nTriggerFormFocus:h,nTriggerFormInput:p}=jn(t),v=z(t.defaultValue),b=Se(t,"value"),y=Ft(b,v),x=z(t.defaultShow),C=Se(t,"show"),S=Ft(C,x),T=z(""),w=A(()=>{const{filter:ee}=t;if(ee)return ee;const{labelField:Pe}=t;return(Ne,Ue)=>Ne.length?Ue[Pe].toLowerCase().includes(Ne.toLowerCase()):!0}),E=A(()=>Xr(t.options,jp(t.keyField,t.childrenField,t.disabledField,void 0))),{value:R}=y,P=z(t.checkable?null:Array.isArray(R)&&R.length?R[R.length-1]:null),_=A(()=>t.multiple&&t.cascade&&t.checkable),I=z(t.defaultExpandAll?void 0:t.defaultExpandedKeys||t.expandedKeys),L=Se(t,"expandedKeys"),N=Ft(L,I),H=z(!1),G=A(()=>{const{placeholder:ee}=t;return ee!==void 0?ee:l.value.placeholder}),W=A(()=>{const{value:ee}=y;return t.multiple?Array.isArray(ee)?ee:[]:ee===null||Array.isArray(ee)?[]:[ee]}),J=A(()=>t.checkable?[]:W.value),ne=A(()=>{const{multiple:ee,showPath:Pe,separator:Ne,labelField:Ue}=t;if(ee)return null;const{value:pe}=y;if(!Array.isArray(pe)&&pe!==null){const{value:$e}=E,me=$e.getNode(pe);if(me!==null)return Pe?dS(me,$e.getPath(pe).treeNodePath,Ne,Ue):cS(me,Ue)}return null}),D=A(()=>{const{multiple:ee,showPath:Pe,separator:Ne}=t;if(!ee)return null;const{value:Ue}=y;if(Array.isArray(Ue)){const pe=[],{value:$e}=E,{checkedKeys:me}=$e.getCheckedKeys(Ue,{checkStrategy:t.checkStrategy,cascade:_.value,allowNotLoaded:t.allowCheckingNotLoaded}),{labelField:Oe}=t;return me.forEach(Ze=>{const tt=$e.getNode(Ze);tt!==null&&pe.push(Pe?dS(tt,$e.getPath(Ze).treeNodePath,Ne,Oe):cS(tt,Oe))}),pe}return[]});function B(){var ee;(ee=n.value)===null||ee===void 0||ee.focus()}function j(){var ee;(ee=n.value)===null||ee===void 0||ee.focusInput()}function $(ee){const{onUpdateShow:Pe,"onUpdate:show":Ne}=t;Pe&&we(Pe,ee),Ne&&we(Ne,ee),x.value=ee}function V(ee,Pe,Ne){const{onUpdateValue:Ue,"onUpdate:value":pe}=t;Ue&&we(Ue,ee,Pe,Ne),pe&&we(pe,ee,Pe,Ne),v.value=ee,p(),m()}function X(ee,Pe){const{onUpdateIndeterminateKeys:Ne,"onUpdate:indeterminateKeys":Ue}=t;Ne&&we(Ne,ee,Pe),Ue&&we(Ue,ee,Pe)}function Z(ee,Pe,Ne){const{onUpdateExpandedKeys:Ue,"onUpdate:expandedKeys":pe}=t;Ue&&we(Ue,ee,Pe,Ne),pe&&we(pe,ee,Pe,Ne),I.value=ee}function q(ee){const{onFocus:Pe}=t;Pe&&Pe(ee),h()}function ue(ee){K();const{onBlur:Pe}=t;Pe&&Pe(ee),f()}function K(){$(!1)}function he(){d.value||(T.value="",$(!0),t.filterable&&j())}function Ie(){T.value=""}function Q(ee){var Pe;S.value&&(!((Pe=n.value)===null||Pe===void 0)&&Pe.$el.contains(Jr(ee))||K())}function Y(){d.value||(S.value?t.filterable||K():he())}function re(ee){const{value:{getNode:Pe}}=E;return ee.map(Ne=>{var Ue;return((Ue=Pe(Ne))===null||Ue===void 0?void 0:Ue.rawNode)||null})}function be(ee,Pe,Ne){const Ue=re(ee),pe=Ne.action==="check"?"select":"unselect",$e=Ne.node;t.multiple?(V(ee,Ue,{node:$e,action:pe}),t.filterable&&(j(),t.clearFilterAfterSelect&&(T.value=""))):(ee.length?V(ee[0],Ue[0]||null,{node:$e,action:pe}):V(null,null,{node:$e,action:pe}),K(),B())}function Ce(ee){t.checkable&&X(ee,re(ee))}function le(ee){var Pe;!((Pe=o.value)===null||Pe===void 0)&&Pe.contains(ee.relatedTarget)||(H.value=!0,q(ee))}function de(ee){var Pe;!((Pe=o.value)===null||Pe===void 0)&&Pe.contains(ee.relatedTarget)||(H.value=!1,ue(ee))}function fe(ee){var Pe,Ne,Ue;!((Pe=o.value)===null||Pe===void 0)&&Pe.contains(ee.relatedTarget)||!((Ue=(Ne=n.value)===null||Ne===void 0?void 0:Ne.$el)===null||Ue===void 0)&&Ue.contains(ee.relatedTarget)||(H.value=!0,q(ee))}function te(ee){var Pe,Ne,Ue;!((Pe=o.value)===null||Pe===void 0)&&Pe.contains(ee.relatedTarget)||!((Ue=(Ne=n.value)===null||Ne===void 0?void 0:Ne.$el)===null||Ue===void 0)&&Ue.contains(ee.relatedTarget)||(H.value=!1,ue(ee))}function ae(ee){ee.stopPropagation();const{multiple:Pe}=t;!Pe&&t.filterable&&K(),Pe?V([],[],{node:null,action:"clear"}):V(null,null,{node:null,action:"clear"})}function Ee(ee){const{value:Pe}=y;if(Array.isArray(Pe)){const{value:Ne}=E,{checkedKeys:Ue}=Ne.getCheckedKeys(Pe,{cascade:_.value,allowNotLoaded:t.allowCheckingNotLoaded}),pe=Ue.findIndex($e=>$e===ee.value);if(~pe){const $e=Ue[pe],me=re([$e])[0];if(t.checkable){const{checkedKeys:Oe}=Ne.uncheck(ee.value,Ue,{checkStrategy:t.checkStrategy,cascade:_.value,allowNotLoaded:t.allowCheckingNotLoaded});V(Oe,re(Oe),{node:me,action:"delete"})}else{const Oe=Array.from(Ue);Oe.splice(pe,1),V(Oe,re(Oe),{node:me,action:"delete"})}}}}function se(ee){const{value:Pe}=ee.target;T.value=Pe}function ie(ee){const{value:Pe}=r;return Pe?Pe.handleKeydown(ee):{enterBehavior:null}}function ge(ee){if(ee.key==="Enter"){if(S.value){const{enterBehavior:Pe}=ie(ee);if(!t.multiple)switch(Pe){case"default":case"toggleSelect":K(),B();break}}else he();ee.preventDefault()}else ee.key==="Escape"?S.value&&(ka(ee),K(),B()):S.value?ie(ee):ee.key==="ArrowDown"&&he()}function Le(){K(),B()}function xe(ee){!An(ee,"action")&&!An(ee,"header")&&ee.preventDefault()}const We=A(()=>{const{renderTag:ee}=t;if(ee)return function({option:Ne,handleClose:Ue}){const{value:pe}=Ne;if(pe!==void 0){const $e=E.value.getNode(pe);if($e)return ee({option:$e.rawNode,handleClose:Ue})}return pe}});ft(ab,{pendingNodeKeyRef:P,dataTreeMate:E});function at(){var ee;S.value&&((ee=e.value)===null||ee===void 0||ee.syncPosition())}bh(o,at);const bt=E2(t),dt=A(()=>{if(t.checkable){const ee=y.value;return t.multiple&&Array.isArray(ee)?E.value.getCheckedKeys(ee,{cascade:t.cascade,checkStrategy:bt.value,allowNotLoaded:t.allowCheckingNotLoaded}):{checkedKeys:Array.isArray(ee)||ee===null?[]:[ee],indeterminateKeys:[]}}return{checkedKeys:[],indeterminateKeys:[]}}),Ct={getCheckedData:()=>{const{checkedKeys:ee}=dt.value;return{keys:ee,options:re(ee)}},getIndeterminateData:()=>{const{indeterminateKeys:ee}=dt.value;return{keys:ee,options:re(ee)}},focus:()=>{var ee;return(ee=n.value)===null||ee===void 0?void 0:ee.focus()},focusInput:()=>{var ee;return(ee=n.value)===null||ee===void 0?void 0:ee.focusInput()},blur:()=>{var ee;return(ee=n.value)===null||ee===void 0?void 0:ee.blur()},blurInput:()=>{var ee;return(ee=n.value)===null||ee===void 0?void 0:ee.blurInput()}},Tt=ke("TreeSelect","-tree-select",qZ,Gq,t,i),Qe=A(()=>{const{common:{cubicBezierEaseInOut:ee},self:{menuBoxShadow:Pe,menuBorderRadius:Ne,menuColor:Ue,menuHeight:pe,actionPadding:$e,actionDividerColor:me,actionTextColor:Oe,headerDividerColor:Ze,headerPadding:tt,headerTextColor:Re}}=Tt.value;return{"--n-menu-box-shadow":Pe,"--n-menu-border-radius":Ne,"--n-menu-color":Ue,"--n-menu-height":pe,"--n-bezier":ee,"--n-action-padding":$e,"--n-action-text-color":Oe,"--n-action-divider-color":me,"--n-header-padding":tt,"--n-header-text-color":Re,"--n-header-divider-color":Ze}}),rt=a?ot("tree-select",void 0,Qe,t):void 0,oe=A(()=>{const{self:{menuPadding:ee}}=Tt.value;return ee});return Object.assign(Object.assign({},Ct),{menuElRef:o,mergedStatus:u,triggerInstRef:n,followerInstRef:e,treeInstRef:r,mergedClsPrefix:i,mergedValue:y,mergedShow:S,namespace:s,adjustedTo:an(t),isMounted:br(),focused:H,menuPadding:oe,mergedPlaceholder:G,mergedExpandedKeys:N,treeSelectedKeys:J,treeCheckedKeys:W,mergedSize:c,mergedDisabled:d,selectedOption:ne,selectedOptions:D,pattern:T,pendingNodeKey:P,mergedCascade:_,mergedFilter:w,selectionRenderTag:We,handleTriggerOrMenuResize:at,doUpdateExpandedKeys:Z,handleMenuLeave:Ie,handleTriggerClick:Y,handleMenuClickoutside:Q,handleUpdateCheckedKeys:be,handleUpdateIndeterminateKeys:Ce,handleTriggerFocus:le,handleTriggerBlur:de,handleMenuFocusin:fe,handleMenuFocusout:te,handleClear:ae,handleDeleteOption:Ee,handlePatternInput:se,handleKeydown:ge,handleTabOut:Le,handleMenuMousedown:xe,mergedTheme:Tt,cssVars:a?void 0:Qe,themeClass:rt==null?void 0:rt.themeClass,onRender:rt==null?void 0:rt.onRender})},render(){const{mergedTheme:t,mergedClsPrefix:e,$slots:n}=this;return g("div",{class:`${e}-tree-select`},g(Mo,null,{default:()=>[g(Bo,null,{default:()=>g(x0,{ref:"triggerInstRef",onResize:this.handleTriggerOrMenuResize,status:this.mergedStatus,focused:this.focused,clsPrefix:e,theme:t.peers.InternalSelection,themeOverrides:t.peerOverrides.InternalSelection,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,renderTag:this.selectionRenderTag,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,size:this.mergedSize,bordered:this.bordered,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,active:this.mergedShow,loading:this.loading,multiple:this.multiple,maxTagCount:this.maxTagCount,showArrow:!0,filterable:this.filterable,clearable:this.clearable,pattern:this.pattern,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onBlur:this.handleTriggerBlur,onDeleteOption:this.handleDeleteOption,onKeydown:this.handleKeydown},{arrow:()=>{var r,o;return[(o=(r=this.$slots).arrow)===null||o===void 0?void 0:o.call(r)]}})}),g(yo,{ref:"followerInstRef",show:this.mergedShow,placement:this.placement,to:this.adjustedTo,teleportDisabled:this.adjustedTo===an.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target"},{default:()=>g(en,{name:"fade-in-scale-up-transition",appear:this.isMounted,onLeave:this.handleMenuLeave},{default:()=>{var r;if(!this.mergedShow)return null;const{mergedClsPrefix:o,checkable:i,multiple:s,menuProps:a,options:l}=this;return(r=this.onRender)===null||r===void 0||r.call(this),$n(g("div",Object.assign({},a,{class:[`${o}-tree-select-menu`,a==null?void 0:a.class,this.themeClass],ref:"menuElRef",style:[(a==null?void 0:a.style)||"",this.cssVars],tabindex:0,onMousedown:this.handleMenuMousedown,onKeydown:this.handleKeydown,onFocusin:this.handleMenuFocusin,onFocusout:this.handleMenuFocusout}),Lt(n.header,c=>c?g("div",{class:`${o}-tree-select-menu__header`,"data-header":!0},c):null),g(_2,{ref:"treeInstRef",blockLine:!0,allowCheckingNotLoaded:this.allowCheckingNotLoaded,showIrrelevantNodes:!1,animated:!1,pattern:this.pattern,getChildren:this.getChildren,filter:this.mergedFilter,data:l,cancelable:s,labelField:this.labelField,keyField:this.keyField,disabledField:this.disabledField,childrenField:this.childrenField,theme:t.peers.Tree,themeOverrides:t.peerOverrides.Tree,defaultExpandAll:this.defaultExpandAll,defaultExpandedKeys:this.defaultExpandedKeys,indent:this.indent,expandedKeys:this.mergedExpandedKeys,checkedKeys:this.treeCheckedKeys,selectedKeys:this.treeSelectedKeys,checkable:i,checkStrategy:this.checkStrategy,cascade:this.mergedCascade,leafOnly:this.leafOnly,multiple:this.multiple,renderLabel:this.renderLabel,renderPrefix:this.renderPrefix,renderSuffix:this.renderSuffix,renderSwitcherIcon:this.renderSwitcherIcon,nodeProps:this.nodeProps,watchProps:this.watchProps,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,overrideDefaultNodeClickBehavior:this.overrideDefaultNodeClickBehavior,internalTreeSelect:!0,internalUnifySelectCheck:!0,internalScrollable:!0,internalScrollablePadding:this.menuPadding,internalFocusable:!1,internalCheckboxFocusable:!1,internalRenderEmpty:()=>g("div",{class:`${o}-tree-select-menu__empty`},Et(n.empty,()=>[g(Gi,{theme:t.peers.Empty,themeOverrides:t.peerOverrides.Empty})])),onLoad:this.onLoad,onUpdateCheckedKeys:this.handleUpdateCheckedKeys,onUpdateIndeterminateKeys:this.handleUpdateIndeterminateKeys,onUpdateExpandedKeys:this.doUpdateExpandedKeys}),Lt(n.action,c=>c?g("div",{class:`${o}-tree-select-menu__action`,"data-action":!0},c):null),g(Ii,{onFocus:this.handleTabOut})),[[eo,this.handleMenuClickoutside,void 0,{capture:!0}]])}})})]}))}}),XZ=k("a",`
 cursor: pointer;
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 text-decoration-color: var(--n-text-color);
 color: var(--n-text-color);
`),D2=Object.assign({},ke.props),QZ=ce({name:"A",props:D2,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Typography","-a",XZ,Ys,t,e),o=A(()=>{const{common:{cubicBezierEaseInOut:s},self:{aTextColor:a}}=r.value;return{"--n-text-color":a,"--n-bezier":s}}),i=n?ot("a",void 0,o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),g("a",{class:[`${this.mergedClsPrefix}-a`,this.themeClass],style:this.cssVars},this.$slots)}}),ZZ=k("blockquote",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 margin: 0;
 margin-top: 12px;
 margin-bottom: 12px;
 box-sizing: border-box;
 padding-left: 12px;
 border-left: 4px solid var(--n-prefix-color);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[O("&:first-child",{marginTop:0}),O("&:last-child",{marginBottom:0}),M("align-text",{marginLeft:"-16px"})]),O2=Object.assign(Object.assign({},ke.props),{alignText:Boolean}),JZ=ce({name:"Blockquote",props:O2,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Typography","-blockquote",ZZ,Ys,t,e),o=A(()=>{const{common:{cubicBezierEaseInOut:s},self:{blockquoteTextColor:a,blockquotePrefixColor:l,blockquoteLineHeight:c,blockquoteFontSize:d}}=r.value;return{"--n-bezier":s,"--n-font-size":d,"--n-line-height":c,"--n-prefix-color":l,"--n-text-color":a}}),i=n?ot("blockquote",void 0,o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("blockquote",{class:[`${e}-blockquote`,this.themeClass,this.alignText&&`${e}-blockquote--align-text`],style:this.cssVars},this.$slots)}}),eJ=k("h",`
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 margin: var(--n-margin);
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[O("&:first-child",{marginTop:0}),M("prefix-bar",{position:"relative",paddingLeft:"var(--n-prefix-width)"},[M("align-text",{paddingLeft:0},[O("&::before",{left:"calc(-1 * var(--n-prefix-width))"})]),O("&::before",`
 content: "";
 width: var(--n-bar-width);
 border-radius: calc(var(--n-bar-width) / 2);
 transition: background-color .3s var(--n-bezier);
 left: 0;
 top: 0;
 bottom: 0;
 position: absolute;
 `),O("&::before",{backgroundColor:"var(--n-bar-color)"})])]),aa=Object.assign(Object.assign({},ke.props),{type:{type:String,default:"default"},prefix:String,alignText:Boolean}),Zl=t=>ce({name:`H${t}`,props:aa,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ge(e),o=ke("Typography","-h",eJ,Ys,e,n),i=A(()=>{const{type:a}=e,{common:{cubicBezierEaseInOut:l},self:{headerFontWeight:c,headerTextColor:d,[Ae("headerPrefixWidth",t)]:u,[Ae("headerFontSize",t)]:f,[Ae("headerMargin",t)]:m,[Ae("headerBarWidth",t)]:h,[Ae("headerBarColor",a)]:p}}=o.value;return{"--n-bezier":l,"--n-font-size":f,"--n-margin":m,"--n-bar-color":p,"--n-bar-width":h,"--n-font-weight":c,"--n-text-color":d,"--n-prefix-width":u}}),s=r?ot(`h${t}`,A(()=>e.type[0]),i,e):void 0;return{mergedClsPrefix:n,cssVars:r?void 0:i,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var e;const{prefix:n,alignText:r,mergedClsPrefix:o,cssVars:i,$slots:s}=this;return(e=this.onRender)===null||e===void 0||e.call(this),g(`h${t}`,{class:[`${o}-h`,`${o}-h${t}`,this.themeClass,{[`${o}-h--prefix-bar`]:n,[`${o}-h--align-text`]:r}],style:i},s)}}),tJ=Zl("1"),nJ=Zl("2"),rJ=Zl("3"),oJ=Zl("4"),iJ=Zl("5"),sJ=Zl("6"),aJ=k("hr",`
 margin: 12px 0;
 transition: border-color .3s var(--n-bezier);
 border-left: none;
 border-right: none;
 border-bottom: none;
 border-top: 1px solid var(--n-color);
`),lJ=ce({name:"Hr",props:Object.assign({},ke.props),setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Typography","-hr",aJ,Ys,t,e),o=A(()=>{const{common:{cubicBezierEaseInOut:s},self:{hrColor:a}}=r.value;return{"--n-bezier":s,"--n-color":a}}),i=n?ot("hr",void 0,o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),g("hr",{class:[`${this.mergedClsPrefix}-hr`,this.themeClass],style:this.cssVars})}}),cJ=ce({name:"Li",render(){return g("li",null,this.$slots)}}),uS=O("li",{transition:"color .3s var(--n-bezier)",lineHeight:"var(--n-line-height)",margin:"var(--n-li-margin)",marginBottom:0,color:"var(--n-text-color)"}),fS=[O("&:first-child",`
 margin-top: 0;
 `),O("&:last-child",`
 margin-bottom: 0;
 `)],$2=O([k("ol",{fontSize:"var(--n-font-size)",padding:"var(--n-ol-padding)"},[M("align-text",{paddingLeft:0}),uS,fS]),k("ul",{fontSize:"var(--n-font-size)",padding:"var(--n-ul-padding)"},[M("align-text",{paddingLeft:0}),uS,fS])]),F2=Object.assign(Object.assign({},ke.props),{alignText:Boolean}),dJ=ce({name:"Ol",props:F2,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Typography","-xl",$2,Ys,t,e),o=A(()=>{const{common:{cubicBezierEaseInOut:s},self:{olPadding:a,ulPadding:l,liMargin:c,liTextColor:d,liLineHeight:u,liFontSize:f}}=r.value;return{"--n-bezier":s,"--n-font-size":f,"--n-line-height":u,"--n-text-color":d,"--n-li-margin":c,"--n-ol-padding":a,"--n-ul-padding":l}}),i=n?ot("ol",void 0,o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("ol",{class:[`${e}-ol`,this.themeClass,this.alignText&&`${e}-ol--align-text`],style:this.cssVars},this.$slots)}}),uJ=k("p",`
 box-sizing: border-box;
 transition: color .3s var(--n-bezier);
 margin: var(--n-margin);
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 color: var(--n-text-color);
`,[O("&:first-child","margin-top: 0;"),O("&:last-child","margin-bottom: 0;")]),M2=Object.assign(Object.assign({},ke.props),{depth:[String,Number]}),fJ=ce({name:"P",props:M2,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Typography","-p",uJ,Ys,t,e),o=A(()=>{const{depth:s}=t,a=s||"1",{common:{cubicBezierEaseInOut:l},self:{pFontSize:c,pLineHeight:d,pMargin:u,pTextColor:f,[`pTextColor${a}Depth`]:m}}=r.value;return{"--n-bezier":l,"--n-font-size":c,"--n-line-height":d,"--n-margin":u,"--n-text-color":s===void 0?f:m}}),i=n?ot("p",A(()=>`${t.depth||""}`),o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;return(t=this.onRender)===null||t===void 0||t.call(this),g("p",{class:[`${this.mergedClsPrefix}-p`,this.themeClass],style:this.cssVars},this.$slots)}}),hJ=k("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[M("strong",`
 font-weight: var(--n-font-weight-strong);
 `),M("italic",{fontStyle:"italic"}),M("underline",{textDecoration:"underline"}),M("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),B2=Object.assign(Object.assign({},ke.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),gJ=ce({name:"Text",props:B2,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Typography","-text",hJ,Ys,t,e),o=A(()=>{const{depth:s,type:a}=t,l=a==="default"?s===void 0?"textColor":`textColor${s}Depth`:Ae("textColor",a),{common:{fontWeightStrong:c,fontFamilyMono:d,cubicBezierEaseInOut:u},self:{codeTextColor:f,codeBorderRadius:m,codeColor:h,codeBorder:p,[l]:v}}=r.value;return{"--n-bezier":u,"--n-text-color":v,"--n-font-weight-strong":c,"--n-font-famliy-mono":d,"--n-code-border-radius":m,"--n-code-text-color":f,"--n-code-color":h,"--n-code-border":p}}),i=n?ot("text",A(()=>`${t.type[0]}${t.depth||""}`),o,t):void 0;return{mergedClsPrefix:e,compitableTag:Os(t,["as","tag"]),cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t,e,n;const{mergedClsPrefix:r}=this;(t=this.onRender)===null||t===void 0||t.call(this);const o=[`${r}-text`,this.themeClass,{[`${r}-text--code`]:this.code,[`${r}-text--delete`]:this.delete,[`${r}-text--strong`]:this.strong,[`${r}-text--italic`]:this.italic,[`${r}-text--underline`]:this.underline}],i=(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e);return this.code?g("code",{class:o,style:this.cssVars},this.delete?g("del",null,i):i):this.delete?g("del",{class:o,style:this.cssVars},i):g(this.compitableTag||"span",{class:o,style:this.cssVars},i)}}),z2=Object.assign(Object.assign({},ke.props),{alignText:Boolean}),mJ=ce({name:"Ul",props:z2,setup(t){const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Typography","-xl",$2,Ys,t,e),o=A(()=>{const{common:{cubicBezierEaseInOut:s},self:{olPadding:a,ulPadding:l,liMargin:c,liTextColor:d,liLineHeight:u,liFontSize:f}}=r.value;return{"--n-bezier":s,"--n-font-size":f,"--n-line-height":u,"--n-text-color":d,"--n-li-margin":c,"--n-ol-padding":a,"--n-ul-padding":l}}),i=n?ot("ul",void 0,o,t):void 0;return{mergedClsPrefix:e,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var t;const{mergedClsPrefix:e}=this;return(t=this.onRender)===null||t===void 0||t.call(this),g("ul",{class:[`${e}-ul`,this.themeClass,this.alignText&&`${e}-ul--align-text`],style:this.cssVars},this.$slots)}}),Jl="n-upload",pJ=O([k("upload","width: 100%;",[M("dragger-inside",[k("upload-trigger",`
 display: block;
 `)]),M("drag-over",[k("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),k("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[O("&:hover",`
 border: var(--n-dragger-border-hover);
 `),M("disabled",`
 cursor: not-allowed;
 `)]),k("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[O("+",[k("upload-file-list","margin-top: 8px;")]),M("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),M("image-card",`
 width: 96px;
 height: 96px;
 `,[k("base-icon",`
 font-size: 24px;
 `),k("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),k("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[O("a, img","outline: none;"),M("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[k("upload-file","cursor: not-allowed;")]),M("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),k("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[qi(),k("progress",[qi({foldPadding:!0})]),O("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[k("upload-file-info",[F("action",`
 opacity: 1;
 `)])]),M("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[k("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[k("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),F("name",`
 padding: 0 8px;
 `),F("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[O("img",`
 width: 100%;
 `)])])]),M("text-type",[k("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),M("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[k("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),k("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[F("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[O("img",`
 width: 100%;
 `)])]),O("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),O("&:hover",[O("&::before","opacity: 1;"),k("upload-file-info",[F("thumbnail","opacity: .12;")])])]),M("error-status",[O("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),k("upload-file-info",[F("name","color: var(--n-item-text-color-error);"),F("thumbnail","color: var(--n-item-text-color-error);")]),M("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),M("with-url",`
 cursor: pointer;
 `,[k("upload-file-info",[F("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[O("a",`
 text-decoration: underline;
 `)])])]),k("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[F("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[k("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),F("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[k("button",[O("&:not(:last-child)",{marginRight:"4px"}),k("base-icon",[O("svg",[wr()])])]),M("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),M("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),F("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[O("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),k("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),N2="__UPLOAD_DRAGGER__",U2=ce({name:"UploadDragger",[N2]:!0,setup(t,{slots:e}){const n=Ve(Jl,null);return n||nr("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:r},mergedDisabledRef:{value:o},maxReachedRef:{value:i}}=n;return g("div",{class:[`${r}-upload-dragger`,(o||i)&&`${r}-upload-dragger--disabled`]},e)}}}),vJ=g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},g("g",{fill:"none"},g("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),bJ=g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},g("g",{fill:"none"},g("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"}))),yJ=ce({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Ve(Jl).mergedThemeRef}},render(){return g(Ai,null,{default:()=>this.show?g(n2,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var Wp=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function H2(t){return t.includes("image/")}function hS(t=""){const e=t.split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]}const gS=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,V2=t=>{if(t.type)return H2(t.type);const e=hS(t.name||"");if(gS.test(e))return!0;const n=t.thumbnailUrl||t.url||"",r=hS(n);return!!(/^data:image\//.test(n)||gS.test(r))};function xJ(t){return Wp(this,void 0,void 0,function*(){return yield new Promise(e=>{if(!t.type||!H2(t.type)){e("");return}e(window.URL.createObjectURL(t))})})}const CJ=jr&&window.FileReader&&window.File;function SJ(t){return t.isDirectory}function wJ(t){return t.isFile}function RJ(t,e){return Wp(this,void 0,void 0,function*(){const n=[];function r(o){return Wp(this,void 0,void 0,function*(){for(const i of o)if(i){if(e&&SJ(i)){const s=i.createReader();let a=[],l;try{do l=yield new Promise((c,d)=>{s.readEntries(c,d)}),a=a.concat(l);while(l.length>0)}catch(c){rx("upload","error happens when handling directory upload",c)}yield r(a)}else if(wJ(i))try{const s=yield new Promise((a,l)=>{i.file(a,l)});n.push({file:s,entry:i,source:"dnd"})}catch(s){rx("upload","error happens when handling file upload",s)}}})}return yield r(t),n})}function gd(t){const{id:e,name:n,percentage:r,status:o,url:i,file:s,thumbnailUrl:a,type:l,fullPath:c,batchId:d}=t;return{id:e,name:n,percentage:r??null,status:o,url:i??null,file:s??null,thumbnailUrl:a??null,type:l??null,fullPath:c??null,batchId:d??null}}function TJ(t,e,n){return t=t.toLowerCase(),e=e.toLocaleLowerCase(),n=n.toLocaleLowerCase(),n.split(",").map(o=>o.trim()).filter(Boolean).some(o=>{if(o.startsWith(".")){if(t.endsWith(o))return!0}else if(o.includes("/")){const[i,s]=e.split("/"),[a,l]=o.split("/");if((a==="*"||i&&a&&a===i)&&(l==="*"||s&&l&&l===s))return!0}else return!0;return!1})}var mS=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Pu={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},EJ=ce({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(t){const e=Ve(Jl),n=z(null),r=z(""),o=A(()=>{const{file:S}=t;return S.status==="finished"?"success":S.status==="error"?"error":"info"}),i=A(()=>{const{file:S}=t;if(S.status==="error")return"error"}),s=A(()=>{const{file:S}=t;return S.status==="uploading"}),a=A(()=>{if(!e.showCancelButtonRef.value)return!1;const{file:S}=t;return["uploading","pending","error"].includes(S.status)}),l=A(()=>{if(!e.showRemoveButtonRef.value)return!1;const{file:S}=t;return["finished"].includes(S.status)}),c=A(()=>{if(!e.showDownloadButtonRef.value)return!1;const{file:S}=t;return["finished"].includes(S.status)}),d=A(()=>{if(!e.showRetryButtonRef.value)return!1;const{file:S}=t;return["error"].includes(S.status)}),u=pt(()=>r.value||t.file.thumbnailUrl||t.file.url),f=A(()=>{if(!e.showPreviewButtonRef.value)return!1;const{file:{status:S},listType:T}=t;return["finished"].includes(S)&&u.value&&T==="image-card"});function m(){return mS(this,void 0,void 0,function*(){const S=e.onRetryRef.value;S&&(yield S({file:t.file}))===!1||e.submit(t.file.id)})}function h(S){S.preventDefault();const{file:T}=t;["finished","pending","error"].includes(T.status)?v(T):["uploading"].includes(T.status)?y(T):Rr("upload","The button clicked type is unknown.")}function p(S){S.preventDefault(),b(t.file)}function v(S){const{xhrMap:T,doChange:w,onRemoveRef:{value:E},mergedFileListRef:{value:R}}=e;Promise.resolve(E?E({file:Object.assign({},S),fileList:R,index:t.index}):!0).then(P=>{if(P===!1)return;const _=Object.assign({},S,{status:"removed"});T.delete(S.id),w(_,void 0,{remove:!0})})}function b(S){const{onDownloadRef:{value:T},customDownloadRef:{value:w}}=e;Promise.resolve(T?T(Object.assign({},S)):!0).then(E=>{E!==!1&&(w?w(Object.assign({},S)):yh(S.url,S.name))})}function y(S){const{xhrMap:T}=e,w=T.get(S.id);w==null||w.abort(),v(Object.assign({},S))}function x(S){const{onPreviewRef:{value:T}}=e;if(T)T(t.file,{event:S});else if(t.listType==="image-card"){const{value:w}=n;if(!w)return;w.click()}}const C=()=>mS(this,void 0,void 0,function*(){const{listType:S}=t;S!=="image"&&S!=="image-card"||e.shouldUseThumbnailUrlRef.value(t.file)&&(r.value=yield e.getFileThumbnailUrlResolver(t.file))});return Xt(()=>{C()}),{mergedTheme:e.mergedThemeRef,progressStatus:o,buttonType:i,showProgress:s,disabled:e.mergedDisabledRef,showCancelButton:a,showRemoveButton:l,showDownloadButton:c,showRetryButton:d,showPreviewButton:f,mergedThumbnailUrl:u,shouldUseThumbnailUrl:e.shouldUseThumbnailUrlRef,renderIcon:e.renderIconRef,imageRef:n,handleRemoveOrCancelClick:h,handleDownloadClick:p,handleRetryClick:m,handlePreviewClick:x}},render(){const{clsPrefix:t,mergedTheme:e,listType:n,file:r,renderIcon:o}=this;let i;const s=n==="image";s||n==="image-card"?i=!this.shouldUseThumbnailUrl(r)||!this.mergedThumbnailUrl?g("span",{class:`${t}-upload-file-info__thumbnail`},o?o(r):V2(r)?g(yt,{clsPrefix:t},{default:vJ}):g(yt,{clsPrefix:t},{default:bJ})):g("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,class:`${t}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},n==="image-card"?g(k_,{src:this.mergedThumbnailUrl||void 0,previewSrc:r.url||void 0,alt:r.name,ref:"imageRef"}):g("img",{src:this.mergedThumbnailUrl||void 0,alt:r.name})):i=g("span",{class:`${t}-upload-file-info__thumbnail`},o?o(r):g(yt,{clsPrefix:t},{default:()=>g(b8,null)}));const l=g(yJ,{show:this.showProgress,percentage:r.percentage||0,status:this.progressStatus}),c=n==="text"||n==="image";return g("div",{class:[`${t}-upload-file`,`${t}-upload-file--${this.progressStatus}-status`,r.url&&r.status!=="error"&&n!=="image-card"&&`${t}-upload-file--with-url`,`${t}-upload-file--${n}-type`]},g("div",{class:`${t}-upload-file-info`},i,g("div",{class:`${t}-upload-file-info__name`},c&&(r.url&&r.status!=="error"?g("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,onClick:this.handlePreviewClick},r.name):g("span",{onClick:this.handlePreviewClick},r.name)),s&&l),g("div",{class:[`${t}-upload-file-info__action`,`${t}-upload-file-info__action--${n}-type`]},this.showPreviewButton?g(At,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,builtinThemeOverrides:Pu},{icon:()=>g(yt,{clsPrefix:t},{default:()=>g(bE,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&g(At,{key:"cancelOrTrash",theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:Pu,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>g(Pi,null,{default:()=>this.showRemoveButton?g(yt,{clsPrefix:t,key:"trash"},{default:()=>g(L8,null)}):g(yt,{clsPrefix:t,key:"cancel"},{default:()=>g(y8,null)})})}),this.showRetryButton&&!this.disabled&&g(At,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,builtinThemeOverrides:Pu},{icon:()=>g(yt,{clsPrefix:t},{default:()=>g(E8,null)})}),this.showDownloadButton?g(At,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,builtinThemeOverrides:Pu},{icon:()=>g(yt,{clsPrefix:t},{default:()=>g(vE,null)})}):null)),!s&&l)}}),lb=ce({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(t,{slots:e}){const n=Ve(Jl,null);n||nr("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:r,mergedDisabledRef:o,maxReachedRef:i,listTypeRef:s,dragOverRef:a,openOpenFileDialog:l,draggerInsideRef:c,handleFileAddition:d,mergedDirectoryDndRef:u,triggerClassRef:f,triggerStyleRef:m}=n,h=A(()=>s.value==="image-card");function p(){o.value||i.value||l()}function v(C){C.preventDefault(),a.value=!0}function b(C){C.preventDefault(),a.value=!0}function y(C){C.preventDefault(),a.value=!1}function x(C){var S;if(C.preventDefault(),!c.value||o.value||i.value){a.value=!1;return}const T=(S=C.dataTransfer)===null||S===void 0?void 0:S.items;T!=null&&T.length?RJ(Array.from(T).map(w=>w.webkitGetAsEntry()),u.value).then(w=>{d(w)}).finally(()=>{a.value=!1}):a.value=!1}return()=>{var C;const{value:S}=r;return t.abstract?(C=e.default)===null||C===void 0?void 0:C.call(e,{handleClick:p,handleDrop:x,handleDragOver:v,handleDragEnter:b,handleDragLeave:y}):g("div",{class:[`${S}-upload-trigger`,(o.value||i.value)&&`${S}-upload-trigger--disabled`,h.value&&`${S}-upload-trigger--image-card`,f.value],style:m.value,onClick:p,onDrop:x,onDragover:v,onDragenter:b,onDragleave:y},h.value?g(U2,null,{default:()=>Et(e.default,()=>[g(yt,{clsPrefix:S},{default:()=>g(Ol,null)})])}):e)}}}),j2=ce({name:"UploadFileList",setup(t,{slots:e}){const n=Ve(Jl,null);n||nr("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:r,mergedClsPrefixRef:o,listTypeRef:i,mergedFileListRef:s,fileListClassRef:a,fileListStyleRef:l,cssVarsRef:c,themeClassRef:d,maxReachedRef:u,showTriggerRef:f,imageGroupPropsRef:m}=n,h=A(()=>i.value==="image-card"),p=()=>s.value.map((b,y)=>g(EJ,{clsPrefix:o.value,key:b.id,file:b,index:y,listType:i.value})),v=()=>h.value?g(T_,Object.assign({},m.value),{default:p}):g(Ai,{group:!0},{default:p});return()=>{const{value:b}=o,{value:y}=r;return g("div",{class:[`${b}-upload-file-list`,h.value&&`${b}-upload-file-list--grid`,y?d==null?void 0:d.value:void 0,a.value],style:[y&&c?c.value:"",l.value]},v(),f.value&&!u.value&&h.value&&g(lb,null,e))}}});var pS=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(u){s(u)}}function l(d){try{c(r.throw(d))}catch(u){s(u)}}function c(d){d.done?i(d.value):o(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function kJ(t,e,n){const{doChange:r,xhrMap:o}=t;let i=0;function s(l){var c;let d=Object.assign({},e,{status:"error",percentage:i});o.delete(e.id),d=gd(((c=t.onError)===null||c===void 0?void 0:c.call(t,{file:d,event:l}))||d),r(d,l)}function a(l){var c;if(t.isErrorState){if(t.isErrorState(n)){s(l);return}}else if(n.status<200||n.status>=300){s(l);return}let d=Object.assign({},e,{status:"finished",percentage:i});o.delete(e.id),d=gd(((c=t.onFinish)===null||c===void 0?void 0:c.call(t,{file:d,event:l}))||d),r(d,l)}return{handleXHRLoad:a,handleXHRError:s,handleXHRAbort(l){const c=Object.assign({},e,{status:"removed",file:null,percentage:i});o.delete(e.id),r(c,l)},handleXHRProgress(l){const c=Object.assign({},e,{status:"uploading"});if(l.lengthComputable){const d=Math.ceil(l.loaded/l.total*100);c.percentage=d,i=d}r(c,l)}}}function PJ(t){const{inst:e,file:n,data:r,headers:o,withCredentials:i,action:s,customRequest:a}=t,{doChange:l}=t.inst;let c=0;a({file:n,data:r,headers:o,withCredentials:i,action:s,onProgress(d){const u=Object.assign({},n,{status:"uploading"}),f=d.percent;u.percentage=f,c=f,l(u)},onFinish(){var d;let u=Object.assign({},n,{status:"finished",percentage:c});u=gd(((d=e.onFinish)===null||d===void 0?void 0:d.call(e,{file:u}))||u),l(u)},onError(){var d;let u=Object.assign({},n,{status:"error",percentage:c});u=gd(((d=e.onError)===null||d===void 0?void 0:d.call(e,{file:u}))||u),l(u)}})}function AJ(t,e,n){const r=kJ(t,e,n);n.onabort=r.handleXHRAbort,n.onerror=r.handleXHRError,n.onload=r.handleXHRLoad,n.upload&&(n.upload.onprogress=r.handleXHRProgress)}function W2(t,e){return typeof t=="function"?t({file:e}):t||{}}function IJ(t,e,n){const r=W2(e,n);r&&Object.keys(r).forEach(o=>{t.setRequestHeader(o,r[o])})}function _J(t,e,n){const r=W2(e,n);r&&Object.keys(r).forEach(o=>{t.append(o,r[o])})}function LJ(t,e,n,{method:r,action:o,withCredentials:i,responseType:s,headers:a,data:l}){const c=new XMLHttpRequest;c.responseType=s,t.xhrMap.set(n.id,c),c.withCredentials=i;const d=new FormData;if(_J(d,l,n),n.file!==null&&d.append(e,n.file),AJ(t,n,c),o!==void 0){c.open(r.toUpperCase(),o),IJ(c,a,n),c.send(d);const u=Object.assign({},n,{status:"uploading"});t.doChange(u)}}const K2=Object.assign(Object.assign({},ke.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,customDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:t=>CJ?V2(t):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),DJ=ce({name:"Upload",props:K2,setup(t){t.abstract&&t.listType==="image-card"&&nr("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=Ge(t),r=ke("Upload","-upload",pJ,Xq,t,e),o=jn(t),i=z(t.defaultFileList),s=Se(t,"fileList"),a=z(null),l={value:!1},c=z(!1),d=new Map,u=Ft(s,i),f=A(()=>u.value.map(gd)),m=A(()=>{const{max:R}=t;return R!==void 0?f.value.length>=R:!1});function h(){var R;(R=a.value)===null||R===void 0||R.click()}function p(R){const P=R.target;x(P.files?Array.from(P.files).map(_=>({file:_,entry:null,source:"input"})):null,R),P.value=""}function v(R){const{"onUpdate:fileList":P,onUpdateFileList:_}=t;P&&we(P,R),_&&we(_,R),i.value=R}const b=A(()=>t.multiple||t.directory),y=(R,P,_={append:!1,remove:!1})=>{const{append:I,remove:L}=_,N=Array.from(f.value),H=N.findIndex(G=>G.id===R.id);if(I||L||~H){I?N.push(R):L?N.splice(H,1):N.splice(H,1,R);const{onChange:G}=t;G&&G({file:R,fileList:N,event:P}),v(N)}};function x(R,P){if(!R||R.length===0)return;const{onBeforeUpload:_}=t;R=b.value?R:[R[0]];const{max:I,accept:L}=t;R=R.filter(({file:H,source:G})=>G==="dnd"&&(L!=null&&L.trim())?TJ(H.name,H.type,L):!0),I&&(R=R.slice(0,I-f.value.length));const N=Vr();Promise.all(R.map(H=>pS(this,[H],void 0,function*({file:G,entry:W}){var J;const ne={id:Vr(),batchId:N,name:G.name,status:"pending",percentage:0,file:G,url:null,type:G.type,thumbnailUrl:null,fullPath:(J=W==null?void 0:W.fullPath)!==null&&J!==void 0?J:`/${G.webkitRelativePath||G.name}`};return!_||(yield _({file:ne,fileList:f.value}))!==!1?ne:null}))).then(H=>pS(this,void 0,void 0,function*(){let G=Promise.resolve();H.forEach(W=>{G=G.then($t).then(()=>{W&&y(W,P,{append:!0})})}),yield G})).then(()=>{t.defaultUpload&&C()})}function C(R){const{method:P,action:_,withCredentials:I,headers:L,data:N,name:H}=t,G=R!==void 0?f.value.filter(J=>J.id===R):f.value,W=R!==void 0;G.forEach(J=>{const{status:ne}=J;(ne==="pending"||ne==="error"&&W)&&(t.customRequest?PJ({inst:{doChange:y,xhrMap:d,onFinish:t.onFinish,onError:t.onError},file:J,action:_,withCredentials:I,headers:L,data:N,customRequest:t.customRequest}):LJ({doChange:y,xhrMap:d,onFinish:t.onFinish,onError:t.onError,isErrorState:t.isErrorState},H,J,{method:P,action:_,withCredentials:I,responseType:t.responseType,headers:L,data:N}))})}function S(R){var P;if(R.thumbnailUrl)return R.thumbnailUrl;const{createThumbnailUrl:_}=t;return _?(P=_(R.file,R))!==null&&P!==void 0?P:R.url||"":R.url?R.url:R.file?xJ(R.file):""}const T=A(()=>{const{common:{cubicBezierEaseInOut:R},self:{draggerColor:P,draggerBorder:_,draggerBorderHover:I,itemColorHover:L,itemColorHoverError:N,itemTextColorError:H,itemTextColorSuccess:G,itemTextColor:W,itemIconColor:J,itemDisabledOpacity:ne,lineHeight:D,borderRadius:B,fontSize:j,itemBorderImageCardError:$,itemBorderImageCard:V}}=r.value;return{"--n-bezier":R,"--n-border-radius":B,"--n-dragger-border":_,"--n-dragger-border-hover":I,"--n-dragger-color":P,"--n-font-size":j,"--n-item-color-hover":L,"--n-item-color-hover-error":N,"--n-item-disabled-opacity":ne,"--n-item-icon-color":J,"--n-item-text-color":W,"--n-item-text-color-error":H,"--n-item-text-color-success":G,"--n-line-height":D,"--n-item-border-image-card-error":$,"--n-item-border-image-card":V}}),w=n?ot("upload",void 0,T,t):void 0;ft(Jl,{mergedClsPrefixRef:e,mergedThemeRef:r,showCancelButtonRef:Se(t,"showCancelButton"),showDownloadButtonRef:Se(t,"showDownloadButton"),showRemoveButtonRef:Se(t,"showRemoveButton"),showRetryButtonRef:Se(t,"showRetryButton"),onRemoveRef:Se(t,"onRemove"),onDownloadRef:Se(t,"onDownload"),customDownloadRef:Se(t,"customDownload"),mergedFileListRef:f,triggerClassRef:Se(t,"triggerClass"),triggerStyleRef:Se(t,"triggerStyle"),shouldUseThumbnailUrlRef:Se(t,"shouldUseThumbnailUrl"),renderIconRef:Se(t,"renderIcon"),xhrMap:d,submit:C,doChange:y,showPreviewButtonRef:Se(t,"showPreviewButton"),onPreviewRef:Se(t,"onPreview"),getFileThumbnailUrlResolver:S,listTypeRef:Se(t,"listType"),dragOverRef:c,openOpenFileDialog:h,draggerInsideRef:l,handleFileAddition:x,mergedDisabledRef:o.mergedDisabledRef,maxReachedRef:m,fileListClassRef:Se(t,"fileListClass"),fileListStyleRef:Se(t,"fileListStyle"),abstractRef:Se(t,"abstract"),acceptRef:Se(t,"accept"),cssVarsRef:n?void 0:T,themeClassRef:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender,showTriggerRef:Se(t,"showTrigger"),imageGroupPropsRef:Se(t,"imageGroupProps"),mergedDirectoryDndRef:A(()=>{var R;return(R=t.directoryDnd)!==null&&R!==void 0?R:t.directory}),onRetryRef:Se(t,"onRetry")});const E={clear:()=>{i.value=[]},submit:C,openOpenFileDialog:h};return Object.assign({mergedClsPrefix:e,draggerInsideRef:l,inputElRef:a,mergedTheme:r,dragOver:c,mergedMultiple:b,cssVars:n?void 0:T,themeClass:w==null?void 0:w.themeClass,onRender:w==null?void 0:w.onRender,handleFileInputChange:p},E)},render(){var t,e;const{draggerInsideRef:n,mergedClsPrefix:r,$slots:o,directory:i,onRender:s}=this;if(o.default&&!this.abstract){const l=o.default()[0];!((t=l==null?void 0:l.type)===null||t===void 0)&&t[N2]&&(n.value=!0)}const a=g("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${r}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:i||void 0,directory:i||void 0}));return this.abstract?g(Vt,null,(e=o.default)===null||e===void 0?void 0:e.call(o),g(Pd,{to:"body"},a)):(s==null||s(),g("div",{class:[`${r}-upload`,n.value&&`${r}-upload--dragger-inside`,this.dragOver&&`${r}-upload--drag-over`,this.themeClass],style:this.cssVars},a,this.showTrigger&&this.listType!=="image-card"&&g(lb,null,o),this.showFileList&&g(j2,null,o)))}}),G2={scrollbarProps:Object,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},OJ=ce({name:"VirtualList",props:G2,setup(t){const e=z(null),n=z(null);function r(){const{value:d}=e;d&&d.sync()}function o(d){var u;r(),(u=t.onScroll)===null||u===void 0||u.call(t,d)}function i(d){var u;r(),(u=t.onResize)===null||u===void 0||u.call(t,d)}function s(d){var u;(u=t.onWheel)===null||u===void 0||u.call(t,d)}function a(d,u){var f,m;typeof d=="number"?(f=n.value)===null||f===void 0||f.scrollTo(d,u??0):(m=n.value)===null||m===void 0||m.scrollTo(d)}function l(){var d;return(d=n.value)===null||d===void 0?void 0:d.listElRef}function c(){var d;return(d=n.value)===null||d===void 0?void 0:d.itemsElRef}return{scrollTo:a,scrollbarInstRef:e,virtualListInstRef:n,getScrollContainer:l,getScrollContent:c,handleScroll:o,handleResize:i,handleWheel:s}},render(){return g($l,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",container:this.getScrollContainer,content:this.getScrollContent}),{default:()=>g(qo,{ref:"virtualListInstRef",showScrollbar:!1,items:this.items,itemSize:this.itemSize,itemResizable:this.itemResizable,itemsStyle:this.itemsStyle,visibleItemsTag:this.visibleItemsTag,visibleItemsProps:this.visibleItemsProps,ignoreItemResize:this.ignoreItemResize,keyField:this.keyField,defaultScrollKey:this.defaultScrollKey,defaultScrollIndex:this.defaultScrollIndex,paddingTop:this.paddingTop,paddingBottom:this.paddingBottom,onScroll:this.handleScroll,onResize:this.handleResize,onWheel:this.handleWheel},{default:({item:t,index:e})=>{var n,r;return(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n,{item:t,index:e})}})})}}),$J=O([k("watermark-container",`
 position: relative;
 `,[wt("selectable",`
 user-select: none;
 -webkit-user-select: none;
 `),M("global-rotate",`
 overflow: hidden;
 `),M("fullscreen",`
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 position: fixed;
 `)]),k("watermark",`
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 background-repeat: repeat;
 `,[M("fullscreen",`
 position: fixed;
 `),M("global-rotate",`
 position: absolute;
 height: max(284vh, 284vw);
 width: max(284vh, 284vw);
 `)])]);function FJ(t){if(!t)return 1;const e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e}const q2=Object.assign(Object.assign({},ke.props),{debug:Boolean,cross:Boolean,fullscreen:Boolean,width:{type:Number,default:32},height:{type:Number,default:32},zIndex:{type:Number,default:10},xGap:{type:Number,default:0},yGap:{type:Number,default:0},yOffset:{type:Number,default:0},xOffset:{type:Number,default:0},rotate:{type:Number,default:0},textAlign:{type:String,default:"left"},image:String,imageOpacity:{type:Number,default:1},imageHeight:Number,imageWidth:Number,content:String,selectable:{type:Boolean,default:!0},fontSize:{type:Number,default:14},fontFamily:String,fontStyle:{type:String,default:"normal"},fontVariant:{type:String,default:""},fontWeight:{type:Number,default:400},fontColor:{type:String,default:"rgba(128, 128, 128, .3)"},fontStretch:{type:String,default:""},lineHeight:{type:Number,default:14},globalRotate:{type:Number,default:0}}),MJ=ce({name:"Watermark",props:q2,setup(t,{slots:e}){const{mergedClsPrefixRef:n}=Ge(t),r=ke("Watermark","-watermark",$J,Jq,t,n),o=z(""),i=jr?document.createElement("canvas"):null,s=i?i.getContext("2d"):null,a=z(!1);return ph(()=>a.value=!0),Xt(()=>{if(!i)return;a.value;const l=FJ(s),{xGap:c,yGap:d,width:u,height:f,yOffset:m,xOffset:h,rotate:p,image:v,content:b,fontColor:y,fontStyle:x,fontVariant:C,fontStretch:S,fontWeight:T,fontFamily:w,fontSize:E,lineHeight:R,debug:P}=t,_=(c+u)*l,I=(d+f)*l,L=h*l,N=m*l;if(i.width=_,i.height=I,s){s.translate(0,0);const H=u*l,G=f*l;if(P&&(s.strokeStyle="grey",s.strokeRect(0,0,H,G)),s.rotate(p*(Math.PI/180)),v){const W=new Image;W.crossOrigin="anonymous",W.referrerPolicy="no-referrer",W.src=v,W.onload=()=>{s.globalAlpha=t.imageOpacity;const{imageWidth:J,imageHeight:ne}=t;s.drawImage(W,L,N,(t.imageWidth||(ne?W.width*ne/W.height:W.width))*l,(t.imageHeight||(J?W.height*J/W.width:W.height))*l),o.value=i.toDataURL()}}else if(b){P&&(s.strokeStyle="green",s.strokeRect(0,0,H,G)),s.font=`${x} ${C} ${T} ${S} ${E*l}px/${R*l}px ${w||r.value.self.fontFamily}`,s.fillStyle=y;let W=0;const{textAlign:J}=t;b.split(`
`).map(ne=>{const D=s.measureText(ne).width;return W=Math.max(W,D),{width:D,line:ne}}).forEach(({line:ne,width:D},B)=>{const j=J==="left"?0:J==="center"?(W-D)/2:W-D;s.fillText(ne,L+j,N+R*l*(B+1))}),o.value=i.toDataURL()}else b||(s.clearRect(0,0,i.width,i.height),o.value=i.toDataURL())}else Y3("watermark","Canvas is not supported in the browser.")}),()=>{var l;const{globalRotate:c,fullscreen:d,zIndex:u}=t,f=n.value,m=c!==0&&d,h="max(142vh, 142vw)",p=g("div",{class:[`${f}-watermark`,c!==0&&`${f}-watermark--global-rotate`,d&&`${f}-watermark--fullscreen`],style:{transform:c?`translateX(-50%) translateY(-50%) rotate(${c}deg)`:void 0,zIndex:m?void 0:u,backgroundSize:`${t.xGap+t.width}px`,backgroundPosition:c===0?t.cross?`${t.width/2}px ${t.height/2}px, 0 0`:"":t.cross?`calc(${h} + ${t.width/2}px) calc(${h} + ${t.height/2}px), ${h} ${h}`:h,backgroundImage:t.cross?`url(${o.value}), url(${o.value})`:`url(${o.value})`}});return t.fullscreen&&!c?p:g("div",{class:[`${f}-watermark-container`,c!==0&&`${f}-watermark-container--global-rotate`,d&&`${f}-watermark-container--fullscreen`,t.selectable&&`${f}-watermark-container--selectable`],style:{zIndex:m?u:void 0}},(l=e.default)===null||l===void 0?void 0:l.call(e),p)}}}),vS=Object.freeze(Object.defineProperty({__proto__:null,NA:QZ,NAffix:gE,NAlert:HU,NAnchor:QU,NAnchorLink:KU,NAutoComplete:hH,NAvatar:yp,NAvatarGroup:yH,NBackTop:TH,NBadge:IH,NBlockquote:JZ,NBreadcrumb:$H,NBreadcrumbItem:MH,NButton:At,NButtonGroup:Ph,NCalendar:T7,NCard:Qk,NCarousel:W7,NCarouselItem:eP,NCascader:oV,NCheckbox:os,NCheckboxGroup:sP,NCode:fP,NCol:d_,NCollapse:dV,NCollapseItem:fV,NCollapseTransition:pV,NColorPicker:VV,NConfigProvider:I0,NCountdown:jV,NDataTable:oW,NDatePicker:QW,NDescriptions:rK,NDescriptionsItem:oK,NDialog:W0,NDialogProvider:KA,NDivider:XK,NDrawer:hG,NDrawerContent:gG,NDropdown:$h,NDynamicInput:CG,NDynamicTags:kG,NEl:IC,NElement:IC,NEllipsis:Lh,NEmpty:Gi,NEquation:IG,NFlex:OG,NFloatButton:lY,NFloatButtonGroup:rY,NForm:uY,NFormItem:Q0,NFormItemCol:u_,NFormItemGi:NC,NFormItemGridItem:NC,NFormItemRow:nX,NGi:zp,NGlobalStyle:g_,NGradientText:oX,NGrid:sX,NGridItem:zp,NH1:tJ,NH2:nJ,NH3:rJ,NH4:oJ,NH5:iJ,NH6:sJ,NHighlight:lX,NHr:lJ,NIcon:Oh,NIconWrapper:fX,NImage:k_,NImageGroup:T_,NInfiniteScroll:CX,NInput:tr,NInputGroup:tk,NInputGroupLabel:sH,NInputNumber:TX,NInputOtp:PX,NLayout:IX,NLayoutContent:_X,NLayoutFooter:DX,NLayoutHeader:$X,NLayoutSider:zX,NLegacyTransfer:KX,NLi:cJ,NList:qX,NListItem:YX,NLoadingBarProvider:XA,NLog:JX,NMarquee:oQ,NMention:aQ,NMenu:pQ,NMessageProvider:rI,NModal:q0,NModalProvider:sI,NNotificationProvider:dI,NNumberAnimation:yQ,NOl:dJ,NP:fJ,NPageHeader:CQ,NPagination:BP,NPerformantEllipsis:oA,NPopconfirm:RQ,NPopover:ja,NPopselect:kP,NProgress:n2,NQrCode:FQ,NRadio:M0,NRadioButton:mj,NRadioGroup:tA,NRate:zQ,NResult:KQ,NRow:c_,NScrollbar:GQ,NSelect:LP,NSkeleton:ZQ,NSlider:tZ,NSpace:wI,NSpin:oZ,NSplit:cZ,NStatistic:uZ,NStep:pZ,NSteps:mZ,NSwitch:p2,NTab:Nf,NTabPane:TZ,NTable:yZ,NTabs:kZ,NTag:Vc,NTbody:xZ,NTd:CZ,NText:gJ,NTh:SZ,NThead:wZ,NThing:AZ,NTime:IZ,NTimePicker:zf,NTimeline:LZ,NTimelineItem:DZ,NTooltip:_h,NTr:RZ,NTransfer:FZ,NTree:_2,NTreeSelect:YZ,NUl:mJ,NUpload:DJ,NUploadDragger:U2,NUploadFileList:j2,NUploadTrigger:lb,NVirtualList:OJ,NWatermark:MJ,NxButton:Ko,aProps:D2,affixProps:Th,alertProps:KE,anchorLinkProps:qE,anchorProps:YE,autoCompleteProps:sk,avatarGroupProps:mk,avatarProps:hk,backTopProps:vk,badgeProps:bk,blockquoteProps:O2,breadcrumbItemProps:Sk,breadcrumbProps:Ck,buttonGroupProps:kk,buttonProps:Tk,calendarProps:Kk,cardProps:Xk,carouselProps:tP,cascaderProps:lP,checkboxGroupProps:iP,checkboxProps:aP,codeProps:uP,colProps:Nh,collapseItemProps:pP,collapseProps:gP,collapseTransitionProps:bP,colorPickerProps:CP,configProviderProps:SP,countdownProps:wP,createDiscreteApi:KK,dataTableProps:KP,datePickerProps:PA,descriptionsItemProps:LA,descriptionsProps:_A,dialogProps:Ud,dialogProviderProps:WA,dividerProps:hI,drawerContentProps:pI,drawerProps:mI,dropdownProps:uA,dynamicInputProps:bI,dynamicTagsProps:RI,elementProps:TI,ellipsisProps:B0,emptyProps:AE,equationProps:EI,flexProps:PI,floatButtonGroupProps:t_,floatButtonProps:r_,formItemGiProps:Np,formItemGridItemProps:Np,formItemProps:Vd,formProps:i_,giProps:hd,gradientTextProps:m_,gridItemProps:hd,gridProps:v_,h1Props:aa,h2Props:aa,h3Props:aa,h4Props:aa,h5Props:aa,h6Props:aa,highlightProps:b_,iconProps:aA,iconWrapperProps:x_,imageGroupProps:R_,imageProps:E_,infiniteScrollProps:P_,inputGroupLabelProps:nk,inputGroupProps:ek,inputNumberProps:A_,inputOtpProps:I_,inputProps:JE,layoutContentProps:Up,layoutFooterProps:O_,layoutHeaderProps:$_,layoutProps:Up,layoutSiderProps:F_,legacyTransferProps:B_,listProps:z_,loadingBarProviderProps:YA,logProps:H_,mentionProps:j_,menuProps:Y_,messageProviderProps:nI,modalProps:G0,modalProviderProps:iI,notificationProviderProps:cI,numberAnimationProps:X_,olProps:F2,pProps:M2,pageHeaderProps:Q_,paginationProps:MP,popconfirmProps:e2,popoverProps:OE,popselectProps:EP,progressProps:t2,qrCodeProps:r2,radioButtonProps:gj,radioGroupProps:eA,radioProps:JP,rateProps:o2,resultProps:i2,rowProps:zh,scrollbarProps:s2,selectProps:_P,skeletonProps:a2,sliderProps:l2,spaceProps:SI,spinProps:c2,splitProps:d2,statisticProps:u2,stepProps:g2,stepsProps:f2,switchProps:m2,tabPaneProps:sb,tabProps:b2,tableProps:v2,tabsProps:y2,tagProps:zE,textProps:B2,thingProps:x2,timePickerProps:kA,timeProps:C2,timelineItemProps:R2,timelineProps:S2,tooltipProps:nA,transferProps:T2,treeGetClickTarget:jZ,treeProps:I2,treeSelectProps:L2,ulProps:z2,uploadDownload:K3,uploadProps:K2,useDialog:FA,useDialogReactiveList:iK,useLoadingBar:QA,useMessage:oI,useModal:jA,useModalReactiveList:fK,useNotification:uI,virtualListProps:G2,watermarkProps:q2},Symbol.toStringTag,{value:"Module"})),BJ="2.42.0";function zJ({componentPrefix:t="N",components:e=[]}={}){const n=[];function r(i,s,a){i.component(t+s)||i.component(t+s,a)}function o(i){n.includes(i)||(n.push(i),e.forEach(s=>{const{name:a,alias:l}=s;r(i,a,s),l&&l.forEach(c=>{r(i,c,s)})}))}return{version:BJ,componentPrefix:t,install:o}}const Y2=zJ({components:Object.keys(vS).map(t=>vS[t])});Y2.install;const NJ=()=>({}),UJ={name:"Equation",common:st,self:NJ},HJ={name:"FloatButtonGroup",common:st,self(t){const{popoverColor:e,dividerColor:n,borderRadius:r}=t;return{color:e,buttonBorderColor:n,borderRadiusSquare:r,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)"}}},bS={name:"dark",common:st,Alert:FU,Anchor:WU,AutoComplete:dH,Avatar:uk,AvatarGroup:vH,BackTop:xH,Badge:EH,Breadcrumb:DH,Button:ao,ButtonGroup:$G,Calendar:w7,Card:Yk,Carousel:I7,Cascader:Y7,Checkbox:Ql,Code:cP,Collapse:lV,CollapseTransition:gV,ColorPicker:bV,DataTable:rj,DatePicker:lW,Descriptions:eK,Dialog:zA,Divider:qK,Drawer:ZK,Dropdown:O0,DynamicInput:mG,DynamicTags:RG,Element:PG,Empty:Ua,Ellipsis:UP,Equation:UJ,Flex:_G,Form:MG,GradientText:BG,Icon:Aj,IconWrapper:dX,Image:hX,Input:Co,InputNumber:UG,InputOtp:WG,LegacyTransfer:NX,Layout:KG,List:XG,LoadingBar:yK,Log:QG,Menu:iq,Mention:eq,Message:EK,Modal:dK,Notification:$K,PageHeader:lq,Pagination:$P,Popconfirm:uq,Popover:Va,Popselect:RP,Progress:BI,QrCode:_Q,Radio:jP,Rate:fq,Result:vq,Row:qG,Scrollbar:oo,Select:IP,Skeleton:qQ,Slider:bq,Space:xI,Spin:Sq,Statistic:Rq,Steps:kq,Switch:Pq,Table:Dq,Tabs:Fq,Tag:FE,Thing:Bq,TimePicker:vA,Timeline:zq,Tooltip:Ah,Transfer:Hq,Tree:ZI,TreeSelect:Wq,Typography:Yq,Upload:Qq,Watermark:Zq,Split:iZ,FloatButton:oY,FloatButtonGroup:HJ,Marquee:tQ},VJ={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},jJ=gF('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15.5 18.5l-3 1.5l.5-3.5l-2-2l3-.5l1.5-3l1.5 3l3 .5l-2 2l.5 3.5z"></path><path d="M4 4l7 7"></path><path d="M9 4l3.5 3.5"></path><path d="M4 9l3.5 3.5"></path></g>',1),WJ=[jJ],KJ=ce({name:"Comet",render:function(e,n){return Ln(),mr("svg",VJ,WJ)}}),GJ={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},qJ=Ht("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Ht("rect",{x:"6",y:"5",width:"4",height:"14",rx:"1"}),Ht("rect",{x:"14",y:"5",width:"4",height:"14",rx:"1"})],-1),YJ=[qJ],XJ=ce({name:"PlayerPause",render:function(e,n){return Ln(),mr("svg",GJ,YJ)}}),QJ={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ZJ=Ht("path",{d:"M7 4v16l13-8z",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),JJ=[ZJ],eee=ce({name:"PlayerPlay",render:function(e,n){return Ln(),mr("svg",QJ,JJ)}});/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let X2;const Hh=t=>X2=t,Q2=Symbol();function Kp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Wc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Wc||(Wc={}));function tee(){const t=ww(!0),e=t.run(()=>z({}));let n=[],r=[];const o=Jc({install(i){Hh(o),o._a=i,i.provide(Q2,o),i.config.globalProperties.$pinia=o,r.forEach(s=>n.push(s)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const Z2=()=>{};function yS(t,e,n,r=Z2){t.push(e);const o=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Rw()&&KO(o),o}function ol(t,...e){t.slice().forEach(n=>{n(...e)})}const nee=t=>t(),xS=Symbol(),om=Symbol();function Gp(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],o=t[n];Kp(o)&&Kp(r)&&t.hasOwnProperty(n)&&!Hn(r)&&!bi(r)?t[n]=Gp(o,r):t[n]=r}return t}const ree=Symbol();function oee(t){return!Kp(t)||!Object.prototype.hasOwnProperty.call(t,ree)}const{assign:ms}=Object;function iee(t){return!!(Hn(t)&&t.effect)}function see(t,e,n,r){const{state:o,actions:i,getters:s}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=o?o():{});const d=g$(n.state.value[t]);return ms(d,i,Object.keys(s||{}).reduce((u,f)=>(u[f]=Jc(A(()=>{Hh(n);const m=n._s.get(t);return s[f].call(m,m)})),u),{}))}return l=J2(t,c,e,n,r,!0),l}function J2(t,e,n={},r,o,i){let s;const a=ms({actions:{}},n),l={deep:!0};let c,d,u=[],f=[],m;const h=r.state.value[t];!i&&!h&&(r.state.value[t]={}),z({});let p;function v(E){let R;c=d=!1,typeof E=="function"?(E(r.state.value[t]),R={type:Wc.patchFunction,storeId:t,events:m}):(Gp(r.state.value[t],E),R={type:Wc.patchObject,payload:E,storeId:t,events:m});const P=p=Symbol();$t().then(()=>{p===P&&(c=!0)}),d=!0,ol(u,R,r.state.value[t])}const b=i?function(){const{state:R}=n,P=R?R():{};this.$patch(_=>{ms(_,P)})}:Z2;function y(){s.stop(),u=[],f=[],r._s.delete(t)}const x=(E,R="")=>{if(xS in E)return E[om]=R,E;const P=function(){Hh(r);const _=Array.from(arguments),I=[],L=[];function N(W){I.push(W)}function H(W){L.push(W)}ol(f,{args:_,name:P[om],store:S,after:N,onError:H});let G;try{G=E.apply(this&&this.$id===t?this:S,_)}catch(W){throw ol(L,W),W}return G instanceof Promise?G.then(W=>(ol(I,W),W)).catch(W=>(ol(L,W),Promise.reject(W))):(ol(I,G),G)};return P[xS]=!0,P[om]=R,P},C={_p:r,$id:t,$onAction:yS.bind(null,f),$patch:v,$reset:b,$subscribe(E,R={}){const P=yS(u,E,R.detached,()=>_()),_=s.run(()=>gt(()=>r.state.value[t],I=>{(R.flush==="sync"?d:c)&&E({storeId:t,type:Wc.direct,events:m},I)},ms({},l,R)));return P},$dispose:y},S=Ri(C);r._s.set(t,S);const w=(r._a&&r._a.runWithContext||nee)(()=>r._e.run(()=>(s=ww()).run(()=>e({action:x}))));for(const E in w){const R=w[E];if(Hn(R)&&!iee(R)||bi(R))i||(h&&oee(R)&&(Hn(R)?R.value=h[E]:Gp(R,h[E])),r.state.value[t][E]=R);else if(typeof R=="function"){const P=x(R,E);w[E]=P,a.actions[E]=R}}return ms(S,w),ms(Jt(S),w),Object.defineProperty(S,"$state",{get:()=>r.state.value[t],set:E=>{v(R=>{ms(R,E)})}}),r._p.forEach(E=>{ms(S,s.run(()=>E({store:S,app:r._a,pinia:r,options:a})))}),h&&i&&n.hydrate&&n.hydrate(S.$state,h),c=!0,d=!0,S}/*! #__NO_SIDE_EFFECTS__ */function Vh(t,e,n){let r;const o=typeof e=="function";r=o?n:e;function i(s,a){const l=j$();return s=s||(l?Ve(Q2,null):null),s&&Hh(s),s=X2,s._s.has(t)||(o?J2(t,e,r,s):see(t,r,s)),s._s.get(t)}return i.$id=t,i}function md(t){const e=Jt(t),n={};for(const r in e){const o=e[r];o.effect?n[r]=A({get:()=>t[r],set(i){t[r]=i}}):(Hn(o)||bi(o))&&(n[r]=Se(t,r))}return n}const CS="mixpla_last_station",SS="mixpla_last_theme",pl={saveLastStation(t){typeof t=="string"&&localStorage.setItem(CS,t)},getLastStation(){return localStorage.getItem(CS)},saveLastTheme(t){typeof t=="string"&&localStorage.setItem(SS,t)},getLastTheme(){return localStorage.getItem(SS)}},cb=Vh("ui",()=>{const t=z(pl.getLastTheme()||"light");function e(){t.value=t.value==="light"?"dark":"light"}return gt(t,n=>{pl.saveLastTheme(n),n==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark")}),t.value==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark"),{theme:t,toggleTheme:e}}),aee="modulepreload",lee=function(t){return"/"+t},wS={},cee=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(l=>{if(l=lee(l),l in wS)return;wS[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":aee,c||(u.as="script"),u.crossOrigin="",u.href=l,a&&u.setAttribute("nonce",a),document.head.appendChild(u),c)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function eL(t){if(!(this instanceof eL))throw new Error("The 'Keycloak' constructor must be invoked with 'new'.");if(typeof t!="string"&&!sm(t))throw new Error("The 'Keycloak' constructor must be provided with a configuration object, or a URL to a JSON configuration file.");if(sm(t)){const D="oidcProvider"in t?["clientId"]:["url","realm","clientId"];for(const B of D)if(!t[B])throw new Error(`The configuration object is missing the required '${B}' property.`)}var e=this,n,r=[],o,i={enable:!0,callbackList:[],interval:5};e.didInitialize=!1;var s=!0,a=ne(console.info),l=ne(console.warn);globalThis.isSecureContext||l(`[KEYCLOAK] Keycloak JS must be used in a 'secure context' to function properly as it relies on browser APIs that are otherwise not available.
Continuing to run your application insecurely will lead to unexpected behavior and breakage.

For more information see: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts`),e.init=function(D={}){if(e.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");e.didInitialize=!0,e.authenticated=!1,o=J();var B=["default","cordova","cordova-native"];if(B.indexOf(D.adapter)>-1?n=N(D.adapter):typeof D.adapter=="object"?n=D.adapter:window.Cordova||window.cordova?n=N("cordova"):n=N(),typeof D.useNonce<"u"&&(s=D.useNonce),typeof D.checkLoginIframe<"u"&&(i.enable=D.checkLoginIframe),D.checkLoginIframeInterval&&(i.interval=D.checkLoginIframeInterval),D.onLoad==="login-required"&&(e.loginRequired=!0),D.responseMode)if(D.responseMode==="query"||D.responseMode==="fragment")e.responseMode=D.responseMode;else throw"Invalid value for responseMode";if(D.flow){switch(D.flow){case"standard":e.responseType="code";break;case"implicit":e.responseType="id_token token";break;case"hybrid":e.responseType="code id_token token";break;default:throw"Invalid value for flow"}e.flow=D.flow}if(D.timeSkew!=null&&(e.timeSkew=D.timeSkew),D.redirectUri&&(e.redirectUri=D.redirectUri),D.silentCheckSsoRedirectUri&&(e.silentCheckSsoRedirectUri=D.silentCheckSsoRedirectUri),typeof D.silentCheckSsoFallback=="boolean"?e.silentCheckSsoFallback=D.silentCheckSsoFallback:e.silentCheckSsoFallback=!0,typeof D.pkceMethod<"u"){if(D.pkceMethod!=="S256"&&D.pkceMethod!==!1)throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${D.pkceMethod}.`);e.pkceMethod=D.pkceMethod}else e.pkceMethod="S256";typeof D.enableLogging=="boolean"?e.enableLogging=D.enableLogging:e.enableLogging=!1,D.logoutMethod==="POST"?e.logoutMethod="POST":e.logoutMethod="GET",typeof D.scope=="string"&&(e.scope=D.scope),typeof D.acrValues=="string"&&(e.acrValues=D.acrValues),typeof D.messageReceiveTimeout=="number"&&D.messageReceiveTimeout>0?e.messageReceiveTimeout=D.messageReceiveTimeout:e.messageReceiveTimeout=1e4,e.responseMode||(e.responseMode="fragment"),e.responseType||(e.responseType="code",e.flow="standard");var j=E(),$=E();$.promise.then(function(){e.onReady&&e.onReady(e.authenticated),j.setSuccess(e.authenticated)}).catch(function(q){j.setError(q)});var V=b();function X(){var q=function(he){he||(K.prompt="none"),D.locale&&(K.locale=D.locale),e.login(K).then(function(){$.setSuccess()}).catch(function(Ie){$.setError(Ie)})},ue=async function(){var he=document.createElement("iframe"),Ie=await e.createLoginUrl({prompt:"none",redirectUri:e.silentCheckSsoRedirectUri});he.setAttribute("src",Ie),he.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),he.setAttribute("title","keycloak-silent-check-sso"),he.style.display="none",document.body.appendChild(he);var Q=function(Y){if(!(Y.origin!==window.location.origin||he.contentWindow!==Y.source)){var re=S(Y.data);v(re,$),document.body.removeChild(he),window.removeEventListener("message",Q)}};window.addEventListener("message",Q)},K={};switch(D.onLoad){case"check-sso":i.enable?P().then(function(){I().then(function(he){he?$.setSuccess():e.silentCheckSsoRedirectUri?ue():q(!1)}).catch(function(he){$.setError(he)})}):e.silentCheckSsoRedirectUri?ue():q(!1);break;case"login-required":q(!0);break;default:throw"Invalid value for onLoad"}}function Z(){var q=S(window.location.href);if(q&&window.history.replaceState(window.history.state,null,q.newUrl),q&&q.valid)return P().then(function(){v(q,$)}).catch(function(ue){$.setError(ue)});D.token&&D.refreshToken?(x(D.token,D.refreshToken,D.idToken),i.enable?P().then(function(){I().then(function(ue){ue?(e.onAuthSuccess&&e.onAuthSuccess(),$.setSuccess(),_()):$.setSuccess()}).catch(function(ue){$.setError(ue)})}):e.updateToken(-1).then(function(){e.onAuthSuccess&&e.onAuthSuccess(),$.setSuccess()}).catch(function(ue){e.onAuthError&&e.onAuthError(),D.onLoad?X():$.setError(ue)})):D.onLoad?X():$.setSuccess()}return V.then(function(){L().then(Z).catch(function(q){j.setError(q)})}),V.catch(function(q){j.setError(q)}),j.promise},e.login=function(D){return n.login(D)};function c(D){if(typeof crypto>"u"||typeof crypto.getRandomValues>"u")throw new Error("Web Crypto API is not available.");return crypto.getRandomValues(new Uint8Array(D))}function d(D){return u(D,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function u(D,B){for(var j=c(D),$=new Array(D),V=0;V<D;V++)$[V]=B.charCodeAt(j[V]%B.length);return String.fromCharCode.apply(null,$)}async function f(D,B){if(D!=="S256")throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${D}'.`);const j=new Uint8Array(await uee(B));return dee(j).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function m(D){var B={id_token:{acr:D}};return JSON.stringify(B)}e.createLoginUrl=async function(D){var B=C(),j=C(),$=n.redirectUri(D),V={state:B,nonce:j,redirectUri:encodeURIComponent($),loginOptions:D};D&&D.prompt&&(V.prompt=D.prompt);var X;D&&D.action=="register"?X=e.endpoints.register():X=e.endpoints.authorize();var Z=D&&D.scope||e.scope;Z?Z.indexOf("openid")===-1&&(Z="openid "+Z):Z="openid";var q=X+"?client_id="+encodeURIComponent(e.clientId)+"&redirect_uri="+encodeURIComponent($)+"&state="+encodeURIComponent(B)+"&response_mode="+encodeURIComponent(e.responseMode)+"&response_type="+encodeURIComponent(e.responseType)+"&scope="+encodeURIComponent(Z);if(s&&(q=q+"&nonce="+encodeURIComponent(j)),D&&D.prompt&&(q+="&prompt="+encodeURIComponent(D.prompt)),D&&typeof D.maxAge=="number"&&(q+="&max_age="+encodeURIComponent(D.maxAge)),D&&D.loginHint&&(q+="&login_hint="+encodeURIComponent(D.loginHint)),D&&D.idpHint&&(q+="&kc_idp_hint="+encodeURIComponent(D.idpHint)),D&&D.action&&D.action!="register"&&(q+="&kc_action="+encodeURIComponent(D.action)),D&&D.locale&&(q+="&ui_locales="+encodeURIComponent(D.locale)),D&&D.acr){var ue=m(D.acr);q+="&claims="+encodeURIComponent(ue)}if((D&&D.acrValues||e.acrValues)&&(q+="&acr_values="+encodeURIComponent(D.acrValues||e.acrValues)),e.pkceMethod)try{const K=d(96),he=await f(e.pkceMethod,K);V.pkceCodeVerifier=K,q+="&code_challenge="+he,q+="&code_challenge_method="+e.pkceMethod}catch(K){throw new Error("Failed to generate PKCE challenge.",{cause:K})}return o.add(V),q},e.logout=function(D){return n.logout(D)},e.createLogoutUrl=function(D){if(((D==null?void 0:D.logoutMethod)??e.logoutMethod)==="POST")return e.endpoints.logout();var j=e.endpoints.logout()+"?client_id="+encodeURIComponent(e.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(n.redirectUri(D,!1));return e.idToken&&(j+="&id_token_hint="+encodeURIComponent(e.idToken)),j},e.register=function(D){return n.register(D)},e.createRegisterUrl=async function(D){return D||(D={}),D.action="register",await e.createLoginUrl(D)},e.createAccountUrl=function(D){var B=h(),j=void 0;return typeof B<"u"&&(j=B+"/account?referrer="+encodeURIComponent(e.clientId)+"&referrer_uri="+encodeURIComponent(n.redirectUri(D))),j},e.accountManagement=function(){return n.accountManagement()},e.hasRealmRole=function(D){var B=e.realmAccess;return!!B&&B.roles.indexOf(D)>=0},e.hasResourceRole=function(D,B){if(!e.resourceAccess)return!1;var j=e.resourceAccess[B||e.clientId];return!!j&&j.roles.indexOf(D)>=0},e.loadUserProfile=function(){var D=h()+"/account",B=new XMLHttpRequest;B.open("GET",D,!0),B.setRequestHeader("Accept","application/json"),B.setRequestHeader("Authorization","bearer "+e.token);var j=E();return B.onreadystatechange=function(){B.readyState==4&&(B.status==200?(e.profile=JSON.parse(B.responseText),j.setSuccess(e.profile)):j.setError())},B.send(),j.promise},e.loadUserInfo=function(){var D=e.endpoints.userinfo(),B=new XMLHttpRequest;B.open("GET",D,!0),B.setRequestHeader("Accept","application/json"),B.setRequestHeader("Authorization","bearer "+e.token);var j=E();return B.onreadystatechange=function(){B.readyState==4&&(B.status==200?(e.userInfo=JSON.parse(B.responseText),j.setSuccess(e.userInfo)):j.setError())},B.send(),j.promise},e.isTokenExpired=function(D){if(!e.tokenParsed||!e.refreshToken&&e.flow!="implicit")throw"Not authenticated";if(e.timeSkew==null)return a("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var B=e.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+e.timeSkew;if(D){if(isNaN(D))throw"Invalid minValidity";B-=D}return B<0},e.updateToken=function(D){var B=E();if(!e.refreshToken)return B.setError(),B.promise;D=D||5;var j=function(){var V=!1;if(D==-1?(V=!0,a("[KEYCLOAK] Refreshing token: forced refresh")):(!e.tokenParsed||e.isTokenExpired(D))&&(V=!0,a("[KEYCLOAK] Refreshing token: token expired")),!V)B.setSuccess(!1);else{var X="grant_type=refresh_token&refresh_token="+e.refreshToken,Z=e.endpoints.token();if(r.push(B),r.length==1){var q=new XMLHttpRequest;q.open("POST",Z,!0),q.setRequestHeader("Content-type","application/x-www-form-urlencoded"),q.withCredentials=!0,X+="&client_id="+encodeURIComponent(e.clientId);var ue=new Date().getTime();q.onreadystatechange=function(){if(q.readyState==4)if(q.status==200){a("[KEYCLOAK] Token refreshed"),ue=(ue+new Date().getTime())/2;var K=JSON.parse(q.responseText);x(K.access_token,K.refresh_token,K.id_token,ue),e.onAuthRefreshSuccess&&e.onAuthRefreshSuccess();for(var he=r.pop();he!=null;he=r.pop())he.setSuccess(!0)}else{l("[KEYCLOAK] Failed to refresh token"),q.status==400&&e.clearToken(),e.onAuthRefreshError&&e.onAuthRefreshError();for(var he=r.pop();he!=null;he=r.pop())he.setError("Failed to refresh token: An unexpected HTTP error occurred while attempting to refresh the token.")}},q.send(X)}}};if(i.enable){var $=I();$.then(function(){j()}).catch(function(V){B.setError(V)})}else j();return B.promise},e.clearToken=function(){e.token&&(x(null,null,null),e.onAuthLogout&&e.onAuthLogout(),e.loginRequired&&e.login())};function h(){if(typeof e.authServerUrl<"u")return e.authServerUrl.charAt(e.authServerUrl.length-1)=="/"?e.authServerUrl+"realms/"+encodeURIComponent(e.realm):e.authServerUrl+"/realms/"+encodeURIComponent(e.realm)}function p(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function v(D,B){var j=D.code,$=D.error,V=D.prompt,X=new Date().getTime();if(D.kc_action_status&&e.onActionUpdate&&e.onActionUpdate(D.kc_action_status,D.kc_action),$){if(V!="none")if(D.error_description&&D.error_description==="authentication_expired")e.login(D.loginOptions);else{var Z={error:$,error_description:D.error_description};e.onAuthError&&e.onAuthError(Z),B&&B.setError(Z)}else B&&B.setSuccess();return}else e.flow!="standard"&&(D.access_token||D.id_token)&&he(D.access_token,null,D.id_token,!0);if(e.flow!="implicit"&&j){var q="code="+j+"&grant_type=authorization_code",ue=e.endpoints.token(),K=new XMLHttpRequest;K.open("POST",ue,!0),K.setRequestHeader("Content-type","application/x-www-form-urlencoded"),q+="&client_id="+encodeURIComponent(e.clientId),q+="&redirect_uri="+D.redirectUri,D.pkceCodeVerifier&&(q+="&code_verifier="+D.pkceCodeVerifier),K.withCredentials=!0,K.onreadystatechange=function(){if(K.readyState==4)if(K.status==200){var Ie=JSON.parse(K.responseText);he(Ie.access_token,Ie.refresh_token,Ie.id_token,e.flow==="standard"),_()}else e.onAuthError&&e.onAuthError(),B&&B.setError()},K.send(q)}function he(Ie,Q,Y,re){X=(X+new Date().getTime())/2,x(Ie,Q,Y,X),s&&e.idTokenParsed&&e.idTokenParsed.nonce!=D.storedNonce?(a("[KEYCLOAK] Invalid nonce, clearing token"),e.clearToken(),B&&B.setError()):re&&(e.onAuthSuccess&&e.onAuthSuccess(),B&&B.setSuccess())}}function b(){var D=E(),B;typeof t=="string"&&(B=t);function j(Z){Z?e.endpoints={authorize:function(){return Z.authorization_endpoint},token:function(){return Z.token_endpoint},logout:function(){if(!Z.end_session_endpoint)throw"Not supported by the OIDC server";return Z.end_session_endpoint},checkSessionIframe:function(){if(!Z.check_session_iframe)throw"Not supported by the OIDC server";return Z.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!Z.userinfo_endpoint)throw"Not supported by the OIDC server";return Z.userinfo_endpoint}}:e.endpoints={authorize:function(){return h()+"/protocol/openid-connect/auth"},token:function(){return h()+"/protocol/openid-connect/token"},logout:function(){return h()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){return h()+"/protocol/openid-connect/login-status-iframe.html"},thirdPartyCookiesIframe:function(){return h()+"/protocol/openid-connect/3p-cookies/step1.html"},register:function(){return h()+"/protocol/openid-connect/registrations"},userinfo:function(){return h()+"/protocol/openid-connect/userinfo"}}}if(B){var $=new XMLHttpRequest;$.open("GET",B,!0),$.setRequestHeader("Accept","application/json"),$.onreadystatechange=function(){if($.readyState==4)if($.status==200||y($)){var Z=JSON.parse($.responseText);e.authServerUrl=Z["auth-server-url"],e.realm=Z.realm,e.clientId=Z.resource,j(null),D.setSuccess()}else D.setError()},$.send()}else{e.clientId=t.clientId;var V=t.oidcProvider;if(!V)e.authServerUrl=t.url,e.realm=t.realm,j(null),D.setSuccess();else if(typeof V=="string"){var X;V.charAt(V.length-1)=="/"?X=V+".well-known/openid-configuration":X=V+"/.well-known/openid-configuration";var $=new XMLHttpRequest;$.open("GET",X,!0),$.setRequestHeader("Accept","application/json"),$.onreadystatechange=function(){if($.readyState==4)if($.status==200||y($)){var q=JSON.parse($.responseText);j(q),D.setSuccess()}else D.setError()},$.send()}else j(V),D.setSuccess()}return D.promise}function y(D){return D.status==0&&D.responseText&&D.responseURL.startsWith("file:")}function x(D,B,j,$){if(e.tokenTimeoutHandle&&(clearTimeout(e.tokenTimeoutHandle),e.tokenTimeoutHandle=null),B?(e.refreshToken=B,e.refreshTokenParsed=im(B)):(delete e.refreshToken,delete e.refreshTokenParsed),j?(e.idToken=j,e.idTokenParsed=im(j)):(delete e.idToken,delete e.idTokenParsed),D){if(e.token=D,e.tokenParsed=im(D),e.sessionId=e.tokenParsed.sid,e.authenticated=!0,e.subject=e.tokenParsed.sub,e.realmAccess=e.tokenParsed.realm_access,e.resourceAccess=e.tokenParsed.resource_access,$&&(e.timeSkew=Math.floor($/1e3)-e.tokenParsed.iat),e.timeSkew!=null&&(a("[KEYCLOAK] Estimated time difference between browser and server is "+e.timeSkew+" seconds"),e.onTokenExpired)){var V=(e.tokenParsed.exp-new Date().getTime()/1e3+e.timeSkew)*1e3;a("[KEYCLOAK] Token expires in "+Math.round(V/1e3)+" s"),V<=0?e.onTokenExpired():e.tokenTimeoutHandle=setTimeout(e.onTokenExpired,V)}}else delete e.token,delete e.tokenParsed,delete e.subject,delete e.realmAccess,delete e.resourceAccess,e.authenticated=!1}function C(){if(typeof crypto>"u"||typeof crypto.randomUUID>"u")throw new Error("Web Crypto API is not available.");return crypto.randomUUID()}function S(D){var B=T(D);if(B){var j=o.get(B.state);return j&&(B.valid=!0,B.redirectUri=j.redirectUri,B.storedNonce=j.nonce,B.prompt=j.prompt,B.pkceCodeVerifier=j.pkceCodeVerifier,B.loginOptions=j.loginOptions),B}}function T(D){var B;switch(e.flow){case"standard":B=["code","state","session_state","kc_action_status","kc_action","iss"];break;case"implicit":B=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","kc_action","iss"];break;case"hybrid":B=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","kc_action","iss"];break}B.push("error"),B.push("error_description"),B.push("error_uri");var j=D.indexOf("?"),$=D.indexOf("#"),V,X;if(e.responseMode==="query"&&j!==-1?(V=D.substring(0,j),X=w(D.substring(j+1,$!==-1?$:D.length),B),X.paramsString!==""&&(V+="?"+X.paramsString),$!==-1&&(V+=D.substring($))):e.responseMode==="fragment"&&$!==-1&&(V=D.substring(0,$),X=w(D.substring($+1),B),X.paramsString!==""&&(V+="#"+X.paramsString)),X&&X.oauthParams){if(e.flow==="standard"||e.flow==="hybrid"){if((X.oauthParams.code||X.oauthParams.error)&&X.oauthParams.state)return X.oauthParams.newUrl=V,X.oauthParams}else if(e.flow==="implicit"&&(X.oauthParams.access_token||X.oauthParams.error)&&X.oauthParams.state)return X.oauthParams.newUrl=V,X.oauthParams}}function w(D,B){for(var j=D.split("&"),$={paramsString:"",oauthParams:{}},V=0;V<j.length;V++){var X=j[V].indexOf("="),Z=j[V].slice(0,X);B.indexOf(Z)!==-1?$.oauthParams[Z]=j[V].slice(X+1):($.paramsString!==""&&($.paramsString+="&"),$.paramsString+=j[V])}return $}function E(){var D={setSuccess:function(B){D.resolve(B)},setError:function(B){D.reject(B)}};return D.promise=new Promise(function(B,j){D.resolve=B,D.reject=j}),D}function R(D,B,j){var $=null,V=new Promise(function(X,Z){$=setTimeout(function(){Z({error:j})},B)});return Promise.race([D,V]).finally(function(){clearTimeout($)})}function P(){var D=E();if(!i.enable||i.iframe)return D.setSuccess(),D.promise;var B=document.createElement("iframe");i.iframe=B,B.onload=function(){var V=e.endpoints.authorize();V.charAt(0)==="/"?i.iframeOrigin=p():i.iframeOrigin=V.substring(0,V.indexOf("/",8)),D.setSuccess()};var j=e.endpoints.checkSessionIframe();B.setAttribute("src",j),B.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),B.setAttribute("title","keycloak-session-iframe"),B.style.display="none",document.body.appendChild(B);var $=function(V){if(!(V.origin!==i.iframeOrigin||i.iframe.contentWindow!==V.source)&&(V.data=="unchanged"||V.data=="changed"||V.data=="error")){V.data!="unchanged"&&e.clearToken();for(var X=i.callbackList.splice(0,i.callbackList.length),Z=X.length-1;Z>=0;--Z){var q=X[Z];V.data=="error"?q.setError():q.setSuccess(V.data=="unchanged")}}};return window.addEventListener("message",$,!1),D.promise}function _(){i.enable&&e.token&&setTimeout(function(){I().then(function(D){D&&_()})},i.interval*1e3)}function I(){var D=E();if(i.iframe&&i.iframeOrigin){var B=e.clientId+" "+(e.sessionId?e.sessionId:"");i.callbackList.push(D);var j=i.iframeOrigin;i.callbackList.length==1&&i.iframe.contentWindow.postMessage(B,j)}else D.setSuccess();return D.promise}function L(){var D=E();if((i.enable||e.silentCheckSsoRedirectUri)&&typeof e.endpoints.thirdPartyCookiesIframe=="function"){var B=document.createElement("iframe");B.setAttribute("src",e.endpoints.thirdPartyCookiesIframe()),B.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),B.setAttribute("title","keycloak-3p-check-iframe"),B.style.display="none",document.body.appendChild(B);var j=function($){B.contentWindow===$.source&&($.data!=="supported"&&$.data!=="unsupported"||($.data==="unsupported"&&(l(`[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:

 - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).
 - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).

For more information see: https://www.keycloak.org/securing-apps/javascript-adapter#_modern_browsers`),i.enable=!1,e.silentCheckSsoFallback&&(e.silentCheckSsoRedirectUri=!1)),document.body.removeChild(B),window.removeEventListener("message",j),D.setSuccess()))};window.addEventListener("message",j,!1)}else D.setSuccess();return R(D.promise,e.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function N(D){if(!D||D=="default")return{login:async function(Z){return window.location.assign(await e.createLoginUrl(Z)),E().promise},logout:async function(Z){if(((Z==null?void 0:Z.logoutMethod)??e.logoutMethod)==="GET"){window.location.replace(e.createLogoutUrl(Z));return}const ue=document.createElement("form");ue.setAttribute("method","POST"),ue.setAttribute("action",e.createLogoutUrl(Z)),ue.style.display="none";const K={id_token_hint:e.idToken,client_id:e.clientId,post_logout_redirect_uri:n.redirectUri(Z,!1)};for(const[he,Ie]of Object.entries(K)){const Q=document.createElement("input");Q.setAttribute("type","hidden"),Q.setAttribute("name",he),Q.setAttribute("value",Ie),ue.appendChild(Q)}document.body.appendChild(ue),ue.submit()},register:async function(Z){return window.location.assign(await e.createRegisterUrl(Z)),E().promise},accountManagement:function(){var Z=e.createAccountUrl();if(typeof Z<"u")window.location.href=Z;else throw"Not supported by the OIDC server";return E().promise},redirectUri:function(Z,q){return Z&&Z.redirectUri?Z.redirectUri:e.redirectUri?e.redirectUri:location.href}};if(D=="cordova"){i.enable=!1;var B=function(Z,q,ue){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(Z,q,ue):window.open(Z,q,ue)},j=function(Z){return Z&&Z.cordovaOptions?Object.keys(Z.cordovaOptions).reduce(function(q,ue){return q[ue]=Z.cordovaOptions[ue],q},{}):{}},$=function(Z){return Object.keys(Z).reduce(function(q,ue){return q.push(ue+"="+Z[ue]),q},[]).join(",")},V=function(Z){var q=j(Z);return q.location="no",Z&&Z.prompt=="none"&&(q.hidden="yes"),$(q)},X=function(){return e.redirectUri||"http://localhost"};return{login:async function(Z){var q=E(),ue=V(Z),K=await e.createLoginUrl(Z),he=B(K,"_blank",ue),Ie=!1,Q=!1,Y=function(){Q=!0,he.close()};return he.addEventListener("loadstart",function(re){if(re.url.indexOf(X())==0){var be=S(re.url);v(be,q),Y(),Ie=!0}}),he.addEventListener("loaderror",function(re){if(!Ie)if(re.url.indexOf(X())==0){var be=S(re.url);v(be,q),Y(),Ie=!0}else q.setError(),Y()}),he.addEventListener("exit",function(re){Q||q.setError({reason:"closed_by_user"})}),q.promise},logout:function(Z){var q=E(),ue=e.createLogoutUrl(Z),K=B(ue,"_blank","location=no,hidden=yes,clearcache=yes"),he;return K.addEventListener("loadstart",function(Ie){Ie.url.indexOf(X())==0&&K.close()}),K.addEventListener("loaderror",function(Ie){Ie.url.indexOf(X())==0||(he=!0),K.close()}),K.addEventListener("exit",function(Ie){he?q.setError():(e.clearToken(),q.setSuccess())}),q.promise},register:async function(Z){var q=E(),ue=await e.createRegisterUrl(),K=V(Z),he=B(ue,"_blank",K);return he.addEventListener("loadstart",function(Ie){if(Ie.url.indexOf(X())==0){he.close();var Q=S(Ie.url);v(Q,q)}}),q.promise},accountManagement:function(){var Z=e.createAccountUrl();if(typeof Z<"u"){var q=B(Z,"_blank","location=no");q.addEventListener("loadstart",function(ue){ue.url.indexOf(X())==0&&q.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(Z){return X()}}}if(D=="cordova-native")return i.enable=!1,{login:async function(Z){var q=E(),ue=await e.createLoginUrl(Z);return universalLinks.subscribe("keycloak",function(K){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var he=S(K.url);v(he,q)}),window.cordova.plugins.browsertab.openUrl(ue),q.promise},logout:function(Z){var q=E(),ue=e.createLogoutUrl(Z);return universalLinks.subscribe("keycloak",function(K){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),e.clearToken(),q.setSuccess()}),window.cordova.plugins.browsertab.openUrl(ue),q.promise},register:async function(Z){var q=E(),ue=await e.createRegisterUrl(Z);return universalLinks.subscribe("keycloak",function(K){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var he=S(K.url);v(he,q)}),window.cordova.plugins.browsertab.openUrl(ue),q.promise},accountManagement:function(){var Z=e.createAccountUrl();if(typeof Z<"u")window.cordova.plugins.browsertab.openUrl(Z);else throw"Not supported by the OIDC server"},redirectUri:function(Z){return Z&&Z.redirectUri?Z.redirectUri:e.redirectUri?e.redirectUri:"http://localhost"}};throw"invalid adapter type: "+D}const H="kc-callback-";var G=function(){if(!(this instanceof G))return new G;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var D=this;function B(){const X=Date.now();for(const[Z,q]of $()){const ue=V(q);(ue===null||ue<X)&&localStorage.removeItem(Z)}}function j(){for(const[X]of $())localStorage.removeItem(X)}function $(){return Object.entries(localStorage).filter(([X])=>X.startsWith(H))}function V(X){let Z;try{Z=JSON.parse(X)}catch{return null}return sm(Z)&&"expires"in Z&&typeof Z.expires=="number"?Z.expires:null}D.get=function(X){if(X){var Z=H+X,q=localStorage.getItem(Z);return q&&(localStorage.removeItem(Z),q=JSON.parse(q)),B(),q}},D.add=function(X){B();const Z=H+X.state,q=JSON.stringify({...X,expires:Date.now()+60*60*1e3});try{localStorage.setItem(Z,q)}catch{j(),localStorage.setItem(Z,q)}}},W=function(){if(!(this instanceof W))return new W;var D=this;D.get=function(V){if(V){var X=j(H+V);if($(H+V,"",B(-100)),X)return JSON.parse(X)}},D.add=function(V){$(H+V.state,JSON.stringify(V),B(60))},D.removeItem=function(V){$(V,"",B(-100))};var B=function(V){var X=new Date;return X.setTime(X.getTime()+V*60*1e3),X},j=function(V){for(var X=V+"=",Z=document.cookie.split(";"),q=0;q<Z.length;q++){for(var ue=Z[q];ue.charAt(0)==" ";)ue=ue.substring(1);if(ue.indexOf(X)==0)return ue.substring(X.length,ue.length)}return""},$=function(V,X,Z){var q=V+"="+X+"; expires="+Z.toUTCString()+"; ";document.cookie=q}};function J(){try{return new G}catch{}return new W}function ne(D){return function(){e.enableLogging&&D.apply(console,Array.prototype.slice.call(arguments))}}}function dee(t){const e=String.fromCodePoint(...t);return btoa(e)}async function uee(t){const n=new TextEncoder().encode(t);if(typeof crypto>"u"||typeof crypto.subtle>"u")throw new Error("Web Crypto API is not available.");return await crypto.subtle.digest("SHA-256",n)}function im(t){const[e,n]=t.split(".");if(typeof n!="string")throw new Error("Unable to decode token, payload not found.");let r;try{r=fee(n)}catch(o){throw new Error("Unable to decode token, payload is not a valid Base64URL value.",{cause:o})}try{return JSON.parse(r)}catch(o){throw new Error("Unable to decode token, payload is not a valid JSON value.",{cause:o})}}function fee(t){let e=t.replaceAll("-","+").replaceAll("_","/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Input is not of the correct length.")}try{return hee(e)}catch{return atob(e)}}function hee(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function sm(t){return typeof t=="object"&&t!==null}const gee={url:"https://auth.kneo.io",realm:"kneo",clientId:"mixpla"},Rs=new eL(gee),As=Vh("auth",()=>{const t=z(!1),e=z(null),n=z(!0);function r(){Rs.login()}function o(){cee(async()=>{const{useStationStore:a}=await Promise.resolve().then(()=>qte);return{useStationStore:a}},void 0).then(({useStationStore:a})=>{const l=a();l!=null&&l.onAuthStateChanged&&l.onAuthStateChanged()}).catch(console.error)}function i(){Rs.logout({redirectUri:window.location.origin})}async function s(){n.value=!0;try{const a=await Rs.init({onLoad:"check-sso",silentCheckSsoRedirectUri:window.location.origin+"/silent-check-sso.html"});t.value=a,a?(e.value=await Rs.loadUserProfile(),console.log("Authenticated as:",e.value)):console.log("Not authenticated"),this.notifyAuthStateChanged()}catch(a){console.error("Failed to initialize Keycloak:",a)}finally{n.value=!1}}return{isAuthenticated:t,user:e,isLoading:n,login:r,logout:i,init:s,keycloakInstance:Rs,notifyAuthStateChanged:o}});function tL(t,e){return function(){return t.apply(e,arguments)}}const{toString:mee}=Object.prototype,{getPrototypeOf:db}=Object,{iterator:jh,toStringTag:nL}=Symbol,Wh=(t=>e=>{const n=mee.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jo=t=>(t=t.toLowerCase(),e=>Wh(e)===t),Kh=t=>e=>typeof e===t,{isArray:ec}=Array,pd=Kh("undefined");function pee(t){return t!==null&&!pd(t)&&t.constructor!==null&&!pd(t.constructor)&&Qr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rL=Jo("ArrayBuffer");function vee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rL(t.buffer),e}const bee=Kh("string"),Qr=Kh("function"),oL=Kh("number"),Gh=t=>t!==null&&typeof t=="object",yee=t=>t===!0||t===!1,tf=t=>{if(Wh(t)!=="object")return!1;const e=db(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(nL in t)&&!(jh in t)},xee=Jo("Date"),Cee=Jo("File"),See=Jo("Blob"),wee=Jo("FileList"),Ree=t=>Gh(t)&&Qr(t.pipe),Tee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Qr(t.append)&&((e=Wh(t))==="formdata"||e==="object"&&Qr(t.toString)&&t.toString()==="[object FormData]"))},Eee=Jo("URLSearchParams"),[kee,Pee,Aee,Iee]=["ReadableStream","Request","Response","Headers"].map(Jo),_ee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),ec(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function iL(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sL=t=>!pd(t)&&t!==ha;function qp(){const{caseless:t}=sL(this)&&this||{},e={},n=(r,o)=>{const i=t&&iL(e,o)||o;tf(e[i])&&tf(r)?e[i]=qp(e[i],r):tf(r)?e[i]=qp({},r):ec(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&qd(arguments[r],n);return e}const Lee=(t,e,n,{allOwnKeys:r}={})=>(qd(e,(o,i)=>{n&&Qr(o)?t[i]=tL(o,n):t[i]=o},{allOwnKeys:r}),t),Dee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Oee=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},$ee=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&db(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Fee=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Mee=t=>{if(!t)return null;if(ec(t))return t;let e=t.length;if(!oL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Bee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&db(Uint8Array)),zee=(t,e)=>{const r=(t&&t[jh]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},Nee=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Uee=Jo("HTMLFormElement"),Hee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),RS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Vee=Jo("RegExp"),aL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};qd(n,(o,i)=>{let s;(s=e(o,i,t))!==!1&&(r[i]=s||o)}),Object.defineProperties(t,r)},jee=t=>{aL(t,(e,n)=>{if(Qr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Qr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Wee=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return ec(t)?r(t):r(String(t).split(e)),n},Kee=()=>{},Gee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qee(t){return!!(t&&Qr(t.append)&&t[nL]==="FormData"&&t[jh])}const Yee=t=>{const e=new Array(10),n=(r,o)=>{if(Gh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=ec(r)?[]:{};return qd(r,(s,a)=>{const l=n(s,o+1);!pd(l)&&(i[a]=l)}),e[o]=void 0,i}}return r};return n(t,0)},Xee=Jo("AsyncFunction"),Qee=t=>t&&(Gh(t)||Qr(t))&&Qr(t.then)&&Qr(t.catch),lL=((t,e)=>t?setImmediate:e?((n,r)=>(ha.addEventListener("message",({source:o,data:i})=>{o===ha&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),ha.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Qr(ha.postMessage)),Zee=typeof queueMicrotask<"u"?queueMicrotask.bind(ha):typeof process<"u"&&process.nextTick||lL,Jee=t=>t!=null&&Qr(t[jh]),je={isArray:ec,isArrayBuffer:rL,isBuffer:pee,isFormData:Tee,isArrayBufferView:vee,isString:bee,isNumber:oL,isBoolean:yee,isObject:Gh,isPlainObject:tf,isReadableStream:kee,isRequest:Pee,isResponse:Aee,isHeaders:Iee,isUndefined:pd,isDate:xee,isFile:Cee,isBlob:See,isRegExp:Vee,isFunction:Qr,isStream:Ree,isURLSearchParams:Eee,isTypedArray:Bee,isFileList:wee,forEach:qd,merge:qp,extend:Lee,trim:_ee,stripBOM:Dee,inherits:Oee,toFlatObject:$ee,kindOf:Wh,kindOfTest:Jo,endsWith:Fee,toArray:Mee,forEachEntry:zee,matchAll:Nee,isHTMLForm:Uee,hasOwnProperty:RS,hasOwnProp:RS,reduceDescriptors:aL,freezeMethods:jee,toObjectSet:Wee,toCamelCase:Hee,noop:Kee,toFiniteNumber:Gee,findKey:iL,global:ha,isContextDefined:sL,isSpecCompliantForm:qee,toJSONObject:Yee,isAsyncFn:Xee,isThenable:Qee,setImmediate:lL,asap:Zee,isIterable:Jee};function Yt(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}je.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const cL=Yt.prototype,dL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dL[t]={value:t}});Object.defineProperties(Yt,dL);Object.defineProperty(cL,"isAxiosError",{value:!0});Yt.from=(t,e,n,r,o,i)=>{const s=Object.create(cL);return je.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Yt.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const ete=null;function Yp(t){return je.isPlainObject(t)||je.isArray(t)}function uL(t){return je.endsWith(t,"[]")?t.slice(0,-2):t}function TS(t,e,n){return t?t.concat(e).map(function(o,i){return o=uL(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function tte(t){return je.isArray(t)&&!t.some(Yp)}const nte=je.toFlatObject(je,{},null,function(e){return/^is[A-Z]/.test(e)});function qh(t,e,n){if(!je.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=je.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!je.isUndefined(v[p])});const r=n.metaTokens,o=n.visitor||d,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(e);if(!je.isFunction(o))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(je.isDate(h))return h.toISOString();if(je.isBoolean(h))return h.toString();if(!l&&je.isBlob(h))throw new Yt("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(h)||je.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,p,v){let b=h;if(h&&!v&&typeof h=="object"){if(je.endsWith(p,"{}"))p=r?p:p.slice(0,-2),h=JSON.stringify(h);else if(je.isArray(h)&&tte(h)||(je.isFileList(h)||je.endsWith(p,"[]"))&&(b=je.toArray(h)))return p=uL(p),b.forEach(function(x,C){!(je.isUndefined(x)||x===null)&&e.append(s===!0?TS([p],C,i):s===null?p:p+"[]",c(x))}),!1}return Yp(h)?!0:(e.append(TS(v,p,i),c(h)),!1)}const u=[],f=Object.assign(nte,{defaultVisitor:d,convertValue:c,isVisitable:Yp});function m(h,p){if(!je.isUndefined(h)){if(u.indexOf(h)!==-1)throw Error("Circular reference detected in "+p.join("."));u.push(h),je.forEach(h,function(b,y){(!(je.isUndefined(b)||b===null)&&o.call(e,b,je.isString(y)?y.trim():y,p,f))===!0&&m(b,p?p.concat(y):[y])}),u.pop()}}if(!je.isObject(t))throw new TypeError("data must be an object");return m(t),e}function ES(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ub(t,e){this._pairs=[],t&&qh(t,this,e)}const fL=ub.prototype;fL.append=function(e,n){this._pairs.push([e,n])};fL.toString=function(e){const n=e?function(r){return e.call(this,r,ES)}:ES;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function rte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hL(t,e,n){if(!e)return t;const r=n&&n.encode||rte;je.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(e,n):i=je.isURLSearchParams(e)?e.toString():new ub(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class kS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){je.forEach(this.handlers,function(r){r!==null&&e(r)})}}const gL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ote=typeof URLSearchParams<"u"?URLSearchParams:ub,ite=typeof FormData<"u"?FormData:null,ste=typeof Blob<"u"?Blob:null,ate={isBrowser:!0,classes:{URLSearchParams:ote,FormData:ite,Blob:ste},protocols:["http","https","file","blob","url","data"]},fb=typeof window<"u"&&typeof document<"u",Xp=typeof navigator=="object"&&navigator||void 0,lte=fb&&(!Xp||["ReactNative","NativeScript","NS"].indexOf(Xp.product)<0),cte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dte=fb&&window.location.href||"http://localhost",ute=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fb,hasStandardBrowserEnv:lte,hasStandardBrowserWebWorkerEnv:cte,navigator:Xp,origin:dte},Symbol.toStringTag,{value:"Module"})),$r={...ute,...ate};function fte(t,e){return qh(t,new $r.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return $r.isNode&&je.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function hte(t){return je.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gte(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function mL(t){function e(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&je.isArray(o)?o.length:s,l?(je.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!je.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&je.isArray(o[s])&&(o[s]=gte(o[s])),!a)}if(je.isFormData(t)&&je.isFunction(t.entries)){const n={};return je.forEachEntry(t,(r,o)=>{e(hte(r),o,n,0)}),n}return null}function mte(t,e,n){if(je.isString(t))try{return(e||JSON.parse)(t),je.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Yd={transitional:gL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=je.isObject(e);if(i&&je.isHTMLForm(e)&&(e=new FormData(e)),je.isFormData(e))return o?JSON.stringify(mL(e)):e;if(je.isArrayBuffer(e)||je.isBuffer(e)||je.isStream(e)||je.isFile(e)||je.isBlob(e)||je.isReadableStream(e))return e;if(je.isArrayBufferView(e))return e.buffer;if(je.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return fte(e,this.formSerializer).toString();if((a=je.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),mte(e)):e}],transformResponse:[function(e){const n=this.transitional||Yd.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(je.isResponse(e)||je.isReadableStream(e))return e;if(e&&je.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Yt.from(a,Yt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$r.classes.FormData,Blob:$r.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],t=>{Yd.headers[t]={}});const pte=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vte=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&pte[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},PS=Symbol("internals");function yc(t){return t&&String(t).trim().toLowerCase()}function nf(t){return t===!1||t==null?t:je.isArray(t)?t.map(nf):String(t)}function bte(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const yte=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function am(t,e,n,r,o){if(je.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!je.isString(e)){if(je.isString(r))return e.indexOf(r)!==-1;if(je.isRegExp(r))return r.test(e)}}function xte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Cte(t,e){const n=je.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}let Zr=class{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,l,c){const d=yc(l);if(!d)throw new Error("header name must be a non-empty string");const u=je.findKey(o,d);(!u||o[u]===void 0||c===!0||c===void 0&&o[u]!==!1)&&(o[u||l]=nf(a))}const s=(a,l)=>je.forEach(a,(c,d)=>i(c,d,l));if(je.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(je.isString(e)&&(e=e.trim())&&!yte(e))s(vte(e),n);else if(je.isObject(e)&&je.isIterable(e)){let a={},l,c;for(const d of e){if(!je.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?je.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}s(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=yc(e),e){const r=je.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return bte(o);if(je.isFunction(n))return n.call(this,o,r);if(je.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=yc(e),e){const r=je.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||am(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=yc(s),s){const a=je.findKey(r,s);a&&(!n||am(r,r[a],a,n))&&(delete r[a],o=!0)}}return je.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||am(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return je.forEach(this,(o,i)=>{const s=je.findKey(r,i);if(s){n[s]=nf(o),delete n[i];return}const a=e?xte(i):String(i).trim();a!==i&&delete n[i],n[a]=nf(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return je.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&je.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[PS]=this[PS]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=yc(s);r[a]||(Cte(o,s),r[a]=!0)}return je.isArray(e)?e.forEach(i):i(e),this}};Zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(Zr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});je.freezeMethods(Zr);function lm(t,e){const n=this||Yd,r=e||n,o=Zr.from(r.headers);let i=r.data;return je.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function pL(t){return!!(t&&t.__CANCEL__)}function tc(t,e,n){Yt.call(this,t??"canceled",Yt.ERR_CANCELED,e,n),this.name="CanceledError"}je.inherits(tc,Yt,{__CANCEL__:!0});function vL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Yt("Request failed with status code "+n.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ste(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wte(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];s||(s=c),n[o]=l,r[o]=c;let u=i,f=0;for(;u!==o;)f+=n[u++],u=u%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<e)return;const m=d&&c-d;return m?Math.round(f*1e3/m):void 0}}function Rte(t,e){let n=0,r=1e3/e,o,i;const s=(c,d=Date.now())=>{n=d,o=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),u=d-n;u>=r?s(c,d):(o=c,i||(i=setTimeout(()=>{i=null,s(o)},r-u)))},()=>o&&s(o)]}const Uf=(t,e,n=3)=>{let r=0;const o=wte(50,250);return Rte(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,l=s-r,c=o(l),d=s<=a;r=s;const u={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-s)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(u)},n)},AS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},IS=t=>(...e)=>je.asap(()=>t(...e)),Tte=$r.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$r.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($r.origin),$r.navigator&&/(msie|trident)/i.test($r.navigator.userAgent)):()=>!0,Ete=$r.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const s=[t+"="+encodeURIComponent(e)];je.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),je.isString(r)&&s.push("path="+r),je.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Pte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function bL(t,e,n){let r=!kte(e);return t&&(r||n==!1)?Pte(t,e):e}const _S=t=>t instanceof Zr?{...t}:t;function La(t,e){e=e||{};const n={};function r(c,d,u,f){return je.isPlainObject(c)&&je.isPlainObject(d)?je.merge.call({caseless:f},c,d):je.isPlainObject(d)?je.merge({},d):je.isArray(d)?d.slice():d}function o(c,d,u,f){if(je.isUndefined(d)){if(!je.isUndefined(c))return r(void 0,c,u,f)}else return r(c,d,u,f)}function i(c,d){if(!je.isUndefined(d))return r(void 0,d)}function s(c,d){if(je.isUndefined(d)){if(!je.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,u){if(u in e)return r(c,d);if(u in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d,u)=>o(_S(c),_S(d),u,!0)};return je.forEach(Object.keys(Object.assign({},t,e)),function(d){const u=l[d]||o,f=u(t[d],e[d],d);je.isUndefined(f)&&u!==a||(n[d]=f)}),n}const yL=t=>{const e=La({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=e;e.headers=s=Zr.from(s),e.url=hL(bL(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(je.isFormData(n)){if($r.hasStandardBrowserEnv||$r.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...d]=l?l.split(";").map(u=>u.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...d].join("; "))}}if($r.hasStandardBrowserEnv&&(r&&je.isFunction(r)&&(r=r(e)),r||r!==!1&&Tte(e.url))){const c=o&&i&&Ete.read(i);c&&s.set(o,c)}return e},Ate=typeof XMLHttpRequest<"u",Ite=Ate&&function(t){return new Promise(function(n,r){const o=yL(t);let i=o.data;const s=Zr.from(o.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=o,d,u,f,m,h;function p(){m&&m(),h&&h(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(o.method.toUpperCase(),o.url,!0),v.timeout=o.timeout;function b(){if(!v)return;const x=Zr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:t,request:v};vL(function(w){n(w),p()},function(w){r(w),p()},S),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(r(new Yt("Request aborted",Yt.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new Yt("Network Error",Yt.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let C=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const S=o.transitional||gL;o.timeoutErrorMessage&&(C=o.timeoutErrorMessage),r(new Yt(C,S.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,t,v)),v=null},i===void 0&&s.setContentType(null),"setRequestHeader"in v&&je.forEach(s.toJSON(),function(C,S){v.setRequestHeader(S,C)}),je.isUndefined(o.withCredentials)||(v.withCredentials=!!o.withCredentials),a&&a!=="json"&&(v.responseType=o.responseType),c&&([f,h]=Uf(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([u,m]=Uf(l),v.upload.addEventListener("progress",u),v.upload.addEventListener("loadend",m)),(o.cancelToken||o.signal)&&(d=x=>{v&&(r(!x||x.type?new tc(null,t,v):x),v.abort(),v=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const y=Ste(o.url);if(y&&$r.protocols.indexOf(y)===-1){r(new Yt("Unsupported protocol "+y+":",Yt.ERR_BAD_REQUEST,t));return}v.send(i||null)})},_te=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const i=function(c){if(!o){o=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof Yt?d:new tc(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,i(new Yt(`timeout ${e} of ms exceeded`,Yt.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>je.asap(a),l}},Lte=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},Dte=async function*(t,e){for await(const n of Ote(t))yield*Lte(n,e)},Ote=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},LS=(t,e,n,r)=>{const o=Dte(t,e);let i=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await o.next();if(c){a(),l.close();return}let u=d.byteLength;if(n){let f=i+=u;n(f)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),o.return()}},{highWaterMark:2})},Yh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xL=Yh&&typeof ReadableStream=="function",$te=Yh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),CL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Fte=xL&&CL(()=>{let t=!1;const e=new Request($r.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DS=64*1024,Qp=xL&&CL(()=>je.isReadableStream(new Response("").body)),Hf={stream:Qp&&(t=>t.body)};Yh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Hf[e]&&(Hf[e]=je.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Yt(`Response type '${e}' is not supported`,Yt.ERR_NOT_SUPPORT,r)})})})(new Response);const Mte=async t=>{if(t==null)return 0;if(je.isBlob(t))return t.size;if(je.isSpecCompliantForm(t))return(await new Request($r.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(je.isArrayBufferView(t)||je.isArrayBuffer(t))return t.byteLength;if(je.isURLSearchParams(t)&&(t=t+""),je.isString(t))return(await $te(t)).byteLength},Bte=async(t,e)=>{const n=je.toFiniteNumber(t.getContentLength());return n??Mte(e)},zte=Yh&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:f}=yL(t);c=c?(c+"").toLowerCase():"text";let m=_te([o,i&&i.toAbortSignal()],s),h;const p=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(l&&Fte&&n!=="get"&&n!=="head"&&(v=await Bte(d,r))!==0){let S=new Request(e,{method:"POST",body:r,duplex:"half"}),T;if(je.isFormData(r)&&(T=S.headers.get("content-type"))&&d.setContentType(T),S.body){const[w,E]=AS(v,Uf(IS(l)));r=LS(S.body,DS,w,E)}}je.isString(u)||(u=u?"include":"omit");const b="credentials"in Request.prototype;h=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:b?u:void 0});let y=await fetch(h,f);const x=Qp&&(c==="stream"||c==="response");if(Qp&&(a||x&&p)){const S={};["status","statusText","headers"].forEach(R=>{S[R]=y[R]});const T=je.toFiniteNumber(y.headers.get("content-length")),[w,E]=a&&AS(T,Uf(IS(a),!0))||[];y=new Response(LS(y.body,DS,w,()=>{E&&E(),p&&p()}),S)}c=c||"text";let C=await Hf[je.findKey(Hf,c)||"text"](y,t);return!x&&p&&p(),await new Promise((S,T)=>{vL(S,T,{data:C,headers:Zr.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:h})})}catch(b){throw p&&p(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,t,h),{cause:b.cause||b}):Yt.from(b,b&&b.code,t,h)}}),Zp={http:ete,xhr:Ite,fetch:zte};je.forEach(Zp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const OS=t=>`- ${t}`,Nte=t=>je.isFunction(t)||t===null||t===!1,SL={getAdapter:t=>{t=je.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){n=t[i];let s;if(r=n,!Nte(n)&&(r=Zp[(s=String(n)).toLowerCase()],r===void 0))throw new Yt(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(OS).join(`
`):" "+OS(i[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Zp};function cm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new tc(null,t)}function $S(t){return cm(t),t.headers=Zr.from(t.headers),t.data=lm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SL.getAdapter(t.adapter||Yd.adapter)(t).then(function(r){return cm(t),r.data=lm.call(t,t.transformResponse,r),r.headers=Zr.from(r.headers),r},function(r){return pL(r)||(cm(t),r&&r.response&&(r.response.data=lm.call(t,t.transformResponse,r.response),r.response.headers=Zr.from(r.response.headers))),Promise.reject(r)})}const wL="1.10.0",Xh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const FS={};Xh.transitional=function(e,n,r){function o(i,s){return"[Axios v"+wL+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new Yt(o(s," has been removed"+(n?" in "+n:"")),Yt.ERR_DEPRECATED);return n&&!FS[s]&&(FS[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};Xh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Ute(t,e,n){if(typeof t!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],l=a===void 0||s(a,i,t);if(l!==!0)throw new Yt("option "+i+" must be "+l,Yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Yt("Unknown option "+i,Yt.ERR_BAD_OPTION)}}const rf={assertOptions:Ute,validators:Xh},ri=rf.validators;let Ca=class{constructor(e){this.defaults=e||{},this.interceptors={request:new kS,response:new kS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=La(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&rf.assertOptions(r,{silentJSONParsing:ri.transitional(ri.boolean),forcedJSONParsing:ri.transitional(ri.boolean),clarifyTimeoutError:ri.transitional(ri.boolean)},!1),o!=null&&(je.isFunction(o)?n.paramsSerializer={serialize:o}:rf.assertOptions(o,{encode:ri.function,serialize:ri.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),rf.assertOptions(n,{baseUrl:ri.spelling("baseURL"),withXsrfToken:ri.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&je.merge(i.common,i[n.method]);i&&je.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),n.headers=Zr.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let d,u=0,f;if(!l){const h=[$S.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,c),f=h.length,d=Promise.resolve(n);u<f;)d=d.then(h[u++],h[u++]);return d}f=a.length;let m=n;for(u=0;u<f;){const h=a[u++],p=a[u++];try{m=h(m)}catch(v){p.call(this,v);break}}try{d=$S.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,f=c.length;u<f;)d=d.then(c[u++],c[u++]);return d}getUri(e){e=La(this.defaults,e);const n=bL(e.baseURL,e.url,e.allowAbsoluteUrls);return hL(n,e.params,e.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(e){Ca.prototype[e]=function(n,r){return this.request(La(r||{},{method:e,url:n,data:(r||{}).data}))}});je.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(La(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Ca.prototype[e]=n(),Ca.prototype[e+"Form"]=n(!0)});let Hte=class RL{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new tc(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new RL(function(o){e=o}),cancel:e}}};function Vte(t){return function(n){return t.apply(null,n)}}function jte(t){return je.isObject(t)&&t.isAxiosError===!0}const Jp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jp).forEach(([t,e])=>{Jp[e]=t});function TL(t){const e=new Ca(t),n=tL(Ca.prototype.request,e);return je.extend(n,Ca.prototype,e,{allOwnKeys:!0}),je.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return TL(La(t,o))},n}const Xn=TL(Yd);Xn.Axios=Ca;Xn.CanceledError=tc;Xn.CancelToken=Hte;Xn.isCancel=pL;Xn.VERSION=wL;Xn.toFormData=qh;Xn.AxiosError=Yt;Xn.Cancel=Xn.CanceledError;Xn.all=function(e){return Promise.all(e)};Xn.spread=Vte;Xn.isAxiosError=jte;Xn.mergeConfig=La;Xn.AxiosHeaders=Zr;Xn.formToJSON=t=>mL(je.isHTMLForm(t)?new FormData(t):t);Xn.getAdapter=SL.getAdapter;Xn.HttpStatusCode=Jp;Xn.default=Xn;const{Axios:Fle,AxiosError:Mle,CanceledError:Ble,isCancel:zle,CancelToken:Nle,VERSION:Ule,all:Hle,Cancel:Vle,isAxiosError:jle,spread:Wle,toFormData:Kle,AxiosHeaders:Gle,HttpStatusCode:qle,formToJSON:Yle,getAdapter:Xle,mergeConfig:Qle}=Xn,EL="2.5.1",Wte="Mixpla",kL=`${Wte}/${EL}`,Vf=Xn.create({baseURL:"https://bratan.online",headers:{"X-Mixpla-App":kL}});Vf.interceptors.request.use(async t=>{if(Rs.authenticated)try{await Rs.updateToken(30),t.headers.Authorization=`Bearer ${Rs.token}`}catch(e){return console.error("Failed to refresh token:",e),Promise.reject(e)}return t},t=>Promise.reject(t));const Kte=Xn.create({baseURL:"https://bratan.online",headers:{"X-Mixpla-App":kL}}),Gte=(t,e)=>{if(!t||!t.startsWith("#"))return t;const n=parseInt(t.substring(1),16),r=Math.round(2.55*e),o=(n>>16)+r,i=(n>>8&255)+r,s=(n&255)+r;return"#"+(16777216+(o<255?o<1?0:o:255)*65536+(i<255?i<1?0:i:255)*256+(s<255?s<1?0:s:255)).toString(16).slice(1)},Xd=Vh("station",{state:()=>({animationIntensity:0,stations:[],radioName:pl.getLastStation()||null,stationInfo:null,nowPlaying:"N/A",statusPollingInterval:null,listPollingInterval:null,bufferStatus:"healthy",animationIntensity:0,stationColor:null,statusText:"Loading stations...",stationName:"Radio",isAsleep:!1,isWaitingForCurator:!1,isWarmingUp:!1,isBroadcasting:!1,bufferStatus:"ok",djName:null,djStatus:null}),getters:{dynamicBorderStyle(t){if(!t.stationColor)return{};const e=t.stationColor,n=e.substring(1),r=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16);return{"--dynamic-border-color":e,"--dynamic-border-color-alt":Gte(e,-.2),"--dynamic-border-rgb":`${r}, ${o}, ${i}`}}},actions:{setBufferStatus(t){["healthy","ok","poor","critical","stalling","fatal"].includes(t)?(this.bufferStatus=t,console.log("[BUFFER DEBUG] Buffer status set to:",t)):console.warn("[BUFFER DEBUG] Invalid buffer status rejected:",t)},updateAuthEntry(){const t=As();this.stations=this.stations.filter(n=>n.type!=="auth");const e=t.isAuthenticated?{name:"logout",displayName:"Logout",type:"auth",color:"#ef4444",currentStatus:"STATIC"}:{name:"login",displayName:"Login",type:"auth",color:"#6b7280",currentStatus:"STATIC"};this.stations.push(e)},onAuthStateChanged(){this.updateAuthEntry()},async fetchStations(t=!1){var e,n;try{const r=await Kte.get("/radio/stations");if(this.stations=r.data,this.updateAuthEntry(),!t){const o=this.stations.some(i=>i.name===this.radioName&&i.type!=="auth");if(!this.radioName||!o){const i=this.stations.filter(s=>s.type!=="auth");i.length>0&&(this.radioName=i[0].name,pl.saveLastStation(this.radioName))}this.startPolling(),this.startListPolling()}}catch(r){if(console.error("Failed to get stations list:",r),(n=(e=r.response)==null?void 0:e.data)!=null&&n.message&&r.response.data.message.includes('"user" is null')){console.log("User is null, silently logging out..."),this.stations=[],this.radioName=null,this.stationInfo=null,this.nowPlaying="N/A",this.statusText="Redirecting...",this.isAsleep=!1,this.isWaitingForCurator=!1,this.isWarmingUp=!1,this.isBroadcasting=!1,this.statusPollingInterval&&(clearInterval(this.statusPollingInterval),this.statusPollingInterval=null),this.listPollingInterval&&(clearInterval(this.listPollingInterval),this.listPollingInterval=null),As().logout();return}if(this.radioName){console.log("Creating fallback station entry for currently playing:",this.radioName),this.stations=[{name:this.radioName,displayName:this.stationName||this.radioName,color:this.stationColor||"#6b7280",currentStatus:this.isBroadcasting?"ON_LINE":"OFFLINE",type:"station"}];const i=As().isAuthenticated?{name:"logout",displayName:"Logout",type:"auth",color:"#ef4444",currentStatus:"STATIC"}:{name:"login",displayName:"Login",type:"auth",color:"#6b7280",currentStatus:"STATIC"};this.stations.push(i),this.statusText="Limited station list (connection issue)."}else this.statusText="Could not load station list."}},async fetchStationInfo(){if(this.radioName)try{const e=(await Vf.get(`/${this.radioName}/radio/status`)).data;this.stationInfo=e;const n=this.stations.find(r=>r.name===this.radioName&&r.type!=="auth");if(this.stationName=(n==null?void 0:n.displayName)||e.name||this.radioName,this.djName=e.djName,this.djStatus=e.djStatus,this.isWarmingUp=!1,e.currentStatus==="ON_LINE"&&e.currentSong==="Waiting for curator to start the broadcast...")this.isWaitingForCurator=!0,this.statusText="Station is online, waiting for curator...",this.isAsleep=!1,this.isBroadcasting=!1;else{this.isWaitingForCurator=!1,this.isAsleep=!1,this.isBroadcasting=e.currentStatus==="ON_LINE",e.currentSong&&e.currentSong.trim()!==""&&(this.nowPlaying=e.currentSong);let r=[];e.managedBy&&r.push(`Mode: ${e.managedBy}`),e.countryCode&&r.push(`Country: ${e.countryCode}`),e.djName&&r.push(`DJ: ${e.djName}`),e.currentStatus&&r.push(`${e.currentStatus.replace(/_/g," ").toLowerCase()}`),this.statusText=r.join(", ")}console.log("[COLOR DEBUG] Server sent color:",e.color,"Type:",typeof e.color),e.color&&e.color.match(/^#[0-9a-fA-F]{6,8}$/)?(console.log("[COLOR DEBUG] Color validation PASSED, setting:",e.color),this.stationColor=e.color.length===9?e.color.substring(0,7):e.color):(console.log("[COLOR DEBUG] Color validation FAILED, falling back to null (will use #FFA500)"),this.stationColor=null)}catch(t){if(t.response&&t.response.status===404){const e=t.response.data;if(typeof e=="string"&&e.includes("Radio station not broadcasting")){console.log("[Debug] Station identified as asleep."),this.isWarmingUp=!1,this.isAsleep=!0,this.isBroadcasting=!1,this.statusText="Station is asleep. Click to wake it up.";const n=this.stations.find(r=>r.name===this.radioName&&r.type!=="auth");this.stationName=(n==null?void 0:n.displayName)||this.radioName,this.stopPolling();return}}console.error(`Failed to fetch station status for ${this.radioName}:`,t),this.isWarmingUp=!1,this.isAsleep=!1,this.isWaitingForCurator=!1,this.isBroadcasting=!1,this.statusText="Error: Could not fetch station status."}},async wakeUpStation(){if(this.radioName){this.isWarmingUp=!0,this.statusText="Station is warming up, please wait...",setTimeout(()=>{this.isWarmingUp&&(this.isWarmingUp=!1)},1e4);try{await Vf.put(`/${this.radioName}/radio/wakeup`),this.startPolling(!0)}catch(t){console.error("Error waking up station:",t),this.isWarmingUp=!1,this.statusText="Failed to wake up station."}}},setStation(t){this.stations.some(e=>e.name===t&&e.type!=="auth")&&this.radioName!==t&&(this.radioName=t,pl.saveLastStation(t),this.stationName=t.charAt(0).toUpperCase()+t.slice(1),this.stationColor=null,this.isAsleep=!1,this.isWaitingForCurator=!1,this.isWarmingUp=!0,this.isBroadcasting=!1,this.djName=null,this.djStatus=null,this.nowPlaying="Loading...",this.statusText="Loading station information...",this.startPolling())},addCustomStation(t){this.stations.find(n=>n.name===t.name)||(this.stations.push(t),console.log(`Added custom station: ${t.name}`))},removeCustomStation(t){var e;this.stations=this.stations.filter(n=>n.name!==t),pl.removeCustomStation(t),this.radioName===t&&this.setStation(((e=this.stations[0])==null?void 0:e.name)||null)},startPolling(t=!1){this.stopPolling(),this.fetchStationInfo();const e=parseInt("5000",10)||5e3,n=parseInt("15000",10)||15e3,r=t?e:n;this.statusPollingInterval=setInterval(()=>{this.fetchStationInfo()},r)},stopPolling(){this.statusPollingInterval&&(clearInterval(this.statusPollingInterval),this.statusPollingInterval=null)},startListPolling(){const t=parseInt("60000",10)||6e4;this.listPollingInterval=setInterval(()=>{this.updateStationsList()},t)},stopListPolling(){this.listPollingInterval&&(clearInterval(this.listPollingInterval),this.listPollingInterval=null)}}}),qte=Object.freeze(Object.defineProperty({__proto__:null,useStationStore:Xd},Symbol.toStringTag,{value:"Module"})),Yte="/radio/status",Xte=15e3,Qte=Vh("radioStatus",{state:()=>({statusData:{},isLoading:!1,error:null,stationName:"Mixpla",pollingInterval:null}),getters:{displayMessage(t){if(t.error)return`Error: ${t.error}`;if(t.isLoading)return"Fetching status...";if(!t.statusData.name)return"Initializing...";const{managedBy:e,countryCode:n,djName:r,djPreferredLang:o,currentStatus:i}=t.statusData;let s=[];if(e&&s.push(`Mode: ${e}`),n&&s.push(`Country: ${n}`),(e==="AI_AGENT"||e==="MIX")&&r){let a=`DJ: ${r}`;o&&(a+=` (${o})`),s.push(a)}return i&&s.push(i.replace(/_/g," ").toLowerCase()),s.join(", ")||"Status information available."},borderColor(t){return t.error||!t.statusData.color?"":t.statusData.color.match(/^#[0-9a-fA-F]{6}$/)?t.statusData.color:""}},actions:{async fetchStatus(t){if(!t){this.error="Missing URL parameter for the radio station.";return}this.isLoading=!0,this.error=null;try{const e=await Vf.get(`/${t}${Yte}`);this.statusData=e.data,this.stationName=e.data.name||"Unknown Radio"}catch(e){this.error=e.response?`Server Error ${e.response.status}`:`Network Error: ${e.message}`,this.statusData={},this.stationName="Radio Unavailable"}finally{this.isLoading=!1}},startPolling(t){this.pollingInterval&&clearInterval(this.pollingInterval),t?(this.fetchStatus(t),this.pollingInterval=setInterval(()=>{this.fetchStatus(t)},Xte)):(this.error="No radio station specified.",this.stationName="Radio Not Found")},stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}}}),hb=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},Zte={class:"diagnostics-terminal"},Jte={class:"terminal-header"},ene={class:"terminal-controls"},tne={class:"terminal-content"},nne={class:"info-line"},rne={class:"info-line"},one={class:"info-line"},ine={class:"info-line"},sne={key:0,class:"info-line speed-result"},ane={class:"log-section"},lne={__name:"AudioDiagnostics",setup(t){const e=Xd(),{stationName:n,nowPlaying:r}=md(e),o=z({playbackRate:1,duration:0,currentTime:0,channels:null,paused:!0}),i=z({currentLevel:-1,levels:[],bitrate:null,codec:null,fragDuration:0,bufferLength:0,droppedFrames:0}),s=z(null),a=z([]),l=z(!1),c=z("");let d=null,u=null,f=null;const m=E=>{const R=new Date;a.value.unshift({time:R.toLocaleTimeString(),message:E}),a.value.length>50&&(a.value=a.value.slice(0,50))},h=E=>{if(!E||isNaN(E)||!isFinite(E))return"0:00";const R=Math.floor(E/60),P=Math.floor(E%60);return`${R}:${P.toString().padStart(2,"0")}`},p=()=>{if(!d)return"N/A";try{const E=d.buffered;if(E.length===0)return"Empty";const R=d.currentTime,_=E.end(E.length-1)-R;return _>10?"Excellent":_>5?"Good":_>2?"Fair":"Low"}catch{return"Error"}},v=()=>{d&&(o.value={playbackRate:d.playbackRate,duration:d.duration,currentTime:d.currentTime,channels:d.mozChannels||d.webkitAudioDecodedByteCount||null,paused:d.paused})},b=()=>{if(u)try{const E=u.levels||[],R=u.currentLevel,P=u.stats;i.value={currentLevel:R,levels:E.map(_=>({bitrate:_.bitrate,width:_.width,height:_.height,codec:_.videoCodec||_.audioCodec})),bitrate:R>=0&&E[R]?E[R].bitrate:null,codec:R>=0&&E[R]?E[R].audioCodec||E[R].videoCodec:null,fragDuration:P.fragLoadingTime||0,bufferLength:P.bufferLength||0,droppedFrames:P.droppedFrames||0}}catch(E){m(`Error updating HLS properties: ${E.message}`)}},y=async()=>{if(!d){c.value="No audio player found";return}l.value=!0,m("Starting playback speed test...");try{const E=d.currentTime,R=Date.now();await new Promise(H=>setTimeout(H,5e3));const P=d.currentTime,_=Date.now(),I=P-E,L=(_-R)/1e3,N=I/L;c.value=`Speed ratio: ${N.toFixed(3)} (${(N*100).toFixed(1)}%)`,m(`Speed test completed: ${c.value}`),N<.95?m("⚠️ Playback appears to be slower than normal"):N>1.05?m("⚠️ Playback appears to be faster than normal"):m("✅ Playback speed appears normal")}catch(E){c.value=`Test failed: ${E.message}`,m(`Speed test error: ${E.message}`)}finally{l.value=!1}},x=()=>{var E,R;m("=== AUDIO METADATA ==="),m(`Now Playing: ${r.value}`),m(`Playback Rate: ${(d==null?void 0:d.playbackRate)||"N/A"}`),m(`Sample Rate: ${((E=s.value)==null?void 0:E.sampleRate)||"N/A"} Hz`),m(`Audio Context State: ${((R=s.value)==null?void 0:R.state)||"N/A"}`),m(`Current HLS Level: ${i.value.currentLevel}`),m(`Bitrate: ${i.value.bitrate||"N/A"} kbps`),m(`Codec: ${i.value.codec||"N/A"}`),d&&(m(`Audio Duration: ${h(d.duration)}`),m(`Audio Current Time: ${h(d.currentTime)}`),m(`Audio Paused: ${d.paused}`),m(`Audio Volume: ${d.volume}`),m(`Audio Muted: ${d.muted}`)),m("=== END METADATA ===")},C=()=>{d&&(d.playbackRate=1,m("Reset playback rate to 1.0"))},S=()=>{a.value=[]},T=()=>{var G,W;const E={metadata:{timestamp:new Date().toISOString(),nowPlaying:r.value,station:n.value,snapshotVersion:"1.0"},audioProperties:{playbackRate:o.value.playbackRate,duration:o.value.duration,currentTime:o.value.currentTime,channels:o.value.channels,paused:o.value.paused},audioContext:{sampleRate:((G=s.value)==null?void 0:G.sampleRate)||null,state:((W=s.value)==null?void 0:W.state)||null},hlsProperties:{currentLevel:i.value.currentLevel,availableLevels:i.value.levels.length,levels:i.value.levels,bitrate:i.value.bitrate,codec:i.value.codec,fragmentDuration:i.value.fragDuration,bufferLength:i.value.bufferLength,droppedFrames:i.value.droppedFrames},performance:{bufferHealth:p(),speedTestResult:c.value},logs:a.value.slice(0,10).map(J=>({time:J.time,message:J.message}))},R=(r.value||"unknown-song").replace(/[^a-zA-Z0-9-_]/g,"-"),P=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19),_=`${R}-${P}.json`,I=JSON.stringify(E,null,2),L=new Blob([I],{type:"application/json"}),N=URL.createObjectURL(L),H=document.createElement("a");H.href=N,H.download=_,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(N),m(`✅ Snapshot saved as ${_}`)},w=async()=>{var P,_;const E={timestamp:new Date().toISOString(),nowPlaying:r.value,station:n.value,audioProperties:o.value,hlsProperties:i.value,audioContext:{sampleRate:((P=s.value)==null?void 0:P.sampleRate)||"N/A",state:((_=s.value)==null?void 0:_.state)||"N/A"},speedTestResult:c.value,bufferHealth:p(),recentLogs:a.value.slice(0,10)},R=`=== MIXPLA AUDIO DIAGNOSTICS ===
Timestamp: ${E.timestamp}
Now Playing: ${E.nowPlaying||"N/A"}
Station: ${E.station||"N/A"}

--- AUDIO PROPERTIES ---
Playback Rate: ${E.audioProperties.playbackRate}
Duration: ${h(E.audioProperties.duration)}
Current Time: ${h(E.audioProperties.currentTime)}
Channels: ${E.audioProperties.channels||"Unknown"}
Paused: ${E.audioProperties.paused}

--- AUDIO CONTEXT ---
Sample Rate: ${E.audioContext.sampleRate} Hz
State: ${E.audioContext.state}

--- HLS PROPERTIES ---
Current Level: ${E.hlsProperties.currentLevel}
Available Levels: ${E.hlsProperties.levels.length}
Bitrate: ${E.hlsProperties.bitrate||"Unknown"} kbps
Codec: ${E.hlsProperties.codec||"Unknown"}
Fragment Duration: ${E.hlsProperties.fragDuration}s
Buffer Length: ${E.hlsProperties.bufferLength}s
Dropped Frames: ${E.hlsProperties.droppedFrames}

--- PERFORMANCE ---
Buffer Health: ${E.bufferHealth}
Speed Test Result: ${E.speedTestResult||"Not tested"}

--- RECENT LOGS ---
${E.recentLogs.map(I=>`[${I.time}] ${I.message}`).join(`
`)}

=== END DIAGNOSTICS ===`;try{await navigator.clipboard.writeText(R),m("✅ Diagnostic info copied to clipboard")}catch(I){m("❌ Failed to copy to clipboard"),console.error("Copy failed:",I)}};return Gt(()=>{(()=>{const R=document.querySelector("audio");R&&(d=R,m("Found audio element")),window.hlsInstance&&(u=window.hlsInstance,m("Found HLS instance")),window.audioContext&&(s.value=window.audioContext,m("Found AudioContext"))})(),f=setInterval(()=>{v(),b()},1e3),m("Audio diagnostics initialized")}),Qt(()=>{f&&clearInterval(f)}),(E,R)=>{var P,_;return Ln(),mr("div",Zte,[Ht("div",Jte,[R[5]||(R[5]=Ht("span",null,"AUDIO DIAGNOSTICS",-1)),Ht("div",ene,[nn(Ut(At),{onClick:y,disabled:l.value,size:"small",type:"primary"},{default:Ar(()=>[hr(In(l.value?"Testing...":"Speed Test"),1)]),_:1},8,["disabled"]),nn(Ut(At),{onClick:x,size:"small",type:"tertiary"},{default:Ar(()=>R[0]||(R[0]=[hr("Log Metadata")])),_:1,__:[0]}),nn(Ut(At),{onClick:C,size:"small",type:"tertiary"},{default:Ar(()=>R[1]||(R[1]=[hr("Reset Rate")])),_:1,__:[1]}),nn(Ut(At),{onClick:w,size:"small",type:"tertiary"},{default:Ar(()=>R[2]||(R[2]=[hr("Copy")])),_:1,__:[2]}),nn(Ut(At),{onClick:T,size:"small",type:"tertiary"},{default:Ar(()=>R[3]||(R[3]=[hr("Save Snapshot")])),_:1,__:[3]}),nn(Ut(At),{onClick:S,size:"small",type:"tertiary"},{default:Ar(()=>R[4]||(R[4]=[hr("Clear")])),_:1,__:[4]})])]),Ht("div",tne,[Ht("div",nne,"Now Playing: "+In(Ut(r)||"N/A")+" | Station: "+In(Ut(n)||"N/A"),1),Ht("div",rne,"Rate: "+In(o.value.playbackRate)+" | Duration: "+In(h(o.value.duration))+" | Time: "+In(h(o.value.currentTime)),1),Ht("div",one,"Sample Rate: "+In(((P=s.value)==null?void 0:P.sampleRate)||"N/A")+"Hz | State: "+In(((_=s.value)==null?void 0:_.state)||"N/A")+" | Buffer: "+In(p()),1),Ht("div",ine,"Bitrate: "+In(i.value.bitrate||"N/A")+"kbps | Codec: "+In(i.value.codec||"N/A")+" | Level: "+In(i.value.currentLevel),1),c.value?(Ln(),mr("div",sne,In(c.value),1)):wl("",!0),Ht("div",ane,[(Ln(!0),mr(Vt,null,Fv(a.value.slice(0,8),(I,L)=>(Ln(),mr("div",{key:L,class:"log-line"}," ["+In(I.time)+"] "+In(I.message),1))),128))])])])}}},cne=hb(lne,[["__scopeId","data-v-bb971e27"]]),dne={class:"app-content"},une={class:"version-text"},fne={class:"message-section"},hne={key:0},gne={key:"button",class:"message-button-wrapper"},mne={key:"input",class:"message-input-wrapper"},pne={class:"message-actions"},vne={key:0,class:"diagnostics-toggle"},bne={__name:"App",setup(t){const e=z(!1),n=z("");let r=null;const o=z(null),i=()=>{o.value&&o.value.focus()},s=()=>{console.log("// Toggle message input visibility"),e.value=!e.value,e.value?(a(),$t(()=>{const S=document.querySelector(".message-textarea textarea");S&&S.focus()})):l()},a=()=>{l(),r=setTimeout(()=>{e.value&&d()},3e4)},l=()=>{r&&(clearTimeout(r),r=null)},c=async()=>{var S,T;if(n.value.trim())try{console.log("Sending message to server:",n.value);const w=m.radioName||"aizoo";await sendMessage(n.value,w),console.log("Message sent successfully"),(S=window.$message)==null||S.success("Message sent!"),n.value="",e.value=!1,l()}catch(w){console.error("Failed to send message:",w),(T=window.$message)==null||T.error("Failed to send message. Please try again.")}},d=()=>{n.value="",e.value=!1,l()},u=cb(),f=As(),m=Xd();Qte();const{theme:h}=md(u),{radioName:p}=md(m),v=z(!1),b=A(()=>{const S=new URLSearchParams(window.location.search);return S.get("debug")==="1"||S.get("debug")==="true"}),y=A(()=>f.isAuthenticated);Gt(async()=>{try{await f.init(),console.log("Auth initialized. Authenticated:",f.isAuthenticated)}catch(S){console.error("Failed to initialize auth:",S)}}),gt(()=>f.isAuthenticated,S=>{console.log("Auth state changed:",S)});const x=A(()=>u.theme==="dark"?bS:null),C={common:{primaryColor:"#4b5563",primaryColorHover:"#374151",primaryColorPressed:"#1f2937",primaryColorSuppl:"#374151"}};return gt(()=>u.theme,S=>{const T=document.body;S==="dark"?T.style.backgroundColor=bS.common.bodyColor:T.style.backgroundColor="#fdfdfd"},{immediate:!0}),(S,T)=>{const w=D$("router-view");return Ln(),Ra(Ut(I0),{theme:x.value,"theme-overrides":C},{default:Ar(()=>[nn(Ut(g_)),T[3]||(T[3]=Ht("div",{id:"nav"},null,-1)),Ht("div",dne,[nn(w),v.value?(Ln(),Ra(cne,{key:0})):wl("",!0)]),Ht("footer",null,[Ht("p",une,"v."+In(Ut(EL)),1),Ht("div",fne,[y.value?(Ln(),mr("div",hne,[nn(en,{name:"fade",mode:"out-in"},{default:Ar(()=>[e.value?(Ln(),mr("div",mne,[nn(Ut(tr),{value:n.value,"onUpdate:value":T[0]||(T[0]=E=>n.value=E),type:"textarea",placeholder:"Type your message here...",autosize:{minRows:4,maxRows:4},onKeydown:nM(eM(c,["exact","prevent"]),["enter"]),class:"message-textarea",ref_key:"messageInput",ref:o,onVnodeMounted:i},null,8,["value","onKeydown"]),Ht("div",pne,[nn(Ut(At),{onClick:c,disabled:!n.value.trim(),class:"send-button gradient-button",circle:"",size:"large"},{icon:Ar(()=>[nn(Ut(Oh),{component:Ut(KJ),size:"20"},null,8,["component"])]),_:1},8,["disabled"]),nn(Ut(At),{onClick:d,class:"cancel-button",round:"",size:"small",secondary:"",circle:""},{icon:Ar(()=>T[2]||(T[2]=[Ht("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},[Ht("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])),_:1})])])):(Ln(),mr("div",gne,[nn(Ut(At),{onClick:s,class:"message-button invisible-button",size:"large",text:""})]))]),_:1})])):wl("",!0)])]),b.value?(Ln(),mr("div",vne,[nn(Ut(At),{onClick:T[1]||(T[1]=E=>v.value=!v.value),type:"primary",size:"small",style:{position:"fixed",bottom:"20px",right:"20px","z-index":"1000"}},{default:Ar(()=>[hr(In(v.value?"Hide Diagnostics":"Show Diagnostics"),1)]),_:1})])):wl("",!0)]),_:1,__:[3]},8,["theme"])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const fl=typeof document<"u";function PL(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function yne(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&PL(t.default)}const pn=Object.assign;function dm(t,e){const n={};for(const r in e){const o=e[r];n[r]=Xo(o)?o.map(t):t(o)}return n}const Kc=()=>{},Xo=Array.isArray,AL=/#/g,xne=/&/g,Cne=/\//g,Sne=/=/g,wne=/\?/g,IL=/\+/g,Rne=/%5B/g,Tne=/%5D/g,_L=/%5E/g,Ene=/%60/g,LL=/%7B/g,kne=/%7C/g,DL=/%7D/g,Pne=/%20/g;function gb(t){return encodeURI(""+t).replace(kne,"|").replace(Rne,"[").replace(Tne,"]")}function Ane(t){return gb(t).replace(LL,"{").replace(DL,"}").replace(_L,"^")}function ev(t){return gb(t).replace(IL,"%2B").replace(Pne,"+").replace(AL,"%23").replace(xne,"%26").replace(Ene,"`").replace(LL,"{").replace(DL,"}").replace(_L,"^")}function Ine(t){return ev(t).replace(Sne,"%3D")}function _ne(t){return gb(t).replace(AL,"%23").replace(wne,"%3F")}function Lne(t){return t==null?"":_ne(t).replace(Cne,"%2F")}function vd(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Dne=/\/$/,One=t=>t.replace(Dne,"");function um(t,e,n="/"){let r,o={},i="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),o=t(i)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=Bne(r??e,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:vd(s)}}function $ne(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function MS(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Fne(t,e,n){const r=e.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Nl(e.matched[r],n.matched[o])&&OL(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Nl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function OL(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Mne(t[n],e[n]))return!1;return!0}function Mne(t,e){return Xo(t)?BS(t,e):Xo(e)?BS(e,t):t===e}function BS(t,e){return Xo(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Bne(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let i=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s).join("/")}const ds={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var bd;(function(t){t.pop="pop",t.push="push"})(bd||(bd={}));var Gc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Gc||(Gc={}));function zne(t){if(!t)if(fl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),One(t)}const Nne=/^[^#]+#/;function Une(t,e){return t.replace(Nne,"#")+e}function Hne(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Qh=()=>({left:window.scrollX,top:window.scrollY});function Vne(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=Hne(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function zS(t,e){return(history.state?history.state.position-e:-1)+t}const tv=new Map;function jne(t,e){tv.set(t,e)}function Wne(t){const e=tv.get(t);return tv.delete(t),e}let Kne=()=>location.protocol+"//"+location.host;function $L(t,e){const{pathname:n,search:r,hash:o}=e,i=t.indexOf("#");if(i>-1){let a=o.includes(t.slice(i))?t.slice(i).length:1,l=o.slice(a);return l[0]!=="/"&&(l="/"+l),MS(l,"")}return MS(n,t)+r+o}function Gne(t,e,n,r){let o=[],i=[],s=null;const a=({state:f})=>{const m=$L(t,location),h=n.value,p=e.value;let v=0;if(f){if(n.value=m,e.value=f,s&&s===h){s=null;return}v=p?f.position-p.position:0}else r(m);o.forEach(b=>{b(n.value,h,{delta:v,type:bd.pop,direction:v?v>0?Gc.forward:Gc.back:Gc.unknown})})};function l(){s=n.value}function c(f){o.push(f);const m=()=>{const h=o.indexOf(f);h>-1&&o.splice(h,1)};return i.push(m),m}function d(){const{history:f}=window;f.state&&f.replaceState(pn({},f.state,{scroll:Qh()}),"")}function u(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:u}}function NS(t,e,n,r=!1,o=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:o?Qh():null}}function qne(t){const{history:e,location:n}=window,r={value:$L(t,n)},o={value:e.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,d){const u=t.indexOf("#"),f=u>-1?(n.host&&document.querySelector("base")?t:t.slice(u))+l:Kne()+t+l;try{e[d?"replaceState":"pushState"](c,"",f),o.value=c}catch(m){console.error(m),n[d?"replace":"assign"](f)}}function s(l,c){const d=pn({},e.state,NS(o.value.back,l,o.value.forward,!0),c,{position:o.value.position});i(l,d,!0),r.value=l}function a(l,c){const d=pn({},o.value,e.state,{forward:l,scroll:Qh()});i(d.current,d,!0);const u=pn({},NS(r.value,l,null),{position:d.position+1},c);i(l,u,!1),r.value=l}return{location:r,state:o,push:a,replace:s}}function Yne(t){t=zne(t);const e=qne(t),n=Gne(t,e.state,e.location,e.replace);function r(i,s=!0){s||n.pauseListeners(),history.go(i)}const o=pn({location:"",base:t,go:r,createHref:Une.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function Xne(t){return typeof t=="string"||t&&typeof t=="object"}function FL(t){return typeof t=="string"||typeof t=="symbol"}const ML=Symbol("");var US;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(US||(US={}));function Ul(t,e){return pn(new Error,{type:t,[ML]:!0},e)}function Oi(t,e){return t instanceof Error&&ML in t&&(e==null||!!(t.type&e))}const HS="[^/]+?",Qne={sensitive:!1,strict:!1,start:!0,end:!0},Zne=/[.+*?^${}()[\]/\\]/g;function Jne(t,e){const n=pn({},Qne,e),r=[];let o=n.start?"^":"";const i=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(o+="/");for(let u=0;u<c.length;u++){const f=c[u];let m=40+(n.sensitive?.25:0);if(f.type===0)u||(o+="/"),o+=f.value.replace(Zne,"\\$&"),m+=40;else if(f.type===1){const{value:h,repeatable:p,optional:v,regexp:b}=f;i.push({name:h,repeatable:p,optional:v});const y=b||HS;if(y!==HS){m+=10;try{new RegExp(`(${y})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${h}" (${y}): `+C.message)}}let x=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;u||(x=v&&c.length<2?`(?:/${x})`:"/"+x),v&&(x+="?"),o+=x,m+=20,v&&(m+=-8),p&&(m+=-20),y===".*"&&(m+=-50)}d.push(m)}r.push(d)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");function a(c){const d=c.match(s),u={};if(!d)return null;for(let f=1;f<d.length;f++){const m=d[f]||"",h=i[f-1];u[h.name]=m&&h.repeatable?m.split("/"):m}return u}function l(c){let d="",u=!1;for(const f of t){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const m of f)if(m.type===0)d+=m.value;else if(m.type===1){const{value:h,repeatable:p,optional:v}=m,b=h in c?c[h]:"";if(Xo(b)&&!p)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const y=Xo(b)?b.join("/"):b;if(!y)if(v)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${h}"`);d+=y}}return d||"/"}return{re:s,score:r,keys:i,parse:a,stringify:l}}function ere(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function BL(t,e){let n=0;const r=t.score,o=e.score;for(;n<r.length&&n<o.length;){const i=ere(r[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-r.length)===1){if(VS(r))return 1;if(VS(o))return-1}return o.length-r.length}function VS(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tre={type:0,value:""},nre=/[a-zA-Z0-9_]/;function rre(t){if(!t)return[[]];if(t==="/")return[[tre]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let a=0,l,c="",d="";function u(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&u(),s()):l===":"?(u(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:nre.test(l)?f():(u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),s(),o}function ore(t,e,n){const r=Jne(rre(t.path),n),o=pn(r,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function ire(t,e){const n=[],r=new Map;e=GS({strict:!1,end:!0,sensitive:!1},e);function o(u){return r.get(u)}function i(u,f,m){const h=!m,p=WS(u);p.aliasOf=m&&m.record;const v=GS(e,u),b=[p];if("alias"in u){const C=typeof u.alias=="string"?[u.alias]:u.alias;for(const S of C)b.push(WS(pn({},p,{components:m?m.record.components:p.components,path:S,aliasOf:m?m.record:p})))}let y,x;for(const C of b){const{path:S}=C;if(f&&S[0]!=="/"){const T=f.record.path,w=T[T.length-1]==="/"?"":"/";C.path=f.record.path+(S&&w+S)}if(y=ore(C,f,v),m?m.alias.push(y):(x=x||y,x!==y&&x.alias.push(y),h&&u.name&&!KS(y)&&s(u.name)),zL(y)&&l(y),p.children){const T=p.children;for(let w=0;w<T.length;w++)i(T[w],y,m&&m.children[w])}m=m||y}return x?()=>{s(x)}:Kc}function s(u){if(FL(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return n}function l(u){const f=lre(u,n);n.splice(f,0,u),u.record.name&&!KS(u)&&r.set(u.record.name,u)}function c(u,f){let m,h={},p,v;if("name"in u&&u.name){if(m=r.get(u.name),!m)throw Ul(1,{location:u});v=m.record.name,h=pn(jS(f.params,m.keys.filter(x=>!x.optional).concat(m.parent?m.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),u.params&&jS(u.params,m.keys.map(x=>x.name))),p=m.stringify(h)}else if(u.path!=null)p=u.path,m=n.find(x=>x.re.test(p)),m&&(h=m.parse(p),v=m.record.name);else{if(m=f.name?r.get(f.name):n.find(x=>x.re.test(f.path)),!m)throw Ul(1,{location:u,currentLocation:f});v=m.record.name,h=pn({},f.params,u.params),p=m.stringify(h)}const b=[];let y=m;for(;y;)b.unshift(y.record),y=y.parent;return{name:v,path:p,params:h,matched:b,meta:are(b)}}t.forEach(u=>i(u));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:s,clearRoutes:d,getRoutes:a,getRecordMatcher:o}}function jS(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function WS(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:sre(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function sre(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function KS(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function are(t){return t.reduce((e,n)=>pn(e,n.meta),{})}function GS(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function lre(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;BL(t,e[i])<0?r=i:n=i+1}const o=cre(t);return o&&(r=e.lastIndexOf(o,r-1)),r}function cre(t){let e=t;for(;e=e.parent;)if(zL(e)&&BL(t,e)===0)return e}function zL({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function dre(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(IL," "),s=i.indexOf("="),a=vd(s<0?i:i.slice(0,s)),l=s<0?null:vd(i.slice(s+1));if(a in e){let c=e[a];Xo(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function qS(t){let e="";for(let n in t){const r=t[n];if(n=Ine(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Xo(r)?r.map(i=>i&&ev(i)):[r&&ev(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function ure(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Xo(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}const fre=Symbol(""),YS=Symbol(""),mb=Symbol(""),NL=Symbol(""),nv=Symbol("");function xc(){let t=[];function e(r){return t.push(r),()=>{const o=t.indexOf(r);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function xs(t,e,n,r,o,i=s=>s()){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Ul(4,{from:n,to:e})):f instanceof Error?l(f):Xne(f)?l(Ul(2,{from:e,to:f})):(s&&r.enterCallbacks[o]===s&&typeof f=="function"&&s.push(f),a())},d=i(()=>t.call(r&&r.instances[o],e,n,c));let u=Promise.resolve(d);t.length<3&&(u=u.then(c)),u.catch(f=>l(f))})}function fm(t,e,n,r,o=i=>i()){const i=[];for(const s of t)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(PL(l)){const d=(l.__vccOpts||l)[e];d&&i.push(xs(d,n,r,s,a,o))}else{let c=l();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const u=yne(d)?d.default:d;s.mods[a]=d,s.components[a]=u;const m=(u.__vccOpts||u)[e];return m&&xs(m,n,r,s,a,o)()}))}}return i}function XS(t){const e=Ve(mb),n=Ve(NL),r=A(()=>{const l=Ut(t.to);return e.resolve(l)}),o=A(()=>{const{matched:l}=r.value,{length:c}=l,d=l[c-1],u=n.matched;if(!d||!u.length)return-1;const f=u.findIndex(Nl.bind(null,d));if(f>-1)return f;const m=QS(l[c-2]);return c>1&&QS(d)===m&&u[u.length-1].path!==m?u.findIndex(Nl.bind(null,l[c-2])):f}),i=A(()=>o.value>-1&&vre(n.params,r.value.params)),s=A(()=>o.value>-1&&o.value===n.matched.length-1&&OL(n.params,r.value.params));function a(l={}){if(pre(l)){const c=e[Ut(t.replace)?"replace":"push"](Ut(t.to)).catch(Kc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:A(()=>r.value.href),isActive:i,isExactActive:s,navigate:a}}function hre(t){return t.length===1?t[0]:t}const gre=ce({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:XS,setup(t,{slots:e}){const n=Ri(XS(t)),{options:r}=Ve(mb),o=A(()=>({[ZS(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ZS(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&hre(e.default(n));return t.custom?i:g("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),mre=gre;function pre(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function vre(t,e){for(const n in e){const r=e[n],o=t[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Xo(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function QS(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ZS=(t,e,n)=>t??e??n,bre=ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Ve(nv),o=A(()=>t.route||r.value),i=Ve(YS,0),s=A(()=>{let c=Ut(i);const{matched:d}=o.value;let u;for(;(u=d[c])&&!u.components;)c++;return c}),a=A(()=>o.value.matched[s.value]);ft(YS,A(()=>s.value+1)),ft(fre,a),ft(nv,o);const l=z();return gt(()=>[l.value,a.value,t.name],([c,d,u],[f,m,h])=>{d&&(d.instances[u]=c,m&&m!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),c&&d&&(!m||!Nl(d,m)||!f)&&(d.enterCallbacks[u]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=o.value,d=t.name,u=a.value,f=u&&u.components[d];if(!f)return JS(n.default,{Component:f,route:c});const m=u.props[d],h=m?m===!0?c.params:typeof m=="function"?m(c):m:null,v=g(f,pn({},h,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(u.instances[d]=null)},ref:l}));return JS(n.default,{Component:v,route:c})||v}}});function JS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const yre=bre;function xre(t){const e=ire(t.routes,t),n=t.parseQuery||dre,r=t.stringifyQuery||qS,o=t.history,i=xc(),s=xc(),a=xc(),l=Iv(ds);let c=ds;fl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=dm.bind(null,q=>""+q),u=dm.bind(null,Lne),f=dm.bind(null,vd);function m(q,ue){let K,he;return FL(q)?(K=e.getRecordMatcher(q),he=ue):he=q,e.addRoute(he,K)}function h(q){const ue=e.getRecordMatcher(q);ue&&e.removeRoute(ue)}function p(){return e.getRoutes().map(q=>q.record)}function v(q){return!!e.getRecordMatcher(q)}function b(q,ue){if(ue=pn({},ue||l.value),typeof q=="string"){const re=um(n,q,ue.path),be=e.resolve({path:re.path},ue),Ce=o.createHref(re.fullPath);return pn(re,be,{params:f(be.params),hash:vd(re.hash),redirectedFrom:void 0,href:Ce})}let K;if(q.path!=null)K=pn({},q,{path:um(n,q.path,ue.path).path});else{const re=pn({},q.params);for(const be in re)re[be]==null&&delete re[be];K=pn({},q,{params:u(re)}),ue.params=u(ue.params)}const he=e.resolve(K,ue),Ie=q.hash||"";he.params=d(f(he.params));const Q=$ne(r,pn({},q,{hash:Ane(Ie),path:he.path})),Y=o.createHref(Q);return pn({fullPath:Q,hash:Ie,query:r===qS?ure(q.query):q.query||{}},he,{redirectedFrom:void 0,href:Y})}function y(q){return typeof q=="string"?um(n,q,l.value.path):pn({},q)}function x(q,ue){if(c!==q)return Ul(8,{from:ue,to:q})}function C(q){return w(q)}function S(q){return C(pn(y(q),{replace:!0}))}function T(q){const ue=q.matched[q.matched.length-1];if(ue&&ue.redirect){const{redirect:K}=ue;let he=typeof K=="function"?K(q):K;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=y(he):{path:he},he.params={}),pn({query:q.query,hash:q.hash,params:he.path!=null?{}:q.params},he)}}function w(q,ue){const K=c=b(q),he=l.value,Ie=q.state,Q=q.force,Y=q.replace===!0,re=T(K);if(re)return w(pn(y(re),{state:typeof re=="object"?pn({},Ie,re.state):Ie,force:Q,replace:Y}),ue||K);const be=K;be.redirectedFrom=ue;let Ce;return!Q&&Fne(r,he,K)&&(Ce=Ul(16,{to:be,from:he}),B(he,he,!0,!1)),(Ce?Promise.resolve(Ce):P(be,he)).catch(le=>Oi(le)?Oi(le,2)?le:D(le):J(le,be,he)).then(le=>{if(le){if(Oi(le,2))return w(pn({replace:Y},y(le.to),{state:typeof le.to=="object"?pn({},Ie,le.to.state):Ie,force:Q}),ue||be)}else le=I(be,he,!0,Y,Ie);return _(be,he,le),le})}function E(q,ue){const K=x(q,ue);return K?Promise.reject(K):Promise.resolve()}function R(q){const ue=V.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(q):q()}function P(q,ue){let K;const[he,Ie,Q]=Cre(q,ue);K=fm(he.reverse(),"beforeRouteLeave",q,ue);for(const re of he)re.leaveGuards.forEach(be=>{K.push(xs(be,q,ue))});const Y=E.bind(null,q,ue);return K.push(Y),Z(K).then(()=>{K=[];for(const re of i.list())K.push(xs(re,q,ue));return K.push(Y),Z(K)}).then(()=>{K=fm(Ie,"beforeRouteUpdate",q,ue);for(const re of Ie)re.updateGuards.forEach(be=>{K.push(xs(be,q,ue))});return K.push(Y),Z(K)}).then(()=>{K=[];for(const re of Q)if(re.beforeEnter)if(Xo(re.beforeEnter))for(const be of re.beforeEnter)K.push(xs(be,q,ue));else K.push(xs(re.beforeEnter,q,ue));return K.push(Y),Z(K)}).then(()=>(q.matched.forEach(re=>re.enterCallbacks={}),K=fm(Q,"beforeRouteEnter",q,ue,R),K.push(Y),Z(K))).then(()=>{K=[];for(const re of s.list())K.push(xs(re,q,ue));return K.push(Y),Z(K)}).catch(re=>Oi(re,8)?re:Promise.reject(re))}function _(q,ue,K){a.list().forEach(he=>R(()=>he(q,ue,K)))}function I(q,ue,K,he,Ie){const Q=x(q,ue);if(Q)return Q;const Y=ue===ds,re=fl?history.state:{};K&&(he||Y?o.replace(q.fullPath,pn({scroll:Y&&re&&re.scroll},Ie)):o.push(q.fullPath,Ie)),l.value=q,B(q,ue,K,Y),D()}let L;function N(){L||(L=o.listen((q,ue,K)=>{if(!X.listening)return;const he=b(q),Ie=T(he);if(Ie){w(pn(Ie,{replace:!0,force:!0}),he).catch(Kc);return}c=he;const Q=l.value;fl&&jne(zS(Q.fullPath,K.delta),Qh()),P(he,Q).catch(Y=>Oi(Y,12)?Y:Oi(Y,2)?(w(pn(y(Y.to),{force:!0}),he).then(re=>{Oi(re,20)&&!K.delta&&K.type===bd.pop&&o.go(-1,!1)}).catch(Kc),Promise.reject()):(K.delta&&o.go(-K.delta,!1),J(Y,he,Q))).then(Y=>{Y=Y||I(he,Q,!1),Y&&(K.delta&&!Oi(Y,8)?o.go(-K.delta,!1):K.type===bd.pop&&Oi(Y,20)&&o.go(-1,!1)),_(he,Q,Y)}).catch(Kc)}))}let H=xc(),G=xc(),W;function J(q,ue,K){D(q);const he=G.list();return he.length?he.forEach(Ie=>Ie(q,ue,K)):console.error(q),Promise.reject(q)}function ne(){return W&&l.value!==ds?Promise.resolve():new Promise((q,ue)=>{H.add([q,ue])})}function D(q){return W||(W=!q,N(),H.list().forEach(([ue,K])=>q?K(q):ue()),H.reset()),q}function B(q,ue,K,he){const{scrollBehavior:Ie}=t;if(!fl||!Ie)return Promise.resolve();const Q=!K&&Wne(zS(q.fullPath,0))||(he||!K)&&history.state&&history.state.scroll||null;return $t().then(()=>Ie(q,ue,Q)).then(Y=>Y&&Vne(Y)).catch(Y=>J(Y,q,ue))}const j=q=>o.go(q);let $;const V=new Set,X={currentRoute:l,listening:!0,addRoute:m,removeRoute:h,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:p,resolve:b,options:t,push:C,replace:S,go:j,back:()=>j(-1),forward:()=>j(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:G.add,isReady:ne,install(q){const ue=this;q.component("RouterLink",mre),q.component("RouterView",yre),q.config.globalProperties.$router=ue,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>Ut(l)}),fl&&!$&&l.value===ds&&($=!0,C(o.location).catch(Ie=>{}));const K={};for(const Ie in ds)Object.defineProperty(K,Ie,{get:()=>l.value[Ie],enumerable:!0});q.provide(mb,ue),q.provide(NL,zw(K)),q.provide(nv,l);const he=q.unmount;V.add(q),q.unmount=function(){V.delete(q),V.size<1&&(c=ds,L&&L(),L=null,l.value=ds,$=!1,W=!1),he()}}};function Z(q){return q.reduce((ue,K)=>ue.then(()=>R(K)),Promise.resolve())}return X}function Cre(t,e){const n=[],r=[],o=[],i=Math.max(e.matched.length,t.matched.length);for(let s=0;s<i;s++){const a=e.matched[s];a&&(t.matched.find(c=>Nl(c,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(c=>Nl(c,l))||o.push(l))}return[n,r,o]}const xt=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},Sre=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=wre},wre=Number.MAX_SAFE_INTEGER||9007199254740991;let Pt=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),Fe=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t}({}),U=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t}({});var Zt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},kt={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class il{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Rre{constructor(e,n,r,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new il(e),this.fast_=new il(n),this.defaultTTFB_=o,this.ttfb_=new il(e)}update(e,n){const{slow_:r,fast_:o,ttfb_:i}=this;r.halfLife!==e&&(this.slow_=new il(e,r.getEstimate(),r.getTotalWeight())),o.halfLife!==n&&(this.fast_=new il(n,o.getEstimate(),o.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new il(e,i.getEstimate(),i.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,o=e/1e3,i=r/o;this.fast_.sample(o,i),this.slow_.sample(o,i)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function Tre(t,e,n){return(e=kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wn(){return wn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wn.apply(null,arguments)}function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}class is{constructor(e,n){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const r=`[${e}]:`;this.trace=Cs,this.debug=n.debug.bind(null,r),this.log=n.log.bind(null,r),this.warn=n.warn.bind(null,r),this.info=n.info.bind(null,r),this.error=n.error.bind(null,r)}}const Cs=function(){},Pre={trace:Cs,debug:Cs,log:Cs,warn:Cs,info:Cs,error:Cs};function rv(){return wn({},Pre)}function Are(t,e){const n=self.console[t];return n?n.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):Cs}function t1(t,e,n){return e[t]?e[t].bind(e):Are(t,n)}const ov=rv();function Ire(t,e,n){const r=rv();if(typeof console=="object"&&t===!0||typeof t=="object"){const o=["debug","log","info","warn","error"];o.forEach(i=>{r[i]=t1(i,t,n)});try{r.log(`Debug logs enabled for "${e}" in hls.js version 1.6.5`)}catch{return rv()}o.forEach(i=>{ov[i]=t1(i,t)})}else wn(ov,r);return r}const gn=ov;function Vs(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function _re(t){return typeof self<"u"&&t===self.ManagedMediaSource}function UL(t,e){const n=Object.keys(t),r=Object.keys(e),o=n.length,i=r.length;return!o||!i||o===i&&!n.some(s=>r.indexOf(s)===-1)}function vo(t,e=!1){if(typeof TextDecoder<"u"){const c=new TextDecoder("utf-8").decode(t);if(e){const d=c.indexOf("\0");return d!==-1?c.substring(0,d):c}return c.replace(/\0/g,"")}const n=t.length;let r,o,i,s="",a=0;for(;a<n;){if(r=t[a++],r===0&&e)return s;if(r===0||r===3)continue;switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(r);break;case 12:case 13:o=t[a++],s+=String.fromCharCode((r&31)<<6|o&63);break;case 14:o=t[a++],i=t[a++],s+=String.fromCharCode((r&15)<<12|(o&63)<<6|(i&63)<<0);break}}return s}const li={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}};function Lre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hm={exports:{}},n1;function Dre(){return n1||(n1=1,function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,c,d){if(d=d||{},l=l.trim(),c=c.trim(),!c){if(!d.alwaysNormalize)return l;var u=a.parseURL(l);if(!u)throw new Error("Error trying to parse base URL.");return u.path=a.normalizePath(u.path),a.buildURLFromParts(u)}var f=a.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return d.alwaysNormalize?(f.path=a.normalizePath(f.path),a.buildURLFromParts(f)):c;var m=a.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var h=o.exec(m.path);m.netLoc=h[1],m.path=h[2]}m.netLoc&&!m.path&&(m.path="/");var p={scheme:m.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(p.netLoc=m.netLoc,f.path[0]!=="/"))if(!f.path)p.path=m.path,f.params||(p.params=m.params,f.query||(p.query=m.query));else{var v=m.path,b=v.substring(0,v.lastIndexOf("/")+1)+f.path;p.path=a.normalizePath(b)}return p.path===null&&(p.path=d.alwaysNormalize?a.normalizePath(f.path):f.path),a.buildURLFromParts(p)},parseURL:function(l){var c=r.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(i,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()}(hm)),hm.exports}var pb=Dre();class vb{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Pn={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class HL{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,$re(this,"stats")}setByteRange(e,n){const r=e.split("@",2);let o;r.length===1?o=(n==null?void 0:n.byteRangeEndOffset)||0:o=parseInt(r[1]),this._byteRange=[o,parseInt(r[0])+o]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Pn.AUDIO]:null,[Pn.VIDEO]:null,[Pn.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new vb),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=pb.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Pn.AUDIO]=null,e[Pn.VIDEO]=null,e[Pn.AUDIOVIDEO]=null}}function Cr(t){return t.sn!=="initSegment"}class gm extends HL{constructor(e,n){super(n),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange){const e=this.byteRange[0],n=this.byteRange[1];if(xt(e)&&xt(n))return n-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=xt(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!xt(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return Cr(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,o,i,s=!1){const{elementaryStreams:a}=this,l=a[e];if(!l){a[e]={startPTS:n,endPTS:r,startDTS:o,endDTS:i,partial:s};return}l.startPTS=Math.min(l.startPTS,n),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,o),l.endDTS=Math.max(l.endDTS,i)}}class Ore extends HL{constructor(e,n,r,o,i){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=o;const s=e.enumeratedString("BYTERANGE");s&&this.setByteRange(s,i),i&&(this.fragOffset=i.fragOffset+i.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function VL(t,e){const n=Object.getPrototypeOf(t);if(n){const r=Object.getOwnPropertyDescriptor(n,e);return r||VL(n,e)}}function $re(t,e){const n=VL(t,e);n&&(n.enumerable=!0,Object.defineProperty(t,e,n))}const jf=Math.pow(2,32)-1,Fre=[].push,jL={video:1,audio:2,id3:3,text:4};function dr(t){return String.fromCharCode.apply(null,t)}function WL(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function Bt(t,e){const n=KL(t,e);return n<0?4294967296+n:n}function r1(t,e){let n=Bt(t,e);return n*=Math.pow(2,32),n+=Bt(t,e+4),n}function KL(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function mm(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function Mre(t){const e=t.byteLength;for(let n=0;n<e;){const r=Bt(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function qt(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let o=0;o<r;){const i=Bt(t,o),s=dr(t.subarray(o+4,o+8)),a=i>1?o+i:r;if(s===e[0])if(e.length===1)n.push(t.subarray(o+8,a));else{const l=qt(t.subarray(o+8,a),e.slice(1));l.length&&Fre.apply(n,l)}o=a}return n}function Bre(t){const e=[],n=t[0];let r=8;const o=Bt(t,r);r+=4;let i=0,s=0;n===0?(i=Bt(t,r),s=Bt(t,r+4),r+=8):(i=r1(t,r),s=r1(t,r+8),r+=16),r+=2;let a=t.length+s;const l=WL(t,r);r+=2;for(let c=0;c<l;c++){let d=r;const u=Bt(t,d);d+=4;const f=u&2147483647;if((u&2147483648)>>>31===1)return gn.warn("SIDX has hierarchical references (not supported)"),null;const h=Bt(t,d);d+=4,e.push({referenceSize:f,subsegmentDuration:h,info:{duration:h/o,start:a,end:a+f-1}}),a+=f,d+=4,r=d}return{earliestPresentationTime:i,timescale:o,version:n,referencesCount:l,references:e}}function GL(t){const e=[],n=qt(t,["moov","trak"]);for(let o=0;o<n.length;o++){const i=n[o],s=qt(i,["tkhd"])[0];if(s){let a=s[0];const l=Bt(s,a===0?12:20),c=qt(i,["mdia","mdhd"])[0];if(c){a=c[0];const d=Bt(c,a===0?12:20),u=qt(i,["mdia","hdlr"])[0];if(u){const f=dr(u.subarray(8,12)),m={soun:Pn.AUDIO,vide:Pn.VIDEO}[f],h=qt(i,["mdia","minf","stbl","stsd"])[0],p=zre(h);m?(e[l]={timescale:d,type:m,stsd:p},e[m]=yn({timescale:d,id:l},p)):e[l]={timescale:d,type:f,stsd:p}}}}}return qt(t,["moov","mvex","trex"]).forEach(o=>{const i=Bt(o,4),s=e[i];s&&(s.default={duration:Bt(o,12),flags:Bt(o,20)})}),e}function zre(t){const e=t.subarray(8),n=e.subarray(86),r=dr(e.subarray(4,8));let o=r,i;const s=r==="enca"||r==="encv";if(s){const c=qt(e,[r])[0].subarray(r==="enca"?28:78);qt(c,["sinf"]).forEach(u=>{const f=qt(u,["schm"])[0];if(f){const m=dr(f.subarray(4,8));if(m==="cbcs"||m==="cenc"){const h=qt(u,["frma"])[0];h&&(o=dr(h))}}})}const a=o;switch(o){case"avc1":case"avc2":case"avc3":case"avc4":{const l=qt(n,["avcC"])[0];l&&l.length>3&&(o+="."+Iu(l[1])+Iu(l[2])+Iu(l[3]),i=Au(a==="avc1"?"dva1":"dvav",n));break}case"mp4a":{const l=qt(e,[r])[0],c=qt(l.subarray(28),["esds"])[0];if(c&&c.length>7){let d=4;if(c[d++]!==3)break;d=pm(c,d),d+=2;const u=c[d++];if(u&128&&(d+=2),u&64&&(d+=c[d++]),c[d++]!==4)break;d=pm(c,d);const f=c[d++];if(f===64)o+="."+Iu(f);else break;if(d+=12,c[d++]!==5)break;d=pm(c,d);const m=c[d++];let h=(m&248)>>3;h===31&&(h+=1+((m&7)<<3)+((c[d]&224)>>5)),o+="."+h}break}case"hvc1":case"hev1":{const l=qt(n,["hvcC"])[0];if(l&&l.length>12){const c=l[1],d=["","A","B","C"][c>>6],u=c&31,f=Bt(l,2),m=(c&32)>>5?"H":"L",h=l[12],p=l.subarray(6,12);o+="."+d+u,o+="."+Nre(f).toString(16).toUpperCase(),o+="."+m+h;let v="";for(let b=p.length;b--;){const y=p[b];(y||v)&&(v="."+y.toString(16).toUpperCase()+v)}o+=v}i=Au(a=="hev1"?"dvhe":"dvh1",n);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{o=Au(o,n)||o;break}case"vp09":{const l=qt(n,["vpcC"])[0];if(l&&l.length>6){const c=l[4],d=l[5],u=l[6]>>4&15;o+="."+ai(c)+"."+ai(d)+"."+ai(u)}break}case"av01":{const l=qt(n,["av1C"])[0];if(l&&l.length>2){const c=l[1]>>>5,d=l[1]&31,u=l[2]>>>7?"H":"M",f=(l[2]&64)>>6,m=(l[2]&32)>>5,h=c===2&&f?m?12:10:f?10:8,p=(l[2]&16)>>4,v=(l[2]&8)>>3,b=(l[2]&4)>>2,y=l[2]&3;o+="."+c+"."+ai(d)+u+"."+ai(h)+"."+p+"."+v+b+y+"."+ai(1)+"."+ai(1)+"."+ai(1)+"."+0,i=Au("dav1",n)}break}}return{codec:o,encrypted:s,supplemental:i}}function Au(t,e){const n=qt(e,["dvvC"]),r=n.length?n[0]:qt(e,["dvcC"])[0];if(r){const o=r[2]>>1&127,i=r[2]<<5&32|r[3]>>3&31;return t+"."+ai(o)+"."+ai(i)}}function Nre(t){let e=0;for(let n=0;n<32;n++)e|=(t>>n&1)<<31-n;return e>>>0}function pm(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function Iu(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function ai(t){return(t<10?"0":"")+t}function Ure(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&qt(t,["moov","trak"]).forEach(o=>{const s=qt(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=qt(s,["enca"]);const l=a.length>0;l||(a=qt(s,["encv"])),a.forEach(c=>{const d=l?c.subarray(28):c.subarray(78);qt(d,["sinf"]).forEach(f=>{const m=qL(f);if(m){const h=m.subarray(8,24);h.some(p=>p!==0)||(gn.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${li.hexDump(h)} -> ${li.hexDump(n)}`),m.set(n,8))}})})}),t}function qL(t){const e=qt(t,["schm"])[0];if(e){const n=dr(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return qt(t,["schi","tenc"])[0]}return null}function Hre(t,e,n){const r={},o=qt(t,["moof","traf"]);for(let i=0;i<o.length;i++){const s=o[i],a=qt(s,["tfhd"])[0],l=Bt(a,4),c=e[l];if(!c)continue;const d=r[l]||(r[l]={start:NaN,duration:0,sampleCount:0,timescale:c.timescale,type:c.type}),u=qt(s,["tfdt"])[0];if(u){const x=u[0];let C=Bt(u,4);x===1&&(C===jf?n.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(C*=jf+1,C+=Bt(u,8))),xt(C)&&(!xt(d.start)||C<d.start)&&(d.start=C)}const f=c.default,m=Bt(a,0)|(f==null?void 0:f.flags);let h=(f==null?void 0:f.duration)||0;m&8&&(m&2?h=Bt(a,12):h=Bt(a,8));const p=qt(s,["trun"]);let v=d.start||0,b=0,y=h;for(let x=0;x<p.length;x++){const C=p[x],S=Bt(C,4),T=d.sampleCount;d.sampleCount+=S;const w=C[3]&1,E=C[3]&4,R=C[2]&1,P=C[2]&2,_=C[2]&4,I=C[2]&8;let L=8,N=S;for(w&&(L+=4),E&&S&&(!(C[L+1]&1)&&d.keyFrameIndex===void 0&&(d.keyFrameIndex=T),L+=4,R?(y=Bt(C,L),L+=4):y=h,P&&(L+=4),I&&(L+=4),v+=y,b+=y,N--);N--;)R?(y=Bt(C,L),L+=4):y=h,P&&(L+=4),_&&(C[L+1]&1||d.keyFrameIndex===void 0&&(d.keyFrameIndex=d.sampleCount-(N+1),d.keyFrameStart=v),L+=4),I&&(L+=4),v+=y,b+=y;!b&&h&&(b+=h*S)}d.duration+=b}if(!Object.keys(r).some(i=>r[i].duration)){let i=1/0,s=0;const a=qt(t,["sidx"]);for(let l=0;l<a.length;l++){const c=Bre(a[l]);if(c!=null&&c.references){i=Math.min(i,c.earliestPresentationTime/c.timescale);const d=c.references.reduce((u,f)=>u+f.info.duration||0,0);s=Math.max(s,d+c.earliestPresentationTime/c.timescale)}}s&&xt(s)&&Object.keys(r).forEach(l=>{r[l].duration||(r[l].duration=s*r[l].timescale-r[l].start)})}return r}function Vre(t,e,n){qt(e,["moof","traf"]).forEach(r=>{qt(r,["tfhd"]).forEach(o=>{const i=Bt(o,4),s=t[i];if(!s)return;const a=s.timescale||9e4;qt(r,["tfdt"]).forEach(l=>{const c=l[0],d=n*a;if(d){let u=Bt(l,4);if(c===0)u-=d,u=Math.max(u,0),mm(l,4,u);else{u*=Math.pow(2,32),u+=Bt(l,8),u-=d,u=Math.max(u,0);const f=Math.floor(u/(jf+1)),m=Math.floor(u%(jf+1));mm(l,4,f),mm(l,8,m)}}})})})}function jre(t){const e={valid:null,remainder:null},n=qt(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=t.slice(0,r.byteOffset-8),e.remainder=t.slice(r.byteOffset-8),e}function Fo(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function o1(t,e){const n=[],r=e.samples,o=e.timescale,i=e.id;let s=!1;return qt(r,["moof"]).map(l=>{const c=l.byteOffset-8;qt(l,["traf"]).map(u=>{const f=qt(u,["tfdt"]).map(m=>{const h=m[0];let p=Bt(m,4);return h===1&&(p*=Math.pow(2,32),p+=Bt(m,8)),p/o})[0];return f!==void 0&&(t=f),qt(u,["tfhd"]).map(m=>{const h=Bt(m,4),p=Bt(m,0)&16777215,v=(p&1)!==0,b=(p&2)!==0,y=(p&8)!==0;let x=0;const C=(p&16)!==0;let S=0;const T=(p&32)!==0;let w=8;h===i&&(v&&(w+=8),b&&(w+=4),y&&(x=Bt(m,w),w+=4),C&&(S=Bt(m,w),w+=4),T&&(w+=4),e.type==="video"&&(s=Zh(e.codec)),qt(u,["trun"]).map(E=>{const R=E[0],P=Bt(E,0)&16777215,_=(P&1)!==0;let I=0;const L=(P&4)!==0,N=(P&256)!==0;let H=0;const G=(P&512)!==0;let W=0;const J=(P&1024)!==0,ne=(P&2048)!==0;let D=0;const B=Bt(E,4);let j=8;_&&(I=Bt(E,j),j+=4),L&&(j+=4);let $=I+c;for(let V=0;V<B;V++){if(N?(H=Bt(E,j),j+=4):H=x,G?(W=Bt(E,j),j+=4):W=S,J&&(j+=4),ne&&(R===0?D=Bt(E,j):D=KL(E,j),j+=4),e.type===Pn.VIDEO){let X=0;for(;X<W;){const Z=Bt(r,$);if($+=4,Wre(s,r[$])){const q=r.subarray($,$+Z);bb(q,s?2:1,t+D/o,n)}$+=Z,X+=Z+4}}t+=H/o}}))})})}),n}function Zh(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function Wre(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function bb(t,e,n,r){const o=YL(t);let i=0;i+=e;let s=0,a=0,l=0;for(;i<o.length;){s=0;do{if(i>=o.length)break;l=o[i++],s+=l}while(l===255);a=0;do{if(i>=o.length)break;l=o[i++],a+=l}while(l===255);const c=o.length-i;let d=i;if(a<c)i+=a;else if(a>c){gn.error(`Malformed SEI payload. ${a} is too small, only ${c} bytes left to parse.`);break}if(s===4){if(o[d++]===181){const f=WL(o,d);if(d+=2,f===49){const m=Bt(o,d);if(d+=4,m===1195456820){const h=o[d++];if(h===3){const p=o[d++],v=31&p,b=64&p,y=b?2+v*3:0,x=new Uint8Array(y);if(b){x[0]=p;for(let C=1;C<y;C++)x[C]=o[d++]}r.push({type:h,payloadType:s,pts:n,bytes:x})}}}}}else if(s===5&&a>16){const u=[];for(let h=0;h<16;h++){const p=o[d++].toString(16);u.push(p.length==1?"0"+p:p),(h===3||h===5||h===7||h===9)&&u.push("-")}const f=a-16,m=new Uint8Array(f);for(let h=0;h<f;h++)m[h]=o[d++];r.push({payloadType:s,pts:n,uuid:u.join(""),userData:vo(m),userDataBytes:m})}}}function YL(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const o=e-n.length,i=new Uint8Array(o);let s=0;for(r=0;r<o;s++,r++)s===n[0]&&(s++,n.shift()),i[r]=t[s];return i}function Kre(t){const e=t[0];let n="",r="",o=0,i=0,s=0,a=0,l=0,c=0;if(e===0){for(;dr(t.subarray(c,c+1))!=="\0";)n+=dr(t.subarray(c,c+1)),c+=1;for(n+=dr(t.subarray(c,c+1)),c+=1;dr(t.subarray(c,c+1))!=="\0";)r+=dr(t.subarray(c,c+1)),c+=1;r+=dr(t.subarray(c,c+1)),c+=1,o=Bt(t,12),i=Bt(t,16),a=Bt(t,20),l=Bt(t,24),c=28}else if(e===1){c+=4,o=Bt(t,c),c+=4;const u=Bt(t,c);c+=4;const f=Bt(t,c);for(c+=4,s=2**32*u+f,Sre(s)||(s=Number.MAX_SAFE_INTEGER,gn.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=Bt(t,c),c+=4,l=Bt(t,c),c+=4;dr(t.subarray(c,c+1))!=="\0";)n+=dr(t.subarray(c,c+1)),c+=1;for(n+=dr(t.subarray(c,c+1)),c+=1;dr(t.subarray(c,c+1))!=="\0";)r+=dr(t.subarray(c,c+1)),c+=1;r+=dr(t.subarray(c,c+1)),c+=1}const d=t.subarray(c,t.byteLength);return{schemeIdUri:n,value:r,timeScale:o,presentationTime:s,presentationTimeDelta:i,eventDuration:a,id:l,payload:d}}function Gre(t,...e){const n=e.length;let r=8,o=n;for(;o--;)r+=e[o].byteLength;const i=new Uint8Array(r);for(i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=r&255,i.set(t,4),o=0,r=8;o<n;o++)i.set(e[o],r),r+=e[o].byteLength;return i}function qre(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,o;r=0,o=new Uint8Array;let i;r>0?(i=new Uint8Array(4),e.length>0&&new DataView(i.buffer).setUint32(0,e.length,!1)):i=new Uint8Array;const s=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(s.buffer).setUint32(0,n.byteLength,!1),Gre([112,115,115,104],new Uint8Array([r,0,0,0]),t,i,o,s,n||new Uint8Array)}function Yre(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const o=new DataView(t,r),i=Xre(o);e.push(i),r+=i.size}}return e}function Xre(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const i=t.getUint32(8)>>>24;if(i!==0&&i!==1)return{offset:n,size:e};const s=t.buffer,a=li.hexDump(new Uint8Array(s,n+12,16)),l=t.getUint32(28);let c=null,d=null;if(i===0){if(e-32<l||l<22)return{offset:n,size:e};d=new Uint8Array(s,n+32,l)}else if(i===1){if(!l||r<n+32+l*16+16)return{offset:n,size:e};c=[];for(let u=0;u<l;u++)c.push(new Uint8Array(s,n+32+u*16,16))}return{version:i,systemId:a,kids:c,data:d,offset:n,size:e}}const XL=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),Hl={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function QL(t,e){const n=Hl[e];return!!n&&!!n[t.slice(0,4)]}function iv(t,e,n=!0){return!t.split(",").some(r=>!ZL(r,e,n))}function ZL(t,e,n=!0){var r;const o=Vs(n);return(r=o==null?void 0:o.isTypeSupported(yd(t,e)))!=null?r:!1}function yd(t,e){return`${e}/mp4;codecs=${t}`}function i1(t){if(t){const e=t.substring(0,4);return Hl.video[e]}return 2}function Wf(t){const e=XL();return t.split(",").reduce((n,r)=>{const i=e&&Zh(r)?9:Hl.video[r];return i?(i*2+n)/(n?3:2):(Hl.audio[r]+n)/(n?2:1)},0)}const vm={};function Qre(t,e=!0){if(vm[t])return vm[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let o=0;o<n.length;o++){var r;if(ZL(n[o],"audio",e))return vm[t]=n[o],n[o];if(n[o]==="mp3"&&(r=Vs(e))!=null&&r.isTypeSupported("audio/mpeg"))return""}return t}const Zre=/flac|opus|mp4a\.40\.34/i;function Kf(t,e=!0){return t.replace(Zre,n=>Qre(n.toLowerCase(),e))}function Jre(t,e){const n=[];if(t){const r=t.split(",");for(let o=0;o<r.length;o++)QL(r[o],"video")||n.push(r[o])}return e&&n.push(e),n.join(",")}function of(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1))return t;if(e){const n=e.split(",");if(n.length>1){if(t){for(let r=n.length;r--;)if(n[r].substring(0,4)===t.substring(0,4))return n[r]}return n[0]}}return e||t}function eoe(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");r.length>2&&r[0]==="avc1"&&(e[n]=`avc1.${parseInt(r[1]).toString(16)}${("000"+parseInt(r[2]).toString(16)).slice(-4)}`)}return e.join(",")}function toe(t){if(t.startsWith("av01.")){const e=t.split("."),n=["0","111","01","01","01","0"];for(let r=e.length;r>4&&r<10;r++)e[r]=n[r-4];return e.join(".")}return t}function s1(t){const e=Vs(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function JL(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const eD={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function tD(t,e){return{supported:!1,configurations:e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:t}}const a1={};function noe(t,e,n,r,o,i){const s=t.audioCodec?t.audioGroups:null,a=i==null?void 0:i.audioCodec,l=i==null?void 0:i.channels,c=l?parseInt(l):a?1/0:2;let d=null;if(s!=null&&s.length)try{s.length===1&&s[0]?d=e.groups[s[0]].channels:d=s.reduce((u,f)=>{if(f){const m=e.groups[f];if(!m)throw new Error(`Audio track group ${f} not found`);Object.keys(m.channels).forEach(h=>{u[h]=(u[h]||0)+m.channels[h]})}return u},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(o,8e6))||!!d&&xt(c)&&Object.keys(d).some(u=>parseInt(u)>c)}function nD(t,e,n){const r=t.videoCodec,o=t.audioCodec;if(!r&&!o||!n)return Promise.resolve(eD);const i=[];if(r){const s={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},a=t.videoRange;a!=="SDR"&&(s.transferFunction=a.toLowerCase());const l=r.split(","),c=navigator.userAgent;if(l.some(d=>Zh(d))&&XL())return Promise.resolve(tD(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent sting: (${c})`),i));i.push.apply(i,l.map(d=>({type:"media-source",video:yn(yn({},s),{},{contentType:yd(toe(d),"video")})})))}return o&&t.audioGroups&&t.audioGroups.forEach(s=>{var a;s&&((a=e.groups[s])==null||a.tracks.forEach(l=>{if(l.groupId===s){const c=l.channels||"",d=parseFloat(c);xt(d)&&d>2&&i.push.apply(i,o.split(",").map(u=>({type:"media-source",audio:{contentType:yd(u,"audio"),channels:""+d}})))}}))}),Promise.all(i.map(s=>{const a=roe(s);return a1[a]||(a1[a]=n.decodingInfo(s))})).then(s=>({supported:!s.some(a=>!a.supported),configurations:i,decodingInfoResults:s})).catch(s=>({supported:!1,configurations:i,decodingInfoResults:[],error:s}))}function roe(t){const{audio:e,video:n}=t,r=n||e;if(r){const o=JL(r.contentType);if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${o}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${o}`}return""}const sv=["NONE","TYPE-0","TYPE-1",null];function ooe(t){return sv.indexOf(t)>-1}const Gf=["SDR","PQ","HLG"];function ioe(t){return!!t&&Gf.indexOf(t)>-1}var sf={No:"",Yes:"YES",v2:"v2"};function l1(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,o=r<e/2;return e&&o?n?sf.v2:sf.Yes:sf.No}class c1{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class xd{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>!!r).map(r=>r.substring(0,4)).join(","),"supplemental"in e){var n;this.supplemental=e.supplemental;const r=(n=e.supplemental)==null?void 0:n.videoCodec;r&&r!==e.videoCodec&&(this.codecSet+=`,${r.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return d1(this._audioGroups,e)}hasSubtitleGroup(e){return d1(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function d1(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function soe(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function aoe(t,e){let n=!1,r=[];if(t&&(n=t!=="SDR",r=[t]),e){r=e.allowedVideoRanges||Gf.slice(0);const o=r.join("")!=="SDR"&&!e.videoCodec;n=e.preferHDR!==void 0?e.preferHDR:o&&soe(),n||(r=["SDR"])}return{preferHDR:n,allowedVideoRanges:r}}const loe=t=>{const e=new WeakSet;return(n,r)=>{if(t&&(r=t(n,r)),typeof r=="object"&&r!==null){if(e.has(r))return;e.add(r)}return r}},Fn=(t,e)=>JSON.stringify(t,loe(e));function coe(t,e,n,r,o){const i=Object.keys(t),s=r==null?void 0:r.channels,a=r==null?void 0:r.audioCodec,l=o==null?void 0:o.videoCodec,c=s&&parseInt(s)===2;let d=!1,u=!1,f=1/0,m=1/0,h=1/0,p=1/0,v=0,b=[];const{preferHDR:y,allowedVideoRanges:x}=aoe(e,o);for(let E=i.length;E--;){const R=t[i[E]];d||(d=R.channels[2]>0),f=Math.min(f,R.minHeight),m=Math.min(m,R.minFramerate),h=Math.min(h,R.minBitrate),x.filter(_=>R.videoRanges[_]>0).length>0&&(u=!0)}f=xt(f)?f:0,m=xt(m)?m:0;const C=Math.max(1080,f),S=Math.max(30,m);h=xt(h)?h:n,n=Math.max(h,n),u||(e=void 0);const T=i.length>1;return{codecSet:i.reduce((E,R)=>{const P=t[R];if(R===E)return E;if(b=u?x.filter(_=>P.videoRanges[_]>0):[],T){if(P.minBitrate>n)return oi(R,`min bitrate of ${P.minBitrate} > current estimate of ${n}`),E;if(!P.hasDefaultAudio)return oi(R,"no renditions with default or auto-select sound found"),E;if(a&&R.indexOf(a.substring(0,4))%5!==0)return oi(R,`audio codec preference "${a}" not found`),E;if(s&&!c){if(!P.channels[s])return oi(R,`no renditions with ${s} channel sound found (channels options: ${Object.keys(P.channels)})`),E}else if((!a||c)&&d&&P.channels[2]===0)return oi(R,"no renditions with stereo sound found"),E;if(P.minHeight>C)return oi(R,`min resolution of ${P.minHeight} > maximum of ${C}`),E;if(P.minFramerate>S)return oi(R,`min framerate of ${P.minFramerate} > maximum of ${S}`),E;if(!b.some(_=>P.videoRanges[_]>0))return oi(R,`no variants with VIDEO-RANGE of ${Fn(b)} found`),E;if(l&&R.indexOf(l.substring(0,4))%5!==0)return oi(R,`video codec preference "${l}" not found`),E;if(P.maxScore<v)return oi(R,`max score of ${P.maxScore} < selected max of ${v}`),E}return E&&(Wf(R)>=Wf(E)||P.fragmentError>t[E].fragmentError)?E:(p=P.minIndex,v=P.maxScore,R)},void 0),videoRanges:b,preferHDR:y,minFramerate:m,minBitrate:h,minIndex:p}}function oi(t,e){gn.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function rD(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const o=n.channels||"2";return r.channels[o]=(r.channels[o]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function doe(t,e,n,r){return t.slice(n,r+1).reduce((o,i,s)=>{if(!i.codecSet)return o;const a=i.audioGroups;let l=o[i.codecSet];l||(o[i.codecSet]=l={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:s,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!a,fragmentError:0}),l.minBitrate=Math.min(l.minBitrate,i.bitrate);const c=Math.min(i.height,i.width);return l.minHeight=Math.min(l.minHeight,c),l.minFramerate=Math.min(l.minFramerate,i.frameRate),l.minIndex=Math.min(l.minIndex,s),l.maxScore=Math.max(l.maxScore,i.score),l.fragmentError+=i.fragmentError,l.videoRanges[i.videoRange]=(l.videoRanges[i.videoRange]||0)+1,a&&a.forEach(d=>{if(!d)return;const u=e.groups[d];u&&(l.hasDefaultAudio=l.hasDefaultAudio||e.hasDefaultAudio?u.hasDefault:u.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(u.channels).forEach(f=>{l.channels[f]=(l.channels[f]||0)+u.channels[f]}))}),o},{})}function u1(t){if(!t)return t;const{lang:e,assocLang:n,characteristics:r,channels:o,audioCodec:i}=t;return{lang:e,assocLang:n,characteristics:r,channels:o,audioCodec:i}}function gi(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const o=e[r];if(Sa(t,o,n))return r}return-1}function Sa(t,e,n){const{groupId:r,name:o,lang:i,assocLang:s,default:a}=t,l=t.forced;return(r===void 0||e.groupId===r)&&(o===void 0||e.name===o)&&(i===void 0||uoe(i,e.lang))&&(i===void 0||e.assocLang===s)&&(a===void 0||e.default===a)&&(l===void 0||e.forced===l)&&(!("characteristics"in t)||foe(t.characteristics||"",e.characteristics))&&(n===void 0||n(t,e))}function uoe(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function foe(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(o=>r.indexOf(o)===-1)}function la(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function hoe(t,e,n,r,o){const i=e[r],a=e.reduce((f,m,h)=>{const p=m.uri;return(f[p]||(f[p]=[])).push(h),f},{})[i.uri];a.length>1&&(r=Math.max.apply(Math,a));const l=i.videoRange,c=i.frameRate,d=i.codecSet.substring(0,4),u=f1(e,r,f=>{if(f.videoRange!==l||f.frameRate!==c||f.codecSet.substring(0,4)!==d)return!1;const m=f.audioGroups,h=n.filter(p=>!m||m.indexOf(p.groupId)!==-1);return gi(t,h,o)>-1});return u>-1?u:f1(e,r,f=>{const m=f.audioGroups,h=n.filter(p=>!m||m.indexOf(p.groupId)!==-1);return gi(t,h,o)>-1})}function f1(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}function qf(t,e){var n;return!!t&&t!==((n=e.loadLevelObj)==null?void 0:n.uri)}class goe extends is{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.bwEstimator=void 0,this._abandonRulesCheck=n=>{var r;const{fragCurrent:o,partCurrent:i,hls:s}=this,{autoLevelEnabled:a,media:l}=s;if(!o||!l)return;const c=performance.now(),d=i?i.stats:o.stats,u=i?i.duration:o.duration,f=c-d.loading.start,m=s.minAutoLevel,h=o.level,p=this._nextAutoLevel;if(d.aborted||d.loaded&&d.loaded===d.total||h<=m){this.clearTimer(),this._nextAutoLevel=-1;return}if(!a)return;const v=p>-1&&p!==h,b=!!n||v;if(!b&&(l.paused||!l.playbackRate||!l.readyState))return;const y=s.mainForwardBufferInfo;if(!b&&y===null)return;const x=this.bwEstimator.getEstimateTTFB(),C=Math.abs(l.playbackRate);if(f<=Math.max(x,1e3*(u/(C*2))))return;const S=y?y.len/C:0,T=d.loading.first?d.loading.first-d.loading.start:-1,w=d.loaded&&T>-1,E=this.getBwEstimate(),R=s.levels,P=R[h],_=Math.max(d.loaded,Math.round(u*(o.bitrate||P.averageBitrate)/8));let I=w?f-T:f;I<1&&w&&(I=Math.min(f,d.loaded*8/E));const L=w?d.loaded*1e3/I:0,N=x/1e3,H=L?(_-d.loaded)/L:_*8/E+N;if(H<=S)return;const G=L?L*8:E,W=((r=(n==null?void 0:n.details)||this.hls.latestLevelDetails)==null?void 0:r.live)===!0,J=this.hls.config.abrBandWidthUpFactor;let ne=Number.POSITIVE_INFINITY,D;for(D=h-1;D>m;D--){const V=R[D].maxBitrate,X=!R[D].details||W;if(ne=this.getTimeToLoadFrag(N,G,u*V,X),ne<Math.min(S,u+N))break}if(ne>=H||ne>u*10)return;w?this.bwEstimator.sample(f-Math.min(x,T),d.loaded):this.bwEstimator.sampleTTFB(f);const B=R[D].maxBitrate;this.getBwEstimate()*J>B&&this.resetEstimator(B);const j=this.findBestLevel(B,m,D,0,S,1,1);j>-1&&(D=j),this.warn(`Fragment ${o.sn}${i?" part "+i.index:""} of level ${h} is loading too slowly;
      Fragment duration: ${o.duration.toFixed(3)}
      Time to underbuffer: ${S.toFixed(3)} s
      Estimated load time for current fragment: ${H.toFixed(3)} s
      Estimated load time for down switch fragment: ${ne.toFixed(3)} s
      TTFB estimate: ${T|0} ms
      Current BW estimate: ${xt(E)?E|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${D} @ ${B|0} bps`),s.nextLoadLevel=s.nextAutoLevel=D,this.clearTimer();const $=()=>{if(this.clearTimer(),this.fragCurrent===o&&this.hls.loadLevel===D&&D>0){const V=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${D>0?"and switching down":""}
      Fragment duration: ${o.duration.toFixed(3)} s
      Time to underbuffer: ${V.toFixed(3)} s`),o.abortRequests(),this.fragCurrent=this.partCurrent=null,D>m){let X=this.findBestLevel(this.hls.levels[m].bitrate,m,D,0,V,1,1);X===-1&&(X=m),this.hls.nextLoadLevel=this.hls.nextAutoLevel=X,this.resetEstimator(this.hls.levels[X].bitrate)}}};v||H>ne*2?$():this.timer=self.setInterval($,ne*1e3),s.trigger(U.FRAG_LOAD_EMERGENCY_ABORTED,{frag:o,part:i,stats:d})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Rre(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.FRAG_LOADING,this.onFragLoading,this),e.on(U.FRAG_LOADED,this.onFragLoaded,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this),e.on(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(U.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.FRAG_LOADING,this.onFragLoading,this),e.off(U.FRAG_LOADED,this.onFragLoaded,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this),e.off(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(U.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(U.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var o;this.fragCurrent=r,this.partCurrent=(o=n.part)!=null?o:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case Fe.BUFFER_ADD_CODEC_ERROR:case Fe.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Fe.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:o,partCurrent:i}=this;if(r&&o&&r.sn===o.sn&&r.level===o.level){const s=performance.now(),a=i?i.stats:r.stats,l=s-a.loading.start,c=a.loading.first?a.loading.first-a.loading.start:-1;if(a.loaded&&c>-1){const u=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(u,c),a.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,n,r,o){const i=e+r/n,s=o?e+this.lastLevelLoadSec:0;return i+s}onLevelLoaded(e,n){const r=this.hls.config,{loading:o}=n.stats,i=o.end-o.first;xt(i)&&(this.lastLevelLoadSec=i/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(n.levelInfo)}onFragLoaded(e,{frag:n,part:r}){const o=r?r.stats:n.stats;if(n.type===kt.MAIN&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const i=r?r.duration:n.duration,s=this.hls.levels[n.level],a=(s.loaded?s.loaded.bytes:0)+o.loaded,l=(s.loaded?s.loaded.duration:0)+i;s.loaded={bytes:a,duration:l},s.realBitrate=Math.round(8*a/l)}if(n.bitrateTest){const i={stats:o,frag:n,part:r,id:n.type};this.onFragBuffered(U.FRAG_BUFFERED,i),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:o}=n,i=o!=null&&o.stats.loaded?o.stats:r.stats;if(i.aborted||this.ignoreFragment(r))return;const s=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(s,i.loaded),i.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=s/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==kt.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),o=this.hls.config.maxStarvationDelay,i=this.findBestLevel(r,n,e,0,o,1,1);if(i>-1)return i;const s=this.hls.firstLevel,a=Math.min(Math.max(s,n),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${s} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),o=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!o||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const i=r&&o?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const s=this.hls.levels;if(s.length>Math.max(e,i)&&s[e].loadError<=s[i].loadError)return e}return this._nextAutoLevel=i,this.nextAutoLevelKey=this.getAutoLevelKey(),i}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this;if(r.levels.length<=1)return r.loadLevel;const{maxAutoLevel:o,config:i,minAutoLevel:s}=r,a=n?n.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let d=i.abrBandWidthFactor,u=i.abrBandWidthUpFactor;if(c){const v=this.findBestLevel(l,s,o,c,0,d,u);if(v>=0)return this.rebufferNotice=-1,v}let f=a?Math.min(a,i.maxStarvationDelay):i.maxStarvationDelay;if(!c){const v=this.bitrateTestDelay;v&&(f=(a?Math.min(a,i.maxLoadingDelay):i.maxLoadingDelay)-v,this.info(`bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),d=u=1)}const m=this.findBestLevel(l,s,o,c,f,d,u);if(this.rebufferNotice!==m&&(this.rebufferNotice=m,this.info(`${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${m}`)),m>-1)return m;const h=r.levels[s],p=r.loadLevelObj;return p&&(h==null?void 0:h.bitrate)<p.bitrate?s:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,o=e.mainForwardBufferInfo;return(o?o.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,o,i,s,a){var l;const c=o+i,d=this.lastLoadedFragLevel,u=d===-1?this.hls.firstLevel:d,{fragCurrent:f,partCurrent:m}=this,{levels:h,allAudioTracks:p,loadLevel:v,config:b}=this.hls;if(h.length===1)return 0;const y=h[u],x=!!((l=this.hls.latestLevelDetails)!=null&&l.live),C=v===-1||d===-1;let S,T="SDR",w=(y==null?void 0:y.frameRate)||0;const{audioPreference:E,videoPreference:R}=b,P=this.audioTracksByGroup||(this.audioTracksByGroup=rD(p));let _=-1;if(C){if(this.firstSelection!==-1)return this.firstSelection;const G=this.codecTiers||(this.codecTiers=doe(h,P,n,r)),W=coe(G,T,e,E,R),{codecSet:J,videoRanges:ne,minFramerate:D,minBitrate:B,minIndex:j,preferHDR:$}=W;_=j,S=J,T=$?ne[ne.length-1]:ne[0],w=D,e=Math.max(e,B),this.log(`picked start tier ${Fn(W)}`)}else S=y==null?void 0:y.codecSet,T=y==null?void 0:y.videoRange;const I=m?m.duration:f?f.duration:0,L=this.bwEstimator.getEstimateTTFB()/1e3,N=[];for(let G=r;G>=n;G--){var H;const W=h[G],J=G>u;if(!W)continue;if(b.useMediaCapabilities&&!W.supportedResult&&!W.supportedPromise){const X=navigator.mediaCapabilities;typeof(X==null?void 0:X.decodingInfo)=="function"&&(noe(W,P,T,w,e,E)||Zh(W.videoCodec))?(W.supportedPromise=nD(W,P,X),W.supportedPromise.then(Z=>{if(!this.hls)return;W.supportedResult=Z;const q=this.hls.levels,ue=q.indexOf(W);Z.error?this.warn(`MediaCapabilities decodingInfo error: "${Z.error}" for level ${ue} ${Fn(Z)}`):Z.supported||(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${ue} ${Fn(Z)}`),ue>-1&&q.length>1&&(this.log(`Removing unsupported level ${ue}`),this.hls.removeLevel(ue),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))})):W.supportedResult=eD}if((S&&W.codecSet!==S||T&&W.videoRange!==T||J&&w>W.frameRate||!J&&w>0&&w<W.frameRate||W.supportedResult&&!((H=W.supportedResult.decodingInfoResults)!=null&&H[0].smooth))&&(!C||G!==_)){N.push(G);continue}const ne=W.details,D=(m?ne==null?void 0:ne.partTarget:ne==null?void 0:ne.averagetargetduration)||I;let B;J?B=a*e:B=s*e;const j=I&&o>=I*2&&i===0?W.averageBitrate:W.maxBitrate,$=this.getTimeToLoadFrag(L,B,j*D,ne===void 0);if(B>=j&&(G===d||W.loadError===0&&W.fragmentError===0)&&($<=L||!xt($)||x&&!this.bitrateTestDelay||$<c)){const X=this.forcedAutoLevel;return G!==v&&(X===-1||X!==v)&&(N.length&&this.trace(`Skipped level(s) ${N.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${h[N[0]].codecs}" ${h[N[0]].videoRange}; not compatible with "${S}" ${T}`),this.info(`switch candidate:${u}->${G} adjustedbw(${Math.round(B)})-bitrate=${Math.round(B-j)} ttfb:${L.toFixed(1)} avgDuration:${D.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${$.toFixed(1)} firstSelection:${C} codecSet:${W.codecSet} videoRange:${W.videoRange} hls.loadLevel:${v}`)),C&&(this.firstSelection=G),G}}return-1}set nextAutoLevel(e){const n=this.deriveNextAutoLevel(e);this._nextAutoLevel!==n&&(this.nextAutoLevelKey="",this._nextAutoLevel=n)}deriveNextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls;return Math.min(Math.max(e,r),n)}}const oD={search:function(t,e){let n=0,r=t.length-1,o=null,i=null;for(;n<=r;){o=(n+r)/2|0,i=t[o];const s=e(i);if(s>0)n=o+1;else if(s<0)r=o-1;else return i}return null}};function moe(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!xt(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const o=t[t.length-1].endProgramDateTime;if(e>=(o||0))return null;for(let i=0;i<t.length;++i){const s=t[i];if(voe(e,n,s))return s}return null}function Da(t,e,n=0,r=0,o=.005){let i=null;if(t){i=e[1+t.sn-e[0].sn]||null;const a=t.endDTS-n;a>0&&a<15e-7&&(n+=15e-7),i&&t.level!==i.level&&i.end<=t.end&&(i=e[2+t.sn-e[0].sn]||null)}else n===0&&e[0].start===0&&(i=e[0]);if(i&&((!t||t.level===i.level)&&h1(n,r,i)===0||poe(i,t,Math.min(o,r))))return i;const s=oD.search(e,h1.bind(null,n,r));return s&&(s!==t||!i)?s:i}function poe(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((o,i)=>(i[0]==="INF"&&(o+=parseFloat(i[1])),o),n);return t.start<=r}return!1}function h1(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function voe(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function iD(t,e,n){if(t&&t.startCC<=e&&t.endCC>=e){let r=t.fragments;const{fragmentHint:o}=t;o&&(r=r.concat(o));let i;return oD.search(r,s=>s.cc<e?1:s.cc>e?-1:(i=s,s.end<=n?1:s.start>n?-1:0)),i||null}return null}function Yf(t){switch(t.details){case Fe.FRAG_LOAD_TIMEOUT:case Fe.KEY_LOAD_TIMEOUT:case Fe.LEVEL_LOAD_TIMEOUT:case Fe.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function g1(t,e){const n=Yf(e);return t.default[`${n?"timeout":"error"}Retry`]}function yb(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function m1(t){return yn(yn({},t),{errorRetry:null,timeoutRetry:null})}function Xf(t,e,n,r){if(!t)return!1;const o=r==null?void 0:r.code,i=e<t.maxNumRetry&&(boe(o)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,i):i}function boe(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}var Dr={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},Vo={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2};class yoe extends is{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(U.ERROR,this.onError,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(U.ERROR,this.onError,this),e.off(U.ERROR,this.onErrorOut,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===kt.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var r;if(n.fatal)return;const o=this.hls,i=n.context;switch(n.details){case Fe.FRAG_LOAD_ERROR:case Fe.FRAG_LOAD_TIMEOUT:case Fe.KEY_LOAD_ERROR:case Fe.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case Fe.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction=Cd();return}case Fe.FRAG_GAP:case Fe.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=Dr.SendAlternateToPenaltyBox;return}case Fe.LEVEL_EMPTY_ERROR:case Fe.LEVEL_PARSING_ERROR:{var s,a;const c=n.parent===kt.MAIN?n.level:o.loadLevel;n.details===Fe.LEVEL_EMPTY_ERROR&&((s=n.context)!=null&&(a=s.levelDetails)!=null&&a.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,c):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,c))}return;case Fe.LEVEL_LOAD_ERROR:case Fe.LEVEL_LOAD_TIMEOUT:typeof(i==null?void 0:i.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,i.level));return;case Fe.AUDIO_TRACK_LOAD_ERROR:case Fe.AUDIO_TRACK_LOAD_TIMEOUT:case Fe.SUBTITLE_LOAD_ERROR:case Fe.SUBTITLE_TRACK_LOAD_TIMEOUT:if(i){const c=o.loadLevelObj;if(c&&(i.type===Zt.AUDIO_TRACK&&c.hasAudioGroup(i.groupId)||i.type===Zt.SUBTITLE_TRACK&&c.hasSubtitleGroup(i.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.loadLevel),n.errorAction.action=Dr.SendAlternateToPenaltyBox,n.errorAction.flags=Vo.MoveAllAlternatesMatchingHost;return}}return;case Fe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=o.loadLevelObj,d=c==null?void 0:c.attrs["HDCP-LEVEL"];d?n.errorAction={action:Dr.SendAlternateToPenaltyBox,flags:Vo.MoveAllAlternatesMatchingHDCP,hdcpLevel:d}:this.keySystemError(n)}return;case Fe.BUFFER_ADD_CODEC_ERROR:case Fe.REMUX_ALLOC_ERROR:case Fe.BUFFER_APPEND_ERROR:if(!n.errorAction){var l;n.errorAction=this.getLevelSwitchAction(n,(l=n.level)!=null?l:o.loadLevel)}return;case Fe.INTERNAL_EXCEPTION:case Fe.BUFFER_APPENDING_ERROR:case Fe.BUFFER_FULL_ERROR:case Fe.LEVEL_SWITCH_ERROR:case Fe.BUFFER_STALLED_ERROR:case Fe.BUFFER_SEEK_OVER_HOLE:case Fe.BUFFER_NUDGE_ON_STALL:n.errorAction=Cd();return}n.type===Pt.KEY_SYSTEM_ERROR&&this.keySystemError(n)}keySystemError(e){const n=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,n)}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,o=g1(r.config.playlistLoadPolicy,e),i=this.playlistError++;if(Xf(o,i,Yf(e),e.response))return{action:Dr.RetryRequest,flags:Vo.None,retryConfig:o,retryCount:i};const a=this.getLevelSwitchAction(e,n);return o&&(a.retryConfig=o,a.retryCount=i),a}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),o=n.levels[r],{fragLoadPolicy:i,keyLoadPolicy:s}=n.config,a=g1(e.details.startsWith("key")?s:i,e),l=n.levels.reduce((d,u)=>d+u.fragmentError,0);if(o&&(e.details!==Fe.FRAG_GAP&&o.fragmentError++,Xf(a,l,Yf(e),e.response)))return{action:Dr.RetryRequest,flags:Vo.None,retryConfig:a,retryCount:l};const c=this.getLevelSwitchAction(e,r);return a&&(c.retryConfig=a,c.retryCount=l),c}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const o=this.hls.levels[n];if(o){var i,s;const c=e.details;o.loadError++,c===Fe.BUFFER_APPEND_ERROR&&o.fragmentError++;let d=-1;const{levels:u,loadLevel:f,minAutoLevel:m,maxAutoLevel:h}=r;!r.autoLevelEnabled&&!r.config.preserveManualLevelOnError&&(r.loadLevel=-1);const p=(i=e.frag)==null?void 0:i.type,b=(p===kt.AUDIO&&c===Fe.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===Fe.BUFFER_ADD_CODEC_ERROR||c===Fe.BUFFER_APPEND_ERROR))&&u.some(({audioCodec:T})=>o.audioCodec!==T),x=e.sourceBufferName==="video"&&(c===Fe.BUFFER_ADD_CODEC_ERROR||c===Fe.BUFFER_APPEND_ERROR)&&u.some(({codecSet:T,audioCodec:w})=>o.codecSet!==T&&o.audioCodec===w),{type:C,groupId:S}=(s=e.context)!=null?s:{};for(let T=u.length;T--;){const w=(T+f)%u.length;if(w!==f&&w>=m&&w<=h&&u[w].loadError===0){var a,l;const E=u[w];if(c===Fe.FRAG_GAP&&p===kt.MAIN&&e.frag){const R=u[w].details;if(R){const P=Da(e.frag,R.fragments,e.frag.start);if(P!=null&&P.gap)continue}}else{if(C===Zt.AUDIO_TRACK&&E.hasAudioGroup(S)||C===Zt.SUBTITLE_TRACK&&E.hasSubtitleGroup(S))continue;if(p===kt.AUDIO&&(a=o.audioGroups)!=null&&a.some(R=>E.hasAudioGroup(R))||p===kt.SUBTITLE&&(l=o.subtitleGroups)!=null&&l.some(R=>E.hasSubtitleGroup(R))||b&&o.audioCodec===E.audioCodec||!b&&o.audioCodec!==E.audioCodec||x&&o.codecSet===E.codecSet)continue}d=w;break}}if(d>-1&&r.loadLevel!==d)return e.levelRetry=!0,this.playlistError=0,{action:Dr.SendAlternateToPenaltyBox,flags:Vo.None,nextAutoLevel:d}}return{action:Dr.SendAlternateToPenaltyBox,flags:Vo.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case Dr.DoNothing:break;case Dr.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==Fe.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:o,hdcpLevel:i,nextAutoLevel:s}=r;switch(o){case Vo.None:this.switchLevel(e,s);break;case Vo.MoveAllAlternatesMatchingHDCP:i&&(n.maxHdcpLevel=sv[sv.indexOf(i)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,s)}switchLevel(e,n){if(n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===Fe.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const r=JL(e.mimeType),o=this.hls.levels;for(let i=o.length;i--;)o[i][`${e.sourceBufferName}Codec`]===r&&this.hls.removeLevel(i)}}}function Cd(t){const e={action:Dr.DoNothing,flags:Vo.None};return t&&(e.resolved=!0),e}var fr={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class xoe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.BUFFER_APPENDED,this.onBufferAppended,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this),e.on(U.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.BUFFER_APPENDED,this.onBufferAppended,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this),e.off(U.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let o=r.length;o--;){const i=r[o];if(!i)break;const s=i.end;if(i.start<=e&&s!==null&&e<=s)return i}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){return this.getFragAtPos(e,n,!0)}getFragAtPos(e,n,r){const{fragments:o}=this,i=Object.keys(o);for(let s=i.length;s--;){const a=o[i[s]];if((a==null?void 0:a.body.type)===n&&(!r||a.buffered)){const l=a.body;if(l.start<=e&&e<=l.end)return l}}return null}detectEvictedFragments(e,n,r,o,i){this.timeRanges&&(this.timeRanges[e]=n);const s=(o==null?void 0:o.fragment.sn)||-1;Object.keys(this.fragments).forEach(a=>{const l=this.fragments[a];if(!l||s>=l.body.sn)return;if(!l.buffered&&(!l.loaded||i)){l.body.type===r&&this.removeFragment(l.body);return}const c=l.range[e];if(c){if(c.time.length===0){this.removeFragment(l.body);return}c.time.some(d=>{const u=!this.isTimeBuffered(d.startPTS,d.endPTS,n);return u&&this.removeFragment(l.body),u})}})}detectPartialFragments(e){const n=this.timeRanges;if(!n||e.frag.sn==="initSegment")return;const r=e.frag,o=sl(r),i=this.fragments[o];if(!i||i.buffered&&r.gap)return;const s=!r.relurl;Object.keys(n).forEach(a=>{const l=r.elementaryStreams[a];if(!l)return;const c=n[a],d=s||l.partial===!0;i.range[a]=this.getBufferedTimes(r,e.part,d,c)}),i.loaded=null,Object.keys(i.range).length?(i.buffered=!0,(i.body.endList=r.endList||i.body.endList)&&(this.endListFragments[i.body.type]=i),_u(i)||this.removeParts(r.sn-1,r.type)):this.removeFragment(i.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=p1(r,o=>o.fragment.sn>=e))}fragBuffered(e,n){const r=sl(e);let o=this.fragments[r];!o&&n&&(o=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(e,n,r,o){const i={time:[],partial:r},s=e.start,a=e.end,l=e.minEndPTS||a,c=e.maxStartPTS||s;for(let d=0;d<o.length;d++){const u=o.start(d)-this.bufferPadding,f=o.end(d)+this.bufferPadding;if(c>=u&&l<=f){i.time.push({startPTS:Math.max(s,o.start(d)),endPTS:Math.min(a,o.end(d))});break}else if(s<f&&a>u){const m=Math.max(s,o.start(d)),h=Math.min(a,o.end(d));h>m&&(i.partial=!0,i.time.push({startPTS:m,endPTS:h}))}else if(a<=u)break}return i}getPartialFragment(e){let n=null,r,o,i,s=0;const{bufferPadding:a,fragments:l}=this;return Object.keys(l).forEach(c=>{const d=l[c];d&&_u(d)&&(o=d.body.start-a,i=d.body.end+a,e>=o&&e<=i&&(r=Math.min(e-o,i-e),s<=r&&(n=d.body,s=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||_u(n))}getState(e){const n=sl(e),r=this.fragments[n];return r?r.buffered?_u(r)?fr.PARTIAL:fr.OK:fr.APPENDING:fr.NOT_LOADED}isTimeBuffered(e,n,r){let o,i;for(let s=0;s<r.length;s++){if(o=r.start(s)-this.bufferPadding,i=r.end(s)+this.bufferPadding,e>=o&&n<=i)return!0;if(n<=o)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,n){if(n.frag.sn==="initSegment"||n.frag.bitrateTest)return;const r=n.frag,o=n.part?null:n,i=sl(r);this.fragments[i]={body:r,appendedPTS:null,loaded:o,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:o,timeRanges:i,type:s}=n;if(r.sn==="initSegment")return;const a=r.type;if(o){let c=this.activePartLists[a];c||(this.activePartLists[a]=c=[]),c.push(o)}this.timeRanges=i;const l=i[s];this.detectEvictedFragments(s,l,a,o)}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=sl(e);return!!this.fragments[n]}hasFragments(e){const{fragments:n}=this,r=Object.keys(n);if(!e)return r.length>0;for(let o=r.length;o--;){const i=n[r[o]];if((i==null?void 0:i.body.type)===e)return!0}return!1}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,o,i){o&&!this.hasGaps||Object.keys(this.fragments).forEach(s=>{const a=this.fragments[s];if(!a)return;const l=a.body;l.type!==r||o&&!l.gap||l.start<n&&l.end>e&&(a.buffered||i)&&this.removeFragment(l)})}removeFragment(e){const n=sl(e);e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const o=e.sn;this.activePartLists[e.type]=p1(r,i=>i.fragment.sn!==o)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e,n;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const r=(e=this.hls)==null||(n=e.latestLevelDetails)==null?void 0:n.partList;r&&r.forEach(o=>o.clearElementaryStreamInfo())}}function _u(t){var e,n,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((r=t.range.audiovideo)==null?void 0:r.partial))}function sl(t){return`${t.type}_${t.level}_${t.sn}`}function p1(t,e){return t.filter(n=>{const r=e(n);return r||n.clearElementaryStreamInfo(),r})}var js={cbc:0,ctr:1};class Coe{constructor(e,n,r){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=n,this.aesMode=r}decrypt(e,n){switch(this.aesMode){case js.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e);case js.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},n,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function Soe(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?t.slice(0,e-n):t}class woe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let o=0;o<4;o++)r[o]=n.getUint32(o*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,o=r[0],i=r[1],s=r[2],a=r[3],l=this.invSubMix,c=l[0],d=l[1],u=l[2],f=l[3],m=new Uint32Array(256);let h=0,p=0,v=0;for(v=0;v<256;v++)v<128?m[v]=v<<1:m[v]=v<<1^283;for(v=0;v<256;v++){let b=p^p<<1^p<<2^p<<3^p<<4;b=b>>>8^b&255^99,e[h]=b,n[b]=h;const y=m[h],x=m[y],C=m[x];let S=m[b]*257^b*16843008;o[h]=S<<24|S>>>8,i[h]=S<<16|S>>>16,s[h]=S<<8|S>>>24,a[h]=S,S=C*16843009^x*65537^y*257^h*16843008,c[b]=S<<24|S>>>8,d[b]=S<<16|S>>>16,u[b]=S<<8|S>>>24,f[b]=S,h?(h=y^m[m[m[C^y]]],p^=m[m[p]]):h=p=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,o=0;for(;o<n.length&&r;)r=n[o]===this.key[o],o++;if(r)return;this.key=n;const i=this.keySize=n.length;if(i!==4&&i!==6&&i!==8)throw new Error("Invalid aes key size="+i);const s=this.ksRows=(i+6+1)*4;let a,l;const c=this.keySchedule=new Uint32Array(s),d=this.invKeySchedule=new Uint32Array(s),u=this.sBox,f=this.rcon,m=this.invSubMix,h=m[0],p=m[1],v=m[2],b=m[3];let y,x;for(a=0;a<s;a++){if(a<i){y=c[a]=n[a];continue}x=y,a%i===0?(x=x<<8|x>>>24,x=u[x>>>24]<<24|u[x>>>16&255]<<16|u[x>>>8&255]<<8|u[x&255],x^=f[a/i|0]<<24):i>6&&a%i===4&&(x=u[x>>>24]<<24|u[x>>>16&255]<<16|u[x>>>8&255]<<8|u[x&255]),c[a]=y=(c[a-i]^x)>>>0}for(l=0;l<s;l++)a=s-l,l&3?x=c[a]:x=c[a-4],l<4||a<=4?d[l]=x:d[l]=h[u[x>>>24]]^p[u[x>>>16&255]]^v[u[x>>>8&255]]^b[u[x&255]],d[l]=d[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const o=this.keySize+6,i=this.invKeySchedule,s=this.invSBox,a=this.invSubMix,l=a[0],c=a[1],d=a[2],u=a[3],f=this.uint8ArrayToUint32Array_(r);let m=f[0],h=f[1],p=f[2],v=f[3];const b=new Int32Array(e),y=new Int32Array(b.length);let x,C,S,T,w,E,R,P,_,I,L,N,H,G;const W=this.networkToHostOrderSwap;for(;n<b.length;){for(_=W(b[n]),I=W(b[n+1]),L=W(b[n+2]),N=W(b[n+3]),w=_^i[0],E=N^i[1],R=L^i[2],P=I^i[3],H=4,G=1;G<o;G++)x=l[w>>>24]^c[E>>16&255]^d[R>>8&255]^u[P&255]^i[H],C=l[E>>>24]^c[R>>16&255]^d[P>>8&255]^u[w&255]^i[H+1],S=l[R>>>24]^c[P>>16&255]^d[w>>8&255]^u[E&255]^i[H+2],T=l[P>>>24]^c[w>>16&255]^d[E>>8&255]^u[R&255]^i[H+3],w=x,E=C,R=S,P=T,H=H+4;x=s[w>>>24]<<24^s[E>>16&255]<<16^s[R>>8&255]<<8^s[P&255]^i[H],C=s[E>>>24]<<24^s[R>>16&255]<<16^s[P>>8&255]<<8^s[w&255]^i[H+1],S=s[R>>>24]<<24^s[P>>16&255]<<16^s[w>>8&255]<<8^s[E&255]^i[H+2],T=s[P>>>24]<<24^s[w>>16&255]<<16^s[E>>8&255]<<8^s[R&255]^i[H+3],y[n]=W(x^m),y[n+1]=W(T^h),y[n+2]=W(S^p),y[n+3]=W(C^v),m=_,h=I,p=L,v=N,n=n+4}return y.buffer}}class Roe{constructor(e,n,r){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=n,this.aesMode=r}expandKey(){const e=Toe(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function Toe(t){switch(t){case js.cbc:return"AES-CBC";case js.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const Eoe=16;class xb{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Soe(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r,o){return this.useSoftware?new Promise((i,s)=>{const a=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(a,n,r,o);const l=this.flush();l?i(l.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r,o)}softwareDecrypt(e,n,r,o){const{currentIV:i,currentResult:s,remainderData:a}=this;if(o!==js.cbc||n.byteLength!==16)return gn.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),a&&(e=Fo(a,e),this.remainderData=null);const l=this.getValidChunk(e);if(!l.length)return null;i&&(r=i);let c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new woe),c.expandKey(n);const d=s;return this.currentResult=c.decrypt(l.buffer,0,r),this.currentIV=l.slice(-16).buffer,d||null}webCryptoDecrypt(e,n,r,o){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r,o));this.key=n,this.fastAesKey=new Roe(this.subtle,n,o)}return this.fastAesKey.expandKey().then(i=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new Coe(this.subtle,new Uint8Array(r),o).decrypt(e.buffer,i)):Promise.reject(new Error("web crypto not initialized"))).catch(i=>(gn.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${i.name}: ${i.message}`),this.onWebCryptoError(e,n,r,o)))}onWebCryptoError(e,n,r,o){const i=this.enableSoftwareAES;if(i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r,o);const s=this.flush();if(s)return s.buffer}throw new Error("WebCrypto"+(i?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%Eoe;return r!==e.length&&(n=e.slice(0,r),this.remainderData=e.slice(r)),n}logOnce(e){this.logEnabled&&(gn.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const v1=Math.pow(2,17);class koe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new Bi({type:Pt.NETWORK_ERROR,details:Fe.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const o=this.config,i=o.fLoader,s=o.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(h=>h[0]==="GAP")){l(y1(e));return}else e.gap=!1;const c=this.loader=i?new i(o):new s(o),d=b1(e);e.loader=c;const u=m1(o.fragLoadPolicy.default),f={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:v1};e.stats=c.stats;const m={onSuccess:(h,p,v,b)=>{this.resetLoader(e,c);let y=h.data;v.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(y.slice(0,16)),y=y.slice(16)),a({frag:e,part:null,payload:y,networkDetails:b})},onError:(h,p,v,b)=>{this.resetLoader(e,c),l(new Bi({type:Pt.NETWORK_ERROR,details:Fe.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:yn({url:r,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:v,stats:b}))},onAbort:(h,p,v)=>{this.resetLoader(e,c),l(new Bi({type:Pt.NETWORK_ERROR,details:Fe.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:v,stats:h}))},onTimeout:(h,p,v)=>{this.resetLoader(e,c),l(new Bi({type:Pt.NETWORK_ERROR,details:Fe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:v,stats:h}))}};n&&(m.onProgress=(h,p,v,b)=>n({frag:e,part:null,payload:v,networkDetails:b})),c.load(d,f,m)})}loadPart(e,n,r){this.abort();const o=this.config,i=o.fLoader,s=o.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){l(y1(e,n));return}const c=this.loader=i?new i(o):new s(o),d=b1(e,n);e.loader=c;const u=m1(o.fragLoadPolicy.default),f={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:v1};n.stats=c.stats,c.load(d,f,{onSuccess:(m,h,p,v)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,n);const b={frag:e,part:n,payload:m.data,networkDetails:v};r(b),a(b)},onError:(m,h,p,v)=>{this.resetLoader(e,c),l(new Bi({type:Pt.NETWORK_ERROR,details:Fe.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:yn({url:d.url,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:p,stats:v}))},onAbort:(m,h,p)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,c),l(new Bi({type:Pt.NETWORK_ERROR,details:Fe.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:p,stats:m}))},onTimeout:(m,h,p)=>{this.resetLoader(e,c),l(new Bi({type:Pt.NETWORK_ERROR,details:Fe.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:p,stats:m}))}})})}updateStatsFromPart(e,n){const r=e.stats,o=n.stats,i=o.total;if(r.loaded+=o.loaded,i){const l=Math.round(e.duration/n.duration),c=Math.min(Math.round(r.loaded/i),l),u=(l-c)*Math.round(r.loaded/c);r.total=r.loaded+u}else r.total=Math.max(r.loaded,r.total);const s=r.loading,a=o.loading;s.start?s.first+=a.first-a.start:(s.start=a.start,s.first=a.first),s.end=a.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function b1(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},o=n.byteRangeStartOffset,i=n.byteRangeEndOffset;if(xt(o)&&xt(i)){var s;let a=o,l=i;if(t.sn==="initSegment"&&Poe((s=t.decryptdata)==null?void 0:s.method)){const c=i-o;c%16&&(l=i+(16-c%16)),o!==0&&(r.resetIV=!0,a=o-16)}r.rangeStart=a,r.rangeEnd=l}return r}function y1(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:Pt.MEDIA_ERROR,details:Fe.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new Bi(r)}function Poe(t){return t==="AES-128"||t==="AES-256"}class Bi extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class sD extends is{constructor(e,n){super(e,n),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class Cb{constructor(e,n,r,o=0,i=-1,s=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Lu(),this.buffering={audio:Lu(),video:Lu(),audiovideo:Lu()},this.level=e,this.sn=n,this.id=r,this.size=o,this.part=i,this.partial=s}}function Lu(){return{start:0,executeStart:0,executeEnd:0,end:0}}const x1={length:0,start:()=>0,end:()=>0};class Wt{static isBuffered(e,n){if(e){const r=Wt.getBuffered(e);for(let o=r.length;o--;)if(n>=r.start(o)&&n<=r.end(o))return!0}return!1}static bufferedRanges(e){if(e){const n=Wt.getBuffered(e);return Wt.timeRangesToArray(n)}return[]}static timeRangesToArray(e){const n=[];for(let r=0;r<e.length;r++)n.push({start:e.start(r),end:e.end(r)});return n}static bufferInfo(e,n,r){if(e){const o=Wt.bufferedRanges(e);if(o.length)return Wt.bufferedInfo(o,n,r)}return{len:0,start:n,end:n,bufferedIndex:-1}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.length>1&&e.sort((d,u)=>d.start-u.start||u.end-d.end);let o=-1,i=[];if(r)for(let d=0;d<e.length;d++){n>=e[d].start&&n<=e[d].end&&(o=d);const u=i.length;if(u){const f=i[u-1].end;e[d].start-f<r?e[d].end>f&&(i[u-1].end=e[d].end):i.push(e[d])}else i.push(e[d])}else i=e;let s=0,a,l=n,c=n;for(let d=0;d<i.length;d++){const u=i[d].start,f=i[d].end;if(o===-1&&n>=u&&n<=f&&(o=d),n+r>=u&&n<f)l=u,c=f,s=c-n;else if(n+r<u){a=u;break}}return{len:s,start:l||0,end:c||0,nextStart:a,buffered:e,bufferedIndex:o}}static getBuffered(e){try{return e.buffered||x1}catch(n){return gn.log("failed to get media.buffered",n),x1}}}const aD=/\{\$([a-zA-Z0-9-_]+)\}/g;function C1(t){return aD.test(t)}function av(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(aD,r=>{const o=r.substring(2,r.length-1),i=n==null?void 0:n[o];return i===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),r):i})}return e}function S1(t,e,n){let r=t.variableList;r||(t.variableList=r={});let o,i;if("QUERYPARAM"in e){o=e.QUERYPARAM;try{const s=new self.URL(n).searchParams;if(s.has(o))i=s.get(o);else throw new Error(`"${o}" does not match any query parameter in URI: "${n}"`)}catch(s){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${s.message}`))}}else o=e.NAME,i=e.VALUE;o in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):r[o]=i||""}function Aoe(t,e,n){const r=e.IMPORT;if(n&&r in n){let o=t.variableList;o||(t.variableList=o={}),o[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}const Ioe=/^(\d+)x(\d+)$/,w1=/(.+?)=(".*?"|.*?)(?:,|$)/g;class zn{constructor(e,n){typeof e=="string"&&(e=zn.parseAttrList(e,n)),wn(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let o=0;o<n.length/2;o++)r[o]=parseInt(n.slice(o*2,o*2+2),16);return r}return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}enumeratedStringList(e,n){const r=this[e];return(r?r.split(/[ ,]+/):[]).reduce((o,i)=>(o[i.toLowerCase()]=!0,o),n)}bool(e){return this[e]==="YES"}decimalResolution(e){const n=Ioe.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e,n){let r;const o={},i='"';for(w1.lastIndex=0;(r=w1.exec(e))!==null;){const s=r[1].trim();let a=r[2];const l=a.indexOf(i)===0&&a.lastIndexOf(i)===a.length-1;let c=!1;if(l)a=a.slice(1,-1);else switch(s){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":c=!0}if(n&&(l||c))a=av(n,a);else if(!c&&!l)switch(s){case"CLOSED-CAPTIONS":if(a==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":gn.warn(`${e}: attribute ${s} is missing quotes`)}o[s]=a}return o}}const _oe="com.apple.hls.interstitial";function Loe(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function Doe(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class lD{constructor(e,n,r=0){var o;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(n==null?void 0:n.tagAnchor)||null,this.tagOrder=(o=n==null?void 0:n.tagOrder)!=null?o:r,n){const i=n.attr;for(const s in i)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==i[s]){gn.warn(`DATERANGE tag attribute: "${s}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=s;break}e=wn(new zn({}),i,e)}if(this.attr=e,n?(this._startDate=n._startDate,this._cue=n._cue,this._endDate=n._endDate,this._dateAtEnd=n._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const i=(n==null?void 0:n.endDate)||new Date(this.attr["END-DATE"]);xt(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(gn.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const n=this.duration;return n!==null?this._dateAtEnd=new Date(this._startDate.getTime()+n*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(xt(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===_oe}get isValid(){return!!this.id&&!this._badValueForSameId&&xt(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const Ooe=10;class $oe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}get hasProgramDateTime(){return this.fragments.length?xt(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||Ooe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const n=this.lastPartIndex;if(n!==-1){for(let r=e.length;r--;)if(e[r].index>n)return e[r].index;return n}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function El(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function Sb(t){switch(t){case"AES-128":case"AES-256":return js.cbc;case"AES-256-CTR":return js.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function wb(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function lv(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function Foe(t){const e=lv(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function Moe(t){const e=function(r,o,i){const s=r[o];r[o]=r[i],r[i]=s};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function Boe(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),o=r[r.length-1].split(",");if(o.length===2){const i=o[0]==="base64",s=o[1];i?(r.splice(-1,1),n=wb(s)):n=Foe(s)}}return n}const Qf=typeof self<"u"?self:void 0;var xn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},qr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function af(t){switch(t){case qr.FAIRPLAY:return xn.FAIRPLAY;case qr.PLAYREADY:return xn.PLAYREADY;case qr.WIDEVINE:return xn.WIDEVINE;case qr.CLEARKEY:return xn.CLEARKEY}}var Du={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function bm(t){if(t===Du.WIDEVINE)return xn.WIDEVINE;if(t===Du.PLAYREADY)return xn.PLAYREADY;if(t===Du.CENC||t===Du.CLEARKEY)return xn.CLEARKEY}function Ou(t){switch(t){case xn.FAIRPLAY:return qr.FAIRPLAY;case xn.PLAYREADY:return qr.PLAYREADY;case xn.WIDEVINE:return qr.WIDEVINE;case xn.CLEARKEY:return qr.CLEARKEY}}function kc(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[xn.FAIRPLAY,xn.WIDEVINE,xn.PLAYREADY,xn.CLEARKEY].filter(o=>!!e[o]):[];return!r[xn.WIDEVINE]&&n&&r.push(xn.WIDEVINE),r}const cD=function(t){return Qf!=null&&(t=Qf.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function zoe(t,e,n,r){let o;switch(t){case xn.FAIRPLAY:o=["cenc","sinf"];break;case xn.WIDEVINE:case xn.PLAYREADY:o=["cenc"];break;case xn.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return Noe(o,e,n,r)}function Noe(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(i=>({contentType:`audio/mp4; codecs=${i}`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(i=>({contentType:`video/mp4; codecs=${i}`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function Uoe(t){var e;return t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(n=>n==="persistent-license"))}function dD(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(e)),r=n.substring(n.indexOf("<"),n.length),s=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(s){const a=s.childNodes[0]?s.childNodes[0].nodeValue:s.getAttribute("VALUE");if(a){const l=wb(a).subarray(0,16);return Moe(l),l}}return null}let $u={};class Sd{static clearKeyUriToKeyIdMap(){$u={}}constructor(e,n,r,o=[1],i=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=o,this.iv=i,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!El(e)}isSupported(){if(this.method){if(El(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case qr.FAIRPLAY:case qr.WIDEVINE:case qr.PLAYREADY:case qr.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(El(this.method)&&this.uri&&!this.iv){typeof e!="number"&&(gn.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=Hoe(e);return new Sd(this.method,this.uri,"identity",this.keyFormatVersions,r)}const n=Boe(this.uri);if(n)switch(this.keyFormat){case qr.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case qr.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=qre(r,null,n),this.keyId=dD(n);break}default:{let r=n.subarray(0,16);if(r.length!==16){const o=new Uint8Array(16);o.set(r,16-r.length),r=o}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=$u[this.uri];if(!r){const o=Object.keys($u).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,o),$u[this.uri]=r}this.keyId=r}return this}}function Hoe(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const R1=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,T1=/#EXT-X-MEDIA:(.*)/g,Voe=/^#EXT(?:INF|-X-TARGETDURATION):/m,ym=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),joe=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class mi{static findGroup(e,n){for(let r=0;r<e.length;r++){const o=e[r];if(o.id===n)return o}}static resolve(e,n){return pb.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return Voe.test(e)}static parseMasterPlaylist(e,n){const r=C1(e),o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},i=[];R1.lastIndex=0;let s;for(;(s=R1.exec(e))!=null;)if(s[1]){var a;const c=new zn(s[1],o),d=av(o,s[2]),u={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:mi.resolve(d,n)},f=c.decimalResolution("RESOLUTION");f&&(u.width=f.width,u.height=f.height),P1(c.CODECS,u);const m=c["SUPPLEMENTAL-CODECS"];m&&(u.supplemental={},P1(m,u.supplemental)),(a=u.unknownCodecs)!=null&&a.length||i.push(u),o.levels.push(u)}else if(s[3]){const c=s[3],d=s[4];switch(c){case"SESSION-DATA":{const u=new zn(d,o),f=u["DATA-ID"];f&&(o.sessionData===null&&(o.sessionData={}),o.sessionData[f]=u);break}case"SESSION-KEY":{const u=E1(d,n,o);u.encrypted&&u.isSupported()?(o.sessionKeys===null&&(o.sessionKeys=[]),o.sessionKeys.push(u)):gn.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${d}"`);break}case"DEFINE":{{const u=new zn(d,o);S1(o,u,n)}break}case"CONTENT-STEERING":{const u=new zn(d,o);o.contentSteering={uri:mi.resolve(u["SERVER-URI"],n),pathwayId:u["PATHWAY-ID"]||"."};break}case"START":{o.startTimeOffset=k1(d);break}}}const l=i.length>0&&i.length<o.levels.length;return o.levels=l?i:o.levels,o.levels.length===0&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(e,n,r){let o;const i={},s=r.levels,a={AUDIO:s.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:s.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(T1.lastIndex=0;(o=T1.exec(e))!==null;){const c=new zn(o[1],r),d=c.TYPE;if(d){const u=a[d],f=i[d]||[];i[d]=f;const m=c.LANGUAGE,h=c["ASSOC-LANGUAGE"],p=c.CHANNELS,v=c.CHARACTERISTICS,b=c["INSTREAM-ID"],y={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||m||"",type:d,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:m,url:c.URI?mi.resolve(c.URI,n):""};if(h&&(y.assocLang=h),p&&(y.channels=p),v&&(y.characteristics=v),b&&(y.instreamId=b),u!=null&&u.length){const x=mi.findGroup(u,y.groupId)||u[0];A1(y,x,"audioCodec"),A1(y,x,"textCodec")}f.push(y)}}return i}static parseLevelPlaylist(e,n,r,o,i,s){var a;const l={url:n},c=new $oe(n),d=c.fragments,u=[];let f=null,m=0,h=0,p=0,v=0,b=0,y=null,x=new gm(o,l),C,S,T,w=-1,E=!1,R=null,P;if(ym.lastIndex=0,c.m3u8=e,c.hasVariableRefs=C1(e),((a=ym.exec(e))==null?void 0:a[0])!=="#EXTM3U")return c.playlistParsingError=new Error("Missing format identifier #EXTM3U"),c;for(;(C=ym.exec(e))!==null;){E&&(E=!1,x=new gm(o,l),x.playlistOffset=p,x.start=p,x.sn=m,x.cc=v,b&&(x.bitrate=b),x.level=r,f&&(x.initSegment=f,f.rawProgramDateTime&&(x.rawProgramDateTime=f.rawProgramDateTime,f.rawProgramDateTime=null),R&&(x.setByteRange(R),R=null)));const N=C[1];if(N){x.duration=parseFloat(N);const H=(" "+C[2]).slice(1);x.title=H||null,x.tagList.push(H?["INF",N,H]:["INF",N])}else if(C[3]){if(xt(x.duration)){x.playlistOffset=p,x.start=p,T&&_1(x,T,c),x.sn=m,x.level=r,x.cc=v,d.push(x);const H=(" "+C[3]).slice(1);x.relurl=av(c,H),cv(x,y,u),y=x,p+=x.duration,m++,h=0,E=!0}}else{if(C=C[0].match(joe),!C){gn.warn("No matches on slow regex match for level playlist!");continue}for(S=1;S<C.length&&C[S]===void 0;S++);const H=(" "+C[S]).slice(1),G=(" "+C[S+1]).slice(1),W=C[S+2]?(" "+C[S+2]).slice(1):null;switch(H){case"BYTERANGE":y?x.setByteRange(G,y):x.setByteRange(G);break;case"PROGRAM-DATE-TIME":x.rawProgramDateTime=G,x.tagList.push(["PROGRAM-DATE-TIME",G]),w===-1&&(w=d.length);break;case"PLAYLIST-TYPE":c.type&&$i(c,H,C),c.type=G.toUpperCase();break;case"MEDIA-SEQUENCE":c.startSN!==0?$i(c,H,C):d.length>0&&L1(c,H,C),m=c.startSN=parseInt(G);break;case"SKIP":{c.skippedSegments&&$i(c,H,C);const J=new zn(G,c),ne=J.decimalInteger("SKIPPED-SEGMENTS");if(xt(ne)){c.skippedSegments+=ne;for(let B=ne;B--;)d.push(null);m+=ne}const D=J.enumeratedString("RECENTLY-REMOVED-DATERANGES");D&&(c.recentlyRemovedDateranges=(c.recentlyRemovedDateranges||[]).concat(D.split("	")));break}case"TARGETDURATION":c.targetduration!==0&&$i(c,H,C),c.targetduration=Math.max(parseInt(G),1);break;case"VERSION":c.version!==null&&$i(c,H,C),c.version=parseInt(G);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":c.live||$i(c,H,C),c.live=!1;break;case"#":(G||W)&&x.tagList.push(W?[G,W]:[G]);break;case"DISCONTINUITY":v++,x.tagList.push(["DIS"]);break;case"GAP":x.gap=!0,x.tagList.push([H]);break;case"BITRATE":x.tagList.push([H,G]),b=parseInt(G)*1e3,xt(b)?x.bitrate=b:b=0;break;case"DATERANGE":{const J=new zn(G,c),ne=new lD(J,c.dateRanges[J.ID],c.dateRangeTagCount);c.dateRangeTagCount++,ne.isValid||c.skippedSegments?c.dateRanges[ne.id]=ne:gn.warn(`Ignoring invalid DATERANGE tag: "${G}"`),x.tagList.push(["EXT-X-DATERANGE",G]);break}case"DEFINE":{{const J=new zn(G,c);"IMPORT"in J?Aoe(c,J,s):S1(c,J,n)}break}case"DISCONTINUITY-SEQUENCE":c.startCC!==0?$i(c,H,C):d.length>0&&L1(c,H,C),c.startCC=v=parseInt(G);break;case"KEY":{const J=E1(G,n,c);if(J.isSupported()){if(J.method==="NONE"){T=void 0;break}T||(T={}),T[J.keyFormat]&&(T=wn({},T)),T[J.keyFormat]=J}else gn.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${G}"`);break}case"START":c.startTimeOffset=k1(G);break;case"MAP":{const J=new zn(G,c);if(x.duration){const ne=new gm(o,l);I1(ne,J,r,T),f=ne,x.initSegment=f,f.rawProgramDateTime&&!x.rawProgramDateTime&&(x.rawProgramDateTime=f.rawProgramDateTime)}else{const ne=x.byteRangeEndOffset;if(ne){const D=x.byteRangeStartOffset;R=`${ne-D}@${D}`}else R=null;I1(x,J,r,T),f=x,E=!0}f.cc=v;break}case"SERVER-CONTROL":{P&&$i(c,H,C),P=new zn(G),c.canBlockReload=P.bool("CAN-BLOCK-RELOAD"),c.canSkipUntil=P.optionalFloat("CAN-SKIP-UNTIL",0),c.canSkipDateRanges=c.canSkipUntil>0&&P.bool("CAN-SKIP-DATERANGES"),c.partHoldBack=P.optionalFloat("PART-HOLD-BACK",0),c.holdBack=P.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{c.partTarget&&$i(c,H,C);const J=new zn(G);c.partTarget=J.decimalFloatingPoint("PART-TARGET");break}case"PART":{let J=c.partList;J||(J=c.partList=[]);const ne=h>0?J[J.length-1]:void 0,D=h++,B=new zn(G,c),j=new Ore(B,x,l,D,ne);J.push(j),x.duration+=j.duration;break}case"PRELOAD-HINT":{const J=new zn(G,c);c.preloadHint=J;break}case"RENDITION-REPORT":{const J=new zn(G,c);c.renditionReports=c.renditionReports||[],c.renditionReports.push(J);break}default:gn.warn(`line parsed but not handled: ${C}`);break}}}y&&!y.relurl?(d.pop(),p-=y.duration,c.partList&&(c.fragmentHint=y)):c.partList&&(cv(x,y,u),x.cc=v,c.fragmentHint=x,T&&_1(x,T,c)),c.targetduration||(c.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const _=d.length,I=d[0],L=d[_-1];if(p+=c.skippedSegments*c.targetduration,p>0&&_&&L){c.averagetargetduration=p/_;const N=L.sn;c.endSN=N!=="initSegment"?N:0,c.live||(L.endList=!0),I&&c.startCC===void 0&&(c.startCC=I.cc),w>0&&(Koe(d,w),I&&u.unshift(I))}else c.endSN=0,c.startCC=0;return c.fragmentHint&&(p+=c.fragmentHint.duration),c.totalduration=p,u.length&&c.dateRangeTagCount&&I&&uD(u,c),c.endCC=v,c}}function uD(t,e){const n=t.length;if(!n)return;const r=t[n-1],o=e.live?1/0:e.totalduration,i=Object.keys(e.dateRanges);for(let s=i.length;s--;){const a=e.dateRanges[i[s]],l=a.startDate.getTime();a.tagAnchor=r.ref;for(let c=n;c--;){const d=Woe(e,l,t,c,o);if(d!==-1){a.tagAnchor=e.fragments[d].ref;break}}}}function Woe(t,e,n,r,o){const i=n[r];if(i){const a=i.programDateTime;if(e>=a||r===0){var s;const l=(((s=n[r+1])==null?void 0:s.start)||o)-i.start;if(e<=a+l*1e3){const c=n[r].sn-t.startSN,d=t.fragments;if(d.length>n.length){const f=(n[r+1]||d[d.length-1]).sn-t.startSN;for(let m=f;m>c;m--){const h=d[m].programDateTime;if(e>=h&&e<h+d[m].duration*1e3)return m}}return c}}}return-1}function E1(t,e,n){var r,o;const i=new zn(t,n),s=(r=i.METHOD)!=null?r:"",a=i.URI,l=i.hexadecimalInteger("IV"),c=i.KEYFORMATVERSIONS,d=(o=i.KEYFORMAT)!=null?o:"identity";a&&i.IV&&!l&&gn.error(`Invalid IV: ${i.IV}`);const u=a?mi.resolve(a,e):"",f=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Sd(s,u,d,f,l)}function k1(t){const n=new zn(t).decimalFloatingPoint("TIME-OFFSET");return xt(n)?n:null}function P1(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const o=n.filter(i=>QL(i,r));o.length&&(e[`${r}Codec`]=o.map(i=>i.split("/")[0]).join(","),n=n.filter(i=>o.indexOf(i)===-1))}),e.unknownCodecs=n}function A1(t,e,n){const r=e[n];r&&(t[n]=r)}function Koe(t,e){let n=t[e];for(let r=e;r--;){const o=t[r];if(!o)return;o.programDateTime=n.programDateTime-o.duration*1e3,n=o}}function cv(t,e,n){t.rawProgramDateTime?n.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function I1(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function _1(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(o=>e[o].isCommonEncryption)&&r.push(t)}function $i(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${n[0]})`)}function L1(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${n[0]})`)}function xm(t,e){const n=e.startPTS;if(xt(n)){let r=0,o;e.sn>t.sn?(r=n-t.start,o=t):(r=t.start-n,o=e),o.duration!==r&&o.setDuration(r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function fD(t,e,n,r,o,i){r-n<=0&&(gn.warn("Fragment should have a positive duration",e),r=n+e.duration,i=o+e.duration);let a=n,l=r;const c=e.startPTS,d=e.endPTS;if(xt(c)){const v=Math.abs(c-n);xt(e.deltaPTS)?e.deltaPTS=Math.max(v,e.deltaPTS):e.deltaPTS=v,a=Math.max(n,c),n=Math.min(n,c),o=Math.min(o,e.startDTS),l=Math.min(r,d),r=Math.max(r,d),i=Math.max(i,e.endDTS)}const u=n-e.start;e.start!==0&&e.setStart(n),e.setDuration(r-e.start),e.startPTS=n,e.maxStartPTS=a,e.startDTS=o,e.endPTS=r,e.minEndPTS=l,e.endDTS=i;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let m;const h=f-t.startSN,p=t.fragments;for(p[h]=e,m=h;m>0;m--)xm(p[m],p[m-1]);for(m=h;m<p.length-1;m++)xm(p[m],p[m+1]);return t.fragmentHint&&xm(p[p.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,u}function Goe(t,e){if(t===e)return;let n=null;const r=t.fragments;for(let c=r.length-1;c>=0;c--){const d=r[c].initSegment;if(d){n=d;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let o;Xoe(t,e,(c,d,u,f)=>{if((!e.startCC||e.skippedSegments)&&d.cc!==c.cc){const m=c.cc-d.cc;for(let h=u;h<f.length;h++)f[h].cc+=m;e.endCC=f[f.length-1].cc}xt(c.startPTS)&&xt(c.endPTS)&&(d.setStart(d.startPTS=c.startPTS),d.startDTS=c.startDTS,d.maxStartPTS=c.maxStartPTS,d.endPTS=c.endPTS,d.endDTS=c.endDTS,d.minEndPTS=c.minEndPTS,d.setDuration(c.endPTS-c.startPTS),d.duration&&(o=d),e.PTSKnown=e.alignedSliding=!0),c.hasStreams&&(d.elementaryStreams=c.elementaryStreams),d.loader=c.loader,c.hasStats&&(d.stats=c.stats),c.initSegment&&(d.initSegment=c.initSegment,n=c.initSegment)});const i=e.fragments,s=e.fragmentHint?i.concat(e.fragmentHint):i;if(n&&s.forEach(c=>{var d;c&&(!c.initSegment||c.initSegment.relurl===((d=n)==null?void 0:d.relurl))&&(c.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=i.some(c=>!c),e.deltaUpdateFailed){gn.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let c=e.skippedSegments;c--;)i.shift();e.startSN=i[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=qoe(t.dateRanges,e));const c=t.fragments.filter(d=>d.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let d=1;d<s.length;d++)s[d].programDateTime===null&&cv(s[d],s[d-1],c);uD(c,e)}e.endCC=i[i.length-1].cc}if(!e.startCC){var a;const c=mD(t,e.startSN-1);e.startCC=(a=c==null?void 0:c.cc)!=null?a:i[0].cc}Yoe(t.partList,e.partList,(c,d)=>{d.elementaryStreams=c.elementaryStreams,d.stats=c.stats}),o?fD(e,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):hD(t,e),i.length&&(e.totalduration=e.edge-i[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const l=e.advancedDateTime;if(e.advanced&&l){const c=e.edge;e.driftStart||(e.driftStartTime=l,e.driftStart=c),e.driftEndTime=l,e.driftEnd=c}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function qoe(t,e){const{dateRanges:n,recentlyRemovedDateranges:r}=e,o=wn({},t);r&&r.forEach(a=>{delete o[a]});const s=Object.keys(o).length;return s&&Object.keys(n).forEach(a=>{const l=o[a],c=new lD(n[a].attr,l);c.isValid?(o[a]=c,l||(c.tagOrder+=s)):gn.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Fn(n[a].attr)}"`)}),o}function Yoe(t,e,n){if(t&&e){let r=0;for(let o=0,i=t.length;o<=i;o++){const s=t[o],a=e[o+r];s&&a&&s.index===a.index&&s.fragment.sn===a.fragment.sn?n(s,a):r--}}}function Xoe(t,e,n){const r=e.skippedSegments,o=Math.max(t.startSN,e.startSN)-e.startSN,i=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,s=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=o;c<=i;c++){const d=l[s+c];let u=a[c];if(r&&!u&&d&&(u=e.fragments[c]=d),d&&u){if(n(d,u,c,a),d.url&&d.url!==u.url){e.playlistParsingError=D1(`media sequence mismatch ${u.sn}:`,t,e,d,u);return}else if(d.cc!==u.cc){e.playlistParsingError=D1(`discontinuity sequence mismatch (${d.cc}!=${u.cc})`,t,e,d,u);return}}}}function D1(t,e,n,r,o){return new Error(`${t} ${o.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${n.startSN}
${n.m3u8}`)}function hD(t,e,n=!0){const r=e.startSN+e.skippedSegments-t.startSN,o=t.fragments,i=r>=0;let s=0;if(i&&r<o.length)s=o[r].start;else if(i&&e.startSN===t.endSN+1)s=t.fragmentEnd;else if(i&&n)s=t.fragmentStart+r*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)s=t.fragmentStart;else return;dv(e,s)}function dv(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function gD(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments;if(r.length&&n*4>e){const i=r[r.length-1].duration*1e3;i<n&&(n=i)}}else n/=2;return Math.round(n)}function mD(t,e,n){if(!t)return null;let r=t.fragments[e-t.startSN];return r||(r=t.fragmentHint,r&&r.sn===e)?r:e<t.startSN&&n&&n.sn===e?n:null}function O1(t,e,n){return t?pD(t.partList,e,n):null}function pD(t,e,n){if(t)for(let r=t.length;r--;){const o=t[r];if(o.index===n&&o.fragment.sn===e)return o}return null}function vD(t){t.forEach((e,n)=>{var r;(r=e.details)==null||r.fragments.forEach(o=>{o.level=n,o.initSegment&&(o.initSegment.level=n)})})}function qc(t,e){for(let r=0,o=t.length;r<o;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function Qoe(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function $1(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function bD(t,e){const n=e.fragments;for(let r=0,o=n.length;r<o;r++)$1(n[r],t);e.fragmentHint&&$1(e.fragmentHint,t),e.alignedSliding=!0}function Zoe(t,e){t&&(yD(e,t),!e.alignedSliding&&t&&Zf(e,t),!e.alignedSliding&&t&&!e.skippedSegments&&hD(t,e,!1))}function yD(t,e){if(!Qoe(e,t))return;const n=Math.min(e.endCC,t.endCC),r=qc(e.fragments,n),o=qc(t.fragments,n);if(!r||!o)return;gn.log(`Aligning playlist at start of dicontinuity sequence ${n}`);const i=r.start-o.start;bD(i,t)}function Zf(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let o,i;const s=Math.min(e.endCC,t.endCC);e.startCC<s&&t.startCC<s&&(o=qc(r,s),i=qc(n,s)),(!o||!i)&&(o=r[Math.floor(r.length/2)],i=qc(n,o.cc)||n[Math.floor(n.length/2)]);const a=o.programDateTime,l=i.programDateTime;if(!a||!l)return;const c=(l-a)/1e3-(i.start-o.start);bD(c,t)}const Joe={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},qe={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Rb extends sD{constructor(e,n,r,o,i){super(o,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=qe.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:s,fragCurrent:a,media:l,mediaBuffer:c,state:d}=this,u=l?l.currentTime:0,f=Wt.bufferInfo(c||l,u,s.maxBufferHole);if(this.log(`media seeking to ${xt(u)?u.toFixed(3):u}, state: ${d}`),this.state===qe.ENDED)this.resetLoadingState();else if(a){const m=s.maxFragLookUpTolerance,h=a.start-m,p=a.start+a.duration+m;if(!f.len||p<f.start||h>f.end){const v=u>p;(u<h||v)&&(v&&a.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(l){this.fragmentTracker.removeFragmentsInRange(u,1/0,this.playlistType,!0);const m=this.lastCurrentTime;if(u>m&&(this.lastCurrentTime=u),!this.loadingParts){const h=Math.max(f.end,u),p=this.shouldLoadParts(this.getLevelDetails(),h);p&&(this.log(`LL-Part loading ON after seeking to ${u.toFixed(2)} with buffer @${h.toFixed(2)}`),this.loadingParts=p)}}!this.hls.hasEnoughToStart&&!f.len&&(this.log(`setting startPosition to ${u} because of seek before start`),this.nextLoadPosition=this.startPosition=u),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=i,this.hls=e,this.fragmentLoader=new koe(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new xb(e.config)}registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(U.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===qe.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=qe.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:n}=this;return n===-1&&e?e:n}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,n){if(n.live||!this.media)return!1;const r=e.end||0,o=this.config.timelineOffset||0;if(r<=o)return!1;const i=e.buffered;this.config.maxBufferHole&&i&&i.length>1&&(e=Wt.bufferedInfo(i,e.start,0));const s=e.nextStart;if(s&&s>o&&s<n.edge||this.media.currentTime<e.start)return!1;const l=n.partList;if(l!=null&&l.length){const d=l[l.length-1];return Wt.isBuffered(this.media,d.start+d.duration/2)}const c=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(c)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}get timelineOffset(){const e=this.config.timelineOffset;if(e){var n;return((n=this.getLevelDetails())==null?void 0:n.appliedTimelineOffset)||e}return 0}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;r.removeEventListener("seeking",this.onMediaSeeking),r.removeEventListener("ended",this.onMediaEnded),r.addEventListener("seeking",this.onMediaSeeking),r.addEventListener("ended",this.onMediaEnded);const o=this.config;this.levels&&o.autoStartLoad&&this.state===qe.STOPPED&&this.startLoad(o.startPosition)}onMediaDetaching(e,n){const r=!!n.transferMedia,o=this.media;if(o!==null){if(o.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),o.removeEventListener("seeking",this.onMediaSeeking),o.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!r&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,r){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,n){}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=qe.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this.startFragRequested=!0,this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const o=i=>{const s=i.frag;if(this.fragContextChanged(s)){this.warn(`${s.type} sn: ${s.sn}${i.part?" part: "+i.part.index:""} of ${this.fragInfo(s,!1,i.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(s);return}s.stats.chunkCount++,this._handleFragmentLoadProgress(i)};this._doFragLoad(e,n,r,o).then(i=>{if(!i)return;const s=this.state,a=i.frag;if(this.fragContextChanged(a)){(s===qe.FRAG_LOADING||!this.fragCurrent&&s===qe.PARSING)&&(this.fragmentTracker.removeFragment(a),this.state=qe.IDLE);return}"payload"in i&&(this.log(`Loaded ${a.type} sn: ${a.sn} of ${this.playlistLabel()} ${a.level}`),this.hls.trigger(U.FRAG_LOADED,i)),this._handleFragmentLoadComplete(i)}).catch(i=>{this.state===qe.STOPPED||this.state===qe.ERROR||(this.warn(`Frag error: ${(i==null?void 0:i.message)||i}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===fr.APPENDING){const i=e.type,s=this.getFwdBufferInfo(this.mediaBuffer,i),a=Math.max(e.duration,s?s.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(a,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===fr.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const n=e.details;return(n==null?void 0:n.live)&&n.type!=="EVENT"&&(this.levelLastLoaded!==e||n.expired)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const o={startOffset:e,endOffset:n,type:r};this.hls.trigger(U.BUFFER_FLUSHING,o)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{const o=r==null?void 0:r.frag;if(!o||this.fragContextChanged(o)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:o}=this,{frag:i,payload:s}=r,a=i.decryptdata;if(s&&s.byteLength>0&&a!=null&&a.key&&a.iv&&El(a.method)){const l=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),a.key.buffer,a.iv.buffer,Sb(a.method)).catch(c=>{throw o.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:i}),c}).then(c=>{const d=self.performance.now();return o.trigger(U.FRAG_DECRYPTED,{frag:i,payload:c,stats:{tstart:l,tdecrypt:d}}),r.payload=c,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===qe.STOPPED||this.state===qe.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state!==qe.STOPPED&&(this.state=qe.IDLE),e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){const r=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)} > buffer:${r?Joe.toString(Wt.getBuffered(r)):"(detached)"})`),Cr(e)){var o;if(e.type!==kt.SUBTITLE){const s=e.elementaryStreams;if(!Object.keys(s).some(a=>!!s[a])){this.state=qe.IDLE;return}}const i=(o=this.levels)==null?void 0:o[e.level];i!=null&&i.fragmentError&&(this.log(`Resetting level fragment error count of ${i.fragmentError} on frag buffered`),i.fragmentError=0)}this.state=qe.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:o,partsLoaded:i}=e,s=!i||i.length===0||i.some(l=>!l),a=new Cb(r.level,r.sn,r.stats.chunkCount+1,0,o?o.index:-1,!s);n.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,o){var i;this.fragCurrent=e;const s=n==null?void 0:n.details;if(!this.levels||!s)throw new Error(`frag load aborted, missing level${s?"":" detail"}s`);let a=null;e.encrypted&&!((i=e.decryptdata)!=null&&i.key)?(this.log(`Loading key for ${e.sn} of [${s.startSN}-${s.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=qe.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger(U.KEY_LOADED,u),this.state===qe.KEY_LOADING&&(this.state=qe.IDLE),u}),this.hls.trigger(U.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):e.encrypted||(a=this.keyLoader.loadClear(e,s.encryptedFragments),a&&this.log("[eme] blocking frag load until media-keys acquired"));const l=this.fragPrevious;if(Cr(e)&&(!l||e.sn!==l.sn)){const u=this.shouldLoadParts(n.details,e.end);u!==this.loadingParts&&(this.log(`LL-Part loading ${u?"ON":"OFF"} loading sn ${l==null?void 0:l.sn}->${e.sn}`),this.loadingParts=u)}if(r=Math.max(e.start,r||0),this.loadingParts&&Cr(e)){const u=s.partList;if(u&&o){r>e.end&&s.fragmentHint&&(e=s.fragmentHint);const f=this.getNextPart(u,e,r);if(f>-1){const m=u[f];e=this.fragCurrent=m.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${m.index} (${f}/${u.length-1}) of ${this.fragInfo(e,!1,m)}) cc: ${e.cc} [${s.startSN}-${s.endSN}], target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=m.start+m.duration,this.state=qe.FRAG_LOADING;let h;return a?h=a.then(p=>!p||this.fragContextChanged(p.frag)?null:this.doFragPartsLoad(e,m,n,o)).catch(p=>this.handleFragLoadError(p)):h=this.doFragPartsLoad(e,m,n,o).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(U.FRAG_LOADING,{frag:e,part:m,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):h}else if(!e.url||this.loadedEndOfParts(u,r))return Promise.resolve(null)}}if(Cr(e)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${r.toFixed(2)}`),this.loadingParts=!1;else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${s?"["+s.startSN+"-"+s.endSN+"]":""}, target: ${parseFloat(r.toFixed(3))}`),xt(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=qe.FRAG_LOADING;const c=this.config.progressive;let d;return c&&a?d=a.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,o)).catch(u=>this.handleFragLoadError(u)):d=Promise.all([this.fragmentLoader.load(e,c?o:void 0),a]).then(([u])=>(!c&&u&&o&&o(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger(U.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):d}doFragPartsLoad(e,n,r,o){return new Promise((i,s)=>{var a;const l=[],c=(a=r.details)==null?void 0:a.partList,d=u=>{this.fragmentLoader.loadPart(e,u,o).then(f=>{l[u.index]=f;const m=f.part;this.hls.trigger(U.FRAG_LOADED,f);const h=O1(r.details,e.sn,u.index+1)||pD(c,e.sn,u.index+1);if(h)d(h);else return i({frag:e,part:m,partsLoaded:l})}).catch(s)};d(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===Fe.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger(U.ERROR,n)}else this.hls.trigger(U.ERROR,{type:Pt.OTHER_ERROR,details:Fe.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==qe.PARSING){!this.fragCurrent&&this.state!==qe.STOPPED&&this.state!==qe.ERROR&&(this.state=qe.IDLE);return}const{frag:r,part:o,level:i}=n,s=self.performance.now();r.stats.parsing.end=s,o&&(o.stats.parsing.end=s);const a=this.getLevelDetails(),c=a&&r.sn>a.endSN||this.shouldLoadParts(a,r.end);c!==this.loadingParts&&(this.log(`LL-Part loading ${c?"ON":"OFF"} after parsing segment ending @${r.end.toFixed(2)}`),this.loadingParts=c),this.updateLevelTiming(r,o,i,e.partial)}shouldLoadParts(e,n){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e!=null&&e.partList){var r;const i=e.partList[0],s=i.end+(((r=e.fragmentHint)==null?void 0:r.duration)||0);if(n>=s){var o;if((this.hls.hasEnoughToStart?((o=this.media)==null?void 0:o.currentTime)||this.lastCurrentTime:this.getLoadPosition())>i.start-i.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:o,sn:i,part:s}=e;if(!(n!=null&&n[o]))return this.warn(`Levels object was unset while buffering fragment ${i} of ${this.playlistLabel()} ${o}. The current chunk will not be buffered.`),null;const a=n[o],l=a.details,c=s>-1?O1(l,i,s):null,d=c?c.fragment:mD(l,i,r);return d?(r&&r!==d&&(d.stats=r.stats),{frag:d,part:c,level:a}):null}bufferFragmentData(e,n,r,o,i){var s;if(!e||this.state!==qe.PARSING)return;const{data1:a,data2:l}=e;let c=a;if(a&&l&&(c=Fo(a,l)),!((s=c)!=null&&s.length))return;const d={type:e.type,frag:n,part:r,chunkMeta:o,parent:n.type,data:c};if(this.hls.trigger(U.BUFFER_APPENDING,d),e.dropped&&e.independent&&!r){if(i)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!Wt.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,o=Wt.bufferInfo(n,r,0),i=e.duration,s=Math.min(this.config.maxFragLookUpTolerance*2,i*.25),a=Math.max(Math.min(e.start-s,o.end-s),r+s);e.start-a>s&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,n){var r;const o=this.getLoadPosition();if(!xt(o))return null;const s=this.lastCurrentTime>o||(r=this.media)!=null&&r.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,o,n,s)}getFwdBufferInfoAtPos(e,n,r,o){const i=Wt.bufferInfo(e,n,o);if(i.len===0&&i.nextStart!==void 0){const s=this.fragmentTracker.getBufferedFrag(n,r);if(s&&(i.nextStart<=s.end||s.gap)){const a=Math.max(Math.min(i.nextStart,s.end)-n,o);return Wt.bufferInfo(e,n,a)}}return i}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,o=Math.max(Math.min(e-n,r.maxBufferLength),n),i=Math.max(e-n*3,r.maxMaxBufferLength/2,o);return i>=o?(r.maxMaxBufferLength=i,this.warn(`Reduce max buffer length to ${i}s`),!0):!1}getAppendedFrag(e,n=kt.MAIN){var r;const o=(r=this.fragmentTracker)==null?void 0:r.getAppendedFrag(e,n);return o&&"fragment"in o?o.fragment:o}getNextFragment(e,n){const r=n.fragments,o=r.length;if(!o)return null;const{config:i}=this,s=r[0].start,a=i.lowLatencyMode&&!!n.partList;let l=null;if(n.live){const u=i.initialLiveManifestSize;if(o<u)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${u})`),null;if(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<s){var c;a&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),l=this.getInitialLiveFragment(n);const f=this.hls.startPosition,m=this.hls.liveSyncPosition,h=l?(f!==-1&&f>=s?f:m)||l.start:e;this.log(`Setting startPosition to ${h} to match start frag at live edge. mainStart: ${f} liveSyncPosition: ${m} frag.start: ${(c=l)==null?void 0:c.start}`),this.startPosition=this.nextLoadPosition=h}}else e<=s&&(l=r[0]);if(!l){const u=this.loadingParts?n.partEnd:n.fragmentEnd;l=this.getFragmentAtPosition(e,u,n)}let d=this.filterReplacedPrimary(l,n);if(!d&&l){const u=l.sn-n.startSN;d=this.filterReplacedPrimary(r[u+1]||null,n)}return this.mapToInitFragWhenRequired(d)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===fr.OK||r===fr.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,o,i){let s=null;if(e.gap&&(s=this.getNextFragment(this.nextLoadPosition,n),s&&!s.gap&&r.nextStart)){const a=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,o,0);if(a!==null&&r.len+a.len>=i){const l=s.sn;return this.loopSn!==l&&(this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${l}`),this.loopSn=l),null}}return this.loopSn=void 0,s}get primaryPrefetch(){if(F1(this.hls.config)){var e,n;if((e=this.hls.interstitialsManager)==null||(n=e.playingItem)==null?void 0:n.event)return!0}return!1}filterReplacedPrimary(e,n){if(!e)return e;if(F1(this.hls.config)&&e.type!==kt.SUBTITLE){const r=this.hls.interstitialsManager,o=r==null?void 0:r.bufferingItem;if(o){const s=o.event;if(s){if(s.appendInPlace||Math.abs(e.start-o.start)>1||o.start===0)return null}else if(e.end<=o.start&&(n==null?void 0:n.live)===!1||e.start>o.end&&o.nextEvent&&(o.nextEvent.appendInPlace||e.start-o.end>1))return null}const i=r==null?void 0:r.playerQueue;if(i)for(let s=i.length;s--;){const a=i[s].interstitial;if(a.appendInPlace&&e.start>=a.startTime&&e.end<=a.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let o=-1,i=!1,s=!0;for(let a=0,l=e.length;a<l;a++){const c=e[a];if(s=s&&!c.independent,o>-1&&r<c.start)break;const d=c.loaded;d?o=-1:(i||c.independent||s)&&c.fragment===n&&(o=a),i=d}return o}loadedEndOfParts(e,n){const r=e[e.length-1];return r&&n>r.start&&r.loaded}getInitialLiveFragment(e){const n=e.fragments,r=this.fragPrevious;let o=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),o=moe(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const i=r.sn+1;if(i>=e.startSN&&i<=e.endSN){const s=n[i-e.startSN];r.cc===s.cc&&(o=s,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=iD(e,r.cc,r.end),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const i=this.hls.liveSyncPosition;i!==null&&(o=this.getFragmentAtPosition(i,this.bitrateTest?e.fragmentEnd:e.edge,e))}return o}getFragmentAtPosition(e,n,r){const{config:o}=this;let{fragPrevious:i}=this,{fragments:s,endSN:a}=r;const{fragmentHint:l}=r,{maxFragLookUpTolerance:c}=o,d=r.partList,u=!!(this.loadingParts&&d!=null&&d.length&&l);u&&l&&!this.bitrateTest&&d[d.length-1].fragment.sn===l.sn&&(s=s.concat(l),a=l.sn);let f;if(e<n){var m;const p=e<this.lastCurrentTime||e>n-c||(m=this.media)!=null&&m.paused||!this.startFragRequested?0:c;f=Da(i,s,e,p)}else f=s[s.length-1];if(f){const h=f.sn-r.startSN,p=this.fragmentTracker.getState(f);if((p===fr.OK||p===fr.PARTIAL&&f.gap)&&(i=f),i&&f.sn===i.sn&&(!u||d[0].fragment.sn>f.sn||!r.live&&!u)&&i&&f.level===i.level){const b=s[h+1];f.sn<a&&this.fragmentTracker.getState(b)!==fr.OK?f=b:f=null}}return f}alignPlaylists(e,n,r){const o=e.fragments.length;if(!o)return this.warn("No fragments in live playlist"),0;const i=e.fragmentStart,s=!n,a=e.alignedSliding&&xt(i);if(s||!a&&!i){Zoe(r,e);const l=e.fragmentStart;return this.log(`Live playlist sliding: ${l.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} fragments: ${o}`),l}return i}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;r<n&&(r=-1);const o=this.timelineOffset;if(r===-1){const i=this.startTimeOffset!==null,s=i?this.startTimeOffset:e.startTimeOffset;s!==null&&xt(s)?(r=n+s,s<0&&(r+=e.edge),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Setting startPosition to ${r} for start time offset ${s} found in ${i?"multivariant":"media"} playlist`),this.startPosition=r):e.live?(r=this.hls.liveSyncPosition||n,this.log(`Setting startPosition to -1 to start at live edge ${r}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=r=0),this.lastCurrentTime=r+o}this.nextLoadPosition=r+o}getLoadPosition(){var e;const{media:n}=this;let r=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&n?r=n.currentTime:this.nextLoadPosition>=0&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,n){this.transmuxer&&e.type===this.playlistType&&Cr(e)&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==qe.FRAG_LOADING_WAITING_RETRY)&&(this.state=qe.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const h=this.getCurrentContext(n.chunkMeta);h&&(n.frag=h.frag)}const r=n.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var o;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(o=this.fragCurrent)==null?void 0:o.url}`);return}const i=n.details===Fe.FRAG_GAP;i&&this.fragmentTracker.fragBuffered(r,!0);const s=n.errorAction,{action:a,flags:l,retryCount:c=0,retryConfig:d}=s||{},u=!!s&&!!d,f=u&&a===Dr.RetryRequest,m=u&&!s.resolved&&l===Vo.MoveAllAlternatesMatchingHost;if(!f&&m&&Cr(r)&&!r.endList)this.resetFragmentErrors(e),this.treatAsGap(r),s.resolved=!0;else if((f||m)&&c<d.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const h=yb(d,c);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${c+1}/${d.maxNumRetry} in ${h}ms`),s.resolved=!0,this.retryDate=self.performance.now()+h,this.state=qe.FRAG_LOADING_WAITING_RETRY}else if(d&&s)if(this.resetFragmentErrors(e),c<d.maxNumRetry)!i&&a!==Dr.RemoveAlternatePermanently&&(s.resolved=!0);else{this.warn(`${n.details} reached or exceeded max retry (${c})`);return}else a===Dr.SendAlternateToPenaltyBox?this.state=qe.WAITING_LEVEL:this.state=qe.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===qe.PARSING||this.state===qe.PARSED){const n=e.frag,r=e.parent,o=this.getFwdBufferInfo(this.mediaBuffer,r),i=o&&o.len>.5;i&&this.reduceMaxBufferLength(o.len,(n==null?void 0:n.duration)||10);const s=!i;return s&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),s}return!1}resetFragmentErrors(e){e===kt.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==qe.STOPPED&&(this.state=qe.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const o=Wt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,o,r),this.state===qe.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==qe.STOPPED&&(this.state=qe.IDLE)}resetStartWhenNotLoaded(e){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const n=e?e.details:null;n!=null&&n.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(n,n.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of ${this.playlistLabel()} ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,o){const i=r.details;if(!i){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const d=e.elementaryStreams[c];if(d){const u=d.endPTS-d.startPTS;if(u<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${u})`),l||!1;const f=o?0:fD(i,e,d.startPTS,d.endPTS,d.startDTS,d.endDTS);return this.hls.trigger(U.LEVEL_PTS_UPDATED,{details:i,level:r,drift:f,type:c,frag:e,start:d.startPTS,end:d.endPTS}),!0}return l},!1)){var a;if(r.fragmentError===0&&this.treatAsGap(e,r),((a=this.transmuxer)==null?void 0:a.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(l.message),this.hls.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=qe.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)})`),this.hls.trigger(U.FRAG_PARSED,{frag:e,part:n})}playlistLabel(){return this.playlistType===kt.MAIN?"level":"track"}fragInfo(e,n=!0,r){var o,i;return`${this.playlistLabel()} ${e.level} (${r?"part":"frag"}:[${((o=n&&!r?e.startPTS:(r||e).start)!=null?o:NaN).toFixed(3)}-${((i=n&&!r?e.endPTS:(r||e).end)!=null?i:NaN).toFixed(3)}]${r&&e.type==="main"?"INDEPENDENT="+(r.independent?"YES":"NO"):""}`}treatAsGap(e,n){n&&n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}function F1(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class xD{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=eie(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function eie(t,e){const n=new Uint8Array(e);let r=0;for(let o=0;o<t.length;o++){const i=t[o];n.set(i,r),r+=i.length}return n}var Cm={exports:{}},M1;function tie(){return M1||(M1=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,u,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new o(d,u||l,f),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)e.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,m=u.length,h=new Array(m);f<m;f++)h[f]=u[f].fn;return h},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,f,m,h){var p=n?n+c:c;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,u),!0;case 4:return v.fn.call(v.context,d,u,f),!0;case 5:return v.fn.call(v.context,d,u,f,m),!0;case 6:return v.fn.call(v.context,d,u,f,m,h),!0}for(x=1,y=new Array(b-1);x<b;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var C=v.length,S;for(x=0;x<C;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,u);break;case 4:v[x].fn.call(v[x].context,d,u,f);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];v[x].fn.apply(v[x].context,y)}}return!0},a.prototype.on=function(c,d,u){return i(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return i(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,f){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var h=this._events[m];if(h.fn)h.fn===d&&(!f||h.once)&&(!u||h.context===u)&&s(this,m);else{for(var p=0,v=[],b=h.length;p<b;p++)(h[p].fn!==d||f&&!h[p].once||u&&h[p].context!==u)&&v.push(h[p]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Cm)),Cm.exports}var nie=tie(),Tb=Lre(nie);const wd="1.6.5",Vl={};function rie(){return typeof __HLS_WORKER_BUNDLE__=="function"}function oie(){const t=Vl[wd];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(e),o={worker:new self.Worker(n),objectURL:n,clientCount:1};return Vl[wd]=o,o}function iie(t){const e=Vl[t];if(e)return e.clientCount++,e;const n=new self.URL(t,self.location.href).href,o={worker:new self.Worker(n),scriptURL:n,clientCount:1};return Vl[t]=o,o}function sie(t){const e=Vl[t||wd];if(e&&e.clientCount--===1){const{worker:r,objectURL:o}=e;delete Vl[t||wd],o&&self.URL.revokeObjectURL(o),r.terminate()}}function CD(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function Eb(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function Jh(t,e){let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n}function Rd(t,e){const n=e;let r=0;for(;Eb(t,e);){r+=10;const o=Jh(t,e+6);r+=o,CD(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)}function aie(t,e,n,r){const o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=e[n+2],s=i>>2&15;if(s>12){const m=new Error(`invalid ADTS sampling index:${s}`);t.emit(U.ERROR,U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.FRAG_PARSING_ERROR,fatal:!0,error:m,reason:m.message});return}const a=(i>>6&3)+1,l=e[n+3]>>6&3|(i&1)<<2,c="mp4a.40."+a,d=o[s];let u=s;(a===5||a===29)&&(u-=3);const f=[a<<3|(u&14)>>1,(u&1)<<7|l<<3];return gn.log(`manifest codec:${r}, parsed codec:${c}, channels:${l}, rate:${d} (ADTS object type:${a} sampling index:${s})`),{config:f,samplerate:d,channelCount:l,codec:c,parsedCodec:c,manifestCodec:r}}function SD(t,e){return t[e]===255&&(t[e+1]&246)===240}function wD(t,e){return t[e+1]&1?7:9}function kb(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function lie(t,e){return e+5<t.length}function Jf(t,e){return e+1<t.length&&SD(t,e)}function cie(t,e){return lie(t,e)&&SD(t,e)&&kb(t,e)<=t.length-e}function die(t,e){if(Jf(t,e)){const n=wD(t,e);if(e+n>=t.length)return!1;const r=kb(t,e);if(r<=n)return!1;const o=e+r;return o===t.length||Jf(t,o)}return!1}function RD(t,e,n,r,o){if(!t.samplerate){const i=aie(e,n,r,o);if(!i)return;wn(t,i)}}function TD(t){return 1024*9e4/t}function uie(t,e){const n=wD(t,e);if(e+n<=t.length){const r=kb(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function ED(t,e,n,r,o){const i=TD(t.samplerate),s=r+o*i,a=uie(e,n);let l;if(a){const{frameLength:u,headerLength:f}=a,m=f+u,h=Math.max(0,n+m-e.length);h?(l=new Uint8Array(m-f),l.set(e.subarray(n+f,e.length),0)):l=e.subarray(n+f,n+m);const p={unit:l,pts:s};return h||t.samples.push(p),{sample:p,length:m,missing:h}}const c=e.length-n;return l=new Uint8Array(c),l.set(e.subarray(n,e.length),0),{sample:{unit:l,pts:s},length:c,missing:-1}}function fie(t,e){return Eb(t,e)&&Jh(t,e+6)+10<=t.length-e}function hie(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function Sm(t,e=0,n=1/0){return gie(t,e,n,Uint8Array)}function gie(t,e,n,r){const o=mie(t);let i=1;"BYTES_PER_ELEMENT"in r&&(i=r.BYTES_PER_ELEMENT);const s=pie(t)?t.byteOffset:0,a=(s+t.byteLength)/i,l=(s+e)/i,c=Math.floor(Math.max(0,Math.min(l,a))),d=Math.floor(Math.min(c+Math.max(n,0),a));return new r(o,c,d-c)}function mie(t){return t instanceof ArrayBuffer?t:t.buffer}function pie(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function vie(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},n=3;if(t.size<2)return;if(t.data[0]!==n){console.log("Ignore frame with unrecognized character encoding");return}const r=t.data.subarray(1).indexOf(0);if(r===-1)return;const o=vo(Sm(t.data,1,r)),i=t.data[2+r],s=t.data.subarray(3+r).indexOf(0);if(s===-1)return;const a=vo(Sm(t.data,3+r,s));let l;return o==="-->"?l=vo(Sm(t.data,4+r+s)):l=hie(t.data.subarray(4+r+s)),e.mimeType=o,e.pictureType=i,e.description=a,e.data=l,e}function bie(t){if(t.size<2)return;const e=vo(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}function yie(t){if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=vo(t.data.subarray(n),!0);n+=r.length+1;const o=vo(t.data.subarray(n));return{key:t.type,info:r,data:o}}const e=vo(t.data.subarray(1));return{key:t.type,info:"",data:e}}function xie(t){if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=vo(t.data.subarray(n),!0);n+=r.length+1;const o=vo(t.data.subarray(n));return{key:t.type,info:r,data:o}}const e=vo(t.data);return{key:t.type,info:"",data:e}}function Cie(t){return t.type==="PRIV"?bie(t):t.type[0]==="W"?xie(t):t.type==="APIC"?vie(t):yie(t)}function Sie(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=Jh(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}}const Fu=10,wie=10;function kD(t){let e=0;const n=[];for(;Eb(t,e);){const r=Jh(t,e+6);t[e+5]>>6&1&&(e+=Fu),e+=Fu;const o=e+r;for(;e+wie<o;){const i=Sie(t.subarray(e)),s=Cie(i);s&&n.push(s),e+=i.size+Fu}CD(t,e)&&(e+=Fu)}return n}function PD(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function Rie(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}}function Pb(t){const e=kD(t);for(let n=0;n<e.length;n++){const r=e[n];if(PD(r))return Rie(r)}}let co=function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t}({});function di(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Ab{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=Fo(this.cachedData,e),this.cachedData=null);let r=Rd(e,0),o=r?r.length:0,i;const s=this._audioTrack,a=this._id3Track,l=r?Pb(r):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&xt(l))&&(this.basePTS=Tie(l,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:co.audioId3,duration:Number.POSITIVE_INFINITY});o<c;){if(this.canParse(e,o)){const d=this.appendFrame(s,e,o);d?(this.frameIndex++,this.lastPTS=d.sample.pts,o+=d.length,i=o):o=c}else fie(e,o)?(r=Rd(e,o),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:co.audioId3,duration:Number.POSITIVE_INFINITY}),o+=r.length,i=o):o++;if(o===c&&i!==c){const d=e.slice(i);this.cachedData?this.cachedData=Fo(this.cachedData,d):this.cachedData=d}}return{audioTrack:s,videoTrack:di(),id3Track:a,textTrack:di()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:di(),id3Track:this._id3Track,textTrack:di()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const Tie=(t,e,n)=>{if(xt(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};let Mu=null;const Eie=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],kie=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Pie=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Aie=[0,1,1,4];function AD(t,e,n,r,o){if(n+24>e.length)return;const i=ID(e,n);if(i&&n+i.frameLength<=e.length){const s=i.samplesPerFrame*9e4/i.sampleRate,a=r+o*s,l={unit:e.subarray(n,n+i.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=i.channelCount,t.samplerate=i.sampleRate,t.samples.push(l),{sample:l,length:i.frameLength,missing:0}}}function ID(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,o=t[e+2]>>4&15,i=t[e+2]>>2&3;if(n!==1&&o!==0&&o!==15&&i!==3){const s=t[e+2]>>1&1,a=t[e+3]>>6,l=n===3?3-r:r===3?3:4,c=Eie[l*14+o-1]*1e3,u=kie[(n===3?0:n===2?1:2)*3+i],f=a===3?1:2,m=Pie[n][r],h=Aie[r],p=m*8*h,v=Math.floor(m*c/u+s)*h;if(Mu===null){const x=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Mu=x?parseInt(x[1]):0}return!!Mu&&Mu<=87&&r===2&&c>=224e3&&a===0&&(t[e+3]=t[e+3]|128),{sampleRate:u,channelCount:f,frameLength:v,samplesPerFrame:p}}}function Ib(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function _D(t,e){return e+1<t.length&&Ib(t,e)}function Iie(t,e){return Ib(t,e)&&4<=t.length-e}function LD(t,e){if(e+1<t.length&&Ib(t,e)){const r=ID(t,e);let o=4;r!=null&&r.frameLength&&(o=r.frameLength);const i=e+o;return i===t.length||_D(t,i)}return!1}class _ie extends Ab{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,o){super.resetInitSegment(e,n,r,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:o,inputTimeScale:9e4,dropped:0}}static probe(e,n){if(!e)return!1;const r=Rd(e,0);let o=(r==null?void 0:r.length)||0;if(LD(e,o))return!1;for(let i=e.length;o<i;o++)if(die(e,o))return n.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return cie(e,n)}appendFrame(e,n,r){RD(e,this.observer,n,r,e.manifestCodec);const o=ED(e,n,r,this.basePTS,this.frameIndex);if(o&&o.missing===0)return o}}const DD=(t,e)=>{let n=0,r=5;e+=r;const o=new Uint32Array(1),i=new Uint32Array(1),s=new Uint8Array(1);for(;r>0;){s[0]=t[e];const a=Math.min(r,8),l=8-a;i[0]=4278190080>>>24+l<<l,o[0]=(s[0]&i[0])>>l,n=n?n<<a|o[0]:o[0],e+=1,r-=a}return n};class Lie extends Ab{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,o){super.resetInitSegment(e,n,r,o),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:o,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const o=OD(e,n,r,this.basePTS,this.frameIndex);if(o!==-1)return{sample:e.samples[e.samples.length-1],length:o,missing:0}}static probe(e){if(!e)return!1;const n=Rd(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&Pb(n)!==void 0&&DD(e,r)<16}}function OD(t,e,n,r,o){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const i=e[n+4]>>6;if(i>=3)return-1;const a=[48e3,44100,32e3][i],l=e[n+4]&63,d=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+i]*2;if(n+d>e.length)return-1;const u=e[n+6]>>5;let f=0;u===2?f+=2:(u&1&&u!==1&&(f+=2),u&4&&(f+=2));const m=(e[n+6]<<8|e[n+7])>>12-f&1,p=[2,1,2,3,3,4,4,5][u]+m,v=e[n+5]>>3,b=e[n+5]&7,y=new Uint8Array([i<<6|v<<1|b>>2,(b&3)<<6|u<<3|m<<2|l>>4,l<<4&224]),x=1536/a*9e4,C=r+o*x,S=e.subarray(n,n+d);return t.config=y,t.channelCount=p,t.samplerate=a,t.samples.push({unit:S,pts:C}),d}class Die extends Ab{resetInitSegment(e,n,r,o){super.resetInitSegment(e,n,r,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:o,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Rd(e,0);let r=(n==null?void 0:n.length)||0;if(n&&e[r]===11&&e[r+1]===119&&Pb(n)!==void 0&&DD(e,r)<=16)return!1;for(let o=e.length;r<o;r++)if(LD(e,r))return gn.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return Iie(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return AD(e,n,r,this.basePTS,this.frameIndex)}}const Oie=/\/emsg[-/]ID3/i;class $ie{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,o){const i=this.videoTrack=di("video",1),s=this.audioTrack=di("audio",1),a=this.txtTrack=di("text",1);if(this.id3Track=di("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=GL(e);if(l.video){const{id:c,timescale:d,codec:u,supplemental:f}=l.video;i.id=c,i.timescale=a.timescale=d,i.codec=u,i.supplemental=f}if(l.audio){const{id:c,timescale:d,codec:u}=l.audio;s.id=c,s.timescale=d,s.codec=u}a.id=jL.text,i.sampleDuration=0,i.duration=s.duration=o}resetContiguity(){this.remainderData=null}static probe(e){return Mre(e)}demux(e,n){this.timeOffset=n;let r=e;const o=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Fo(this.remainderData,e));const a=jre(r);this.remainderData=a.remainder,o.samples=a.valid||new Uint8Array}else o.samples=r;const s=this.extractID3Track(o,n);return i.samples=o1(n,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(n,this.timeOffset);return r.samples=o1(e,n),{videoTrack:n,audioTrack:di(),id3Track:o,textTrack:di()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const o=qt(e.samples,["emsg"]);o&&o.forEach(i=>{const s=Kre(i);if(Oie.test(s.schemeIdUri)){const a=B1(s,n);let l=s.eventDuration===4294967295?Number.POSITIVE_INFINITY:s.eventDuration/s.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=s.payload;r.samples.push({data:c,len:c.byteLength,dts:a,pts:a,type:co.emsg,duration:l})}else if(this.config.enableEmsgKLVMetadata&&s.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const a=B1(s,n);r.samples.push({data:s.payload,len:s.payload.byteLength,dts:a,pts:a,type:co.misbklv,duration:Number.POSITIVE_INFINITY})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function B1(t,e){return xt(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class Fie{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new xb(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,js.cbc)}decryptAacSample(e,n,r){const o=e[n].unit;if(o.length<=16)return;const i=o.subarray(16,o.length-o.length%16),s=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(s).then(a=>{const l=new Uint8Array(a);o.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)})}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let o=0;for(let i=32;i<e.length-16;i+=160,o+=16)r.set(e.subarray(i,i+16),o);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let o=0;for(let i=32;i<e.length-16;i+=160,o+=16)e.set(r.subarray(o,o+16),i);return e}decryptAvcSample(e,n,r,o,i){const s=YL(i.data),a=this.getAvcEncryptedData(s);this.decryptBuffer(a.buffer).then(l=>{i.data=this.getAvcDecryptedUnit(s,l),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,o)})}decryptAvcSamples(e,n,r,o){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){o();return}const i=e[n].units;for(;!(r>=i.length);r++){const s=i[r];if(!(s.data.length<=48||s.type!==1&&s.type!==5)&&(this.decryptAvcSample(e,n,r,o,s),!this.decrypter.isSync()))return}}}}class $D{constructor(){this.VideoSample=null}createVideoSample(e,n,r){return{key:e,frame:!1,pts:n,dts:r,units:[],length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,o;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const i=r.units;o=i[i.length-1]}return o}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,o=r.length;if(o){const i=r[o-1];e.pts=i.pts,e.dts=i.dts}else{n.dropped++;return}}n.samples.push(e)}}parseNALu(e,n,r){const o=n.byteLength;let i=e.naluState||0;const s=i,a=[];let l=0,c,d,u,f=-1,m=0;for(i===-1&&(f=0,m=this.getNALuType(n,0),i=0,l=1);l<o;){if(c=n[l++],!i){i=c?0:1;continue}if(i===1){i=c?0:2;continue}if(!c)i=3;else if(c===1){if(d=l-i-1,f>=0){const h={data:n.subarray(f,d),type:m};a.push(h)}else{const h=this.getLastNalUnit(e.samples);h&&(s&&l<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),d>0&&(h.data=Fo(h.data,n.subarray(0,d)),h.state=0))}l<o?(u=this.getNALuType(n,l),f=l,m=u,i=0):i=-1}else i=0}if(f>=0&&i>=0){const h={data:n.subarray(f,o),type:m,state:i};a.push(h)}if(a.length===0){const h=this.getLastNalUnit(e.samples);h&&(h.data=Fo(h.data,n))}return e.naluState=i,a}}class Yc{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,o=new Uint8Array(4),i=Math.min(4,n);if(i===0)throw new Error("no bytes available");o.set(e.subarray(r,r+i)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=i*8,this.bytesAvailable-=i}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&gn.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class z1 extends $D{parsePES(e,n,r,o){const i=this.parseNALu(e,r.data,o);let s=this.VideoSample,a,l=!1;r.data=null,s&&i.length&&!e.audFound&&(this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),i.forEach(c=>{var d,u;switch(c.type){case 1:{let p=!1;a=!0;const v=c.data;if(l&&v.length>4){const b=this.readSliceType(v);(b===2||b===4||b===7||b===9)&&(p=!0)}if(p){var f;(f=s)!=null&&f.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null)}s||(s=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),s.frame=!0,s.key=p;break}case 5:a=!0,(d=s)!=null&&d.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),s.key=!0,s.frame=!0;break;case 6:{a=!0,bb(c.data,1,r.pts,n.samples);break}case 7:{var m,h;a=!0,l=!0;const p=c.data,v=this.readSPS(p);if(!e.sps||e.width!==v.width||e.height!==v.height||((m=e.pixelRatio)==null?void 0:m[0])!==v.pixelRatio[0]||((h=e.pixelRatio)==null?void 0:h[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[p];const b=p.subarray(1,4);let y="avc1.";for(let x=0;x<3;x++){let C=b[x].toString(16);C.length<2&&(C="0"+C),y+=C}e.codec=y}break}case 8:a=!0,e.pps=[c.data];break;case 9:a=!0,e.audFound=!0,(u=s)!=null&&u.frame&&(this.pushAccessUnit(s,e),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;case 12:a=!0;break;default:a=!1;break}s&&a&&s.units.push(c)}),o&&s&&(this.pushAccessUnit(s,e),this.VideoSample=null)}getNALuType(e,n){return e[n]&31}readSliceType(e){const n=new Yc(e);return n.readUByte(),n.readUEG(),n.readUEG()}skipScalingList(e,n){let r=8,o=8,i;for(let s=0;s<e;s++)o!==0&&(i=n.readEG(),o=(r+i+256)%256),r=o===0?r:o}readSPS(e){const n=new Yc(e);let r=0,o=0,i=0,s=0,a,l,c;const d=n.readUByte.bind(n),u=n.readBits.bind(n),f=n.readUEG.bind(n),m=n.readBoolean.bind(n),h=n.skipBits.bind(n),p=n.skipEG.bind(n),v=n.skipUEG.bind(n),b=this.skipScalingList.bind(this);d();const y=d();if(u(5),h(3),d(),v(),y===100||y===110||y===122||y===244||y===44||y===83||y===86||y===118||y===128){const E=f();if(E===3&&h(1),v(),v(),h(1),m())for(l=E!==3?8:12,c=0;c<l;c++)m()&&(c<6?b(16,n):b(64,n))}v();const x=f();if(x===0)f();else if(x===1)for(h(1),p(),p(),a=f(),c=0;c<a;c++)p();v(),h(1);const C=f(),S=f(),T=u(1);T===0&&h(1),h(1),m()&&(r=f(),o=f(),i=f(),s=f());let w=[1,1];if(m()&&m())switch(d()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:{w=[d()<<8|d(),d()<<8|d()];break}}return{width:Math.ceil((C+1)*16-r*2-o*2),height:(2-T)*(S+1)*16-(T?2:4)*(i+s),pixelRatio:w}}}class N1 extends $D{constructor(...e){super(...e),this.initVPS=null}parsePES(e,n,r,o){const i=this.parseNALu(e,r.data,o);let s=this.VideoSample,a,l=!1;r.data=null,s&&i.length&&!e.audFound&&(this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),i.forEach(c=>{var d,u;switch(c.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:s||(s=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),s.frame=!0,a=!0;break;case 16:case 17:case 18:case 21:if(a=!0,l){var f;(f=s)!=null&&f.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null)}s||(s=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),s.key=!0,s.frame=!0;break;case 19:case 20:a=!0,(d=s)!=null&&d.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),s.key=!0,s.frame=!0;break;case 39:a=!0,bb(c.data,2,r.pts,n.samples);break;case 32:a=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=wn(e.params,this.readVPS(c.data)),this.initVPS=c.data),e.vps=[c.data];break;case 33:if(a=!0,l=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],c.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const m=this.readSPS(c.data);e.width=m.width,e.height=m.height,e.pixelRatio=m.pixelRatio,e.codec=m.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const h in m.params)e.params[h]=m.params[h]}this.pushParameterSet(e.sps,c.data,e.vps),s||(s=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),s.key=!0;break;case 34:if(a=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const m=this.readPPS(c.data);for(const h in m)e.params[h]=m[h]}this.pushParameterSet(e.pps,c.data,e.vps)}break;case 35:a=!0,e.audFound=!0,(u=s)!=null&&u.frame&&(this.pushAccessUnit(s,e),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;default:a=!1;break}s&&a&&s.units.push(c)}),o&&s&&(this.pushAccessUnit(s,e),this.VideoSample=null)}pushParameterSet(e,n,r){(r&&r[0]===this.initVPS||!r&&!e.length)&&e.push(n)}getNALuType(e,n){return(e[n]&126)>>>1}ebsp2rbsp(e){const n=new Uint8Array(e.byteLength);let r=0;for(let o=0;o<e.byteLength;o++)o>=2&&e[o]===3&&e[o-1]===0&&e[o-2]===0||(n[r]=e[o],r++);return new Uint8Array(n.buffer,0,r)}pushAccessUnit(e,n){super.pushAccessUnit(e,n),this.initVPS&&(this.initVPS=null)}readVPS(e){const n=new Yc(e);n.readUByte(),n.readUByte(),n.readBits(4),n.skipBits(2),n.readBits(6);const r=n.readBits(3),o=n.readBoolean();return{numTemporalLayers:r+1,temporalIdNested:o}}readSPS(e){const n=new Yc(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.readBits(4);const r=n.readBits(3);n.readBoolean();const o=n.readBits(2),i=n.readBoolean(),s=n.readBits(5),a=n.readUByte(),l=n.readUByte(),c=n.readUByte(),d=n.readUByte(),u=n.readUByte(),f=n.readUByte(),m=n.readUByte(),h=n.readUByte(),p=n.readUByte(),v=n.readUByte(),b=n.readUByte(),y=[],x=[];for(let Ce=0;Ce<r;Ce++)y.push(n.readBoolean()),x.push(n.readBoolean());if(r>0)for(let Ce=r;Ce<8;Ce++)n.readBits(2);for(let Ce=0;Ce<r;Ce++)y[Ce]&&(n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte()),x[Ce]&&n.readUByte();n.readUEG();const C=n.readUEG();C==3&&n.skipBits(1);const S=n.readUEG(),T=n.readUEG(),w=n.readBoolean();let E=0,R=0,P=0,_=0;w&&(E+=n.readUEG(),R+=n.readUEG(),P+=n.readUEG(),_+=n.readUEG());const I=n.readUEG(),L=n.readUEG(),N=n.readUEG(),H=n.readBoolean();for(let Ce=H?0:r;Ce<=r;Ce++)n.skipUEG(),n.skipUEG(),n.skipUEG();if(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.readBoolean()&&n.readBoolean())for(let le=0;le<4;le++)for(let de=0;de<(le===3?2:6);de++)if(!n.readBoolean())n.readUEG();else{const te=Math.min(64,1<<4+(le<<1));le>1&&n.readEG();for(let ae=0;ae<te;ae++)n.readEG()}n.readBoolean(),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.skipUEG(),n.skipUEG(),n.readBoolean());const J=n.readUEG();let ne=0;for(let Ce=0;Ce<J;Ce++){let le=!1;if(Ce!==0&&(le=n.readBoolean()),le){Ce===J&&n.readUEG(),n.readBoolean(),n.readUEG();let de=0;for(let fe=0;fe<=ne;fe++){const te=n.readBoolean();let ae=!1;te||(ae=n.readBoolean()),(te||ae)&&de++}ne=de}else{const de=n.readUEG(),fe=n.readUEG();ne=de+fe;for(let te=0;te<de;te++)n.readUEG(),n.readBoolean();for(let te=0;te<fe;te++)n.readUEG(),n.readBoolean()}}if(n.readBoolean()){const Ce=n.readUEG();for(let le=0;le<Ce;le++){for(let de=0;de<N+4;de++)n.readBits(1);n.readBits(1)}}let B=0,j=1,$=1,V=!0,X=1,Z=0;n.readBoolean(),n.readBoolean();let q=!1;if(n.readBoolean()){if(n.readBoolean()){const Ee=n.readUByte(),se=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],ie=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Ee>0&&Ee<16?(j=se[Ee-1],$=ie[Ee-1]):Ee===255&&(j=n.readBits(16),$=n.readBits(16))}if(n.readBoolean()&&n.readBoolean(),n.readBoolean()&&(n.readBits(3),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.readUByte(),n.readUByte())),n.readBoolean()&&(n.readUEG(),n.readUEG()),n.readBoolean(),n.readBoolean(),n.readBoolean(),q=n.readBoolean(),q&&(E+=n.readUEG(),R+=n.readUEG(),P+=n.readUEG(),_+=n.readUEG()),n.readBoolean()&&(X=n.readBits(32),Z=n.readBits(32),n.readBoolean()&&n.readUEG(),n.readBoolean())){const ie=n.readBoolean(),ge=n.readBoolean();let Le=!1;(ie||ge)&&(Le=n.readBoolean(),Le&&(n.readUByte(),n.readBits(5),n.readBoolean(),n.readBits(5)),n.readBits(4),n.readBits(4),Le&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5));for(let xe=0;xe<=r;xe++){V=n.readBoolean();const We=V||n.readBoolean();let at=!1;We?n.readEG():at=n.readBoolean();const bt=at?1:n.readUEG()+1;if(ie)for(let dt=0;dt<bt;dt++)n.readUEG(),n.readUEG(),Le&&(n.readUEG(),n.readUEG()),n.skipBits(1);if(ge)for(let dt=0;dt<bt;dt++)n.readUEG(),n.readUEG(),Le&&(n.readUEG(),n.readUEG()),n.skipBits(1)}}n.readBoolean()&&(n.readBoolean(),n.readBoolean(),n.readBoolean(),B=n.readUEG())}let K=S,he=T;if(w||q){let Ce=1,le=1;C===1?Ce=le=2:C==2&&(Ce=2),K=S-Ce*R-Ce*E,he=T-le*_-le*P}const Ie=o?["A","B","C"][o]:"",Q=a<<24|l<<16|c<<8|d;let Y=0;for(let Ce=0;Ce<32;Ce++)Y=(Y|(Q>>Ce&1)<<31-Ce)>>>0;let re=Y.toString(16);return s===1&&re==="2"&&(re="6"),{codecString:`hvc1.${Ie}${s}.${re}.${i?"H":"L"}${b}.B0`,params:{general_tier_flag:i,general_profile_idc:s,general_profile_space:o,general_profile_compatibility_flags:[a,l,c,d],general_constraint_indicator_flags:[u,f,m,h,p,v],general_level_idc:b,bit_depth:I+8,bit_depth_luma_minus8:I,bit_depth_chroma_minus8:L,min_spatial_segmentation_idc:B,chroma_format_idc:C,frame_rate:{fixed:V,fps:Z/X}},width:K,height:he,pixelRatio:[j,$]}}readPPS(e){const n=new Yc(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.skipUEG(),n.skipUEG(),n.skipBits(2),n.skipBits(3),n.skipBits(2),n.skipUEG(),n.skipUEG(),n.skipEG(),n.skipBits(2),n.readBoolean()&&n.skipUEG(),n.skipEG(),n.skipEG(),n.skipBits(4);const o=n.readBoolean(),i=n.readBoolean();let s=1;return i&&o?s=0:i?s=3:o&&(s=2),{parallelismType:s}}matchSPS(e,n){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,n).substr(3)}}const xr=188;class Ss{constructor(e,n,r,o){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.logger=o,this.videoParser=null}static probe(e,n){const r=Ss.syncOffset(e);return r>0&&n.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const n=e.length;let r=Math.min(xr*5,n-xr)+1,o=0;for(;o<r;){let i=!1,s=-1,a=0;for(let l=o;l<n;l+=xr)if(e[l]===71&&(n-l===xr||e[l+xr]===71)){if(a++,s===-1&&(s=l,s!==0&&(r=Math.min(s+xr*99,e.length-xr)+1)),i||(i=uv(e,l)===0),i&&a>1&&(s===0&&a>2||l+xr>r))return s}else{if(a)return-1;break}o++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:jL[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,o){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Ss.createTrack("video"),this._videoTrack.duration=o,this._audioTrack=Ss.createTrack("audio",o),this._id3Track=Ss.createTrack("id3"),this._txtTrack=Ss.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,o=!1){r||(this.sampleAes=null);let i;const s=this._videoTrack,a=this._audioTrack,l=this._id3Track,c=this._txtTrack;let d=s.pid,u=s.pesData,f=a.pid,m=l.pid,h=a.pesData,p=l.pesData,v=null,b=this.pmtParsed,y=this._pmtId,x=e.length;if(this.remainderData&&(e=Fo(this.remainderData,e),x=e.length,this.remainderData=null),x<xr&&!o)return this.remainderData=e,{audioTrack:a,videoTrack:s,id3Track:l,textTrack:c};const C=Math.max(0,Ss.syncOffset(e));x-=(x-C)%xr,x<e.byteLength&&!o&&(this.remainderData=new Uint8Array(e.buffer,x,e.buffer.byteLength-x));let S=0;for(let w=C;w<x;w+=xr)if(e[w]===71){const E=!!(e[w+1]&64),R=uv(e,w),P=(e[w+3]&48)>>4;let _;if(P>1){if(_=w+5+e[w+4],_===w+xr)continue}else _=w+4;switch(R){case d:if(E){if(u&&(i=al(u,this.logger))){if(this.videoParser===null)switch(s.segmentCodec){case"avc":this.videoParser=new z1;break;case"hevc":this.videoParser=new N1;break}this.videoParser!==null&&this.videoParser.parsePES(s,c,i,!1)}u={data:[],size:0}}u&&(u.data.push(e.subarray(_,w+xr)),u.size+=w+xr-_);break;case f:if(E){if(h&&(i=al(h,this.logger)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,i);break;case"mp3":this.parseMPEGPES(a,i);break;case"ac3":this.parseAC3PES(a,i);break}h={data:[],size:0}}h&&(h.data.push(e.subarray(_,w+xr)),h.size+=w+xr-_);break;case m:E&&(p&&(i=al(p,this.logger))&&this.parseID3PES(l,i),p={data:[],size:0}),p&&(p.data.push(e.subarray(_,w+xr)),p.size+=w+xr-_);break;case 0:E&&(_+=e[_]+1),y=this._pmtId=Mie(e,_);break;case y:{E&&(_+=e[_]+1);const I=Bie(e,_,this.typeSupported,r,this.observer,this.logger);d=I.videoPid,d>0&&(s.pid=d,s.segmentCodec=I.segmentVideoCodec),f=I.audioPid,f>0&&(a.pid=f,a.segmentCodec=I.segmentAudioCodec),m=I.id3Pid,m>0&&(l.pid=m),v!==null&&!b&&(this.logger.warn(`MPEG-TS PMT found at ${w} after unknown PID '${v}'. Backtracking to sync byte @${C} to parse all TS packets.`),v=null,w=C-188),b=this.pmtParsed=!0;break}case 17:case 8191:break;default:v=R;break}}else S++;S>0&&fv(this.observer,new Error(`Found ${S} TS packet/s that do not start with 0x47`),void 0,this.logger),s.pesData=u,a.pesData=h,l.pesData=p;const T={audioTrack:a,videoTrack:s,id3Track:l,textTrack:c};return o&&this.extractRemainingSamples(T),T}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:o,textTrack:i}=e,s=r.pesData,a=n.pesData,l=o.pesData;let c;if(s&&(c=al(s,this.logger))){if(this.videoParser===null)switch(r.segmentCodec){case"avc":this.videoParser=new z1;break;case"hevc":this.videoParser=new N1;break}this.videoParser!==null&&(this.videoParser.parsePES(r,i,c,!0),r.pesData=null)}else r.pesData=s;if(a&&(c=al(a,this.logger))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,c);break;case"mp3":this.parseMPEGPES(n,c);break;case"ac3":this.parseAC3PES(n,c);break}n.pesData=null}else a!=null&&a.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a;l&&(c=al(l,this.logger))?(this.parseID3PES(o,c),o.pesData=null):o.pesData=l}demuxSampleAes(e,n,r){const o=this.demux(e,r,!0,!this.config.progressive),i=this.sampleAes=new Fie(this.observer,this.config,n);return this.decrypt(o,i)}decrypt(e,n){return new Promise(r=>{const{audioTrack:o,videoTrack:i}=e;o.samples&&o.segmentCodec==="aac"?n.decryptAacSamples(o.samples,0,()=>{i.samples?n.decryptAvcSamples(i.samples,0,0,()=>{r(e)}):r(e)}):i.samples&&n.decryptAvcSamples(i.samples,0,0,()=>{r(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,n){let r=0;const o=this.aacOverFlow;let i=n.data;if(o){this.aacOverFlow=null;const u=o.missing,f=o.sample.unit.byteLength;if(u===-1)i=Fo(o.sample.unit,i);else{const m=f-u;o.sample.unit.set(i.subarray(0,u),m),e.samples.push(o.sample),r=o.missing}}let s,a;for(s=r,a=i.length;s<a-1&&!Jf(i,s);s++);if(s!==r){let u;const f=s<a-1;if(f?u=`AAC PES did not start with ADTS header,offset:${s}`:u="No ADTS header found in AAC PES",fv(this.observer,new Error(u),f,this.logger),!f)return}RD(e,this.observer,i,s,this.audioCodec);let l;if(n.pts!==void 0)l=n.pts;else if(o){const u=TD(e.samplerate);l=o.sample.pts+u}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,d;for(;s<a;)if(d=ED(e,i,s,l,c),s+=d.length,d.missing){this.aacOverFlow=d;break}else for(c++;s<a-1&&!Jf(i,s);s++);}parseMPEGPES(e,n){const r=n.data,o=r.length;let i=0,s=0;const a=n.pts;if(a===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;s<o;)if(_D(r,s)){const l=AD(e,r,s,a,i);if(l)s+=l.length,i++;else break}else s++}parseAC3PES(e,n){{const r=n.data,o=n.pts;if(o===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const i=r.length;let s=0,a=0,l;for(;a<i&&(l=OD(e,r,a,o,s++))>0;)a+=l}}parseID3PES(e,n){if(n.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=wn({},n,{type:this._videoTrack?co.emsg:co.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function uv(t,e){return((t[e+1]&31)<<8)+t[e+2]}function Mie(t,e){return(t[e+10]&31)<<8|t[e+11]}function Bie(t,e,n,r,o,i){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=(t[e+1]&15)<<8|t[e+2],l=e+3+a-4,c=(t[e+10]&15)<<8|t[e+11];for(e+=12+c;e<l;){const d=uv(t,e),u=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){wm("ADTS AAC",i);break}case 15:s.audioPid===-1&&(s.audioPid=d);break;case 21:s.id3Pid===-1&&(s.id3Pid=d);break;case 219:if(!r){wm("H.264",i);break}case 27:s.videoPid===-1&&(s.videoPid=d);break;case 3:case 4:!n.mpeg&&!n.mp3?i.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=d,s.segmentAudioCodec="mp3");break;case 193:if(!r){wm("AC-3",i);break}case 129:n.ac3?s.audioPid===-1&&(s.audioPid=d,s.segmentAudioCodec="ac3"):i.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&u>0){let f=e+5,m=u;for(;m>2;){switch(t[f]){case 106:n.ac3!==!0?i.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=d,s.segmentAudioCodec="ac3");break}const p=t[f+1]+2;f+=p,m-=p}}break;case 194:case 135:return fv(o,new Error("Unsupported EC-3 in M2TS found"),void 0,i),s;case 36:s.videoPid===-1&&(s.videoPid=d,s.segmentVideoCodec="hevc",i.log("HEVC in M2TS found"));break}e+=u+5}return s}function fv(t,e,n,r){r.warn(`parsing error: ${e.message}`),t.emit(U.ERROR,U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function wm(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function al(t,e){let n=0,r,o,i,s,a;const l=t.data;if(!t||t.size===0)return null;for(;l[0].length<19&&l.length>1;)l[0]=Fo(l[0],l[1]),l.splice(1,1);if(r=l[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(o=(r[4]<<8)+r[5],o&&o>t.size-6)return null;const d=r[7];d&192&&(s=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,d&64?(a=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,s-a>60*9e4&&(e.warn(`${Math.round((s-a)/9e4)}s delta between PTS and DTS, align them`),s=a)):a=s),i=r[8];let u=i+9;if(t.size<=u)return null;t.size-=u;const f=new Uint8Array(t.size);for(let m=0,h=l.length;m<h;m++){r=l[m];let p=r.byteLength;if(u)if(u>p){u-=p;continue}else r=r.subarray(u),p-=u,u=0;f.set(r,n),n+=p}return o&&(o-=i+3),{data:f,pts:s,dts:a,len:o}}return null}class zie{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const us=Math.pow(2,32)-1;class De{static init(){De.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in De.types)De.types.hasOwnProperty(e)&&(De.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);De.HDLR_TYPES={video:n,audio:r};const o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);De.STTS=De.STSC=De.STCO=i,De.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),De.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),De.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),De.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const s=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);De.FTYP=De.box(De.types.ftyp,s,l,s,a),De.DINF=De.box(De.types.dinf,De.box(De.types.dref,o))}static box(e,...n){let r=8,o=n.length;const i=o;for(;o--;)r+=n[o].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(e,4),o=0,r=8;o<i;o++)s.set(n[o],r),r+=n[o].byteLength;return s}static hdlr(e){return De.box(De.types.hdlr,De.HDLR_TYPES[e])}static mdat(e){return De.box(De.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(us+1)),o=Math.floor(n%(us+1));return De.box(De.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,o>>24,o>>16&255,o>>8&255,o&255,85,196,0,0]))}static mdia(e){return De.box(De.types.mdia,De.mdhd(e.timescale||0,e.duration||0),De.hdlr(e.type),De.minf(e))}static mfhd(e){return De.box(De.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?De.box(De.types.minf,De.box(De.types.smhd,De.SMHD),De.DINF,De.stbl(e)):De.box(De.types.minf,De.box(De.types.vmhd,De.VMHD),De.DINF,De.stbl(e))}static moof(e,n,r){return De.box(De.types.moof,De.mfhd(e),De.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=De.trak(e[n]);return De.box.apply(null,[De.types.moov,De.mvhd(e[0].timescale||0,e[0].duration||0)].concat(r).concat(De.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=De.trex(e[n]);return De.box.apply(null,[De.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(us+1)),o=Math.floor(n%(us+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,o>>24,o>>16&255,o>>8&255,o&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return De.box(De.types.mvhd,i)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let o,i;for(o=0;o<n.length;o++)i=n[o].flags,r[o+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return De.box(De.types.sdtp,r)}static stbl(e){return De.box(De.types.stbl,De.stsd(e),De.box(De.types.stts,De.STTS),De.box(De.types.stsc,De.STSC),De.box(De.types.stsz,De.STSZ),De.box(De.types.stco,De.STCO))}static avc1(e){let n=[],r=[],o,i,s;for(o=0;o<e.sps.length;o++)i=e.sps[o],s=i.byteLength,n.push(s>>>8&255),n.push(s&255),n=n.concat(Array.prototype.slice.call(i));for(o=0;o<e.pps.length;o++)i=e.pps[o],s=i.byteLength,r.push(s>>>8&255),r.push(s&255),r=r.concat(Array.prototype.slice.call(i));const a=De.box(De.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),l=e.width,c=e.height,d=e.pixelRatio[0],u=e.pixelRatio[1];return De.box(De.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,De.box(De.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),De.box(De.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,d&255,u>>24,u>>16&255,u>>8&255,u&255])))}static esds(e){const n=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...n,6,1,2])}static audioStsd(e){const n=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return De.box(De.types.mp4a,De.audioStsd(e),De.box(De.types.esds,De.esds(e)))}static mp3(e){return De.box(De.types[".mp3"],De.audioStsd(e))}static ac3(e){return De.box(De.types["ac-3"],De.audioStsd(e),De.box(De.types.dac3,e.config))}static stsd(e){const{segmentCodec:n}=e;if(e.type==="audio"){if(n==="aac")return De.box(De.types.stsd,De.STSD,De.mp4a(e));if(n==="ac3"&&e.config)return De.box(De.types.stsd,De.STSD,De.ac3(e));if(n==="mp3"&&e.codec==="mp3")return De.box(De.types.stsd,De.STSD,De.mp3(e))}else if(e.pps&&e.sps){if(n==="avc")return De.box(De.types.stsd,De.STSD,De.avc1(e));if(n==="hevc"&&e.vps)return De.box(De.types.stsd,De.STSD,De.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${n}/${e.codec})`)}static tkhd(e){const n=e.id,r=(e.duration||0)*(e.timescale||0),o=e.width||0,i=e.height||0,s=Math.floor(r/(us+1)),a=Math.floor(r%(us+1));return De.box(De.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,o&255,0,0,i>>8&255,i&255,0,0]))}static traf(e,n){const r=De.sdtp(e),o=e.id,i=Math.floor(n/(us+1)),s=Math.floor(n%(us+1));return De.box(De.types.traf,De.box(De.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255])),De.box(De.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,i&255,s>>24,s>>16&255,s>>8&255,s&255])),De.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,De.box(De.types.trak,De.tkhd(e),De.mdia(e))}static trex(e){const n=e.id;return De.box(De.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],o=r.length,i=12+16*o,s=new Uint8Array(i);let a,l,c,d,u,f;for(n+=8+i,s.set([e.type==="video"?1:0,0,15,1,o>>>24&255,o>>>16&255,o>>>8&255,o&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),a=0;a<o;a++)l=r[a],c=l.duration,d=l.size,u=l.flags,f=l.cts,s.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,u.degradPrio&61440,u.degradPrio&15,f>>>24&255,f>>>16&255,f>>>8&255,f&255],12+16*a);return De.box(De.types.trun,s)}static initSegment(e){De.types||De.init();const n=De.moov(e);return Fo(De.FTYP,n)}static hvc1(e){const n=e.params,r=[e.vps,e.sps,e.pps],o=4,i=new Uint8Array([1,n.general_profile_space<<6|(n.general_tier_flag?32:0)|n.general_profile_idc,n.general_profile_compatibility_flags[0],n.general_profile_compatibility_flags[1],n.general_profile_compatibility_flags[2],n.general_profile_compatibility_flags[3],n.general_constraint_indicator_flags[0],n.general_constraint_indicator_flags[1],n.general_constraint_indicator_flags[2],n.general_constraint_indicator_flags[3],n.general_constraint_indicator_flags[4],n.general_constraint_indicator_flags[5],n.general_level_idc,240|n.min_spatial_segmentation_idc>>8,255&n.min_spatial_segmentation_idc,252|n.parallelismType,252|n.chroma_format_idc,248|n.bit_depth_luma_minus8,248|n.bit_depth_chroma_minus8,0,parseInt(n.frame_rate.fps),o-1|n.temporal_id_nested<<2|n.num_temporal_layers<<3|(n.frame_rate.fixed?64:0),r.length]);let s=i.length;for(let h=0;h<r.length;h+=1){s+=3;for(let p=0;p<r[h].length;p+=1)s+=2+r[h][p].length}const a=new Uint8Array(s);a.set(i,0),s=i.length;const l=r.length-1;for(let h=0;h<r.length;h+=1){a.set(new Uint8Array([32+h|(h===l?128:0),0,r[h].length]),s),s+=3;for(let p=0;p<r[h].length;p+=1)a.set(new Uint8Array([r[h][p].length>>8,r[h][p].length&255]),s),s+=2,a.set(r[h][p],s),s+=r[h][p].length}const c=De.box(De.types.hvcC,a),d=e.width,u=e.height,f=e.pixelRatio[0],m=e.pixelRatio[1];return De.box(De.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,d&255,u>>8&255,u&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,De.box(De.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),De.box(De.types.pasp,new Uint8Array([f>>24,f>>16&255,f>>8&255,f&255,m>>24,m>>16&255,m>>8&255,m&255])))}}De.types=void 0;De.HDLR_TYPES=void 0;De.STTS=void 0;De.STSC=void 0;De.STCO=void 0;De.STSZ=void 0;De.VMHD=void 0;De.SMHD=void 0;De.STSD=void 0;De.FTYP=void 0;De.DINF=void 0;const FD=9e4;function _b(t,e,n=1,r=!1){const o=t*e*n;return r?Math.round(o):o}function Nie(t,e,n=1,r=!1){return _b(t,e,1/n,r)}function Cc(t,e=!1){return _b(t,1e3,1/FD,e)}function Uie(t,e=1){return _b(t,FD,1/e)}const Hie=10*1e3,Vie=1024,jie=1152,Wie=1536;let ll=null,Rm=null;function U1(t,e,n,r){return{duration:e,size:n,cts:r,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class lf{constructor(e,n,r,o){if(this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.logger=o,this.ISGenerated=!1,ll===null){const s=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ll=s?parseInt(s[1]):0}if(Rm===null){const i=navigator.userAgent.match(/Safari\/(\d+)/i);Rm=i?parseInt(i[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){this.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e[0].pts,o=e.reduce((i,s)=>{let a=s.pts,l=a-i;return l<-4294967296&&(n=!0,a=ko(a,r),l=a-i),l>0?i:a},r);return n&&this.logger.debug("PTS rollover detected"),o}remux(e,n,r,o,i,s,a,l){let c,d,u,f,m,h,p=i,v=i;const b=e.pid>-1,y=n.pid>-1,x=n.samples.length,C=e.samples.length>0,S=a&&x>0||x>1;if((!b||C)&&(!y||S)||this.ISGenerated||a){if(this.ISGenerated){var w,E,R,P;const N=this.videoTrackConfig;(N&&(n.width!==N.width||n.height!==N.height||((w=n.pixelRatio)==null?void 0:w[0])!==((E=N.pixelRatio)==null?void 0:E[0])||((R=n.pixelRatio)==null?void 0:R[1])!==((P=N.pixelRatio)==null?void 0:P[1]))||!N&&S||this.nextAudioPts===null&&C)&&this.resetInitSegment()}this.ISGenerated||(u=this.generateIS(e,n,i,s));const _=this.isVideoContiguous;let I=-1,L;if(S&&(I=Kie(n.samples),!_&&this.config.forceKeyFrameOnDiscontinuity))if(h=!0,I>0){this.logger.warn(`[mp4-remuxer]: Dropped ${I} out of ${x} video samples due to a missing keyframe`);const N=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(I),n.dropped+=I,v+=(n.samples[0].pts-N)/n.inputTimeScale,L=v}else I===-1&&(this.logger.warn(`[mp4-remuxer]: No keyframe found out of ${x} video samples`),h=!1);if(this.ISGenerated){if(C&&S){const N=this.getVideoStartPts(n.samples),G=(ko(e.samples[0].pts,N)-N)/n.inputTimeScale;p+=Math.max(0,G),v+=Math.max(0,-G)}if(C){if(e.samplerate||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),u=this.generateIS(e,n,i,s)),d=this.remuxAudio(e,p,this.isAudioContiguous,s,y||S||l===kt.AUDIO?v:void 0),S){const N=d?d.endPTS-d.startPTS:0;n.inputTimeScale||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),u=this.generateIS(e,n,i,s)),c=this.remuxVideo(n,v,_,N)}}else S&&(c=this.remuxVideo(n,v,_,0));c&&(c.firstKeyFrame=I,c.independent=I!==-1,c.firstKeyFramePTS=L)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(m=MD(r,i,this._initPTS,this._initDTS)),o.samples.length&&(f=BD(o,i,this._initPTS))),{audio:d,video:c,initSegment:u,independent:h,text:f,id3:m}}generateIS(e,n,r,o){const i=e.samples,s=n.samples,a=this.typeSupported,l={},c=this._initPTS;let d=!c||o,u="audio/mp4",f,m,h,p;if(d&&(f=m=1/0),e.config&&i.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(u="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:u,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):De.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(p=e.id,h=e.inputTimeScale,!c||h!==c.timescale?f=m=i[0].pts-Math.round(h*r):d=!1)}if(n.sps&&n.pps&&s.length){if(n.timescale=n.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:De.initSegment([n]),metadata:{width:n.width,height:n.height}},d)if(p=n.id,h=n.inputTimeScale,!c||h!==c.timescale){const v=this.getVideoStartPts(s),b=Math.round(h*r);m=Math.min(m,ko(s[0].dts,v)-b),f=Math.min(f,v-b)}else d=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,d?(this._initPTS={baseTime:f,timescale:h},this._initDTS={baseTime:m,timescale:h}):f=h=void 0,{tracks:l,initPTS:f,timescale:h,trackId:p}}remuxVideo(e,n,r,o){const i=e.inputTimeScale,s=e.samples,a=[],l=s.length,c=this._initPTS;let d=this.nextAvcDts,u=8,f=this.videoSampleDuration,m,h,p=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,b=!1;if(!r||d===null){const ne=n*i,D=s[0].pts-ko(s[0].dts,s[0].pts);ll&&d!==null&&Math.abs(ne-D-d)<15e3?r=!0:d=ne-D}const y=c.baseTime*i/c.timescale;for(let ne=0;ne<l;ne++){const D=s[ne];D.pts=ko(D.pts-y,d),D.dts=ko(D.dts-y,d),D.dts<s[ne>0?ne-1:ne].dts&&(b=!0)}b&&s.sort(function(ne,D){const B=ne.dts-D.dts,j=ne.pts-D.pts;return B||j}),m=s[0].dts,h=s[s.length-1].dts;const x=h-m,C=x?Math.round(x/(l-1)):f||e.inputTimeScale/30;if(r){const ne=m-d,D=ne>C,B=ne<-1;if((D||B)&&(D?this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Cc(ne,!0)} ms (${ne}dts) hole between fragments detected at ${n.toFixed(3)}`):this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Cc(-ne,!0)} ms (${ne}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!B||d>=s[0].pts||ll)){m=d;const j=s[0].pts-ne;if(D)s[0].dts=m,s[0].pts=j;else{let $=!0;for(let V=0;V<s.length&&!(s[V].dts>j&&$);V++){const X=s[V].pts;if(s[V].dts-=ne,s[V].pts-=ne,V<s.length-1){const Z=s[V+1].pts,q=s[V].pts,ue=Z<=q,K=Z<=X;$=ue==K}}}this.logger.log(`Video: Initial PTS/DTS adjusted: ${Cc(j,!0)}/${Cc(m,!0)}, delta: ${Cc(ne,!0)} ms`)}}m=Math.max(0,m);let S=0,T=0,w=m;for(let ne=0;ne<l;ne++){const D=s[ne],B=D.units,j=B.length;let $=0;for(let V=0;V<j;V++)$+=B[V].data.length;T+=$,S+=j,D.length=$,D.dts<w?(D.dts=w,w+=C/4|0||1):w=D.dts,p=Math.min(D.pts,p),v=Math.max(D.pts,v)}h=s[l-1].dts;const E=T+4*S+8;let R;try{R=new Uint8Array(E)}catch(ne){this.observer.emit(U.ERROR,U.ERROR,{type:Pt.MUX_ERROR,details:Fe.REMUX_ALLOC_ERROR,fatal:!1,error:ne,bytes:E,reason:`fail allocating video mdat ${E}`});return}const P=new DataView(R.buffer);P.setUint32(0,E),R.set(De.types.mdat,4);let _=!1,I=Number.POSITIVE_INFINITY,L=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,H=Number.NEGATIVE_INFINITY;for(let ne=0;ne<l;ne++){const D=s[ne],B=D.units;let j=0;for(let X=0,Z=B.length;X<Z;X++){const q=B[X],ue=q.data,K=q.data.byteLength;P.setUint32(u,K),u+=4,R.set(ue,u),u+=K,j+=4+K}let $;if(ne<l-1)f=s[ne+1].dts-D.dts,$=s[ne+1].pts-D.pts;else{const X=this.config,Z=ne>0?D.dts-s[ne-1].dts:C;if($=ne>0?D.pts-s[ne-1].pts:C,X.stretchShortVideoTrack&&this.nextAudioPts!==null){const q=Math.floor(X.maxBufferHole*i),ue=(o?p+o*i:this.nextAudioPts)-D.pts;ue>q?(f=ue-Z,f<0?f=Z:_=!0,this.logger.log(`[mp4-remuxer]: It is approximately ${ue/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=Z}else f=Z}const V=Math.round(D.pts-D.dts);I=Math.min(I,f),N=Math.max(N,f),L=Math.min(L,$),H=Math.max(H,$),a.push(U1(D.key,f,j,V))}if(a.length){if(ll){if(ll<70){const ne=a[0].flags;ne.dependsOn=2,ne.isNonSync=0}}else if(Rm&&H-L<N-I&&C/N<.025&&a[0].cts===0){this.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let ne=m;for(let D=0,B=a.length;D<B;D++){const j=ne+a[D].duration,$=ne+a[D].cts;if(D<B-1){const V=j+a[D+1].cts;a[D].duration=V-$}else a[D].duration=D?a[D-1].duration:C;a[D].cts=0,ne=j}}}f=_||!f?C:f,this.nextAvcDts=d=h+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const J={data1:De.moof(e.sequenceNumber++,m,wn(e,{samples:a})),data2:R,startPTS:p/i,endPTS:(v+f)/i,startDTS:m/i,endDTS:d/i,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,J}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return jie;case"ac3":return Wie;default:return Vie}}remuxAudio(e,n,r,o,i){const s=e.inputTimeScale,a=e.samplerate?e.samplerate:s,l=s/a,c=this.getSamplesPerFrame(e),d=c*l,u=this._initPTS,f=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,m=[],h=i!==void 0;let p=e.samples,v=f?0:8,b=this.nextAudioPts||-1;const y=n*s,x=u.baseTime*s/u.timescale;if(this.isAudioContiguous=r=r||p.length&&b>0&&(o&&Math.abs(y-b)<9e3||Math.abs(ko(p[0].pts-x,y)-b)<20*d),p.forEach(function(G){G.pts=ko(G.pts-x,y)}),!r||b<0){if(p=p.filter(G=>G.pts>=0),!p.length)return;i===0?b=0:o&&!h?b=Math.max(0,y):b=p[0].pts}if(e.segmentCodec==="aac"){const G=this.config.maxAudioFramesDrift;for(let W=0,J=b;W<p.length;W++){const ne=p[W],D=ne.pts,B=D-J,j=Math.abs(1e3*B/s);if(B<=-G*d&&h)W===0&&(this.logger.warn(`Audio frame @ ${(D/s).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*B/s)} ms.`),this.nextAudioPts=b=J=D);else if(B>=G*d&&j<Hie&&h){let $=Math.round(B/d);J=D-$*d,J<0&&($--,J+=d),W===0&&(this.nextAudioPts=b=J),this.logger.warn(`[mp4-remuxer]: Injecting ${$} audio frame @ ${(J/s).toFixed(3)}s due to ${Math.round(1e3*B/s)} ms gap.`);for(let V=0;V<$;V++){const X=Math.max(J,0);let Z=zie.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);Z||(this.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Z=ne.unit.subarray()),p.splice(W,0,{unit:Z,pts:X}),J+=d,W++}}ne.pts=J,J+=d}}let C=null,S=null,T,w=0,E=p.length;for(;E--;)w+=p[E].unit.byteLength;for(let G=0,W=p.length;G<W;G++){const J=p[G],ne=J.unit;let D=J.pts;if(S!==null){const j=m[G-1];j.duration=Math.round((D-S)/l)}else if(r&&e.segmentCodec==="aac"&&(D=b),C=D,w>0){w+=v;try{T=new Uint8Array(w)}catch(j){this.observer.emit(U.ERROR,U.ERROR,{type:Pt.MUX_ERROR,details:Fe.REMUX_ALLOC_ERROR,fatal:!1,error:j,bytes:w,reason:`fail allocating audio mdat ${w}`});return}f||(new DataView(T.buffer).setUint32(0,w),T.set(De.types.mdat,4))}else return;T.set(ne,v);const B=ne.byteLength;v+=B,m.push(U1(!0,c,B,0)),S=D}const R=m.length;if(!R)return;const P=m[m.length-1];this.nextAudioPts=b=S+l*P.duration;const _=f?new Uint8Array(0):De.moof(e.sequenceNumber++,C/l,wn({},e,{samples:m}));e.samples=[];const I=C/s,L=b/s,H={data1:_,data2:T,startPTS:I,endPTS:L,startDTS:I,endDTS:L,type:"audio",hasAudio:!0,hasVideo:!1,nb:R};return this.isAudioContiguous=!0,H}}function ko(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function Kie(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function MD(t,e,n,r){const o=t.samples.length;if(!o)return;const i=t.inputTimeScale;for(let a=0;a<o;a++){const l=t.samples[a];l.pts=ko(l.pts-n.baseTime*i/n.timescale,e*i)/i,l.dts=ko(l.dts-r.baseTime*i/r.timescale,e*i)/i}const s=t.samples;return t.samples=[],{samples:s}}function BD(t,e,n){const r=t.samples.length;if(!r)return;const o=t.inputTimeScale;for(let s=0;s<r;s++){const a=t.samples[s];a.pts=ko(a.pts-n.baseTime*o/n.timescale,e*o)/o}t.samples.sort((s,a)=>s.pts-a.pts);const i=t.samples;return t.samples=[],{samples:i}}class Gie{constructor(e,n,r,o){this.logger=void 0,this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1,this.logger=o}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,n,r,o){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(Ure(e,o)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const o=this.initData=GL(e);o.audio&&(n=H1(o.audio,Pn.AUDIO,this.logger)),o.video&&(r=H1(o.video,Pn.VIDEO,this.logger));const i={};o.audio&&o.video?i.audiovideo={container:"video/mp4",codec:n+","+r,supplemental:o.video.supplemental,initSegment:e,id:"main"}:o.audio?i.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:o.video?i.video={container:"video/mp4",codec:r,supplemental:o.video.supplemental,initSegment:e,id:"main"}:this.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}remux(e,n,r,o,i,s){var a,l;let{initPTS:c,lastEndTime:d}=this;const u={audio:void 0,video:void 0,text:o,id3:r,initSegment:void 0};xt(d)||(d=this.lastEndTime=i||0);const f=n.samples;if(!(f!=null&&f.length))return u;const m={initPTS:void 0,timescale:void 0,trackId:void 0};let h=this.initData;if((a=h)!=null&&a.length||(this.generateInitSegment(f),h=this.initData),!((l=h)!=null&&l.length))return this.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(m.tracks=this.initTracks,this.emitInitSegment=!1);const p=Hre(f,h,this.logger),v=h.audio?p[h.audio.id]:null,b=h.video?p[h.video.id]:null,y=Bu(b,1/0),x=Bu(v,1/0),C=Bu(b,0,!0),S=Bu(v,0,!0);let T,w=i,E=0;if(v&&(!b||!c&&x<y||c&&c.trackId===h.audio.id)?(m.trackId=h.audio.id,T=v,E=S-x):b&&(m.trackId=h.video.id,T=b,E=C-y),T){const G=T.timescale;w=T.start/G,m.timescale=G,c||(m.initPTS=T.start-i*G,this.initPTS=c={baseTime:m.initPTS,timescale:G,trackId:m.trackId})}(s||!c)&&(qie(c,w,i,E)||m.timescale!==c.timescale)&&(m.initPTS=w-i,c&&c.timescale===1&&this.logger.warn(`Adjusting initPTS @${i} from ${c.baseTime/c.timescale} to ${m.initPTS}`),this.initPTS=c={baseTime:m.initPTS,timescale:1});const R=e?w-c.baseTime/c.timescale:d;Vre(h,f,c.baseTime/c.timescale);const P=R+E;E>0?this.lastEndTime=P:(this.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const _=!!h.audio,I=!!h.video;let L="";_&&(L+="audio"),I&&(L+="video");const N={data1:f,startPTS:R,startDTS:R,endPTS:P,endDTS:P,type:L,hasAudio:_,hasVideo:I,nb:1,dropped:0};u.audio=_&&!I?N:void 0,u.video=I?N:void 0;const H=b==null?void 0:b.sampleCount;if(H){const G=b.keyFrameIndex,W=G!==-1;N.nb=H,N.dropped=G===0||this.isVideoContiguous?0:W?G:H,N.independent=W,N.firstKeyFrame=G,W&&b.keyFrameStart&&(N.firstKeyFramePTS=b.keyFrameStart-c.baseTime/c.timescale),this.isVideoContiguous||(u.independent=W),this.isVideoContiguous||(this.isVideoContiguous=W),N.dropped&&this.logger.warn(`fmp4 does not start with IDR: firstIDR ${G}/${H} dropped: ${N.dropped} pts: ${N.firstKeyFramePTS||"NA"}`)}return u.initSegment=m,u.id3=MD(r,i,c,c),o.samples.length&&(u.text=BD(o,i,c)),u}}function Bu(t,e,n=!1){return(t==null?void 0:t.start)!==void 0?(t.start+(n?t.duration:0))/t.timescale:e}function qie(t,e,n,r){if(t===null)return!0;const o=Math.max(r,1),i=e-t.baseTime/t.timescale;return Math.abs(i-n)>o}function H1(t,e,n){const r=t==null?void 0:t.codec;return r&&r.length>4?r:e===Pn.AUDIO?r==="ec-3"||r==="ac-3"||r==="alac"?r:r==="fLaC"||r==="Opus"?Kf(r,!1):(n.warn(`Unhandled audio codec "${r}" in mp4 MAP`),r||"mp4a"):(n.warn(`Unhandled video codec "${r}" in mp4 MAP`),r||"avc1")}let zi;try{zi=self.performance.now.bind(self.performance)}catch{zi=Date.now}const cf=[{demux:$ie,remux:Gie},{demux:Ss,remux:lf},{demux:_ie,remux:lf},{demux:Die,remux:lf}];cf.splice(2,0,{demux:Lie,remux:lf});class V1{constructor(e,n,r,o,i,s){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.id=i,this.logger=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,o){const i=r.transmuxing;i.executeStart=zi();let s=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:l}=this;o&&(this.currentTransmuxState=o);const{contiguous:c,discontinuity:d,trackSwitch:u,accurateTimeOffset:f,timeOffset:m,initSegmentChange:h}=o||a,{audioCodec:p,videoCodec:v,defaultInitPts:b,duration:y,initSegmentData:x}=l,C=Yie(s,n);if(C&&El(C.method)){const E=this.getDecrypter(),R=Sb(C.method);if(E.isSync()){let P=E.softwareDecrypt(s,C.key.buffer,C.iv.buffer,R);if(r.part>-1){const I=E.flush();P=I&&I.buffer}if(!P)return i.executeEnd=zi(),Tm(r);s=new Uint8Array(P)}else return this.asyncResult=!0,this.decryptionPromise=E.webCryptoDecrypt(s,C.key.buffer,C.iv.buffer,R).then(P=>{const _=this.push(P,null,r);return this.decryptionPromise=null,_}),this.decryptionPromise}const S=this.needsProbing(d,u);if(S){const E=this.configureTransmuxer(s);if(E)return this.logger.warn(`[transmuxer] ${E.message}`),this.observer.emit(U.ERROR,U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.FRAG_PARSING_ERROR,fatal:!1,error:E,reason:E.message}),i.executeEnd=zi(),Tm(r)}(d||u||h||S)&&this.resetInitSegment(x,p,v,y,n),(d||h||S)&&this.resetInitialTimestamp(b),c||this.resetContiguity();const T=this.transmux(s,C,m,f,r);this.asyncResult=Td(T);const w=this.currentTransmuxState;return w.contiguous=!0,w.discontinuity=!1,w.trackSwitch=!1,i.executeEnd=zi(),T}flush(e){const n=e.transmuxing;n.executeStart=zi();const{decrypter:r,currentTransmuxState:o,decryptionPromise:i}=this;if(i)return this.asyncResult=!0,i.then(()=>this.flush(e));const s=[],{timeOffset:a}=o;if(r){const u=r.flush();u&&s.push(this.push(u.buffer,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c){n.executeEnd=zi();const u=[Tm(e)];return this.asyncResult?Promise.resolve(u):u}const d=l.flush(a);return Td(d)?(this.asyncResult=!0,d.then(u=>(this.flushRemux(s,u,e),s))):(this.flushRemux(s,d,e),this.asyncResult?Promise.resolve(s):s)}flushRemux(e,n,r){const{audioTrack:o,videoTrack:i,id3Track:s,textTrack:a}=n,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${r.sn}${r.part>-1?" part: "+r.part:""} of ${this.id===kt.MAIN?"level":"track"} ${r.level}`);const d=this.remuxer.remux(o,i,s,a,c,l,!0,this.id);e.push({remuxResult:d,chunkMeta:r}),r.transmuxing.executeEnd=zi()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,o,i){const{demuxer:s,remuxer:a}=this;!s||!a||(s.resetInitSegment(e,n,r,o),a.resetInitSegment(e,n,r,i))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,o,i){let s;return n&&n.method==="SAMPLE-AES"?s=this.transmuxSampleAes(e,n,r,o,i):s=this.transmuxUnencrypted(e,r,o,i),s}transmuxUnencrypted(e,n,r,o){const{audioTrack:i,videoTrack:s,id3Track:a,textTrack:l}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i,s,a,l,n,r,!1,this.id),chunkMeta:o}}transmuxSampleAes(e,n,r,o,i){return this.demuxer.demuxSampleAes(e,n,r).then(s=>({remuxResult:this.remuxer.remux(s.audioTrack,s.videoTrack,s.id3Track,s.textTrack,r,o,!1,this.id),chunkMeta:i}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:o}=this;let i;for(let u=0,f=cf.length;u<f;u++){var s;if((s=cf[u].demux)!=null&&s.probe(e,this.logger)){i=cf[u];break}}if(!i)return new Error("Failed to find demuxer by probing fragment data");const a=this.demuxer,l=this.remuxer,c=i.remux,d=i.demux;(!l||!(l instanceof c))&&(this.remuxer=new c(r,n,o,this.logger)),(!a||!(a instanceof d))&&(this.demuxer=new d(r,n,o,this.logger),this.probe=d.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new xb(this.config)),e}}function Yie(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const Tm=t=>({remuxResult:{},chunkMeta:t});function Td(t){return"then"in t&&t.then instanceof Function}class Xie{constructor(e,n,r,o,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=o,this.defaultInitPts=i||null}}class Qie{constructor(e,n,r,o,i,s){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=o,this.timeOffset=i,this.initSegmentChange=s}}let j1=0;class zD{constructor(e,n,r,o){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=j1++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=l=>{const c=l.data,d=this.hls;if(!(!d||!(c!=null&&c.event)||c.instanceNo!==this.instanceNo))switch(c.event){case"init":{var u;const f=(u=this.workerContext)==null?void 0:u.objectURL;f&&self.URL.revokeObjectURL(f);break}case"transmuxComplete":{this.handleTransmuxComplete(c.data);break}case"flush":{this.onFlush(c.data);break}case"workerLog":{d.logger[c.data.logType]&&d.logger[c.data.logType](c.data.message);break}default:{c.data=c.data||{},c.data.frag=this.frag,c.data.part=this.part,c.data.id=this.id,d.trigger(c.event,c.data);break}}},this.onWorkerError=l=>{if(!this.hls)return;const c=new Error(`${l.message}  (${l.filename}:${l.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(U.ERROR,{type:Pt.OTHER_ERROR,details:Fe.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:c})};const i=e.config;this.hls=e,this.id=n,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=r,this.onFlush=o;const s=(l,c)=>{c=c||{},c.frag=this.frag||void 0,l===U.ERROR&&(c=c,c.parent=this.id,c.part=this.part,this.error=c.error),this.hls.trigger(l,c)};this.observer=new Tb,this.observer.on(U.FRAG_DECRYPTED,s),this.observer.on(U.ERROR,s);const a=s1(i.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const l=this.hls.logger;if(i.workerPath||rie()){try{i.workerPath?(l.log(`loading Web Worker ${i.workerPath} for "${n}"`),this.workerContext=iie(i.workerPath)):(l.log(`injecting Web Worker for "${n}"`),this.workerContext=oie());const{worker:d}=this.workerContext;d.addEventListener("message",this.onWorkerMessage),d.addEventListener("error",this.onWorkerError),d.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:a,id:n,config:Fn(i)})}catch(d){l.warn(`Error setting up "${n}" Web Worker, fallback to inline`,d),this.terminateWorker(),this.error=null,this.transmuxer=new V1(this.observer,a,i,"",n,e.logger)}return}}this.transmuxer=new V1(this.observer,a,i,"",n,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=j1++;const n=this.hls.config,r=s1(n.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:r,id:this.id,config:Fn(n)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),sie(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,n,r,o,i,s,a,l,c,d){var u,f;c.transmuxing.start=self.performance.now();const{instanceNo:m,transmuxer:h}=this,p=s?s.start:i.start,v=i.decryptdata,b=this.frag,y=!(b&&i.cc===b.cc),x=!(b&&c.level===b.level),C=b?c.sn-b.sn:-1,S=this.part?c.part-this.part.index:-1,T=C===0&&c.id>1&&c.id===(b==null?void 0:b.stats.chunkCount),w=!x&&(C===1||C===0&&(S===1||T&&S<=0)),E=self.performance.now();(x||C||i.stats.parsing.start===0)&&(i.stats.parsing.start=E),s&&(S||!w)&&(s.stats.parsing.start=E);const R=!(b&&((u=i.initSegment)==null?void 0:u.url)===((f=b.initSegment)==null?void 0:f.url)),P=new Qie(y,w,l,x,p,R);if(!w||y||R){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${i.type} sn: ${c.sn}${c.part>-1?" part: "+c.part:""} ${this.id===kt.MAIN?"level":"track"}: ${c.level} id: ${c.id}
        discontinuity: ${y}
        trackSwitch: ${x}
        contiguous: ${w}
        accurateTimeOffset: ${l}
        timeOffset: ${p}
        initSegmentChange: ${R}`);const _=new Xie(r,o,n,a,d);this.configureTransmuxer(_)}if(this.frag=i,this.part=s,this.workerContext)this.workerContext.worker.postMessage({instanceNo:m,cmd:"demux",data:e,decryptdata:v,chunkMeta:c,state:P},e instanceof ArrayBuffer?[e]:[]);else if(h){const _=h.push(e,v,c,P);Td(_)?_.then(I=>{this.handleTransmuxComplete(I)}).catch(I=>{this.transmuxerError(I,c,"transmuxer-interface push error")}):this.handleTransmuxComplete(_)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:n,transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:n,cmd:"flush",chunkMeta:e});else if(r){const o=r.flush(e);Td(o)?o.then(i=>{this.handleFlushResult(i,e)}).catch(i=>{this.transmuxerError(i,e,"transmuxer-interface flush error")}):this.handleFlushResult(o,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}configureTransmuxer(e){const{instanceNo:n,transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:n,cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const W1=100;class Zie extends Rb{constructor(e,n,r){super(e,n,r,"audio-stream-controller",kt.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(U.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(U.BUFFER_RESET,this.onBufferReset,this),e.on(U.BUFFER_CREATED,this.onBufferCreated,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(U.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(U.FRAG_LOADING,this.onFragLoading,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(U.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(U.BUFFER_RESET,this.onBufferReset,this),e.off(U.BUFFER_CREATED,this.onBufferCreated,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(U.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(U.FRAG_LOADING,this.onFragLoading,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:n,id:r,initPTS:o,timescale:i}){if(r===kt.MAIN){const s=n.cc,a=this.fragCurrent;if(this.initPTS[s]={baseTime:o,timescale:i},this.log(`InitPTS for cc: ${s} found from main: ${o}/${i}`),this.mainAnchor=n,this.state===qe.WAITING_INIT_PTS){const l=this.waitingData;(!l&&!this.loadingParts||l&&l.frag.cc!==s)&&this.syncWithAnchor(n,l==null?void 0:l.frag)}else!this.hls.hasEnoughToStart&&a&&a.cc!==s?(a.abortRequests(),this.syncWithAnchor(n,a)):this.state===qe.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,n){var r;const o=((r=this.mainFragLoading)==null?void 0:r.frag)||null;if(n&&(o==null?void 0:o.cc)===n.cc)return;const i=(o||e).cc,s=this.getLevelDetails(),a=this.getLoadPosition(),l=iD(s,i,a);l&&(this.log(`Waiting fragment cc (${n==null?void 0:n.cc}) cancelled because video is at cc ${e.cc}`),this.startFragRequested=!1,this.nextLoadPosition=l.start,this.resetLoadingState(),this.state===qe.IDLE&&this.doTickIdle())}startLoad(e,n){if(!this.levels){this.startPosition=e,this.state=qe.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(W1),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=qe.IDLE):this.state=qe.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}doTick(){switch(this.state){case qe.IDLE:this.doTickIdle();break;case qe.WAITING_TRACK:{const{levels:n,trackId:r}=this,o=n==null?void 0:n[r],i=o==null?void 0:o.details;if(i&&!this.waitForLive(o)){if(this.waitForCdnTuneIn(i))break;this.state=qe.WAITING_INIT_PTS}break}case qe.FRAG_LOADING_WAITING_RETRY:{var e;const n=performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:o,trackId:i}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((o==null?void 0:o[i])||null),this.state=qe.IDLE}break}case qe.WAITING_INIT_PTS:{const n=this.waitingData;if(n){const{frag:r,part:o,cache:i,complete:s}=n,a=this.mainAnchor;if(this.initPTS[r.cc]!==void 0){this.waitingData=null,this.state=qe.FRAG_LOADING;const l=i.flush().buffer,c={frag:r,part:o,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),s&&super._handleFragmentLoadComplete(c)}else a&&a.cc!==n.frag.cc&&this.syncWithAnchor(a,n.frag)}else this.state=qe.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:n,levels:r,media:o,trackId:i}=this,s=n.config;if(!this.buffering||!o&&!this.primaryPrefetch&&(this.startFragRequested||!s.startFragPrefetch)||!(r!=null&&r[i]))return;const a=r[i],l=a.details;if(!l||this.waitForLive(a)||this.waitForCdnTuneIn(l)){this.state=qe.WAITING_TRACK,this.startFragRequested=!1;return}const c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,Pn.AUDIO,kt.AUDIO));const d=this.getFwdBufferInfo(c,kt.AUDIO);if(d===null)return;if(!this.switchingTrack&&this._streamEnded(d,l)){n.trigger(U.BUFFER_EOS,{type:"audio"}),this.state=qe.ENDED;return}const u=d.len,f=n.maxBufferLength,m=l.fragments,h=m[0].start,p=this.getLoadPosition(),v=this.flushing?p:d.end;if(this.switchingTrack&&o){const x=p;l.PTSKnown&&x<h&&(d.end>h||d.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),o.currentTime=h+.05)}if(u>=f&&!this.switchingTrack&&v<m[m.length-1].start)return;let b=this.getNextFragment(v,l);if(b&&this.isLoopLoading(b,v)&&(b=this.getNextFragmentLoopLoading(b,l,d,kt.MAIN,f)),!b){this.bufferFlushed=!0;return}let y=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&y&&Cr(b)&&!b.endList&&(!l.live||!this.loadingParts&&v<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(y)===fr.OK&&(this.mainFragLoading=y=null),y&&Cr(y))){if(b.start>y.end){const C=this.fragmentTracker.getFragAtPos(v,kt.MAIN);C&&C.end>y.end&&(y=C,this.mainFragLoading={frag:C,targetBufferTime:null})}if(b.start>y.end)return}this.loadFragment(b,a,v)}onMediaDetaching(e,n){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,n)}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new xd(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),r?(this.switchingTrack=n,this.flushAudioIfNeeded(n),this.state!==qe.STOPPED&&(this.setInterval(W1),this.state=qe.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=n,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,n){this.mainDetails=n.details;const r=this.cachedTrackLoadedData;r&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(U.AUDIO_TRACK_LOADED,r))}onAudioTrackLoaded(e,n){var r;const{levels:o}=this,{details:i,id:s,groupId:a,track:l}=n;if(!o){this.warn(`Audio tracks reset while loading track ${s} "${l.name}" of "${a}"`);return}const c=this.mainDetails;if(!c||i.endCC>c.endCC||c.expired){this.cachedTrackLoadedData=n,this.state!==qe.STOPPED&&(this.state=qe.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${s} "${l.name}" of "${a}" loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`);const d=o[s];let u=0;if(i.live||(r=d.details)!=null&&r.live){if(this.checkLiveUpdate(i),i.deltaUpdateFailed)return;if(d.details){var f;u=this.alignPlaylists(i,d.details,(f=this.levelLastLoaded)==null?void 0:f.details)}i.alignedSliding||(yD(i,c),i.alignedSliding||Zf(i,c),u=i.fragmentStart)}d.details=i,this.levelLastLoaded=d,this.startFragRequested||this.setStartPosition(c,u),this.hls.trigger(U.AUDIO_TRACK_UPDATED,{details:i,id:s,groupId:n.groupId}),this.state===qe.WAITING_TRACK&&!this.waitForCdnTuneIn(i)&&(this.state=qe.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:o,payload:i}=e,{config:s,trackId:a,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const c=l[a];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const d=c.details;if(!d){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const u=s.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new zD(this.hls,kt.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const m=this.initPTS[r.cc],h=(n=r.initSegment)==null?void 0:n.data;if(m!==void 0){const v=o?o.index:-1,b=v!==-1,y=new Cb(r.level,r.sn,r.stats.chunkCount,i.byteLength,v,b);f.push(i,h,u,"",r,o,d.totalduration,!1,y,m)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${d.startSN} ,${d.endSN}],track ${a}`);const{cache:p}=this.waitingData=this.waitingData||{frag:r,part:o,cache:new xD,complete:!1};p.push(new Uint8Array(i)),this.state!==qe.STOPPED&&(this.state=qe.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,n){this.bufferFlushed=this.flushing=!1;const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null)}onFragLoading(e,n){!this.audioOnly&&n.frag.type===kt.MAIN&&Cr(n.frag)&&(this.mainFragLoading=n,this.state===qe.IDLE&&this.tick())}onFragBuffered(e,n){const{frag:r,part:o}=n;if(r.type!==kt.AUDIO){!this.audioOnly&&r.type===kt.MAIN&&!r.elementaryStreams.video&&!r.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${o?" p: "+o.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(Cr(r)){this.fragPrevious=r;const i=this.switchingTrack;i&&(this.bufferedTrack=i,this.switchingTrack=null,this.hls.trigger(U.AUDIO_TRACK_SWITCHED,yn({},i)))}this.fragBufferedComplete(r,o),this.media&&this.tick()}onError(e,n){var r;if(n.fatal){this.state=qe.ERROR;return}switch(n.details){case Fe.FRAG_GAP:case Fe.FRAG_PARSING_ERROR:case Fe.FRAG_DECRYPT_ERROR:case Fe.FRAG_LOAD_ERROR:case Fe.FRAG_LOAD_TIMEOUT:case Fe.KEY_LOAD_ERROR:case Fe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(kt.AUDIO,n);break;case Fe.AUDIO_TRACK_LOAD_ERROR:case Fe.AUDIO_TRACK_LOAD_TIMEOUT:case Fe.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===qe.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===Zt.AUDIO_TRACK&&(this.state=qe.IDLE);break;case Fe.BUFFER_ADD_CODEC_ERROR:case Fe.BUFFER_APPEND_ERROR:if(n.parent!=="audio")return;this.resetLoadingState();break;case Fe.BUFFER_FULL_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Fe.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==Pn.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==Pn.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===qe.ENDED&&(this.state=qe.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,kt.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:o}=this,{remuxResult:i,chunkMeta:s}=e,a=this.getCurrentContext(s);if(!a){this.resetWhenMissingContext(s);return}const{frag:l,part:c,level:d}=a,{details:u}=d,{audio:f,text:m,id3:h,initSegment:p}=i;if(this.fragContextChanged(l)||!u){this.fragmentTracker.removeFragment(l);return}if(this.state=qe.PARSING,this.switchingTrack&&f&&this.completeAudioSwitch(this.switchingTrack),p!=null&&p.tracks){const v=l.initSegment||l;this._bufferInitSegment(d,p.tracks,v,s),o.trigger(U.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:r,tracks:p.tracks})}if(f){const{startPTS:v,endPTS:b,startDTS:y,endDTS:x}=f;c&&(c.elementaryStreams[Pn.AUDIO]={startPTS:v,endPTS:b,startDTS:y,endDTS:x}),l.setElementaryStreamInfo(Pn.AUDIO,v,b,y,x),this.bufferFragmentData(f,l,c,s)}if(h!=null&&(n=h.samples)!=null&&n.length){const v=wn({id:r,frag:l,details:u},h);o.trigger(U.FRAG_PARSING_METADATA,v)}if(m){const v=wn({id:r,frag:l,details:u},m);o.trigger(U.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,n,r,o){if(this.state!==qe.PARSING||(n.video&&delete n.video,n.audiovideo&&delete n.audiovideo,!n.audio))return;const i=n.audio;i.id=kt.AUDIO;const s=e.audioCodec;this.log(`Init audio buffer, container:${i.container}, codecs[level/parsed]=[${s}/${i.codec}]`),s&&s.split(",").length===1&&(i.levelCodec=s),this.hls.trigger(U.BUFFER_CODECS,n);const a=i.initSegment;if(a!=null&&a.byteLength){const l={type:"audio",frag:r,part:null,chunkMeta:o,parent:r.type,data:a};this.hls.trigger(U.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,n,r){const o=this.fragmentTracker.getState(e);if(this.switchingTrack||o===fr.NOT_LOADED||o===fr.PARTIAL){var i;if(!Cr(e))this._loadInitSegment(e,n);else if((i=n.details)!=null&&i.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=qe.WAITING_INIT_PTS;const s=this.mainDetails;s&&s.fragmentStart!==n.details.fragmentStart&&Zf(n.details,s)}else super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:n,lang:r,assocLang:o,characteristics:i,audioCodec:s,channels:a}=this.bufferedTrack;Sa({name:n,lang:r,assocLang:o,characteristics:i,audioCodec:s,channels:a},e,la)||(qf(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(U.AUDIO_TRACK_SWITCHED,yn({},e))}}class Lb extends is{constructor(e,n){super(n,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const o=n==null?void 0:n.renditionReports;if(o){let i=-1;for(let s=0;s<o.length;s++){const a=o[s];let l;try{l=new self.URL(a.URI,n.url).href}catch(c){this.warn(`Could not construct new URL for Rendition Report: ${c}`),l=a.URI||""}if(l===e){i=s;break}else l===e.substring(0,l.length)&&(i=s)}if(i!==-1){const s=o[i],a=parseInt(s["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let l=parseInt(s["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const d=Math.min(n.age-n.partTarget,n.targetduration);l>=0&&d>n.partTarget&&(l+=1)}const c=r&&l1(r);return new c1(a,l>=0?l:void 0,c)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,n){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,n){if(n)try{return n.addDirectives(e)}catch(r){this.warn(`Could not construct new URL with HLS Delivery Directives: ${r}`)}return e}playlistLoaded(e,n,r){const{details:o,stats:i}=n,s=self.performance.now(),a=i.loading.first?Math.max(0,s-i.loading.first):0;o.advancedDateTime=Date.now()-a;const l=this.hls.config.timelineOffset;if(l!==o.appliedTimelineOffset){const d=Math.max(l||0,0);o.appliedTimelineOffset=d,o.fragments.forEach(u=>{u.start=u.playlistOffset+d})}if(o.live||r!=null&&r.live){const d="levelInfo"in n?n.levelInfo:n.track;if(o.reloaded(r),r&&o.fragments.length>0){Goe(r,o);const y=o.playlistParsingError;if(y){this.warn(y);const x=this.hls;if(!x.config.ignorePlaylistParsingErrors){var c;const{networkDetails:C}=n;x.trigger(U.ERROR,{type:Pt.NETWORK_ERROR,details:Fe.LEVEL_PARSING_ERROR,fatal:!1,url:o.url,error:y,reason:y.message,level:n.level||void 0,parent:(c=o.fragments[0])==null?void 0:c.type,networkDetails:C,stats:i});return}o.playlistParsingError=null}}o.requestScheduled===-1&&(o.requestScheduled=i.loading.start);const u=this.hls.mainForwardBufferInfo,f=u?u.end-u.len:0,m=(o.edge-f)*1e3,h=gD(o,m);if(o.requestScheduled+h<s?o.requestScheduled=s:o.requestScheduled+=h,this.log(`live playlist ${e} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:o.updated?"UPDATED":"MISSED"}`),!this.canLoad||!o.live)return;let p,v,b;if(o.canBlockReload&&o.endSN&&o.advanced){const y=this.hls.config.lowLatencyMode,x=o.lastPartSn,C=o.endSN,S=o.lastPartIndex,T=S!==-1,w=x===C;T?w?(v=C+1,b=y?0:S):(v=x,b=y?S+1:o.maxPartIndex):v=C+1;const E=o.age,R=E+o.ageHeader;let P=Math.min(R-o.partTarget,o.targetduration*1.5);if(P>0){if(R>o.targetduration*3)this.log(`Playlist last advanced ${E.toFixed(2)}s ago. Omitting segment and part directives.`),v=void 0,b=void 0;else if(r!=null&&r.tuneInGoal&&R-o.partTarget>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${P} with playlist age: ${o.age}`),P=0;else{const _=Math.floor(P/o.targetduration);if(v+=_,b!==void 0){const I=Math.round(P%o.targetduration/o.partTarget);b+=I}this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${E.toFixed(2)}s goal: ${P} skip sn ${_} to part ${b}`)}o.tuneInGoal=P}if(p=this.getDeliveryDirectives(o,n.deliveryDirectives,v,b),y||!w){o.requestScheduled=s,this.loadingPlaylist(d,p);return}}else(o.canBlockReload||o.canSkipUntil)&&(p=this.getDeliveryDirectives(o,n.deliveryDirectives,v,b));p&&v!==void 0&&o.canBlockReload&&(o.requestScheduled=i.loading.first+Math.max(h-a*2,h/2)),this.scheduleLoading(d,p,o)}else this.clearTimer()}scheduleLoading(e,n,r){const o=r||e.details;if(!o){this.loadingPlaylist(e,n);return}const i=self.performance.now(),s=o.requestScheduled;if(i>=s){this.loadingPlaylist(e,n);return}const a=s-i;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(a)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,n),a)}getDeliveryDirectives(e,n,r,o){let i=l1(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,o=n.part,i=sf.No),new c1(r,o,i)}checkRetry(e){const n=e.details,r=Yf(e),o=e.errorAction,{action:i,retryCount:s=0,retryConfig:a}=o||{},l=!!o&&!!a&&(i===Dr.RetryRequest||!o.resolved&&i===Dr.SendAlternateToPenaltyBox);if(l){var c;if(s>=a.maxNumRetry)return!1;if(r&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${s+1}/${a.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const d=yb(a,s);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),d),this.warn(`Retrying playlist loading ${s+1}/${a.maxNumRetry} after "${n}" in ${d}ms`)}e.levelRetry=!0,o.resolved=!0}return l}}function ND(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Ed(t[n].attrs,e[n].attrs))return!1;return!0}function Ed(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(o=>t[o]!==e[o])}function hv(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class Jie extends Lb{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.LEVEL_LOADING,this.onLevelLoading,this),e.on(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(U.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.LEVEL_LOADING,this.onLevelLoading,this),e.off(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(U.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(U.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:o,details:i}=n,s=this.tracksInGroup[r];if(!s||s.groupId!==o){this.warn(`Audio track with id:${r} and group:${o} not found in active group ${s==null?void 0:s.groupId}`);return}const a=s.details;s.details=n.details,this.log(`Audio track ${r} "${s.name}" lang:${s.lang} group:${o} loaded [${i.startSN}-${i.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,o=this.groupIds;let i=this.currentTrack;if(!r||(o==null?void 0:o.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(o==null?void 0:o.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(f=>!r||r.indexOf(f.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(f=>f.default)&&(this.selectDefaultTrack=!1),a.forEach((f,m)=>{f.id=m});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const l=this.hls.config.audioPreference;if(!i&&l){const f=gi(l,a,la);if(f>-1)i=a[f];else{const m=gi(l,this.tracks);i=this.tracks[m]}}let c=this.findTrackId(i);c===-1&&i&&(c=this.findTrackId(null));const d={audioTracks:a};this.log(`Updating audio tracks, ${a.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(U.AUDIO_TRACKS_UPDATED,d);const u=this.trackId;if(c!==-1&&u===-1)this.setAudioTrack(c);else if(a.length&&u===-1){var s;const f=new Error(`No audio track selected for current audio group-ID(s): ${(s=this.groupIds)==null?void 0:s.join(",")} track count: ${a.length}`);this.warn(f.message),this.hls.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}}onError(e,n){n.fatal||!n.context||n.context.type===Zt.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const o=this.currentTrack;if(o&&Sa(e,o,la))return o;const i=gi(e,this.tracksInGroup,la);if(i>-1){const s=this.tracksInGroup[i];return this.setAudioTrack(i),s}else if(o){let s=n.loadLevel;s===-1&&(s=n.firstAutoLevel);const a=hoe(e,n.levels,r,s,la);if(a===-1)return null;n.nextLoadLevel=a}if(e.channels||e.audioCodec){const s=gi(e,r);if(s>-1)return r[s]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,o=n[e],i=o.details&&!o.details.live;if(e===this.trackId&&o===r&&i||(this.log(`Switching to audio-track ${e} "${o.name}" lang:${o.lang} group:${o.groupId} channels:${o.channels}`),this.trackId=e,this.currentTrack=o,this.hls.trigger(U.AUDIO_TRACK_SWITCHING,yn({},o)),i))return;const s=this.switchParams(o.url,r==null?void 0:r.details,o.details);this.loadPlaylist(s)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const o=n[r];if(!(this.selectDefaultTrack&&!o.default)&&(!e||Sa(e,o,la)))return r}if(e){const{name:r,lang:o,assocLang:i,characteristics:s,audioCodec:a,channels:l}=e;for(let c=0;c<n.length;c++){const d=n[c];if(Sa({name:r,lang:o,assocLang:i,characteristics:s,audioCodec:a,channels:l},d,la))return c}for(let c=0;c<n.length;c++){const d=n[c];if(Ed(e.attrs,d.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<n.length;c++){const d=n[c];if(Ed(e.attrs,d.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;this.shouldLoadPlaylist(n)&&qf(n.url,this.hls)&&this.scheduleLoading(n,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,o=e.groupId,i=this.getUrlWithDirectives(e.url,n),s=e.details,a=s==null?void 0:s.age;this.log(`Loading audio-track ${r} "${e.name}" lang:${e.lang} group:${o}${(n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:""}${a&&s.live?" age "+a.toFixed(1)+(s.type&&" "+s.type||""):""} ${i}`),this.hls.trigger(U.AUDIO_TRACK_LOADING,{url:i,id:r,groupId:o,deliveryDirectives:n||null,track:e})}}class ese{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,n,r){if(this.queues===null||this.tracks===null)return;const o=this.queues[n];o.push(e),o.length===1&&!r&&this.executeNext(n)}appendBlocker(e){return new Promise(n=>{const r={label:"async-blocker",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(r,e)})}prependBlocker(e){return new Promise(n=>{if(this.queues){const r={label:"async-blocker-prepend",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(r)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var n;const r=(n=e[0])==null?void 0:n.label;(r==="async-blocker"||r==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const n=this.queues[e];if(n.length){const o=n[0];try{o.execute()}catch(i){var r;if(o.onError(i),this.queues===null||this.tracks===null)return;const s=(r=this.tracks[e])==null?void 0:r.buffer;s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var n;return((n=this.queues)==null?void 0:n[e][0])||null}toString(){const{queues:e,tracks:n}=this;return e===null||n===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var n,r;return(n=this.queues)!=null&&n[e]||(r=this.tracks)!=null&&r[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var n;const r=(n=this.tracks)==null?void 0:n[e],o=r==null?void 0:r.buffer;return o?`SourceBuffer${o.updating?" updating":""}${r.ended?" ended":""}${r.ending?" ending":""}`:"none"}listOps(e){var n;return((n=this.queues)==null?void 0:n[e].map(r=>r.label).join(", "))||""}}const K1=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,UD="HlsJsTrackRemovedError";class tse extends Error{constructor(e){super(e),this.name=UD}}class nse extends is{constructor(e,n){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=r=>{var o;this.hls&&((o=this.mediaSource)==null?void 0:o.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=r=>{const{media:o,mediaSource:i}=this;r&&this.log("Media source opened"),!(!o||!i)&&(i.removeEventListener("sourceopen",this._onMediaSourceOpen),o.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(U.MEDIA_ATTACHED,{media:o,mediaSource:i}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:o}=this;r!==o&&this.error(`Media element src was set while attaching MediaSource (${o} > ${r})`)},this.hls=e,this.fragmentTracker=n,this.appendSource=_re(Vs(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.BUFFER_RESET,this.onBufferReset,this),e.on(U.BUFFER_APPENDING,this.onBufferAppending,this),e.on(U.BUFFER_CODECS,this.onBufferCodecs,this),e.on(U.BUFFER_EOS,this.onBufferEos,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(U.FRAG_PARSED,this.onFragParsed,this),e.on(U.FRAG_CHANGED,this.onFragChanged,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.BUFFER_RESET,this.onBufferReset,this),e.off(U.BUFFER_APPENDING,this.onBufferAppending,this),e.off(U.BUFFER_CODECS,this.onBufferCodecs,this),e.off(U.BUFFER_EOS,this.onBufferEos,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(U.FRAG_PARSED,this.onFragParsed,this),e.off(U.FRAG_CHANGED,this.onFragChanged,this),e.off(U.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:n}=this;if(!e)return null;const r={};if(this.operationQueue){const i=this.isUpdating();i||this.operationQueue.removeBlockers();const s=this.isQueued();(i||s)&&this.warn(`Transfering MediaSource with${s?" operations in queue":""}${i?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const o=this.transferData;return!this.sourceBufferCount&&o&&o.mediaSource===n?wn(r,o.tracks):this.sourceBuffers.forEach(i=>{const[s]=i;s&&(r[s]=wn({},this.tracks[s]),this.removeBuffer(s)),i[0]=i[1]=null}),{media:e,mediaSource:n,tracks:r}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){var r;let o=2;(n.audio&&!n.video||!n.altAudio)&&(o=1),this.bufferCodecEventsTotal=o,this.log(`${o} bufferCodec event(s) expected.`),(r=this.transferData)!=null&&r.mediaSource&&this.sourceBufferCount&&o&&this.bufferCreated()}onMediaAttaching(e,n){const r=this.media=n.media,o=Vs(this.appendSource);if(this.transferData=this.overrides=void 0,r&&o){const i=!!n.mediaSource;(i||n.overrides)&&(this.transferData=n,this.overrides=n.overrides);const s=this.mediaSource=n.mediaSource||new o;if(this.assignMediaSource(s),i)this._objectUrl=r.src,this.attachTransferred();else{const a=this._objectUrl=self.URL.createObjectURL(s);if(this.appendSource)try{r.removeAttribute("src");const l=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||l&&s instanceof l,G1(r),rse(r,a),r.load()}catch{r.src=a}else r.src=a}r.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var n,r;this.log(`${((n=this.transferData)==null?void 0:n.mediaSource)===e?"transferred":"created"} media source: ${(r=e.constructor)==null?void 0:r.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,n=this.transferData;if(!n||!e)return;const r=this.tracks,o=n.tracks,i=o?Object.keys(o):null,s=i?i.length:0,a=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(o&&i&&s){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Fn(r,(l,c)=>l==="initSegment"?void 0:c)};
transfer tracks: ${Fn(o,(l,c)=>l==="initSegment"?void 0:c)}}`),!UL(o,r)){n.mediaSource=null,n.tracks=void 0;const l=e.currentTime,c=this.details,d=Math.max(l,(c==null?void 0:c.fragments[0].start)||0);if(d-l>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${l} -> ${d}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(o)}"->"${Object.keys(r)}") start time: ${d} currentTime: ${l}`),this.onMediaDetaching(U.MEDIA_DETACHING,{}),this.onMediaAttaching(U.MEDIA_ATTACHING,n),e.currentTime=d;return}this.transferData=void 0,i.forEach(l=>{const c=l,d=o[c];if(d){const u=d.buffer;if(u){const f=this.fragmentTracker,m=d.id;if(f.hasFragments(m)||f.hasParts(m)){const v=Wt.getBuffered(u);f.detectEvictedFragments(c,v,m,null,!0)}const h=Em(c),p=[c,u];this.sourceBuffers[h]=p,u.updating&&this.operationQueue&&this.operationQueue.prependBlocker(c),this.trackSourceBuffer(c,d)}}}),a(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),a()}get mediaSourceOpenOrEnded(){var e;const n=(e=this.mediaSource)==null?void 0:e.readyState;return n==="open"||n==="ended"}onMediaDetaching(e,n){const r=!!n.transferMedia;this.transferData=this.overrides=void 0;const{media:o,mediaSource:i,_objectUrl:s}=this;if(i){if(this.log(`media source ${r?"transferring":"detaching"}`),r)this.sourceBuffers.forEach(([a])=>{a&&this.removeBuffer(a)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const a=i.readyState==="open";try{const l=i.sourceBuffers;for(let c=l.length;c--;)a&&l[c].abort(),i.removeSourceBuffer(l[c]);a&&i.endOfStream()}catch(l){this.warn(`onMediaDetaching: ${l.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}i.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("sourceended",this._onMediaSourceEnded),i.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(i.removeEventListener("startstreaming",this._onStartStreaming),i.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}o&&(o.removeEventListener("emptied",this._onMediaEmptied),r||(s&&self.URL.revokeObjectURL(s),this.mediaSrc===s?(o.removeAttribute("src"),this.appendSource&&G1(o),o.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(U.MEDIA_DETACHED,n)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var n;const r=(n=this.tracks[e])==null?void 0:n.buffer;if(this.removeBuffer(e),r)try{var o;(o=this.mediaSource)!=null&&o.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(r)}catch(i){this.warn(`onBufferReset ${e}`,i)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[Em(e)]=[null,null];const n=this.tracks[e];n&&(n.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new ese(this.tracks)}onBufferCodecs(e,n){const r=this.tracks,o=Object.keys(n);this.log(`BUFFER_CODECS: "${o}" (current SB count ${this.sourceBufferCount})`);const i="audiovideo"in n&&(r.audio||r.video)||r.audiovideo&&("audio"in n||"video"in n),s=!i&&this.sourceBufferCount&&this.media&&o.some(a=>!r[a]);if(i||s){this.warn(`Unsupported transition between "${Object.keys(r)}" and "${o}" SourceBuffers`);return}o.forEach(a=>{var l,c,d;const u=n[a],{id:f,codec:m,levelCodec:h,container:p,metadata:v,supplemental:b}=u;let y=r[a];const x=(l=this.transferData)==null||(c=l.tracks)==null?void 0:c[a],C=x!=null&&x.buffer?x:y,S=(C==null?void 0:C.pendingCodec)||(C==null?void 0:C.codec),T=C==null?void 0:C.levelCodec;y||(y=r[a]={buffer:void 0,listeners:[],codec:m,supplemental:b,container:p,levelCodec:h,metadata:v,id:f});const w=of(S,T),E=w==null?void 0:w.replace(K1,"$1");let R=of(m,h);const P=(d=R)==null?void 0:d.replace(K1,"$1");R&&w&&E!==P&&(a.slice(0,5)==="audio"&&(R=Kf(R,this.appendSource)),this.log(`switching codec ${S} to ${R}`),R!==(y.pendingCodec||y.codec)&&(y.pendingCodec=R),y.container=p,this.appendChangeType(a,p,R))}),(this.tracksReady||this.sourceBufferCount)&&(n.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,n)=>{const r=this.tracks[n];return e[n]={id:r.id,container:r.container,codec:r.codec,levelCodec:r.levelCodec},e},{})}appendChangeType(e,n,r){const o=`${n};codecs=${r}`,i={label:`change-type=${o}`,execute:()=>{const s=this.tracks[e];if(s){const a=s.buffer;a!=null&&a.changeType&&(this.log(`changing ${e} sourceBuffer type to ${o}`),a.changeType(o),s.codec=r,s.container=n)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};this.append(i,e,this.isPending(this.tracks[e]))}blockAudio(e){var n;const r=e.start,o=r+e.duration*.05;if(((n=this.fragmentTracker.getAppendedFrag(r,kt.MAIN))==null?void 0:n.gap)===!0)return;const s={label:"block-audio",execute:()=>{var a;const l=this.tracks.video;(this.lastVideoAppendEnd>o||l!=null&&l.buffer&&Wt.isBuffered(l.buffer,o)||((a=this.fragmentTracker.getAppendedFrag(o,kt.MAIN))==null?void 0:a.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn("Error executing block-audio operation",a)}};this.blockedAudioAppend={op:s,frag:e},this.append(s,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:n}=this;e&&n&&(this.blockedAudioAppend=null,n.unblockAudio(e.op))}onBufferAppending(e,n){const{tracks:r}=this,{data:o,type:i,parent:s,frag:a,part:l,chunkMeta:c}=n,d=c.buffering[i],u=a.sn,f=self.performance.now();d.start=f;const m=a.stats.buffering,h=l?l.stats.buffering:null;m.start===0&&(m.start=f),h&&h.start===0&&(h.start=f);const p=r.audio;let v=!1;i==="audio"&&(p==null?void 0:p.container)==="audio/mpeg"&&(v=!this.lastMpegAudioChunk||c.id===1||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const b=this.tracks.video,y=b==null?void 0:b.buffer;if(y&&u!=="initSegment"){const S=l||a,T=this.blockedAudioAppend;if(i==="audio"&&s!=="main"&&!this.blockedAudioAppend){const E=S.start+S.duration*.05,R=y.buffered,P=this.currentOp("video");!R.length&&!P?this.blockAudio(S):!P&&!Wt.isBuffered(y,E)&&this.lastVideoAppendEnd<E&&this.blockAudio(S)}else if(i==="video"){const w=S.end;if(T){const E=T.frag.start;(w>E||w<this.lastVideoAppendEnd||Wt.isBuffered(y,E))&&this.unblockAudio()}this.lastVideoAppendEnd=w}}const x=(l||a).start,C={label:`append-${i}`,execute:()=>{if(d.executeStart=self.performance.now(),v){const S=this.tracks[i];if(S){const T=S.buffer;if(T){const w=x-T.timestampOffset;Math.abs(w)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${x} (delta: ${w}) sn: ${u})`),T.timestampOffset=x)}}}this.appendExecutor(o,i)},onStart:()=>{},onComplete:()=>{const S=self.performance.now();d.executeEnd=d.end=S,m.first===0&&(m.first=S),h&&h.first===0&&(h.first=S);const T={};this.sourceBuffers.forEach(([w,E])=>{w&&(T[w]=Wt.getBuffered(E))}),this.appendErrors[i]=0,i==="audio"||i==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(U.BUFFER_APPENDED,{type:i,frag:a,part:l,chunkMeta:c,parent:a.type,timeRanges:T})},onError:S=>{var T;const w={type:Pt.MEDIA_ERROR,parent:a.type,details:Fe.BUFFER_APPEND_ERROR,sourceBufferName:i,frag:a,part:l,chunkMeta:c,error:S,err:S,fatal:!1},E=(T=this.media)==null?void 0:T.error;if(S.code===DOMException.QUOTA_EXCEEDED_ERR)w.details=Fe.BUFFER_FULL_ERROR;else if(S.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!E)w.errorAction=Cd(!0);else if(S.name===UD&&this.sourceBufferCount===0)w.errorAction=Cd(!0);else{const R=++this.appendErrors[i];this.warn(`Failed ${R}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${i}" sourceBuffer (${E||"no media error"})`),(R>=this.hls.config.appendErrorMaxRetry||E)&&(w.fatal=!0)}this.hls.trigger(U.ERROR,w)}};this.append(C,i,this.isPending(this.tracks[i]))}getFlushOp(e,n,r){return this.log(`queuing "${e}" remove ${n}-${r}`),{label:"remove",execute:()=>{this.removeExecutor(e,n,r)},onStart:()=>{},onComplete:()=>{this.hls.trigger(U.BUFFER_FLUSHED,{type:e})},onError:o=>{this.warn(`Failed to remove ${n}-${r} from "${e}" SourceBuffer`,o)}}}onBufferFlushing(e,n){const{type:r,startOffset:o,endOffset:i}=n;r?this.append(this.getFlushOp(r,o,i),r):this.sourceBuffers.forEach(([s])=>{s&&this.append(this.getFlushOp(s,o,i),s)})}onFragParsed(e,n){const{frag:r,part:o}=n,i=[],s=o?o.elementaryStreams:r.elementaryStreams;s[Pn.AUDIOVIDEO]?i.push("audiovideo"):(s[Pn.AUDIO]&&i.push("audio"),s[Pn.VIDEO]&&i.push("video"));const a=()=>{const l=self.performance.now();r.stats.buffering.end=l,o&&(o.stats.buffering.end=l);const c=o?o.stats:r.stats;this.hls.trigger(U.FRAG_BUFFERED,{frag:r,part:o,stats:c,id:r.type})};i.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(a,i).catch(l=>{this.warn(`Fragment buffered callback ${l}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,n){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{var n,r;return e&&(!((n=this.tracks[e])!=null&&n.ended)||((r=this.tracks[e])==null?void 0:r.ending))})}onBufferEos(e,n){var r;this.sourceBuffers.forEach(([s])=>{if(s){const a=this.tracks[s];(!n.type||n.type===s)&&(a.ending=!0,a.ended||(a.ended=!0,this.log(`${s} buffer reached EOS`)))}});const o=((r=this.overrides)==null?void 0:r.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([s])=>{var a;return s&&!((a=this.tracks[s])!=null&&a.ended)})&&(o?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:s}=this;if(!s||s.readyState!=="open"){s&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${s.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),s.endOfStream(),this.hls.trigger(U.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(U.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const n=this.tracks[e];n&&(n.ending=!1)}})}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.updateDuration())}updateDuration(){const e=this.getDurationAndRange();e&&this.blockUntilOpen(()=>this.updateMediaSource(e))}onError(e,n){if(n.details===Fe.BUFFER_APPEND_ERROR&&n.frag){var r;const o=(r=n.errorAction)==null?void 0:r.nextAutoLevel;xt(o)&&o!==n.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.sourceBufferCount)return;const o=e.config,i=r.currentTime,s=n.levelTargetDuration,a=n.live&&o.liveBackBufferLength!==null?o.liveBackBufferLength:o.backBufferLength;if(xt(a)&&a>=0){const l=Math.max(a,s),c=Math.floor(i/s)*s-l;this.flushBackBuffer(i,s,c)}if(xt(o.frontBufferFlushThreshold)&&o.frontBufferFlushThreshold>0){const l=Math.max(o.maxBufferLength,o.frontBufferFlushThreshold),c=Math.max(l,s),d=Math.floor(i/s)*s+c;this.flushFrontBuffer(i,s,d)}}flushBackBuffer(e,n,r){this.sourceBuffers.forEach(([o,i])=>{if(i){const a=Wt.getBuffered(i);if(a.length>0&&r>a.start(0)){var s;this.hls.trigger(U.BACK_BUFFER_REACHED,{bufferEnd:r});const l=this.tracks[o];if((s=this.details)!=null&&s.live)this.hls.trigger(U.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(l!=null&&l.ended){this.log(`Cannot flush ${o} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(U.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:o})}}})}flushFrontBuffer(e,n,r){this.sourceBuffers.forEach(([o,i])=>{if(i){const s=Wt.getBuffered(i),a=s.length;if(a<2)return;const l=s.start(a-1),c=s.end(a-1);if(r>l||e>=l&&e<=c)return;this.hls.trigger(U.BUFFER_FLUSHING,{startOffset:l,endOffset:1/0,type:o})}})}getDurationAndRange(){var e;const{details:n,mediaSource:r}=this;if(!n||!this.media||(r==null?void 0:r.readyState)!=="open")return null;const o=n.edge;if(n.live&&this.hls.config.liveDurationInfinity){if(n.fragments.length&&n.live&&r.setLiveSeekableRange){const c=Math.max(0,n.fragmentStart),d=Math.max(c,o);return{duration:1/0,start:c,end:d}}return{duration:1/0}}const i=(e=this.overrides)==null?void 0:e.duration;if(i)return xt(i)?{duration:i}:null;const s=this.media.duration,a=xt(r.duration)?r.duration:0;return o>a&&o>s||!xt(s)?{duration:o}:null}updateMediaSource({duration:e,start:n,end:r}){const o=this.mediaSource;!this.media||!o||o.readyState!=="open"||(o.duration!==e&&(xt(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),o.duration=e),n!==void 0&&r!==void 0&&(this.log(`MediaSource duration is set to ${o.duration}. Setting seekable range to ${n}-${r}.`),o.setLiveSeekableRange(n,r)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:n,tracks:r}=this;if(this.log(`checkPendingTracks (pending: ${n} codec events expected: ${e}) ${Fn(r)}`),this.tracksReady){var o;const i=(o=this.transferData)==null?void 0:o.tracks;i&&Object.keys(i).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([n,r])=>{if(n){const o=this.tracks[n];e[n]={buffer:r,container:o.container,codec:o.codec,supplemental:o.supplemental,levelCodec:o.levelCodec,id:o.id,metadata:o.metadata}}}),this.hls.trigger(U.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([n])=>{this.executeNext(n)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:n,mediaSource:r}=this;if(!r)throw new Error("createSourceBuffers called when mediaSource was null");for(const i in e){const s=i,a=e[s];if(this.isPending(a)){const l=this.getTrackCodec(a,s),c=`${a.container};codecs=${l}`;a.codec=l,this.log(`creating sourceBuffer(${c})${this.currentOp(s)?" Queued":""} ${Fn(a)}`);try{const d=r.addSourceBuffer(c),u=Em(s),f=[s,d];n[u]=f,a.buffer=d}catch(d){var o;this.error(`error while trying to add sourceBuffer: ${d.message}`),this.shiftAndExecuteNext(s),(o=this.operationQueue)==null||o.removeBlockers(),delete this.tracks[s],this.hls.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:d,sourceBufferName:s,mimeType:c,parent:a.id});return}this.trackSourceBuffer(s,a)}}this.bufferCreated()}getTrackCodec(e,n){const r=e.supplemental;let o=e.codec;r&&(n==="video"||n==="audiovideo")&&iv(r,"video")&&(o=Jre(o,r));const i=of(o,e.levelCodec);return i?n.slice(0,5)==="audio"?Kf(i,this.appendSource):i:""}trackSourceBuffer(e,n){const r=n.buffer;if(!r)return;const o=this.getTrackCodec(n,e);this.tracks[e]={buffer:r,codec:o,container:n.container,levelCodec:n.levelCodec,supplemental:n.supplemental,metadata:n.metadata,id:n.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(i,s)=>{const a=s.removedRanges;a!=null&&a.length&&this.hls.trigger(U.BUFFER_FLUSHED,{type:i})})}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r==null?void 0:r.src}onSBUpdateStart(e){const n=this.currentOp(e);n&&n.onStart()}onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const r=this.currentOp(e);r&&(r.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,n){var r;const o=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${o}`,n),this.hls.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:o,fatal:!1});const i=this.currentOp(e);i&&i.onError(o)}removeExecutor(e,n,r){const{media:o,mediaSource:i}=this,s=this.tracks[e],a=s==null?void 0:s.buffer;if(!o||!i||!a){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const l=xt(o.duration)?o.duration:1/0,c=xt(i.duration)?i.duration:1/0,d=Math.max(0,n),u=Math.min(r,l,c);u>d&&(!s.ending||s.ended)?(s.ended=!1,this.log(`Removing [${d},${u}] from the ${e} SourceBuffer`),a.remove(d,u)):this.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.tracks[n],o=r==null?void 0:r.buffer;if(!o)throw new tse(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);r.ending=!1,r.ended=!1,o.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(n=>{this.warn(`SourceBuffer blocked callback ${n}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(n){this.warn(`Callback run without blocking ${this.operationQueue} ${n}`)}}isUpdating(){return this.sourceBuffers.some(([e,n])=>e&&n.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,n=this.sourceBufferTypes){if(!n.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:r}=this,o=n.map(s=>this.appendBlocker(s));return n.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(o).then(s=>{r===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(n=>{var r;const o=(r=this.tracks[n])==null?void 0:r.buffer;!o||o.updating||this.shiftAndExecuteNext(n)})}append(e,n,r){this.operationQueue&&this.operationQueue.append(e,n,r)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,n)=>e+(this.isPending(this.tracks[n])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[n])=>e+(n?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,n,r){const o=this.tracks[e];if(!o)return;const i=o.buffer;if(!i)return;const s=r.bind(this,e);o.listeners.push({event:n,listener:s}),i.addEventListener(n,s)}removeBufferListeners(e){const n=this.tracks[e];if(!n)return;const r=n.buffer;r&&(n.listeners.forEach(o=>{r.removeEventListener(o.event,o.listener)}),n.listeners.length=0)}}function G1(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function rse(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}function Em(t){return t==="audio"?1:0}class Db{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(U.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(U.BUFFER_CODECS,this.onBufferCodecs,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(U.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(U.BUFFER_CODECS,this.onBufferCodecs,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&xt(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&n.logger.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelEnabled&&n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((o,i)=>this.isLevelAllowed(o)&&i<=e);return this.clientRect=null,Db.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const o=(a,l)=>l?a.width!==l.width||a.height!==l.height:!0;let i=e.length-1;const s=Math.max(n,r);for(let a=0;a<e.length;a+=1){const l=e[a];if((l.width>=s||l.height>=s)&&o(l,e[a+1])){i=a;break}}return i}}const ose={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Kr=ose,ise={HLS:"h"},sse=ise,ase="CMCD-Object",lse="CMCD-Request",cse="CMCD-Session",dse="CMCD-Status",Pc={OBJECT:ase,REQUEST:lse,SESSION:cse,STATUS:dse},use={[Pc.OBJECT]:["br","d","ot","tb"],[Pc.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[Pc.SESSION]:["cid","pr","sf","sid","st","v"],[Pc.STATUS]:["bs","rtp"]};class jl{constructor(e,n){Array.isArray(e)&&(e=e.map(r=>r instanceof jl?r:new jl(r))),this.value=e,this.params=n}}const fse="Dict";function hse(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function gse(t,e,n,r){return new Error(`failed to ${t} "${hse(e)}" as ${n}`,{cause:r})}function wi(t,e,n){return gse("serialize",t,e,n)}class HD{constructor(e){this.description=e}}const q1="Bare Item",mse="Boolean";function pse(t){if(typeof t!="boolean")throw wi(t,mse);return t?"?1":"?0"}function vse(t){return btoa(String.fromCharCode(...t))}const bse="Byte Sequence";function yse(t){if(ArrayBuffer.isView(t)===!1)throw wi(t,bse);return`:${vse(t)}:`}const xse="Integer";function Cse(t){return t<-999999999999999||999999999999999<t}function VD(t){if(Cse(t))throw wi(t,xse);return t.toString()}function Sse(t){return`@${VD(t.getTime()/1e3)}`}function jD(t,e){if(t<0)return-jD(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const o=Math.floor(t*n);return(o%2===0?o:o+1)/n}else return Math.round(t*n)/n}const wse="Decimal";function Rse(t){const e=jD(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw wi(t,wse);const n=e.toString();return n.includes(".")?n:`${n}.0`}const Tse="String",Ese=/[\x00-\x1f\x7f]+/;function kse(t){if(Ese.test(t))throw wi(t,Tse);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function Pse(t){return t.description||t.toString().slice(7,-1)}const Ase="Token";function Y1(t){const e=Pse(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw wi(e,Ase);return e}function gv(t){switch(typeof t){case"number":if(!xt(t))throw wi(t,q1);return Number.isInteger(t)?VD(t):Rse(t);case"string":return kse(t);case"symbol":return Y1(t);case"boolean":return pse(t);case"object":if(t instanceof Date)return Sse(t);if(t instanceof Uint8Array)return yse(t);if(t instanceof HD)return Y1(t);default:throw wi(t,q1)}}const Ise="Key";function mv(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw wi(t,Ise);return t}function Ob(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${mv(e)}`:`;${mv(e)}=${gv(n)}`).join("")}function WD(t){return t instanceof jl?`${gv(t.value)}${Ob(t.params)}`:gv(t)}function _se(t){return`(${t.value.map(WD).join(" ")})${Ob(t.params)}`}function Lse(t,e={whitespace:!0}){if(typeof t!="object")throw wi(t,fse);const n=t instanceof Map?t.entries():Object.entries(t),r=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([o,i])=>{i instanceof jl||(i=new jl(i));let s=mv(o);return i.value===!0?s+=Ob(i.params):(s+="=",Array.isArray(i.value)?s+=_se(i):s+=WD(i)),s}).join(`,${r}`)}function Dse(t,e){return Lse(t,e)}function Ose(t){return t==="ot"||t==="sf"||t==="st"}function $se(t){return typeof t=="number"?xt(t):t!=null&&t!==""&&t!==!1}function Fse(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const o=n.pathname.split("/").slice(1),i=r.pathname.split("/").slice(1,-1);for(;o[0]===i[0];)o.shift(),i.shift();for(;i.length;)i.shift(),o.unshift("..");return o.join("/")}const df=t=>Math.round(t),Mse=(t,e)=>(e!=null&&e.baseUrl&&(t=Fse(t,e.baseUrl)),encodeURIComponent(t)),zu=t=>df(t/100)*100,Bse={br:df,d:df,bl:zu,dl:zu,mtp:zu,nor:Mse,rtp:zu,tb:df};function zse(t,e){const n={};if(t==null||typeof t!="object")return n;const r=Object.keys(t).sort(),o=wn({},Bse,e==null?void 0:e.formatters),i=e==null?void 0:e.filter;return r.forEach(s=>{if(i!=null&&i(s))return;let a=t[s];const l=o[s];l&&(a=l(a,e)),!(s==="v"&&a===1)&&(s=="pr"&&a===1||$se(a)&&(Ose(s)&&typeof a=="string"&&(a=new HD(a)),n[s]=a))}),n}function KD(t,e={}){return t?Dse(zse(t,e),wn({whitespace:!1},e)):""}function Nse(t,e={}){const n={};if(!t)return n;const r=Object.entries(t),o=Object.entries(use).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),i=r.reduce((s,a)=>{var l,c;const[d,u]=a,f=((l=o.find(m=>m[1].includes(d)))===null||l===void 0?void 0:l[0])||Pc.REQUEST;return(c=s[f])!==null&&c!==void 0||(s[f]={}),s[f][d]=u,s},{});return Object.entries(i).reduce((s,[a,l])=>(s[a]=KD(l,e),s),n)}function Use(t,e,n){return wn(t,Nse(e,n))}const Hse="CMCD";function Vse(t,e={}){if(!t)return"";const n=KD(t,e);return`${Hse}=${encodeURIComponent(n)}`}const X1=/CMCD=[^&#]+/;function jse(t,e,n){const r=Vse(e,n);if(!r)return t;if(X1.test(t))return t.replace(X1,r);const o=t.includes("?")?"&":"?";return`${t}${o}${r}`}class Wse{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:Kr.MANIFEST,su:!this.initialized})}catch(i){this.hls.logger.warn("Could not generate manifest CMCD data.",i)}},this.applyFragmentData=o=>{try{const{frag:i,part:s}=o,a=this.hls.levels[i.level],l=this.getObjectType(i),c={d:(s||i).duration*1e3,ot:l};(l===Kr.VIDEO||l===Kr.AUDIO||l==Kr.MUXED)&&(c.br=a.bitrate/1e3,c.tb=this.getTopBandwidth(l)/1e3,c.bl=this.getBufferLength(l));const d=s?this.getNextPart(s):this.getNextFrag(i);d!=null&&d.url&&d.url!==i.url&&(c.nor=d.url),this.apply(o,c)}catch(i){this.hls.logger.warn("Could not generate segment CMCD data.",i)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||e.sessionId,this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHED,this.onMediaDetached,this),e.on(U.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHED,this.onMediaDetached,this),e.off(U.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,o;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(o=n.tracks.video)==null?void 0:o.buffer}createData(){var e;return{v:1,sf:sse.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){wn(n,this.createData());const r=n.ot===Kr.INIT||n.ot===Kr.VIDEO||n.ot===Kr.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:o}=this;o&&(n=Object.keys(n).reduce((s,a)=>(o.includes(a)&&(s[a]=n[a]),s),{}));const i={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),Use(e.headers,n,i)):e.url=jse(e.url,n,i)}getNextFrag(e){var n;const r=(n=this.hls.levels[e.level])==null?void 0:n.details;if(r){const o=e.sn-r.startSN;return r.fragments[o+1]}}getNextPart(e){var n,r;const{index:o,fragment:i}=e,s=(n=this.hls.levels[i.level])==null||(r=n.details)==null?void 0:r.partList;if(s){const{sn:a}=i;for(let l=s.length-1;l>=0;l--){const c=s[l];if(c.index===o&&c.fragment.sn===a)return s[l+1]}}}getObjectType(e){const{type:n}=e;if(n==="subtitle")return Kr.TIMED_TEXT;if(e.sn==="initSegment")return Kr.INIT;if(n==="audio")return Kr.AUDIO;if(n==="main")return this.hls.audioTracks.length?Kr.VIDEO:Kr.MUXED}getTopBandwidth(e){let n=0,r;const o=this.hls;if(e===Kr.AUDIO)r=o.audioTracks;else{const i=o.maxAutoLevel,s=i>-1?i+1:o.levels.length;r=o.levels.slice(0,s)}return r.forEach(i=>{i.bitrate>n&&(n=i.bitrate)}),n>0?n:NaN}getBufferLength(e){const n=this.media,r=e===Kr.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:Wt.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(i){this.loader=void 0,this.loader=new r(i)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(i,s,a){n(i),this.loader.load(i,s,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(i){this.loader=void 0,this.loader=new r(i)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(i,s,a){n(i),this.loader.load(i,s,a)}}}}const Kse=3e5;class Gse extends is{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,n)=>(e.indexOf(n.pathwayId)===-1&&e.push(n.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===Dr.SendAlternateToPenaltyBox&&r.flags===Vo.MoveAllAlternatesMatchingHost){const o=this.levels;let i=this._pathwayPriority,s=this.pathwayId;if(n.context){const{groupId:a,pathwayId:l,type:c}=n.context;a&&o?s=this.getPathwayForGroupId(a,c,s):l&&(s=l)}s in this.penalizedPathways||(this.penalizedPathways[s]=performance.now()),!i&&o&&(i=this.pathways()),i&&i.length>1&&(this.updatePathwayPriority(i),r.resolved=this.pathwayId!==s),r.resolved||this.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${s} levels: ${o&&o.length} priorities: ${Fn(i)} penalized: ${Fn(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let n;const r=this.penalizedPathways,o=performance.now();Object.keys(r).forEach(i=>{o-r[i]>Kse&&delete r[i]});for(let i=0;i<e.length;i++){const s=e[i];if(s in r)continue;if(s===this.pathwayId)return;const a=this.hls.nextLoadLevel,l=this.hls.levels[a];if(n=this.getLevelsForPathway(s),n.length>0){this.log(`Setting Pathway to "${s}"`),this.pathwayId=s,vD(n),this.hls.trigger(U.LEVELS_UPDATED,{levels:n});const c=this.hls.levels[a];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,n,r){const o=this.getLevelsForPathway(r).concat(this.levels||[]);for(let i=0;i<o.length;i++)if(n===Zt.AUDIO_TRACK&&o[i].hasAudioGroup(e)||n===Zt.SUBTITLE_TRACK&&o[i].hasSubtitleGroup(e))return o[i].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},o={};e.forEach(i=>{const{ID:s,"BASE-ID":a,"URI-REPLACEMENT":l}=i;if(n.some(d=>d.pathwayId===s))return;const c=this.getLevelsForPathway(a).map(d=>{const u=new zn(d.attrs);u["PATHWAY-ID"]=s;const f=u.AUDIO&&`${u.AUDIO}_clone_${s}`,m=u.SUBTITLES&&`${u.SUBTITLES}_clone_${s}`;f&&(r[u.AUDIO]=f,u.AUDIO=f),m&&(o[u.SUBTITLES]=m,u.SUBTITLES=m);const h=GD(d.uri,u["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),p=new xd({attrs:u,audioCodec:d.audioCodec,bitrate:d.bitrate,height:d.height,name:d.name,url:h,videoCodec:d.videoCodec,width:d.width});if(d.audioGroups)for(let v=1;v<d.audioGroups.length;v++)p.addGroupId("audio",`${d.audioGroups[v]}_clone_${s}`);if(d.subtitleGroups)for(let v=1;v<d.subtitleGroups.length;v++)p.addGroupId("text",`${d.subtitleGroups[v]}_clone_${s}`);return p});n.push(...c),Q1(this.audioTracks,r,l,s),Q1(this.subtitleTracks,o,l,s)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let o;try{o=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(o.protocol!=="data:"){const d=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+d)}const i={responseType:"json",url:o.href},s=n.steeringManifestLoadPolicy.default,a=s.errorRetry||s.timeoutRetry||{},l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(d,u,f,m)=>{this.log(`Loaded steering manifest: "${o}"`);const h=d.data;if((h==null?void 0:h.VERSION)!==1){this.log(`Steering VERSION ${h.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=h.TTL;const{"RELOAD-URI":p,"PATHWAY-CLONES":v,"PATHWAY-PRIORITY":b}=h;if(p)try{this.uri=new self.URL(p,o).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${p}`);return}this.scheduleRefresh(this.uri||f.url),v&&this.clonePathways(v);const y={steeringManifest:h,url:o.toString()};this.hls.trigger(U.STEERING_MANIFEST_LOADED,y),b&&this.updatePathwayPriority(b)},onError:(d,u,f,m)=>{if(this.log(`Error loading steering manifest: ${d.code} ${d.text} (${u.url})`),this.stopLoad(),d.code===410){this.enabled=!1,this.log(`Steering manifest ${u.url} no longer available`);return}let h=this.timeToLoad*1e3;if(d.code===429){const p=this.loader;if(typeof(p==null?void 0:p.getResponseHeader)=="function"){const v=p.getResponseHeader("Retry-After");v&&(h=parseFloat(v)*1e3)}this.log(`Steering manifest ${u.url} rate limited`);return}this.scheduleRefresh(this.uri||u.url,h)},onTimeout:(d,u,f)=>{this.log(`Timeout loading steering manifest (${u.url})`),this.scheduleRefresh(this.uri||u.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(i,l,c)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const o=(r=this.hls)==null?void 0:r.media;if(o&&!o.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function Q1(t,e,n,r){t&&Object.keys(e).forEach(o=>{const i=t.filter(s=>s.groupId===o).map(s=>{const a=wn({},s);return a.details=void 0,a.attrs=new zn(a.attrs),a.url=a.attrs.URI=GD(s.url,s.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=e[o],a.attrs["PATHWAY-ID"]=r,a});t.push(...i)})}function GD(t,e,n,r){const{HOST:o,PARAMS:i,[n]:s}=r;let a;e&&(a=s==null?void 0:s[e],a&&(t=a));const l=new self.URL(t);return o&&!a&&(l.host=o),i&&Object.keys(i).sort().forEach(c=>{c&&l.searchParams.set(c,i[c])}),l.href}function go(t,e,n){_o(t,e,n),t.addEventListener(e,n)}function _o(t,e,n){t.removeEventListener(e,n)}class kl extends is{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=kl.CDMCleanupPromise?[kl.CDMCleanupPromise]:[],this.onMediaEncrypted=n=>{const{initDataType:r,initData:o}=n,i=`"${n.type}" event: init data type: "${r}"`;if(this.debug(i),o!==null){if(!this.keyFormatPromise){let s=Object.keys(this.keySystemAccessPromises);s.length||(s=kc(this.config));const a=s.map(Ou).filter(l=>!!l);this.keyFormatPromise=this.getKeyFormatPromise(a)}this.keyFormatPromise.then(s=>{const a=af(s);let l,c;if(r==="sinf"){if(a!==xn.FAIRPLAY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${r}" for selected key-system ${a}`);return}const h=dr(new Uint8Array(o));try{const p=wb(JSON.parse(h).sinf),v=qL(p);if(!v)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");l=new Uint8Array(v.subarray(8,24)),c=xn.FAIRPLAY}catch(p){this.warn(`${i} Failed to parse sinf: ${p}`);return}}else{if(a!==xn.WIDEVINE&&a!==xn.PLAYREADY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${r}" for selected key-system ${a}`);return}const h=Yre(o),p=h.filter(b=>!!b.systemId&&bm(b.systemId)===a);p.length>1&&this.warn(`${i} Using first of ${p.length} pssh found for selected key-system ${a}`);const v=p[0];if(!v){h.length===0||h.some(b=>!b.systemId)?this.warn(`${i} contains incomplete or invalid pssh data`):this.log(`ignoring ${i} for ${h.map(b=>bm(b.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(c=bm(v.systemId),v.version===0&&v.data)if(c===xn.WIDEVINE){const b=v.data.length-22;l=new Uint8Array(v.data.subarray(b,b+16))}else c===xn.PLAYREADY&&(l=dD(v.data))}if(!c||!l)return;const d=li.hexDump(l),{keyIdToKeySessionPromise:u,mediaKeySessions:f}=this;let m=u[d];for(let h=0;h<f.length;h++){const p=f[h],v=p.decryptdata;if(!v.keyId)continue;const b=li.hexDump(v.keyId);if(d===b||v.uri.replace(/-/g,"").indexOf(d)!==-1){if(m=u[b],v.pssh)break;delete u[b],v.pssh=new Uint8Array(o),v.keyId=l,m=u[d]=m.then(()=>this.generateRequestWithPreferredKeySession(p,r,o,"encrypted-event-key-match")),m.catch(y=>this.handleError(y));break}}if(!m){if(c!==a){this.log(`Ignoring "${n.type}" event with ${c} init data for selected key-system ${a}`);return}m=u[d]=this.getKeySystemSelectionPromise([c]).then(({keySystem:h,mediaKeys:p})=>{var v;this.throwIfDestroyed();const b=new Sd("ISO-23001-7",d,(v=Ou(h))!=null?v:"");return b.pssh=new Uint8Array(o),b.keyId=l,this.attemptSetMediaKeys(h,p).then(()=>{this.throwIfDestroyed();const y=this.createMediaKeySessionContext({decryptdata:b,keySystem:h,mediaKeys:p});return this.generateRequestWithPreferredKeySession(y,r,o,"encrypted-event-no-match")})}),m.catch(h=>this.handleError(h))}})}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(U.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(U.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(U.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(U.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(U.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(U.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(U.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(U.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,o=n[e];if(o)return o.licenseUrl;if(e===xn.WIDEVINE&&r)return r}getLicenseServerUrlOrThrow(e){const n=this.getLicenseServerUrl(e);if(n===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return n}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(s,a,l)=>!!s&&l.indexOf(s)===a,o=n.map(s=>s.audioCodec).filter(r),i=n.map(s=>s.videoCodec).filter(r);return o.length+i.length===0&&i.push("avc1.42e01e"),new Promise((s,a)=>{const l=c=>{const d=c.shift();this.getMediaKeysPromise(d,o,i).then(u=>s({keySystem:d,mediaKeys:u})).catch(u=>{c.length?l(c):u instanceof To?a(u):a(new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_NO_ACCESS,error:u,fatal:!0},u.message))})};l(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let o=`Configured requestMediaKeySystemAccess is not a function ${r}`;return cD===null&&self.location.protocol==="http:"&&(o=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(o))}return r(e,n)}getMediaKeysPromise(e,n,r){const o=zoe(e,n,r,this.config.drmSystemOptions),i=this.keySystemAccessPromises[e];let s=i==null?void 0:i.keySystemAccess;if(!s){this.log(`Requesting encrypted media "${e}" key-system access with config: ${Fn(o)}`),s=this.requestMediaKeySystemAccess(e,o);const a=this.keySystemAccessPromises[e]={keySystemAccess:s};return s.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),s.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=l.createMediaKeys().then(d=>(this.log(`Media-keys created for "${e}"`),a.hasMediaKeys=!0,c.then(u=>u?this.setMediaKeysServerCertificate(d,e,u):d))),a.mediaKeys.catch(d=>{this.error(`Failed to create media-keys for "${e}"}: ${d}`)}),a.mediaKeys})}return s.then(()=>i.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${li.hexDump(e.keyId||[])}`);const o=r.createSession(),i={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:o,keyStatus:"status-pending"};return this.mediaKeySessions.push(i),i}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),o=this.getKeyIdString(n),i="cenc";this.keyIdToKeySessionPromise[o]=this.generateRequestWithPreferredKeySession(r,i,n.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return li.hexDump(e.keyId)}updateKeySession(e,n){var r;const o=e.mediaKeysSession;return this.log(`Updating key-session "${o.sessionId}" for keyID ${li.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),o.update(n)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>Ou(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:n,mediaKeys:r})=>this.attemptSetMediaKeys(n,r))}selectKeySystem(e){return new Promise((n,r)=>this.getKeySystemSelectionPromise(e).then(({keySystem:o})=>{const i=Ou(o);i?n(i):r(new Error(`Unable to find format for key-system "${o}"`))}).catch(r))}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){const n=kc(this.config),r=e.map(af).filter(o=>!!o&&n.indexOf(o)!==-1);return this.selectKeySystem(r)}loadKey(e){const n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),o=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${o}`);let i=this.keyIdToKeySessionPromise[r];return i||(i=this.getKeySystemForKeyPromise(n).then(({keySystem:a,mediaKeys:l})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${o}`),this.attemptSetMediaKeys(a,l).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:a,mediaKeys:l,decryptdata:n}))))),(this.keyIdToKeySessionPromise[r]=i.then(a=>{const l="cenc",c=n.pssh?n.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(a,l,c,"playlist-key")})).catch(a=>this.handleError(a))),i}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof To?this.hls.trigger(U.ERROR,e.data):this.hls.trigger(U.ERROR,{type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[n];if(!r){const o=af(e.keyFormat),i=o?[o]:kc(this.config);return this.attemptKeySystemAccess(i)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=kc(this.config)),e.length===0)throw new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Fn({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,n){if(this.mediaKeys===n)return Promise.resolve();const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const o=Promise.all(r).then(()=>{if(!this.media)throw this.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.mediaKeys=n,this.setMediaKeysQueue.push(o),o.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(o),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(i=>r.indexOf(i)===-1)})}generateRequestWithPreferredKeySession(e,n,r,o){var i,s;const a=(i=this.config.drmSystems)==null||(s=i[e.keySystem])==null?void 0:s.generateRequest;if(a)try{const h=a.call(this.hls,n,r,e);if(!h)throw new Error("Invalid response from configured generateRequest filter");n=h.initDataType,r=h.initData?h.initData:null,e.decryptdata.pssh=r?new Uint8Array(r):null}catch(h){var l;if(this.warn(h.message),(l=this.hls)!=null&&l.config.debug)throw h}if(r===null)return this.log(`Skipping key-session request for "${o}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${o}": ${c} (init data type: ${n} length: ${r?r.byteLength:null})`);const d=new Tb,u=e._onmessage=h=>{const p=e.mediaKeysSession;if(!p){d.emit("error",new Error("invalid state"));return}const{messageType:v,message:b}=h;this.log(`"${v}" message event for session "${p.sessionId}" message size: ${b.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,b).catch(y=>{d.eventNames().length?d.emit("error",y):this.handleError(y)}):v==="license-release"?e.keySystem===xn.FAIRPLAY&&(this.updateKeySession(e,lv("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${v}"`)},f=e._onkeystatuseschange=h=>{if(!e.mediaKeysSession){d.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const v=e.keyStatus;d.emit("keyStatus",v),v==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};go(e.mediaKeysSession,"message",u),go(e.mediaKeysSession,"keystatuseschange",f);const m=new Promise((h,p)=>{d.on("error",p),d.on("keyStatus",v=>{v.startsWith("usable")?h():v==="output-restricted"?p(new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):v==="internal-error"?p(new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${v}"`)):v==="expired"?p(new Error("key expired while generating request")):this.warn(`unhandled key status change "${v}"`)})});return e.mediaKeysSession.generateRequest(n,r).then(()=>{var h;this.log(`Request generated for key-session "${(h=e.mediaKeysSession)==null?void 0:h.sessionId}" keyId: ${c}`)}).catch(h=>{throw new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_NO_SESSION,error:h,fatal:!1},`Error generating key-session request: ${h}`)}).then(()=>m).catch(h=>{throw d.removeAllListeners(),this.removeSession(e),h}).then(()=>(d.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,r)=>{if(typeof r=="string"&&typeof n=="object"){const o=r;r=n,n=o}this.log(`key status change "${n}" for keyStatuses keyId: ${li.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${li.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,r=n.loader,o=new r(n),i=this.getServerCertificateUrl(e);return i?(this.log(`Fetching server certificate for "${e}"`),new Promise((s,a)=>{const l={responseType:"arraybuffer",url:i},c=n.certLoadPolicy.default,d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:(f,m,h,p)=>{s(f.data)},onError:(f,m,h,p)=>{a(new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:h,response:yn({url:l.url,data:void 0},f)},`"${e}" certificate request failed (${i}). Status: ${f.code} (${f.text})`))},onTimeout:(f,m,h)=>{a(new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:h,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${i})`))},onAbort:(f,m,h)=>{a(new Error("aborted"))}};o.load(l,d,u)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((o,i)=>{e.setServerCertificate(r).then(s=>{this.log(`setServerCertificate ${s?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${n}"`),o(e)}).catch(s=>{i(new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:s,fatal:!0},s.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(o=>{throw new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:o,fatal:!0},o.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const o=new DOMParser().parseFromString(r,"application/xml"),i=o.querySelectorAll("HttpHeader");if(i.length>0){let d;for(let u=0,f=i.length;u<f;u++){var s,a;d=i[u];const m=(s=d.querySelector("name"))==null?void 0:s.textContent,h=(a=d.querySelector("value"))==null?void 0:a.textContent;m&&h&&e.setRequestHeader(m,h)}}const l=o.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return lv(atob(c))}setupLicenseXHR(e,n,r,o){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return i.call(this.hls,e,n,r,o)}).catch(s=>{if(!r.decryptdata)throw s;return e.open("POST",n,!0),i.call(this.hls,e,n,r,o)}).then(s=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:s||o})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:o}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((o,i)=>{const s=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${s}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return i(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let l=a.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,a,s,e)}catch(d){this.error(d)}o(l)}else{const l=r.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||a.status>=400&&a.status<500)i(new To({type:Pt.KEY_SYSTEM_ERROR,details:Fe.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:s,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${s}). Status: ${a.status} (${a.statusText})`));else{const d=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${d} attempts left`),this.requestLicense(e,n).then(o,i)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,s,e,n).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==xn.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,go(r,"encrypted",this.onMediaEncrypted),go(r,"waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media;e&&(_o(e,"encrypted",this.onMediaEncrypted),_o(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,r=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,Sd.clearKeyUriToKeyIdMap();const o=r.length;kl.CDMCleanupPromise=Promise.all(r.map(i=>this.removeSession(i)).concat(n==null||(e=n.setMediaKeys(null))==null?void 0:e.catch(i=>{var s;this.log(`Could not clear media keys: ${i}`),(s=this.hls)==null||s.trigger(U.ERROR,{type:Pt.OTHER_ERROR,details:Fe.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${i}`)})}))).catch(i=>{var s;this.log(`Could not close sessions and clear media keys: ${i}`),(s=this.hls)==null||s.trigger(U.ERROR,{type:Pt.OTHER_ERROR,details:Fe.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${i}`)})}).then(()=>{o&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((o,i)=>(o.indexOf(i.keyFormat)===-1&&o.push(i.keyFormat),o),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const o=this.mediaKeySessions.indexOf(e);o>-1&&this.mediaKeySessions.splice(o,1);const{drmSystemOptions:i}=this.config;return(Uoe(i)?new Promise((a,l)=>{self.setTimeout(()=>l(new Error("MediaKeySession.remove() timeout")),8e3),n.remove().then(a)}):Promise.resolve()).catch(a=>{var l;this.log(`Could not remove session: ${a}`),(l=this.hls)==null||l.trigger(U.ERROR,{type:Pt.OTHER_ERROR,details:Fe.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${a}`)})}).then(()=>n.close()).catch(a=>{var l;this.log(`Could not close session: ${a}`),(l=this.hls)==null||l.trigger(U.ERROR,{type:Pt.OTHER_ERROR,details:Fe.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${a}`)})})}}}kl.CDMCleanupPromise=void 0;class To extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}class qse{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(U.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(U.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const o=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=o,o&&typeof o.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,n,r){const o=performance.now();if(n){if(this.lastTime){const i=o-this.lastTime,s=r-this.lastDroppedFrames,a=n-this.lastDecodedFrames,l=1e3*s/i,c=this.hls;if(c.trigger(U.FPS_DROP,{currentDropped:s,currentDecoded:a,totalDroppedFrames:r}),l>0&&s>c.config.fpsDroppedMonitoringThreshold*a){let d=c.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=d)&&(d=d-1,c.trigger(U.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function qD(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function YD(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){gn.debug(`[texttrack-utils]: ${r}`);try{const o=new self.TextTrackCue(e.startTime,e.endTime,e.text);o.id=e.id,t.addCue(o)}catch(o){gn.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}n==="disabled"&&(t.mode=n)}function vl(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues)for(let r=t.cues.length;r--;)e&&t.cues[r].removeEventListener("enter",e),t.removeCue(t.cues[r]);n==="disabled"&&(t.mode=n)}function pv(t,e,n,r){const o=t.mode;if(o==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const i=Xse(t.cues,e,n);for(let s=0;s<i.length;s++)(!r||r(i[s]))&&t.removeCue(i[s])}o==="disabled"&&(t.mode=o)}function Yse(t,e){if(e<=t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,o=n,i;for(;r<=o;)if(i=Math.floor((o+r)/2),e<t[i].startTime)o=i-1;else if(e>t[i].startTime&&r<n)r=i+1;else return i;return t[r].startTime-e<e-t[o].startTime?r:o}function Xse(t,e,n){const r=[],o=Yse(t,e);if(o>-1)for(let i=o,s=t.length;i<s;i++){const a=t[i];if(a.startTime>=e&&a.endTime<=n)r.push(a);else if(a.startTime>n)return r}return r}function uf(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}class Qse extends Lb{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=uf(this.media.textTracks);for(let i=0;i<r.length;i++)if(r[i].mode==="hidden")n=r[i];else if(r[i].mode==="showing"){n=r[i];break}const o=this.findTrackForTextTrack(n);this.subtitleTrack!==o&&this.setSubtitleTrack(o)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.LEVEL_LOADING,this.onLevelLoading,this),e.on(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(U.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.LEVEL_LOADING,this.onLevelLoading,this),e.off(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(U.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(U.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,n){const r=this.media;if(!r)return;const o=!!n.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||r.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,o)return;uf(r.textTracks).forEach(s=>{vl(s)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:o,details:i}=n,s=this.tracksInGroup[r];if(!s||s.groupId!==o){this.warn(`Subtitle track with id:${r} and group:${o} not found in active group ${s==null?void 0:s.groupId}`);return}const a=s.details;s.details=n.details,this.log(`Subtitle track ${r} "${s.name}" lang:${s.lang} group:${o} loaded [${i.startSN}-${i.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,o=this.groupIds;let i=this.currentTrack;if(!r||(o==null?void 0:o.length)!==(r==null?void 0:r.length)||r!=null&&r.some(s=>(o==null?void 0:o.indexOf(s))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const s=this.tracks.filter(d=>!r||r.indexOf(d.groupId)!==-1);if(s.length)this.selectDefaultTrack&&!s.some(d=>d.default)&&(this.selectDefaultTrack=!1),s.forEach((d,u)=>{d.id=u});else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=s;const a=this.hls.config.subtitlePreference;if(!i&&a){this.selectDefaultTrack=!1;const d=gi(a,s);if(d>-1)i=s[d];else{const u=gi(a,this.tracks);i=this.tracks[u]}}let l=this.findTrackId(i);l===-1&&i&&(l=this.findTrackId(null));const c={subtitleTracks:s};this.log(`Updating subtitle tracks, ${s.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(U.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let o=0;o<n.length;o++){const i=n[o];if(!(r&&!i.default||!r&&!e)&&(!e||Sa(i,e)))return o}if(e){for(let o=0;o<n.length;o++){const i=n[o];if(Ed(e.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return o}for(let o=0;o<n.length;o++){const i=n[o];if(Ed(e.attrs,i.attrs,["LANGUAGE"]))return o}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const o=n[r];if(hv(o,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===Zt.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Sa(e,r))return r;const o=gi(e,this.tracksInGroup);if(o>-1){const i=this.tracksInGroup[o];return this.setSubtitleTrack(o),i}else{if(r)return null;{const i=gi(e,n);if(i>-1)return n[i]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,o=e.groupId,i=this.getUrlWithDirectives(e.url,n),s=e.details,a=s==null?void 0:s.age;this.log(`Loading subtitle ${r} "${e.name}" lang:${e.lang} group:${o}${(n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:""}${a&&s.live?" age "+a.toFixed(1)+(s.type&&" "+s.type||""):""} ${i}`),this.hls.trigger(U.SUBTITLE_TRACK_LOADING,{url:i,id:r,groupId:o,deliveryDirectives:n||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=uf(e.textTracks),r=this.currentTrack;let o;if(r&&(o=n.filter(i=>hv(r,i))[0],o||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(i=>{i.mode!=="disabled"&&i!==o&&(i.mode="disabled")}),o){const i=this.subtitleDisplay?"showing":"hidden";o.mode!==i&&(o.mode=i)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!xt(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,o=n[e]||null;if(this.trackId=e,this.currentTrack=o,this.toggleTrackModes(),!o){this.hls.trigger(U.SUBTITLE_TRACK_SWITCH,{id:e});return}const i=!!o.details&&!o.details.live;if(e===this.trackId&&o===r&&i)return;this.log(`Switching to subtitle-track ${e}`+(o?` "${o.name}" lang:${o.lang} group:${o.groupId}`:""));const{id:s,groupId:a="",name:l,type:c,url:d}=o;this.hls.trigger(U.SUBTITLE_TRACK_SWITCH,{id:s,groupId:a,name:l,type:c,url:d});const u=this.switchParams(o.url,r==null?void 0:r.details,o.details);this.loadPlaylist(u)}}function Zse(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,o=>{const i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(o=="x"?i:i&3|8).toString(16)})}}}function Xc(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0).toString()}const Pl=.025;let eh=function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t}({});function Jse(t,e,n){return`${t.identifier}-${n+1}-${Xc(e)}`}class eae{constructor(e,n){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=n,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var n;if(e>0&&e>=this.assetList.length)return!0;const r=this.playoutLimit;return e<=0||isNaN(r)?!1:r===0?!0:(((n=this.assetList[e])==null?void 0:n.startOffset)||0)>r}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const n=this.dateRange.tagAnchor;if(n)return km(e,n)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const n=this.dateRange.startTime,r=km(n,e);return n-r<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,n=xt(e)?e:this.duration;return this.cumulativeDuration+n}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const n=this.resumeAnchor;if(n)return km(e,n)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<Pl))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let n;return this._duration!==null?n=this._duration:this.dateRange.duration?n=this.dateRange.duration:n=this.dateRange.plannedDuration||0,!isNaN(e)&&e<n&&(n=e),n}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?eh.Range:eh.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return tae(this)}}function km(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<Pl)?e.start:e.start+e.duration}function XD(t,e,n){const r=new self.URL(t,n);return r.protocol!=="data:"&&r.searchParams.set("_HLS_primary_id",e),r}function Pm(t,e){for(;(n=t.assetList[++e])!=null&&n.error;)var n;return e}function tae(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function hl(t){const e=t.timelineStart,n=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+n).toFixed(2)}]`}class nae{constructor(e,n,r,o){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls.trigger(U.PLAYOUT_LIMIT_REACHED,{})};const i=this.hls=new e(n);this.interstitial=r,this.assetItem=o;let s=o.uri;try{s=XD(s,n.primarySessionId).href}catch{}i.loadSource(s);const a=()=>{this.hasDetails=!0};i.once(U.LEVEL_LOADED,a),i.once(U.AUDIO_TRACK_LOADED,a),i.once(U.SUBTITLE_TRACK_LOADED,a),i.on(U.MEDIA_ATTACHING,(l,{media:c})=>{this.removeMediaListeners(),this.mediaAttached=c,this.interstitial.playoutLimit&&(c.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&i.on(U.BUFFER_APPENDED,()=>{const u=this.bufferedEnd;this.reachedPlayout(u)&&(this._bufferedEosTime=u,i.trigger(U.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){var e;return((e=this.interstitial)==null?void 0:e.appendInPlace)||!1}bufferedInPlaceToEnd(e){var n;if(!this.appendInPlace)return!1;if((n=this.hls)!=null&&n.bufferedToEnd)return!0;if(!e||!this._bufferedEosTime)return!1;const r=this.timelineOffset,o=Wt.bufferInfo(e,r,0);return this.getAssetTime(o.end)>=this._bufferedEosTime-.02}reachedPlayout(e){const r=this.interstitial.playoutLimit;return this.startOffset+e>=r}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const n=Wt.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(n.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;return e||0}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const n=this.timelineOffset;if(e!==n){const r=e-n;if(Math.abs(r)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const n=this.timelineOffset,r=this.duration;return Math.min(Math.max(0,e-n),r)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){this.hls.attachMedia(e)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}resetDetails(){const e=this.hls;if(this.hasDetails){e.stopLoad();const n=r=>delete r.details;e.levels.forEach(n),e.allAudioTracks.forEach(n),e.allSubtitleTracks.forEach(n),this.hasDetails=!1}}on(e,n,r){this.hls.on(e,n)}once(e,n,r){this.hls.once(e,n)}off(e,n,r){this.hls.off(e,n)}toString(){var e;return`HlsAssetPlayer: ${hl(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const Z1=.033;class rae extends is{constructor(e,n){super("interstitials-sched",n),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,n){return this.events?this.events.reduce((r,o)=>e<=o.startOffset&&n>o.startOffset?(delete o.error,r+1):r,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,n){if(e.event)return this.findEventIndex(e.event.identifier);let r=-1;e.nextEvent?r=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(r=this.findEventIndex(e.previousEvent.identifier)+1);const o=this.items;if(o)for(o[r]||(n===void 0&&(n=e.start),r=this.findItemIndexAtTime(n));r>=0&&(i=o[r])!=null&&i.event;){var i;r--}return r}findItemIndexAtTime(e,n){const r=this.items;if(r)for(let o=0;o<r.length;o++){let i=r[o];if(n&&n!=="primary"&&(i=i[n]),e===i.start||e>i.start&&e<i.end)return o}return-1}findJumpRestrictedIndex(e,n){const r=this.items;if(r)for(let o=e;o<=n&&r[o];o++){const i=r[o].event;if(i!=null&&i.restrictions.jump&&!i.appendInPlace)return o}return-1}findEventIndex(e){const n=this.items;if(n)for(let o=n.length;o--;){var r;if(((r=n[o].event)==null?void 0:r.identifier)===e)return o}return-1}findAssetIndex(e,n){const r=e.assetList,o=r.length;if(o>1)for(let i=0;i<o;i++){const s=r[i];if(!s.error){const a=s.timelineStart;if(n===a||n>a&&n<a+(s.duration||0))return i}}return 0}get assetIdAtEnd(){var e,n;const r=(e=this.items)==null||(n=e[this.length-1])==null?void 0:n.event;if(r){const o=r.assetList,i=o[o.length-1];if(i)return i.identifier}return null}parseInterstitialDateRanges(e,n){const r=e.main.details,{dateRanges:o}=r,i=this.events,s=this.parseDateRanges(o,{url:r.url},n),a=Object.keys(o),l=i?i.filter(c=>!a.includes(c.identifier)):[];s.length&&s.sort((c,d)=>{const u=c.cue.pre,f=c.cue.post,m=d.cue.pre,h=d.cue.post;if(u&&!m)return-1;if(m&&!u||f&&!h)return 1;if(h&&!f)return-1;if(!u&&!m&&!f&&!h){const p=c.startTime,v=d.startTime;if(p!==v)return p-v}return c.dateRange.tagOrder-d.dateRange.tagOrder}),this.events=s,l.forEach(c=>{this.removeEvent(c)}),this.updateSchedule(e,l)}updateSchedule(e,n=[]){const r=this.events||[];if(r.length||n.length||this.length<2){const o=this.items,i=this.parseSchedule(r,e);(n.length||(o==null?void 0:o.length)!==i.length||i.some((a,l)=>Math.abs(a.playout.start-o[l].playout.start)>.005||Math.abs(a.playout.end-o[l].playout.end)>.005))&&(this.items=i,this.onScheduleUpdate(n,o))}}parseDateRanges(e,n,r){const o=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const a=i[s],l=e[a];if(l.isInterstitial){let c=this.eventMap[a];c?c.setDateRange(l):(c=new eae(l,n),this.eventMap[a]=c,r===!1&&(c.appendInPlace=r)),o.push(c)}}return o}parseSchedule(e,n){const r=[],o=n.main.details,i=o.live?1/0:o.edge;let s=0;if(e=e.filter(l=>!l.error&&!(l.cue.once&&l.hasPlayed)),e.length){this.resolveOffsets(e,n);let l=0,c=0;if(e.forEach((d,u)=>{const f=d.cue.pre,m=d.cue.post,h=e[u-1]||null,p=d.appendInPlace,v=m?i:d.startOffset,b=d.duration,y=d.timelineOccupancy===eh.Range?b:0,x=d.resumptionOffset,C=(h==null?void 0:h.startTime)===v,S=v+d.cumulativeDuration;let T=p?S+b:v+x;if(f||!m&&v<=0){const E=c;c+=y,d.timelineStart=S;const R=s;s+=b,r.push({event:d,start:S,end:T,playout:{start:R,end:s},integrated:{start:E,end:c}})}else if(v<=i){if(!C){const P=v-l;if(P>Z1){const _=l,I=c;c+=P;const L=s;s+=P;const N={previousEvent:e[u-1]||null,nextEvent:d,start:_,end:_+P,playout:{start:L,end:s},integrated:{start:I,end:c}};r.push(N)}else P>0&&h&&(h.cumulativeDuration+=P,r[r.length-1].end=v)}m&&(T=S),d.timelineStart=S;const E=c;c+=y;const R=s;s+=b,r.push({event:d,start:S,end:T,playout:{start:R,end:s},integrated:{start:E,end:c}})}else return;const w=d.resumeTime;m||w>i?l=i:l=w}),l<i){var a;const d=l,u=c,f=i-l;c+=f;const m=s;s+=f,r.push({previousEvent:((a=r[r.length-1])==null?void 0:a.event)||null,nextEvent:null,start:l,end:d+f,playout:{start:m,end:s},integrated:{start:u,end:c}})}this.setDurations(i,s,c)}else r.push({previousEvent:null,nextEvent:null,start:0,end:i,playout:{start:0,end:i},integrated:{start:0,end:i}}),this.setDurations(i,i,i);return r}setDurations(e,n,r){this.durations={primary:e,playout:n,integrated:r}}resolveOffsets(e,n){const r=n.main.details,o=r.live?1/0:r.edge;let i=0,s=-1;e.forEach((a,l)=>{const c=a.cue.pre,d=a.cue.post,u=c?0:d?o:a.startTime;this.updateAssetDurations(a),s===u?a.cumulativeDuration=i:(i=0,s=u),!d&&a.snapOptions.in&&(a.resumeAnchor=Da(null,r.fragments,a.startOffset+a.resumptionOffset,0,0)||void 0),a.appendInPlace&&!a.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(a,n)||(a.appendInPlace=!1)),!a.appendInPlace&&l+1<e.length&&e[l+1].startTime-e[l].resumeTime<Z1&&(e[l+1].appendInPlace=!1,e[l+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${a}`));const m=xt(a.resumeOffset)?a.resumeOffset:a.duration;i+=m})}primaryCanResumeInPlaceAt(e,n){const r=e.resumeTime,o=e.startTime+e.resumptionOffset;return Math.abs(r-o)>Pl?(this.log(`"${e.identifier}" resumption ${r} not aligned with estimated timeline end ${o}`),!1):n?!Object.keys(n).some(s=>{const a=n[s].details,l=a.edge;if(r>=l)return this.log(`"${e.identifier}" resumption ${r} past ${s} playlist end ${l}`),!1;const c=Da(null,a.fragments,r);if(!c)return this.log(`"${e.identifier}" resumption ${r} does not align with any fragments in ${s} playlist (${a.fragStart}-${a.fragmentEnd})`),!0;const d=s==="audio"?.175:0;return Math.abs(c.start-r)<Pl+d||Math.abs(c.end-r)<Pl+d?!1:(this.log(`"${e.identifier}" resumption ${r} not aligned with ${s} fragment bounds (${c.start}-${c.end} sn: ${c.sn} cc: ${c.cc})`),!0)}):(this.log(`"${e.identifier}" resumption ${r} can not be aligned with media (none selected)`),!1)}updateAssetDurations(e){if(!e.assetListLoaded)return;const n=e.timelineStart;let r=0,o=!1,i=!1;e.assetList.forEach((s,a)=>{const l=n+r;s.startOffset=r,s.timelineStart=l,o||(o=s.duration===null),i||(i=!!s.error);const c=s.error?0:s.duration||0;r+=c}),o&&!i?e.duration=Math.max(r,e.duration):e.duration=r}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function fs(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class oae{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,n){const r=e.assetListUrl;let o;try{o=XD(r,this.hls.sessionId,e.baseUrl)}catch(f){const m=this.assignAssetListError(e,Fe.ASSET_LIST_LOAD_ERROR,f,r);this.hls.trigger(U.ERROR,m);return}n&&o.protocol!=="data:"&&o.searchParams.set("_HLS_start_offset",""+n);const i=this.hls.config,s=i.loader,a=new s(i),l={responseType:"json",url:o.href},c=i.interstitialAssetListLoadPolicy.default,d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:(f,m,h,p)=>{const v=f.data,b=v==null?void 0:v.ASSETS;if(!Array.isArray(b)){const y=this.assignAssetListError(e,Fe.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),h.url,m,p);this.hls.trigger(U.ERROR,y);return}e.assetListResponse=v,this.hls.trigger(U.ASSET_LIST_LOADED,{event:e,assetListResponse:v,networkDetails:p})},onError:(f,m,h,p)=>{const v=this.assignAssetListError(e,Fe.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${f.code} ${f.text} (${m.url})`),m.url,p,h);this.hls.trigger(U.ERROR,v)},onTimeout:(f,m,h)=>{const p=this.assignAssetListError(e,Fe.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${m.url})`),m.url,f,h);this.hls.trigger(U.ERROR,p)}};return a.load(l,d,u),this.hls.trigger(U.ASSET_LIST_LOADING,{event:e}),a}assignAssetListError(e,n,r,o,i,s){return e.error=r,{type:Pt.NETWORK_ERROR,details:n,fatal:!1,interstitial:e,url:o,error:r,networkDetails:s,stats:i}}}function J1(t){t==null||t.play().catch(()=>{})}class iae extends is{constructor(e,n){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled)return;const o=r-this.timelinePos;if(Math.abs(o)<1/7056e5)return;const s=o<=-.01;this.timelinePos=r,this.bufferedPos=r;const a=this.playingItem;if(!a){this.checkBuffer();return}if(s&&this.schedule.resetErrorsInRange(r,r-o)&&this.updateSchedule(),this.checkBuffer(),s&&r<a.start||r>=a.end){var l;const f=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(a)&&(l=this.media)!=null&&l.paused&&(this.shouldPlay=!1),!s){const m=this.findItemIndex(a);if(f>m){const h=this.schedule.findJumpRestrictedIndex(m+1,f);if(h>m){this.setSchedulePosition(h);return}}}this.setSchedulePosition(f);return}const c=this.playingAsset;if(!c){if(this.playingLastItem&&this.isInterstitial(a)){const f=a.event.assetList[0];f&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(r,f))}return}const d=c.timelineStart,u=c.duration||0;(s&&r<d||r>=d+u)&&this.setScheduleToAssetAtTime(r,c)},this.onTimeupdate=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled)return;if(r>this.timelinePos)this.timelinePos=r,r>this.bufferedPos&&this.checkBuffer();else return;const o=this.playingItem;if(!o||this.playingLastItem)return;if(r>=o.end){this.timelinePos=o.end;const a=this.findItemIndex(o);this.setSchedulePosition(a+1)}const i=this.playingAsset;if(!i)return;const s=i.timelineStart+(i.duration||0);r>=s&&this.setScheduleToAssetAtTime(r,i)},this.onScheduleUpdate=(r,o)=>{const i=this.schedule,s=this.playingItem,a=i.events||[],l=i.items||[],c=i.durations,d=r.map(h=>h.identifier),u=!!(a.length||d.length);(u||o)&&this.log(`INTERSTITIALS_UPDATED (${a.length}): ${a}
Schedule: ${l.map(h=>fs(h))} pos: ${this.timelinePos}`),d.length&&this.log(`Removed events ${d}`),this.playerQueue.forEach(h=>{if(h.interstitial.appendInPlace){const p=h.assetItem.timelineStart,v=h.timelineOffset-p;if(v)try{h.timelineOffset=p}catch(b){Math.abs(v)>Pl&&this.warn(`${b} ("${h.assetId}" ${h.timelineOffset}->${p})`)}}});let f=null;if(s){const h=this.updateItem(s,this.timelinePos);this.itemsMatch(s,h)&&(this.playingItem=h,this.waitingItem=this.endedItem=null,f=()=>this.trimInPlace(h,s))}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const m=this.bufferingItem;if(m){const h=this.updateItem(m,this.bufferedPos);this.itemsMatch(m,h)?(this.bufferingItem=h,f||(f=()=>this.trimInPlace(h,m))):m.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(m.event,null))}if(r.forEach(h=>{h.assetList.forEach(p=>{this.clearAssetPlayer(p.identifier,null)})}),u||o){if(this.hls.trigger(U.INTERSTITIALS_UPDATED,{events:a.slice(0),schedule:l.slice(0),durations:c,removedIds:d}),this.isInterstitial(s)&&d.includes(s.event.identifier)){this.warn(`Interstitial "${s.event.identifier}" removed while playing`),this.primaryFallback(s.event);return}f&&f(),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=n,this.assetListLoader=new oae(e),this.schedule=new rae(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(U.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(U.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(U.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(U.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(U.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(U.BUFFER_APPENDED,this.onBufferAppended,this),e.on(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(U.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(U.MEDIA_ENDED,this.onMediaEnded,this),e.on(U.ERROR,this.onError,this),e.on(U.DESTROYING,this.onDestroying,this)}unregisterListeners(){const e=this.hls;e&&(e.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(U.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(U.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(U.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(U.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(U.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(U.BUFFER_CODECS,this.onBufferCodecs,this),e.off(U.BUFFER_APPENDED,this.onBufferAppended,this),e.off(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(U.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(U.MEDIA_ENDED,this.onMediaEnded,this),e.off(U.ERROR,this.onError,this),e.off(U.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){_o(e,"play",this.onPlay),_o(e,"pause",this.onPause),_o(e,"seeking",this.onSeeking),_o(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,n){const r=this.media=n.media;go(r,"seeking",this.onSeeking),go(r,"timeupdate",this.onTimeupdate),go(r,"play",this.onPlay),go(r,"pause",this.onPause)}onMediaAttached(e,n){const r=this.effectivePlayingItem,o=this.detachedData;if(this.detachedData=null,r===null)this.checkStart();else if(!o){this.clearScheduleState();const i=this.findItemIndex(r);this.setSchedulePosition(i)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,n){const r=!!n.transferMedia,o=this.media;if(this.media=null,!r&&(o&&this.removeMediaListeners(o),this.detachedData)){const i=this.getBufferingPlayer();i&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,i.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const e=this,n=()=>e.bufferingItem||e.waitingItem,r=u=>u&&e.getAssetPlayer(u.identifier),o=(u,f,m,h,p)=>{if(u){let v=u[f].start;const b=u.event;if(b){if(f==="playout"||b.timelineOccupancy!==eh.Point){const y=r(m);(y==null?void 0:y.interstitial)===b&&(v+=y.assetItem.startOffset+y[p])}}else{const y=h==="bufferedPos"?s():e[h];v+=y-u.start}return v}return 0},i=(u,f)=>{if(u!==0&&f!=="primary"&&e.schedule.length){var m;const h=e.schedule.findItemIndexAtTime(u),p=(m=e.schedule.items)==null?void 0:m[h];if(p){const v=p[f].start-p.start;return u+v}}return u},s=()=>{const u=e.bufferedPos;return u===Number.MAX_VALUE?a("primary"):Math.max(u,0)},a=u=>{var f;return(f=e.primaryDetails)!=null&&f.live?e.primaryDetails.edge:e.schedule.durations[u]},l=(u,f)=>{var m,h;const p=e.effectivePlayingItem;if(p!=null&&(m=p.event)!=null&&m.restrictions.skip)return;e.log(`seek to ${u} "${f}"`);const v=e.effectivePlayingItem,b=e.schedule.findItemIndexAtTime(u,f),y=(h=e.schedule.items)==null?void 0:h[b],x=e.getBufferingPlayer(),C=x==null?void 0:x.interstitial,S=C==null?void 0:C.appendInPlace,T=v&&e.itemsMatch(v,y);if(v&&(S||T)){const E=r(e.playingAsset),R=(E==null?void 0:E.media)||e.primaryMedia;if(R){const P=f==="primary"?R.currentTime:o(v,f,e.playingAsset,"timelinePos","currentTime"),_=u-P,I=(S?P:R.currentTime)+_;if(I>=0&&(!E||S||I<=E.duration)){R.currentTime=I;return}}}if(y){let E=u;if(f!=="primary"){const P=y[f].start,_=u-P;E=y.start+_}const R=!e.isInterstitial(y);if((!e.isInterstitial(v)||v.event.appendInPlace)&&(R||y.event.appendInPlace)){const P=e.media||(S?x==null?void 0:x.media:null);P&&(P.currentTime=E)}else if(v){const P=e.findItemIndex(v);if(b>P){const I=e.schedule.findJumpRestrictedIndex(P+1,b);if(I>P){e.setSchedulePosition(I);return}}let _=0;if(R)e.timelinePos=E,e.checkBuffer();else{var w;const I=y==null||(w=y.event)==null?void 0:w.assetList;if(I){const L=u-(y[f]||y).start;for(let N=I.length;N--;){const H=I[N];if(H.duration&&L>=H.startOffset&&L<H.startOffset+H.duration){_=N;break}}}}e.setSchedulePosition(b,_)}}},c=()=>{const u=e.effectivePlayingItem;if(e.isInterstitial(u))return u;const f=n();return e.isInterstitial(f)?f:null},d={get currentTime(){const u=c(),f=e.effectivePlayingItem;return f&&f===u?o(f,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-f.playout.start:0},set currentTime(u){const f=c(),m=e.effectivePlayingItem;m&&m===f&&l(u+m.playout.start,"playout")},get duration(){const u=c();return u?u.playout.end-u.playout.start:0},get assetPlayers(){var u;const f=(u=c())==null?void 0:u.event.assetList;return f?f.map(m=>e.getAssetPlayer(m.identifier)):[]},get playingIndex(){var u;const f=(u=c())==null?void 0:u.event;return f&&e.effectivePlayingAsset?f.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return c()}};this.manager={get events(){var u,f;return((u=e.schedule)==null||(f=u.events)==null?void 0:f.slice(0))||[]},get schedule(){var u,f;return((u=e.schedule)==null||(f=u.items)==null?void 0:f.slice(0))||[]},get interstitialPlayer(){return c()?d:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return n()},get bufferingIndex(){const u=n();return e.findItemIndex(u)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const u=e.effectivePlayingItem;return e.findItemIndex(u)},primary:{get bufferedEnd(){return s()},get currentTime(){const u=e.timelinePos;return u>0?u:0},set currentTime(u){l(u,"primary")},get duration(){return a("primary")},get seekableStart(){var u;return((u=e.primaryDetails)==null?void 0:u.fragmentStart)||0}},integrated:{get bufferedEnd(){return o(n(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return o(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(u){l(u,"integrated")},get duration(){return a("integrated")},get seekableStart(){var u;return i(((u=e.primaryDetails)==null?void 0:u.fragmentStart)||0,"integrated")}},skip:()=>{const u=e.effectivePlayingItem,f=u==null?void 0:u.event;if(f&&!f.restrictions.skip){const m=e.findItemIndex(u);if(f.appendInPlace){const h=u.playout.start+u.event.duration;l(h+.001,"playout")}else e.advanceAfterAssetEnded(f,m,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const n=this.playingItem,r=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!n||!r?!1:this.findItemIndex(n)===r.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,n,r;if(this.mediaSelection===null)return;const o=this.waitingItem||this.playingItem;if(this.isInterstitial(o)&&!o.event.appendInPlace)return;let i=this.media;!i&&(e=this.bufferingItem)!=null&&(n=e.event)!=null&&n.appendInPlace&&(i=this.primaryMedia);const s=(r=i)==null?void 0:r.currentTime;if(!(s===void 0||!xt(s)))return s}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,n){const r=this.getAssetPlayer(e);r&&this.transferMediaFromPlayer(r,n)}transferMediaFromPlayer(e,n){const r=e.interstitial.appendInPlace,o=e.media;if(r&&o===this.primaryMedia){if(this.bufferingAsset=null,(!n||this.isInterstitial(n)&&!n.event.appendInPlace)&&n&&o){this.detachedData={media:o};return}const i=e.transferMedia();this.log(`transfer MediaSource from ${e} ${Fn(i)}`),this.detachedData=i}else n&&o&&(this.shouldPlay||(this.shouldPlay=!o.paused))}transferMediaTo(e,n){var r,o;if(e.media===n)return;let i=null;const s=this.hls,a=e!==s,l=a&&e.interstitial.appendInPlace,c=(r=this.detachedData)==null?void 0:r.mediaSource;let d;if(s.media)l&&(i=s.transferMedia(),this.detachedData=i),d="Primary";else if(c){const m=this.getBufferingPlayer();m?(i=m.transferMedia(),d=`${m}`):d="detached MediaSource"}else d="detached media";if(!i){if(c)i=this.detachedData,this.log(`using detachedData: MediaSource ${Fn(i)}`);else if(!this.detachedData||s.media===n){const m=this.playerQueue;m.length>1&&m.forEach(h=>{if(a&&h.interstitial.appendInPlace!==l){const p=h.interstitial;this.clearInterstitial(h.interstitial,null),p.appendInPlace=!1,p.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${p}`)}}),this.hls.detachMedia(),this.detachedData={media:n}}}const u=i&&"mediaSource"in i&&((o=i.mediaSource)==null?void 0:o.readyState)!=="closed",f=u&&i?i:n;if(this.log(`${u?"transfering MediaSource":"attaching media"} to ${a?e:"Primary"} from ${d}`),f===i){const m=a&&e.assetId===this.schedule.assetIdAtEnd;f.overrides={duration:this.schedule.duration,endOfStream:!a||m,cueRemoval:!a}}e.attachMedia(f)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,n=e.events;if(!n||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const r=this.timelinePos,o=this.effectivePlayingItem;if(r===-1){const i=this.hls.startPosition;if(this.timelinePos=i,n.length&&n[0].cue.pre){const s=e.findEventIndex(n[0].identifier);this.setSchedulePosition(s)}else if(i>=0||!this.primaryLive){const s=this.timelinePos=i>0?i:0,a=e.findItemIndexAtTime(s);this.setSchedulePosition(a)}}else if(o&&!this.playingItem){const i=e.findItemIndex(o);this.setSchedulePosition(i)}}advanceAfterAssetEnded(e,n,r){const o=Pm(e,r);if(!e.isAssetPastPlayoutLimit(o))this.setSchedulePosition(n,o);else{const i=this.schedule.items;if(i){const s=n+1,a=i.length;if(s>=a){this.setSchedulePosition(-1);return}const l=e.resumeTime;this.timelinePos<l&&(this.timelinePos=l,this.checkBuffer()),this.setSchedulePosition(s)}}}setScheduleToAssetAtTime(e,n){const r=this.schedule,o=n.parentIdentifier,i=r.getEvent(o);if(i){const s=r.findEventIndex(o),a=r.findAssetIndex(i,e);this.advanceAfterAssetEnded(i,s,a-1)}}setSchedulePosition(e,n){const r=this.schedule.items;if(!r||this.playbackDisabled)return;this.log(`setSchedulePosition ${e}, ${n}`);const o=e>=0?r[e]:null,i=this.playingItem,s=this.playingLastItem;if(this.isInterstitial(i)){var a;const c=i.event,d=this.playingAsset,u=d==null?void 0:d.identifier,f=u?this.getAssetPlayer(u):null;if(f&&u&&(!this.eventItemsMatch(i,o)||n!==void 0&&u!==((a=c.assetList)==null?void 0:a[n].identifier))){var l;const m=c.findAssetIndex(d);this.log(`INTERSTITIAL_ASSET_ENDED ${m+1}/${c.assetList.length} ${hl(d)}`),this.endedAsset=d,this.playingAsset=null,this.hls.trigger(U.INTERSTITIAL_ASSET_ENDED,{asset:d,assetListIndex:m,event:c,schedule:r.slice(0),scheduleIndex:e,player:f}),this.retreiveMediaSource(u,o),f.media&&!((l=this.detachedData)!=null&&l.mediaSource)&&f.detachMedia()}if(!this.eventItemsMatch(i,o)&&(this.endedItem=i,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${c} ${fs(i)}`),c.hasPlayed=!0,this.hls.trigger(U.INTERSTITIAL_ENDED,{event:c,schedule:r.slice(0),scheduleIndex:e}),c.cue.once)){this.updateSchedule();const m=this.schedule.items;if(o&&m){const h=this.schedule.findItemIndex(o);this.advanceSchedule(h,m,n,i,s)}return}}this.advanceSchedule(e,r,n,i,s)}advanceSchedule(e,n,r,o,i){const s=e>=0?n[e]:null,a=this.primaryMedia,l=this.playerQueue;if(l.length&&l.forEach(c=>{const d=c.interstitial,u=this.schedule.findEventIndex(d.identifier);(u<e||u>e+1)&&this.clearInterstitial(d,s)}),this.isInterstitial(s)){this.timelinePos=Math.min(Math.max(this.timelinePos,s.start),s.end);const c=s.event;if(r===void 0){r=this.schedule.findAssetIndex(c,this.timelinePos);const m=Pm(c,r-1);if(c.isAssetPastPlayoutLimit(m)){this.advanceAfterAssetEnded(c,e,r);return}r=m}const d=this.waitingItem;this.assetsBuffered(s,a)||this.setBufferingItem(s);let u=this.preloadAssets(c,r);if(this.eventItemsMatch(s,d||o)||(this.waitingItem=s,this.log(`INTERSTITIAL_STARTED ${fs(s)} ${c.appendInPlace?"append in place":""}`),this.hls.trigger(U.INTERSTITIAL_STARTED,{event:c,schedule:n.slice(0),scheduleIndex:e})),!c.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${c}`);return}if(c.assetListLoader&&(c.assetListLoader.destroy(),c.assetListLoader=void 0),!a){this.log(`Waiting for attachMedia to start Interstitial ${c}`);return}this.waitingItem=this.endedItem=null,this.playingItem=s;const f=c.assetList[r];if(!f){const m=n[e+1],h=this.media;m&&h&&!this.isInterstitial(m)&&h.currentTime<m.start&&(h.currentTime=this.timelinePos=m.start),this.advanceAfterAssetEnded(c,e,r||0);return}if(u||(u=this.getAssetPlayer(f.identifier)),u===null||u.destroyed){const m=c.assetList.length;this.warn(`asset ${r+1}/${m} player destroyed ${c}`),u=this.createAssetPlayer(c,f,r)}if(!this.eventItemsMatch(s,this.bufferingItem)&&c.appendInPlace&&this.isAssetBuffered(f))return;this.startAssetPlayer(u,r,n,e,a),this.shouldPlay&&J1(u.media)}else s!==null?(this.resumePrimary(s,e,o),this.shouldPlay&&J1(this.hls.media)):i&&this.isInterstitial(o)&&(this.endedItem=null,this.playingItem=o,o.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e,n;return(e=this.mediaSelection)==null||(n=e.main)==null?void 0:n.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,n,r){var o;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${fs(e)}`),!((o=this.detachedData)!=null&&o.mediaSource)){let s=this.timelinePos;(s<e.start||s>=e.end)&&(s=this.getPrimaryResumption(e,n),this.timelinePos=s),this.attachPrimary(s,e)}if(!r)return;const i=this.schedule.items;i&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${fs(e)}`),this.hls.trigger(U.INTERSTITIALS_PRIMARY_RESUMED,{schedule:i.slice(0),scheduleIndex:n}),this.checkBuffer())}getPrimaryResumption(e,n){const r=e.start;if(this.primaryLive){const o=this.primaryDetails;if(n===0)return this.hls.startPosition;if(o&&(r<o.fragmentStart||r>o.edge))return this.hls.liveSyncPosition||-1}return r}isAssetBuffered(e){const n=this.getAssetPlayer(e.identifier);return n!=null&&n.hls?n.hls.bufferedToEnd:Wt.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,n,r){n?this.setBufferingItem(n):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const o=this.primaryMedia;if(!o)return;const i=this.hls;i.media?this.checkBuffer():(this.transferMediaTo(i,o),r&&this.startLoadingPrimaryAt(e,r)),r||(this.timelinePos=e,this.startLoadingPrimaryAt(e,r))}startLoadingPrimaryAt(e,n){var r;const o=this.hls;!o.loadingEnabled||!o.media||Math.abs((((r=o.mainForwardBufferInfo)==null?void 0:r.start)||o.media.currentTime)-e)>.5?o.startLoad(e,n):o.bufferingEnabled||o.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(U.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(U.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,n){if(n.level===-1)return;const r=this.hls.levels[n.level],o=yn(yn({},this.mediaSelection||this.altSelection),{},{main:r});this.mediaSelection=o,this.schedule.parseInterstitialDateRanges(o,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,n){const r=this.hls.audioTracks[n.id],o=this.mediaSelection;if(!o){this.altSelection=yn(yn({},this.altSelection),{},{audio:r});return}const i=yn(yn({},o),{},{audio:r});this.mediaSelection=i}onSubtitleTrackUpdated(e,n){const r=this.hls.subtitleTracks[n.id],o=this.mediaSelection;if(!o){this.altSelection=yn(yn({},this.altSelection),{},{subtitles:r});return}const i=yn(yn({},o),{},{subtitles:r});this.mediaSelection=i}onAudioTrackSwitching(e,n){const r=u1(n);this.playerQueue.forEach(o=>o.hls.setAudioOption(n)||o.hls.setAudioOption(r))}onSubtitleTrackSwitch(e,n){const r=u1(n);this.playerQueue.forEach(o=>o.hls.setSubtitleOption(n)||n.id!==-1&&o.hls.setSubtitleOption(r))}onBufferCodecs(e,n){const r=n.tracks;r&&(this.requiredTracks=r)}onBufferAppended(e,n){this.checkBuffer()}onBufferFlushed(e,n){const r=this.playingItem;if(r&&!this.itemsMatch(r,this.bufferingItem)&&!this.isInterstitial(r)){const o=this.timelinePos;this.bufferedPos=o,this.checkBuffer()}}onBufferedToEnd(e){const n=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&n){for(let o=0;o<n.length;o++){const i=n[o];if(i.cue.post){var r;const s=this.schedule.findEventIndex(i.identifier),a=(r=this.schedule.items)==null?void 0:r[s];this.isInterstitial(a)&&this.eventItemsMatch(a,this.bufferingItem)&&this.bufferedToItem(a,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const n=this.playingItem;if(!this.playingLastItem&&n){const r=this.findItemIndex(n);this.setSchedulePosition(r+1)}else this.shouldPlay=!1}updateItem(e,n){const r=this.schedule.items;if(e&&r){const o=this.findItemIndex(e,n);return r[o]||null}return null}trimInPlace(e,n){if(this.isInterstitial(e)&&e.event.appendInPlace&&n.end-e.end>.25){e.event.assetList.forEach((i,s)=>{e.event.isAssetPastPlayoutLimit(s)&&this.clearAssetPlayer(i.identifier,null)});const r=e.end+.25,o=Wt.bufferInfo(this.primaryMedia,r,0);(o.end>r||(o.nextStart||0)>r)&&(this.attachPrimary(r,null),this.flushFrontBuffer(r))}}itemsMatch(e,n){return!!n&&(e===n||e.event&&n.event&&this.eventItemsMatch(e,n)||!e.event&&!n.event&&this.findItemIndex(e)===this.findItemIndex(n))}eventItemsMatch(e,n){var r;return!!n&&(e===n||e.event.identifier===((r=n.event)==null?void 0:r.identifier))}findItemIndex(e,n){return e?this.schedule.findItemIndex(e,n):-1}updateSchedule(){const e=this.mediaSelection;e&&this.schedule.updateSchedule(e,[])}checkBuffer(e){const n=this.schedule.items;if(!n)return;const r=Wt.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=r.len<1),this.updateBufferedPos(r.end,n,e)}updateBufferedPos(e,n,r){const o=this.schedule,i=this.bufferingItem;if(this.bufferedPos>e)return;if(n.length===1&&this.itemsMatch(n[0],i)){this.bufferedPos=e;return}const s=this.playingItem,a=this.findItemIndex(s);let l=o.findItemIndexAtTime(e);if(this.bufferedPos<e){var c,d;const u=this.findItemIndex(i),f=Math.min(u+1,n.length-1),m=n[f];if((l===-1&&i&&e>=i.end||(c=m.event)!=null&&c.appendInPlace&&e+.01>=m.start)&&(l=f),f-a>1&&(i==null||(d=i.event)==null?void 0:d.appendInPlace)===!1)return;if(this.bufferedPos=e,l>u&&l>a)this.bufferedToItem(m);else{const h=this.primaryDetails;this.primaryLive&&h&&e>h.edge-h.targetduration&&m.start<h.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(m)&&this.preloadAssets(m.event,0)}}else r&&s&&!this.itemsMatch(s,i)&&(l===a?this.bufferedToItem(s):l===a+1&&this.bufferedToItem(n[l]))}assetsBuffered(e,n){return e.event.assetList.length===0?!1:!e.event.assetList.some(o=>{const i=this.getAssetPlayer(o.identifier);return!(i!=null&&i.bufferedInPlaceToEnd(n))})}setBufferingItem(e){const n=this.bufferingItem,r=this.schedule;if(this.itemsMatch(e,n))this.bufferingItem!==e&&(this.bufferingItem=e);else{const{items:o,events:i}=r;if(!o||!i)return n;const s=this.isInterstitial(e),a=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const l=a?a.remaining:n?n.end-this.timelinePos:0;this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${fs(e)}`+(n?` (${l.toFixed(2)} remaining)`:"")),this.playbackDisabled||(s?e.event.assetList.forEach(c=>{const d=this.getAssetPlayer(c.identifier);d&&d.resumeBuffering()}):(this.hls.resumeBuffering(),this.playerQueue.forEach(c=>c.pauseBuffering()))),this.hls.trigger(U.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:i.slice(0),schedule:o.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}return n}bufferedToItem(e,n=0){const r=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,n);else if(r!==null){this.bufferingAsset=null;const o=this.detachedData;o?o.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const n=this.findItemIndex(e),r=this.getPrimaryResumption(e,n);this.startLoadingPrimaryAt(r)}bufferedToEvent(e,n){const r=e.event,o=r.assetList.length===0&&!r.assetListLoader,i=r.cue.once;if(o||!i){const s=this.preloadAssets(r,n);if(s!=null&&s.interstitial.appendInPlace){const a=r.assetList[n],l=this.primaryMedia;a&&l&&this.bufferAssetPlayer(s,l)}}}preloadAssets(e,n){const r=e.assetUrl,o=e.assetList.length,i=o===0&&!e.assetListLoader,s=e.cue.once;if(i){const l=e.timelineStart;if(e.appendInPlace){var a;const f=this.playingItem;!this.isInterstitial(f)&&(f==null||(a=f.nextEvent)==null?void 0:a.identifier)===e.identifier&&this.flushFrontBuffer(l+.25)}let c,d=0;if(!this.playingItem&&this.primaryLive&&(d=this.hls.startPosition,d===-1&&(d=this.hls.liveSyncPosition||0)),d&&!(e.cue.pre||e.cue.post)){const f=d-l;f>0&&(c=Math.round(f*1e3)/1e3)}if(this.log(`Load interstitial asset ${n+1}/${r?1:o} ${e}${c?` live-start: ${d} start-offset: ${c}`:""}`),r)return this.createAsset(e,0,0,l,e.duration,r);const u=this.assetListLoader.loadAssetList(e,c);u&&(e.assetListLoader=u)}else if(!s&&o){for(let l=n;l<o;l++){const c=e.assetList[l],d=this.getAssetPlayerQueueIndex(c.identifier);(d===-1||this.playerQueue[d].destroyed)&&!c.error&&this.createAssetPlayer(e,c,l)}return this.getAssetPlayer(e.assetList[n].identifier)}return null}flushFrontBuffer(e){const n=this.requiredTracks;if(!n)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(n).forEach(o=>{this.hls.trigger(U.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:o})})}getAssetPlayerQueueIndex(e){const n=this.playerQueue;for(let r=0;r<n.length;r++)if(e===n[r].assetId)return r;return-1}getAssetPlayer(e){const n=this.getAssetPlayerQueueIndex(e);return this.playerQueue[n]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:n}=this;if(n){for(let r=0;r<e.length;r++)if(e[r].media===n)return e[r]}return null}createAsset(e,n,r,o,i,s){const a={parentIdentifier:e.identifier,identifier:Jse(e,s,n),duration:i,startOffset:r,timelineStart:o,uri:s};return this.createAssetPlayer(e,a,n)}createAssetPlayer(e,n,r){const o=this.hls,i=o.userConfig;let s=i.videoPreference;const a=o.loadLevelObj||o.levels[o.currentLevel];(s||a)&&(s=wn({},s),a.videoCodec&&(s.videoCodec=a.videoCodec),a.videoRange&&(s.allowedVideoRanges=[a.videoRange]));const l=o.audioTracks[o.audioTrack],c=o.subtitleTracks[o.subtitleTrack];let d=0;if(this.primaryLive||e.appendInPlace){const x=this.timelinePos-n.timelineStart;if(x>1){const C=n.duration;C&&x<C&&(d=x)}}const u=n.identifier,f=yn(yn({},i),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:o.sessionId,assetPlayerId:u,abrEwmaDefaultEstimate:o.bandwidthEstimate,interstitialsController:void 0,startPosition:d,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:s,audioPreference:l||i.audioPreference,subtitlePreference:c||i.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,n.timelineStart&&(f.timelineOffset=n.timelineStart));const m=f.cmcd;m!=null&&m.sessionId&&m.contentId&&(f.cmcd=wn({},m,{contentId:Xc(n.uri)})),this.getAssetPlayer(u)&&this.warn(`Duplicate date range identifier ${e} and asset ${u}`);const h=new nae(this.HlsPlayerClass,f,e,n);this.playerQueue.push(h),e.assetList[r]=n;const p=x=>{if(x.live){const T=new Error(`Interstitials MUST be VOD assets ${e}`),w={fatal:!0,type:Pt.OTHER_ERROR,details:Fe.INTERSTITIAL_ASSET_ITEM_ERROR,error:T};this.handleAssetItemError(w,e,this.schedule.findEventIndex(e.identifier),r,T.message);return}const C=x.edge-x.fragmentStart,S=n.duration;(S===null||C>S)&&(this.log(`Interstitial asset "${u}" duration change ${S} > ${C}`),n.duration=C,this.updateSchedule())};h.on(U.LEVEL_UPDATED,(x,{details:C})=>p(C)),h.on(U.LEVEL_PTS_UPDATED,(x,{details:C})=>p(C));const v=(x,C)=>{const S=this.getAssetPlayer(u);if(S&&C.tracks){S.off(U.BUFFER_CODECS,v),S.tracks=C.tracks;const T=this.primaryMedia;this.bufferingAsset===S.assetItem&&T&&!S.media&&this.bufferAssetPlayer(S,T)}};h.on(U.BUFFER_CODECS,v);const b=()=>{var x;const C=this.getAssetPlayer(u);if(this.log(`buffered to end of asset ${C}`),!C)return;const S=this.schedule.findEventIndex(e.identifier),T=(x=this.schedule.items)==null?void 0:x[S];if(this.isInterstitial(T)){const E=e.findAssetIndex(n),R=Pm(e,E);if(!e.isAssetPastPlayoutLimit(R))this.bufferedToItem(T,R);else{var w;const P=(w=this.schedule.items)==null?void 0:w[S+1];P&&this.bufferedToItem(P)}}};h.on(U.BUFFERED_TO_END,b);const y=x=>()=>{if(!this.getAssetPlayer(u))return;this.shouldPlay=!0;const S=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,S,x)};return h.once(U.MEDIA_ENDED,y(r)),h.once(U.PLAYOUT_LIMIT_REACHED,y(1/0)),h.on(U.ERROR,(x,C)=>{const S=this.getAssetPlayer(u);if(C.details===Fe.BUFFER_STALLED_ERROR){if(S!=null&&S.media){const T=S.currentTime,w=S.duration-T;T&&e.appendInPlace&&w/S.media.playbackRate<.5?(this.log(`Advancing buffer past end of asset ${u} ${e} at ${S.media.currentTime}`),b()):(this.warn(`Stalled at ${T} of ${T+w} in asset ${u} ${e}`),this.onTimeupdate(),this.checkBuffer(!0))}return}this.handleAssetItemError(C,e,this.schedule.findEventIndex(e.identifier),r,`Asset player error ${C.error} ${e}`)}),h.on(U.DESTROYING,()=>{if(!this.getAssetPlayer(u))return;const C=new Error(`Asset player destroyed unexpectedly ${u}`),S={fatal:!0,type:Pt.OTHER_ERROR,details:Fe.INTERSTITIAL_ASSET_ITEM_ERROR,error:C};this.handleAssetItemError(S,e,this.schedule.findEventIndex(e.identifier),r,C.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${hl(n)}`),this.hls.trigger(U.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:n,assetListIndex:r,event:e,player:h}),h}clearInterstitial(e,n){e.assetList.forEach(r=>{this.clearAssetPlayer(r.identifier,n)}),e.reset()}resetAssetPlayer(e){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){this.log(`reset asset player "${e}" after error`);const r=this.playerQueue[n];this.transferMediaFromPlayer(r,null),r.resetDetails()}}clearAssetPlayer(e,n){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){this.log(`clear asset player "${e}" toSegment: ${n&&fs(n)}`);const o=this.playerQueue[r];this.transferMediaFromPlayer(o,n),this.playerQueue.splice(r,1),o.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,n,r,o,i){const{interstitial:s,assetItem:a,assetId:l}=e,c=s.assetList.length,d=this.playingAsset;this.endedAsset=null,this.playingAsset=a,(!d||d.identifier!==l)&&(d&&(this.clearAssetPlayer(d.identifier,r[o]),delete d.error),this.log(`INTERSTITIAL_ASSET_STARTED ${n+1}/${c} ${hl(a)}`),this.hls.trigger(U.INTERSTITIAL_ASSET_STARTED,{asset:a,assetListIndex:n,event:s,schedule:r.slice(0),scheduleIndex:o,player:e})),this.bufferAssetPlayer(e,i)}bufferAssetPlayer(e,n){var r,o;const{interstitial:i,assetItem:s}=e,a=this.schedule.findEventIndex(i.identifier),l=(r=this.schedule.items)==null?void 0:r[a];if(!l)return;this.setBufferingItem(l),this.bufferingAsset=s;const c=this.getBufferingPlayer();if(c===e)return;const d=i.appendInPlace;if(d&&(c==null?void 0:c.interstitial.appendInPlace)===!1)return;const u=(c==null?void 0:c.tracks)||((o=this.detachedData)==null?void 0:o.tracks)||this.requiredTracks;if(d&&s!==this.playingAsset){if(!e.tracks)return;if(u&&!UL(u,e.tracks)){const f=new Error(`Asset ${hl(s)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(u)}')`),m={fatal:!0,type:Pt.OTHER_ERROR,details:Fe.INTERSTITIAL_ASSET_ITEM_ERROR,error:f},h=i.findAssetIndex(s);this.handleAssetItemError(m,i,a,h,f.message);return}}this.transferMediaTo(e,n)}handleAssetItemError(e,n,r,o,i){if(e.details===Fe.BUFFER_STALLED_ERROR)return;const s=n.assetList[o];this.warn(`INTERSTITIAL_ASSET_ERROR ${s&&hl(s)} ${e.error}`);const a=s==null?void 0:s.identifier,l=this.getAssetPlayerQueueIndex(a),c=this.playerQueue[l]||null,d=this.schedule.items,u=wn({},e,{fatal:!1,errorAction:Cd(!0),asset:s,assetListIndex:o,event:n,schedule:d,scheduleIndex:r,player:c});if(this.hls.trigger(U.INTERSTITIAL_ASSET_ERROR,u),!e.fatal)return;const f=this.playingAsset,m=new Error(i);if(s&&(this.clearAssetPlayer(a,null),s.error=m),!n.assetList.some(h=>!h.error))n.error=m;else if(n.appendInPlace){for(let h=o;h<n.assetList.length;h++)this.resetAssetPlayer(n.assetList[h].identifier);this.updateSchedule()}n.error?this.primaryFallback(n):f&&f.identifier===a&&this.advanceAfterAssetEnded(n,r,o)}primaryFallback(e){const n=e.timelineStart,r=this.effectivePlayingItem;if(this.updateSchedule(),r){this.log(`Fallback to primary from event "${e.identifier}" start: ${n} pos: ${this.timelinePos} playing: ${r?fs(r):"<none>"} error: ${e.error}`);let o=this.timelinePos;o===-1&&(o=this.hls.startPosition);const i=this.updateItem(r,o);this.itemsMatch(r,i)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(n,null),this.flushFrontBuffer(n));const s=this.schedule.findItemIndexAtTime(o);this.setSchedulePosition(s)}else this.checkStart()}onAssetListLoaded(e,n){var r;const o=n.event,i=o.identifier,s=n.assetListResponse.ASSETS;if(!this.schedule.hasEvent(i))return;const a=o.timelineStart,l=o.duration;let c=0;s.forEach((h,p)=>{const v=parseFloat(h.DURATION);this.createAsset(o,p,c,a+c,v,h.URI),c+=v}),o.duration=c,this.log(`Loaded asset-list with duration: ${c} (was: ${l}) ${o}`);const d=this.waitingItem,u=(d==null?void 0:d.event.identifier)===i;this.updateSchedule();const f=(r=this.bufferingItem)==null?void 0:r.event;if(u){var m;const h=this.schedule.findEventIndex(i),p=(m=this.schedule.items)==null?void 0:m[h];if(p){if(!this.playingItem&&this.timelinePos>p.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==h){o.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${o}`),this.primaryFallback(o);return}this.setBufferingItem(p)}this.setSchedulePosition(h)}else if((f==null?void 0:f.identifier)===i&&f.appendInPlace){const h=o.assetList[0],p=this.getAssetPlayer(h.identifier),v=this.primaryMedia;h&&p&&v&&this.bufferAssetPlayer(p,v)}}onError(e,n){switch(n.details){case Fe.ASSET_LIST_PARSING_ERROR:case Fe.ASSET_LIST_LOAD_ERROR:case Fe.ASSET_LIST_LOAD_TIMEOUT:{const r=n.interstitial;r&&this.primaryFallback(r);break}case Fe.BUFFER_STALLED_ERROR:{this.onTimeupdate(),this.checkBuffer(!0);break}}}}const ew=500;class sae extends Rb{constructor(e,n,r){super(e,n,r,"subtitle-stream-controller",kt.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(U.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(U.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(U.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(U.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(U.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(U.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,n){this.stopLoad(),this.state=qe.IDLE,this.setInterval(ew),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,n){this.tracksBuffered=[],super.onMediaDetaching(e,n)}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:o}=n;if(Cr(r)&&(this.fragPrevious=r),this.state=qe.IDLE,!o)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let s;const a=r.start;for(let c=0;c<i.length;c++)if(a>=i[c].start&&a<=i[c].end){s=i[c];break}const l=r.start+r.duration;s?s.end=l:(s={start:a,end:l},i.push(s)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null),this.media&&this.tick()}onBufferFlushing(e,n){const{startOffset:r,endOffset:o}=n;if(r===0&&o!==Number.POSITIVE_INFINITY){const i=o-1;if(i<=0)return;n.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach(s=>{for(let a=0;a<s.length;){if(s[a].end<=i){s.shift();continue}else if(s[a].start<i)s[a].start=i;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(r,i,kt.SUBTITLE)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===kt.SUBTITLE&&(n.details===Fe.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==qe.STOPPED&&(this.state=qe.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&ND(this.levels,n)){this.levels=n.map(r=>new xd(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const o=new xd(r);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,kt.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const o=this.levels[this.currentTrackId];o!=null&&o.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,o&&this.state!==qe.STOPPED&&this.setInterval(ew)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:o,levels:i}=this,{details:s,id:a}=n;if(!i){this.warn(`Subtitle tracks were reset while loading level ${a}`);return}const l=i[a];if(a>=i.length||!l)return;this.log(`Subtitle track ${a} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(s.live||(r=l.details)!=null&&r.live){const u=this.mainDetails;if(s.deltaUpdateFailed||!u)return;const f=u.fragments[0];if(!l.details)s.hasProgramDateTime&&u.hasProgramDateTime?(Zf(s,u),c=s.fragmentStart):f&&(c=f.start,dv(s,c));else{var d;c=this.alignPlaylists(s,l.details,(d=this.levelLastLoaded)==null?void 0:d.details),c===0&&f&&(c=f.start,dv(s,c))}}l.details=s,this.levelLastLoaded=l,a===o&&(this.hls.trigger(U.SUBTITLE_TRACK_UPDATED,{details:s,id:a,groupId:n.groupId}),this.tick(),s.live&&!this.fragCurrent&&this.media&&this.state===qe.IDLE&&(Da(null,s.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,o=n.decryptdata,i=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&o!=null&&o.key&&o.iv&&El(o.method)){const s=performance.now();this.decrypter.decrypt(new Uint8Array(r),o.key.buffer,o.iv.buffer,Sb(o.method)).catch(a=>{throw i.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:n}),a}).then(a=>{const l=performance.now();i.trigger(U.FRAG_DECRYPTED,{frag:n,payload:a,stats:{tstart:s,tdecrypt:l}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=qe.IDLE})}}doTick(){if(!this.media){this.state=qe.IDLE;return}if(this.state===qe.IDLE){const{currentTrackId:e,levels:n}=this,r=n==null?void 0:n[e];if(!r||!n.length||!r.details||this.waitForLive(r))return;const{config:o}=this,i=this.getLoadPosition(),s=Wt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,o.maxBufferHole),{end:a,len:l}=s,c=r.details,d=this.hls.maxBufferLength+c.levelTargetDuration;if(l>d)return;const u=c.fragments,f=u.length,m=c.edge;let h=null;const p=this.fragPrevious;if(a<m){const y=o.maxFragLookUpTolerance,x=a>m-y?0:y;h=Da(p,u,Math.max(u[0].start,a),x),!h&&p&&p.start<u[0].start&&(h=u[0])}else h=u[f-1];if(h=this.filterReplacedPrimary(h,r.details),!h)return;const v=h.sn-c.startSN,b=u[v-1];if(b&&b.cc===h.cc&&this.fragmentTracker.getState(b)===fr.NOT_LOADED&&(h=b),this.fragmentTracker.getState(h)===fr.NOT_LOADED){const y=this.mapToInitFragWhenRequired(h);y&&this.loadFragment(y,r,a)}}}loadFragment(e,n,r){Cr(e)?super.loadFragment(e,n,r):this._loadInitSegment(e,n)}get mediaBufferTimeRanges(){return new aae(this.tracksBuffered[this.currentTrackId]||[])}}class aae{constructor(e){this.buffered=void 0;const n=(r,o,i)=>{if(o=o>>>0,o>i-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${i})`);return e[o][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}const lae={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},QD=t=>String.fromCharCode(lae[t]||t),Uo=15,Fi=100,cae={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},dae={17:2,18:4,21:6,22:8,23:10,19:13,20:15},uae={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},fae={25:2,26:4,29:6,30:8,31:10,27:13,28:15},hae=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class gae{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;gn.log(`${this.time} [${e}] ${r}`)}}}const oa=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class ZD{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const o=n[r];e.hasOwnProperty(o)&&(this[o]=e[o])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class mae{constructor(){this.uchar=" ",this.penState=new ZD}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class pae{constructor(e){this.chars=[],this.pos=0,this.currPenState=new ZD,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<Fi;n++)this.chars.push(new mae);this.logger=e}equals(e){for(let n=0;n<Fi;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<Fi;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<Fi;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Fi&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Fi)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=QD(e);if(this.pos>=Fi){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<Fi;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<Fi;r++){const o=this.chars[r].uchar;o!==" "&&(n=!1),e.push(o)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Am{constructor(e){this.rows=[],this.currRow=Uo-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<Uo;n++)this.rows.push(new pae(e));this.logger=e}reset(){for(let e=0;e<Uo;e++)this.rows[e].clear();this.currRow=Uo-1}equals(e){let n=!0;for(let r=0;r<Uo;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<Uo;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<Uo;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+Fn(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let a=0;a<Uo;a++)this.rows[a].clear();const i=this.currRow+1-this.nrRollUpRows,s=this.lastOutputScreen;if(s){const a=s.rows[i].cueStartTime,l=this.logger.time;if(a!==null&&l!==null&&a<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[n-this.nrRollUpRows+c+1].copy(s.rows[i+c])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const i=e.indent,s=Math.max(i-1,0);r.setCursor(e.indent),e.color=r.chars[s].penState.foreground}const o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+Fn(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",o=-1;for(let i=0;i<Uo;i++){const s=this.rows[i].getTextString();s&&(o=i+1,e?n.push("Row "+o+": '"+s+"'"):n.push(s.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class tw{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Am(r),this.nonDisplayedMemory=new Am(r),this.lastOutputScreen=new Am(r),this.currRollUpRow=this.displayedMemory.rows[Uo-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Uo-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,o=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=o[r]}this.logger.log(2,"MIDROW: "+Fn(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class nw{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=bae(),this.logger=void 0;const o=this.logger=new gae;this.channels=[null,new tw(e,n,o),new tw(e+1,r,o)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const o=n[r]&127,i=n[r+1]&127;let s=!1,a=null;if(o===0&&i===0)continue;this.logger.log(3,()=>"["+oa([n[r],n[r+1]])+"] -> ("+oa([o,i])+")");const l=this.cmdHistory;if(o>=16&&o<=31){if(vae(o,i,l)){Nu(null,null,l),this.logger.log(3,()=>"Repeated command ("+oa([o,i])+") is dropped");continue}Nu(o,i,this.cmdHistory),s=this.parseCmd(o,i),s||(s=this.parseMidrow(o,i)),s||(s=this.parsePAC(o,i)),s||(s=this.parseBackgroundAttributes(o,i))}else Nu(null,null,l);if(!s&&(a=this.parseChars(o,i),a)){const d=this.currentChannel;d&&d>0?this.channels[d].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!s&&!a&&this.logger.log(2,()=>"Couldn't parse cleaned data "+oa([o,i])+" orig: "+oa([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,o=(e===23||e===31)&&n>=33&&n<=35;if(!(r||o))return!1;const i=e===20||e===21||e===23?1:2,s=this.channels[i];return e===20||e===21||e===28||e===29?n===32?s.ccRCL():n===33?s.ccBS():n===34?s.ccAOF():n===35?s.ccAON():n===36?s.ccDER():n===37?s.ccRU(2):n===38?s.ccRU(3):n===39?s.ccRU(4):n===40?s.ccFON():n===41?s.ccRDC():n===42?s.ccTR():n===43?s.ccRTD():n===44?s.ccEDM():n===45?s.ccCR():n===46?s.ccENM():n===47&&s.ccEOC():s.ccTO(n-32),this.currentChannel=i,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[r];return o?(o.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+oa([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const o=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,i=(e===16||e===24)&&n>=64&&n<=95;if(!(o||i))return!1;const s=e<=23?1:2;n>=64&&n<=95?r=s===1?cae[e]:uae[e]:r=s===1?dae[e]:fae[e];const a=this.channels[s];return a?(a.setPAC(this.interpretPAC(r,n)),this.currentChannel=s,!0):!1}interpretPAC(e,n){let r;const o={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,o.underline=(r&1)===1,r<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(o.italics=!0,o.color="white"):o.indent=Math.floor((r-16)/2)*4,o}parseChars(e,n){let r,o=null,i=null;if(e>=25?(r=2,i=e-8):(r=1,i=e),i>=17&&i<=19){let s;i===17?s=n+80:i===18?s=n+112:s=n+144,this.logger.log(2,()=>"Special char '"+QD(s)+"' in channel "+r),o=[s]}else e>=32&&e<=127&&(o=n===0?[e]:[e,n]);return o&&this.logger.log(3,()=>"Char codes =  "+oa(o).join(",")),o}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,o=(e===23||e===31)&&n>=45&&n<=47;if(!(r||o))return!1;let i;const s={};e===16||e===24?(i=Math.floor((n-32)/2),s.background=hae[i],n%2===1&&(s.background=s.background+"_semi")):n===45?s.background="transparent":(s.foreground="black",n===47&&(s.underline=!0));const a=e<=23?1:2;return this.channels[a].setBkgData(s),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}Nu(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function Nu(t,e,n){n.a=t,n.b=e}function vae(t,e,n){return n.a===t&&n.b===e}function bae(){return{a:null,b:null}}var $b=function(){if(Qf!=null&&Qf.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(a,l){if(typeof l!="string"||!Array.isArray(a))return!1;const c=l.toLowerCase();return~a.indexOf(c)?c:!1}function r(a){return n(t,a)}function o(a){return n(e,a)}function i(a,...l){let c=1;for(;c<arguments.length;c++){const d=arguments[c];for(const u in d)a[u]=d[u]}return a}function s(a,l,c){const d=this,u={enumerable:!0};d.hasBeenReset=!1;let f="",m=!1,h=a,p=l,v=c,b=null,y="",x=!0,C="auto",S="start",T=50,w="middle",E=50,R="middle";Object.defineProperty(d,"id",i({},u,{get:function(){return f},set:function(P){f=""+P}})),Object.defineProperty(d,"pauseOnExit",i({},u,{get:function(){return m},set:function(P){m=!!P}})),Object.defineProperty(d,"startTime",i({},u,{get:function(){return h},set:function(P){if(typeof P!="number")throw new TypeError("Start time must be set to a number.");h=P,this.hasBeenReset=!0}})),Object.defineProperty(d,"endTime",i({},u,{get:function(){return p},set:function(P){if(typeof P!="number")throw new TypeError("End time must be set to a number.");p=P,this.hasBeenReset=!0}})),Object.defineProperty(d,"text",i({},u,{get:function(){return v},set:function(P){v=""+P,this.hasBeenReset=!0}})),Object.defineProperty(d,"region",i({},u,{get:function(){return b},set:function(P){b=P,this.hasBeenReset=!0}})),Object.defineProperty(d,"vertical",i({},u,{get:function(){return y},set:function(P){const _=r(P);if(_===!1)throw new SyntaxError("An invalid or illegal string was specified.");y=_,this.hasBeenReset=!0}})),Object.defineProperty(d,"snapToLines",i({},u,{get:function(){return x},set:function(P){x=!!P,this.hasBeenReset=!0}})),Object.defineProperty(d,"line",i({},u,{get:function(){return C},set:function(P){if(typeof P!="number"&&P!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=P,this.hasBeenReset=!0}})),Object.defineProperty(d,"lineAlign",i({},u,{get:function(){return S},set:function(P){const _=o(P);if(!_)throw new SyntaxError("An invalid or illegal string was specified.");S=_,this.hasBeenReset=!0}})),Object.defineProperty(d,"position",i({},u,{get:function(){return T},set:function(P){if(P<0||P>100)throw new Error("Position must be between 0 and 100.");T=P,this.hasBeenReset=!0}})),Object.defineProperty(d,"positionAlign",i({},u,{get:function(){return w},set:function(P){const _=o(P);if(!_)throw new SyntaxError("An invalid or illegal string was specified.");w=_,this.hasBeenReset=!0}})),Object.defineProperty(d,"size",i({},u,{get:function(){return E},set:function(P){if(P<0||P>100)throw new Error("Size must be between 0 and 100.");E=P,this.hasBeenReset=!0}})),Object.defineProperty(d,"align",i({},u,{get:function(){return R},set:function(P){const _=o(P);if(!_)throw new SyntaxError("An invalid or illegal string was specified.");R=_,this.hasBeenReset=!0}})),d.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s}();class yae{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function JD(t){function e(r,o,i,s){return(r|0)*3600+(o|0)*60+(i|0)+parseFloat(s||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class xae{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let o=0;o<r.length;++o)if(n===r[o]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function eO(t,e,n,r){const o=r?t.split(r):[t];for(const i in o){if(typeof o[i]!="string")continue;const s=o[i].split(n);if(s.length!==2)continue;const a=s[0],l=s[1];e(a,l)}}const vv=new $b(0,0,""),Uu=vv.align==="middle"?"middle":"center";function Cae(t,e,n){const r=t;function o(){const a=JD(t);if(a===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function i(a,l){const c=new xae;eO(a,function(f,m){let h;switch(f){case"region":for(let p=n.length-1;p>=0;p--)if(n[p].id===m){c.set(f,n[p].region);break}break;case"vertical":c.alt(f,m,["rl","lr"]);break;case"line":h=m.split(","),c.integer(f,h[0]),c.percent(f,h[0])&&c.set("snapToLines",!1),c.alt(f,h[0],["auto"]),h.length===2&&c.alt("lineAlign",h[1],["start",Uu,"end"]);break;case"position":h=m.split(","),c.percent(f,h[0]),h.length===2&&c.alt("positionAlign",h[1],["start",Uu,"end","line-left","line-right","auto"]);break;case"size":c.percent(f,m);break;case"align":c.alt(f,m,["start",Uu,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let d=c.get("line","auto");d==="auto"&&vv.line===-1&&(d=-1),l.line=d,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",Uu);let u=c.get("position","auto");u==="auto"&&vv.position===50&&(u=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=u}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=o(),s(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),s(),e.endTime=o(),s(),i(t,e)}function tO(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class Sae{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new yae,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let i=n.buffer,s=0;for(i=tO(i);s<i.length&&i[s]!=="\r"&&i[s]!==`
`;)++s;const a=i.slice(0,s);return i[s]==="\r"&&++s,i[s]===`
`&&++s,n.buffer=i.slice(s),a}function o(i){eO(i,function(s,a){},/:/)}try{let i="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;i=r();const a=i.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let s=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(s?s=!1:i=r(),n.state){case"HEADER":/:/.test(i)?o(i):i||(n.state="ID");continue;case"NOTE":i||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){n.state="NOTE";break}if(!i)continue;if(n.cue=new $b(0,0,""),n.state="CUE",i.indexOf("-->")===-1){n.cue.id=i;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{Cae(i,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const a=i.indexOf("-->")!==-1;if(!i||a&&(s=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=i}continue;case"BADCUE":i||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const wae=/\r\n|\n\r|\n|\r/g,Im=function(e,n,r=0){return e.slice(r,r+n.length)===n},Rae=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),o=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!xt(n)||!xt(r)||!xt(o)||!xt(i))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*o,n+=60*60*1e3*i,n};function Fb(t,e,n){return Xc(t.toString())+Xc(e.toString())+Xc(n)}const Tae=function(e,n,r){let o=e[n],i=e[o.prevCC];if(!i||!i.new&&o.new){e.ccOffset=e.presentationOffset=o.start,o.new=!1;return}for(;(s=i)!=null&&s.new;){var s;e.ccOffset+=o.start-i.start,o.new=!1,o=i,i=e[o.prevCC]}e.presentationOffset=r};function Eae(t,e,n,r,o,i,s){const a=new Sae,l=vo(new Uint8Array(t)).trim().replace(wae,`
`).split(`
`),c=[],d=e?Uie(e.baseTime,e.timescale):0;let u="00:00.000",f=0,m=0,h,p=!0;a.oncue=function(v){const b=n[r];let y=n.ccOffset;const x=(f-d)/9e4;if(b!=null&&b.new&&(m!==void 0?y=n.ccOffset=b.start:Tae(n,r,x)),x){if(!e){h=new Error("Missing initPTS for VTT MPEGTS");return}y=x-n.presentationOffset}const C=v.endTime-v.startTime,S=ko((v.startTime+y-m)*9e4,o*9e4)/9e4;v.startTime=Math.max(S,0),v.endTime=Math.max(S+C,0);const T=v.text.trim();v.text=decodeURIComponent(encodeURIComponent(T)),v.id||(v.id=Fb(v.startTime,v.endTime,T)),v.endTime>0&&c.push(v)},a.onparsingerror=function(v){h=v},a.onflush=function(){if(h){s(h);return}i(c)},l.forEach(v=>{if(p)if(Im(v,"X-TIMESTAMP-MAP=")){p=!1,v.slice(16).split(",").forEach(b=>{Im(b,"LOCAL:")?u=b.slice(6):Im(b,"MPEGTS:")&&(f=parseInt(b.slice(7)))});try{m=Rae(u)/1e3}catch(b){h=b}return}else v===""&&(p=!1);a.parse(v+`
`)}),a.flush()}const _m="stpp.ttml.im1t",nO=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,rO=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,kae={left:"start",center:"center",right:"end",start:"start",end:"end"};function rw(t,e,n,r){const o=qt(new Uint8Array(t),["mdat"]);if(o.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const i=o.map(a=>vo(a)),s=Nie(e.baseTime,1,e.timescale);try{i.forEach(a=>n(Pae(a,s)))}catch(a){r(a)}}function Pae(t,e){const o=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(i).reduce((u,f)=>(u[f]=o.getAttribute(`ttp:${f}`)||i[f],u),{}),a=o.getAttribute("xml:space")!=="preserve",l=ow(Lm(o,"styling","style")),c=ow(Lm(o,"layout","region")),d=Lm(o,"body","[begin]");return[].map.call(d,u=>{const f=oO(u,a);if(!f||!u.hasAttribute("begin"))return null;const m=Om(u.getAttribute("begin"),s),h=Om(u.getAttribute("dur"),s);let p=Om(u.getAttribute("end"),s);if(m===null)throw iw(u);if(p===null){if(h===null)throw iw(u);p=m+h}const v=new $b(m-e,p-e,f);v.id=Fb(v.startTime,v.endTime,v.text);const b=c[u.getAttribute("region")],y=l[u.getAttribute("style")],x=Aae(b,y,l),{textAlign:C}=x;if(C){const S=kae[C];S&&(v.lineAlign=S),v.align=C}return wn(v,x),v}).filter(u=>u!==null)}function Lm(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function ow(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function oO(t,e){return[].slice.call(t.childNodes).reduce((n,r,o)=>{var i;return r.nodeName==="br"&&o?n+`
`:(i=r.childNodes)!=null&&i.length?oO(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function Aae(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let o=null;const i=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return s&&n.hasOwnProperty(s)&&(o=n[s]),i.reduce((a,l)=>{const c=Dm(e,r,l)||Dm(t,r,l)||Dm(o,r,l);return c&&(a[l]=c),a},{})}function Dm(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function iw(t){return new Error(`Could not parse ttml timestamp ${t}`)}function Om(t,e){if(!t)return null;let n=JD(t);return n===null&&(nO.test(t)?n=Iae(t,e):rO.test(t)&&(n=_ae(t,e))),n}function Iae(t,e){const n=nO.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function _ae(t,e){const n=rO.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class Hu{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class Lae{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=aw(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(U.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(U.FRAG_LOADING,this.onFragLoading,this),e.on(U.FRAG_LOADED,this.onFragLoaded,this),e.on(U.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(U.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(U.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(U.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(U.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(U.FRAG_LOADING,this.onFragLoading,this),e.off(U.FRAG_LOADED,this.onFragLoaded,this),e.off(U.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(U.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(U.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(U.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Hu(this,"textTrack1"),n=new Hu(this,"textTrack2"),r=new Hu(this,"textTrack3"),o=new Hu(this,"textTrack4");this.cea608Parser1=new nw(1,e,n),this.cea608Parser2=new nw(3,r,o)}addCues(e,n,r,o,i){let s=!1;for(let a=i.length;a--;){const l=i[a],c=Dae(l[0],l[1],n,r);if(c>=0&&(l[0]=Math.min(l[0],n),l[1]=Math.max(l[1],r),s=!0,c/(r-n)>.5))return}if(s||i.push([n,r]),this.config.renderTextTracksNatively){const a=this.captionsTracks[e];this.Cues.newCue(a,n,r,o)}else{const a=this.Cues.newCue(null,n,r,o);this.hls.trigger(U.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:o,timescale:i}){const{unparsedVttFrags:s}=this;r===kt.MAIN&&(this.initPTS[n.cc]={baseTime:o,timescale:i}),s.length&&(this.unparsedVttFrags=[],s.forEach(a=>{this.onFragLoaded(U.FRAG_LOADED,a)}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let o=0;o<r.textTracks.length;o++){const i=r.textTracks[o];if(sw(i,{name:e,lang:n,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:o}=this,{label:i,languageCode:s}=n[e],a=this.getExistingTrack(i,s);if(a)r[e]=a,vl(r[e]),qD(r[e],o);else{const l=this.createTextTrack("captions",i,s);l&&(l[e]=!0,r[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,o={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=o,this.hls.trigger(U.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(e,n,r){const o=this.media;if(o)return o.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,n.mediaSource||this._cleanTracks()}onMediaDetaching(e,n){const r=!!n.transferMedia;if(this.media=null,r)return;const{captionsTracks:o}=this;Object.keys(o).forEach(i=>{vl(o[i]),delete o[i]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=aw(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)vl(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],o=r.some(i=>i.textCodec===_m);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(ND(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const s=this.media,a=s?uf(s.textTracks):null;if(this.tracks.forEach((l,c)=>{let d;if(a){let u=null;for(let f=0;f<a.length;f++)if(a[f]&&sw(a[f],l)){u=a[f],a[f]=null;break}u&&(d=u)}if(d)vl(d);else{const u=iO(l);d=this.createTextTrack(u,l.name,l.lang),d&&(d.mode="disabled")}d&&this.textTracks.push(d)}),a!=null&&a.length){const l=a.filter(c=>c!==null).map(c=>c.label);l.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const s=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(U.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const o=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!o)return;const i=`textTrack${o[1]}`,s=this.captionsProperties[i];s&&(s.label=r.name,r.lang&&(s.languageCode=r.lang),s.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===kt.MAIN){var r,o;const{cea608Parser1:i,cea608Parser2:s,lastSn:a}=this,{cc:l,sn:c}=n.frag,d=(r=(o=n.part)==null?void 0:o.index)!=null?r:-1;i&&s&&(c!==a+1||c===a&&d!==this.lastPartIndex+1||l!==this.lastCc)&&(i.reset(),s.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=d}}onFragLoaded(e,n){const{frag:r,payload:o}=n;if(r.type===kt.SUBTITLE)if(o.byteLength){const i=r.decryptdata,s="stats"in n;if(i==null||!i.encrypted||s){const a=this.tracks[r.level],l=this.vttCCs;l[r.cc]||(l[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),a&&a.textCodec===_m?this._parseIMSC1(r,o):this._parseVTTs(n)}}else this.hls.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;rw(n,this.initPTS[e.cc],o=>{this._appendCues(o,e.level),r.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},o=>{r.logger.log(`Failed to parse IMSC1: ${o}`),r.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:o})})}_parseVTTs(e){var n;const{frag:r,payload:o}=e,{initPTS:i,unparsedVttFrags:s}=this,a=i.length-1;if(!i[r.cc]&&a===-1){s.push(e);return}const l=this.hls,c=(n=r.initSegment)!=null&&n.data?Fo(r.initSegment.data,new Uint8Array(o)).buffer:o;Eae(c,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,d=>{this._appendCues(d,r.level),l.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},d=>{const u=d.message==="Missing initPTS for VTT MPEGTS";u?s.push(e):this._fallbackToIMSC1(r,o),l.logger.log(`Failed to parse VTT cue: ${d}`),!(u&&a>r.cc)&&l.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:d})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||rw(n,this.initPTS[e.cc],()=>{r.textCodec=_m,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[n];if(!o||o.mode==="disabled")return;e.forEach(i=>YD(o,i))}else{const o=this.tracks[n];if(!o)return;const i=o.default?"default":"subtitles"+n;r.trigger(U.CUES_PARSED,{type:"subtitles",cues:e,track:i})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===kt.SUBTITLE&&this.onFragLoaded(U.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:r,samples:o}=n;if(!(r.type===kt.MAIN&&this.closedCaptionsForLevel(r)==="NONE"))for(let i=0;i<o.length;i++){const s=o[i].bytes;if(s){this.cea608Parser1||this.initCea608Parsers();const a=this.extractCea608Data(s);this.cea608Parser1.addData(o[i].pts,a[0]),this.cea608Parser2.addData(o[i].pts,a[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:o,type:i}){const{media:s}=this;if(!(!s||s.currentTime<r)){if(!i||i==="video"){const{captionsTracks:a}=this;Object.keys(a).forEach(l=>pv(a[l],n,r))}if(this.config.renderTextTracksNatively&&n===0&&o!==void 0){const{textTracks:a}=this;Object.keys(a).forEach(l=>pv(a[l],n,o))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let o=2;for(let i=0;i<r;i++){const s=e[o++],a=127&e[o++],l=127&e[o++];if(a===0&&l===0)continue;if((4&s)!==0){const d=3&s;(d===0||d===1)&&(n[d].push(a),n[d].push(l))}}return n}}function iO(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function sw(t,e){return!!t&&t.kind===iO(e)&&hv(e,t)}function Dae(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function aw(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const Oae=/\s/,$ae={newCue(t,e,n,r){const o=[];let i,s,a,l,c;const d=self.VTTCue||self.TextTrackCue;for(let f=0;f<r.rows.length;f++)if(i=r.rows[f],a=!0,l=0,c="",!i.isEmpty()){var u;for(let p=0;p<i.chars.length;p++)Oae.test(i.chars[p].uchar)&&a?l++:(c+=i.chars[p].uchar,a=!1);i.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const m=tO(c.trim()),h=Fb(e,n,m);t!=null&&(u=t.cues)!=null&&u.getCueById(h)||(s=new d(e,n,m),s.id=h,s.line=f+1,s.align="left",s.position=10+Math.min(80,Math.floor(l*8/32)*10),o.push(s))}return t&&o.length&&(o.sort((f,m)=>f.line==="auto"||m.line==="auto"?0:f.line>8&&m.line>8?m.line-f.line:f.line-m.line),o.forEach(f=>YD(t,f))),o}};function Fae(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const Mae=/(\d+)-(\d+)\/(\d+)/;class lw{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||Uae,this.controller=new self.AbortController,this.stats=new vb}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const i=Bae(e,this.controller.signal),s=e.responseType==="arraybuffer",a=s?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,i),self.clearTimeout(this.requestTimeout),n.timeout=l&&xt(l)?l:c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(o,e,this.response))},n.timeout),(Td(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(u=>{var f;this.response=this.loader=u;const m=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(o,e,this.response))},c-(m-o.loading.start)),!u.ok){const{status:p,statusText:v}=u;throw new Hae(v||"fetch, bad network response",p,u)}o.loading.first=m,o.total=Nae(u.headers)||o.total;const h=(f=this.callbacks)==null?void 0:f.onProgress;return h&&xt(n.highWaterMark)?this.loadProgressively(u,o,e,n.highWaterMark,h):s?u.arrayBuffer():e.responseType==="json"?u.json():u.text()}).then(u=>{var f,m;const h=this.response;if(!h)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const p=u[a];p&&(o.loaded=o.total=p);const v={url:h.url,data:u,code:h.status},b=(f=this.callbacks)==null?void 0:f.onProgress;b&&!xt(n.highWaterMark)&&b(o,e,u,h),(m=this.callbacks)==null||m.onSuccess(v,o,e,h)}).catch(u=>{var f;if(self.clearTimeout(this.requestTimeout),o.aborted)return;const m=u&&u.code||0,h=u?u.message:null;(f=this.callbacks)==null||f.onError({code:m,text:h},e,u?u.details:null,o)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,o=0,i){const s=new xD,a=e.body.getReader(),l=()=>a.read().then(c=>{if(c.done)return s.dataLength&&i(n,r,s.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const d=c.value,u=d.length;return n.loaded+=u,u<o||s.dataLength?(s.push(d),s.dataLength>=o&&i(n,r,s.flush().buffer,e)):i(n,r,d.buffer,e),l()}).catch(()=>Promise.reject());return l()}}function Bae(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(wn({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function zae(t){const e=Mae.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function Nae(t){const e=t.get("Content-Range");if(e){const r=zae(e);if(xt(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function Uae(t,e){return new self.Request(t.url,e)}class Hae extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const Vae=/^age:\s*[\d.]+\s*$/im;class sO{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new vb,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const i=this.xhrSetup;i?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return i(r,n.url)}).catch(s=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),i(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(s=>{var a;(a=this.callbacks)==null||a.onError({code:r.status,text:s.message},n,r,o)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const o=n.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:s}=r.loadPolicy;if(o)for(const a in o)e.setRequestHeader(a,o[a]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=i&&xt(i)?i:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const o=n.readyState,i=this.config;if(!r.aborted&&o>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),o===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const c=n.status,d=n.responseType==="text"?n.responseText:null;if(c>=200&&c<300){const h=d??n.response;if(h!=null){var s,a;r.loading.end=Math.max(self.performance.now(),r.loading.first);const p=n.responseType==="arraybuffer"?h.byteLength:h.length;r.loaded=r.total=p,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first);const v=(s=this.callbacks)==null?void 0:s.onProgress;v&&v(r,e,h,n);const b={url:n.responseURL,data:h,code:c};(a=this.callbacks)==null||a.onSuccess(b,r,e,n);return}}const u=i.loadPolicy.errorRetry,f=r.retry,m={url:e.url,data:void 0,code:c};if(Xf(u,f,!1,m))this.retry(u);else{var l;gn.error(`${c} while loading ${e.url}`),(l=this.callbacks)==null||l.onError({code:c,text:n.statusText},e,n,r)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(Xf(e,n,!0))this.retry(e);else{var r;gn.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=yb(e,r.retry),r.retry++,gn.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&Vae.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const jae={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},Wae=yn(yn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:sO,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:goe,bufferController:nse,capLevelController:Db,errorController:yoe,fpsController:qse,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:cD,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:jae},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},Kae()),{},{subtitleStreamController:sae,subtitleTrackController:Qse,timelineController:Lae,audioStreamController:Zie,audioTrackController:Jie,emeController:kl,cmcdController:Wse,contentSteeringController:Gse,interstitialsController:iae});function Kae(){return{cueHandler:$ae,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Gae(t,e,n){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=bv(t),o=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return o.forEach(s=>{const a=`${s==="level"?"playlist":s}LoadPolicy`,l=e[a]===void 0,c=[];i.forEach(d=>{const u=`${s}Loading${d}`,f=e[u];if(f!==void 0&&l){c.push(u);const m=r[a].default;switch(e[a]={default:m},d){case"TimeOut":m.maxLoadTimeMs=f,m.maxTimeToFirstByteMs=f;break;case"MaxRetry":m.errorRetry.maxNumRetry=f,m.timeoutRetry.maxNumRetry=f;break;case"RetryDelay":m.errorRetry.retryDelayMs=f,m.timeoutRetry.retryDelayMs=f;break;case"MaxRetryTimeout":m.errorRetry.maxRetryDelayMs=f,m.timeoutRetry.maxRetryDelayMs=f;break}}}),c.length&&n.warn(`hls.js config: "${c.join('", "')}" setting(s) are deprecated, use "${a}": ${Fn(e[a])}`)}),yn(yn({},r),e)}function bv(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(bv):Object.keys(t).reduce((e,n)=>(e[n]=bv(t[n]),e),{}):t}function qae(t,e){const n=t.loader;n!==lw&&n!==sO?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):Fae()&&(t.loader=lw,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const ff=2,Yae=.1,Xae=.05,Qae=100;class Zae extends sD{constructor(e,n){super("gap-controller",e.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var r;(r=this.media)!=null&&r.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var r;this.ended=((r=this.media)==null?void 0:r.currentTime)||1,this.hls.trigger(U.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=n,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,n){this.setInterval(Qae),this.mediaSource=n.mediaSource;const r=this.media=n.media;go(r,"playing",this.onMediaPlaying),go(r,"waiting",this.onMediaWaiting),go(r,"ended",this.onMediaEnded)}onMediaDetaching(e,n){this.clearInterval();const{media:r}=this;r&&(_o(r,"playing",this.onMediaPlaying),_o(r,"waiting",this.onMediaWaiting),_o(r,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,n){this.buffered=n.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const n=this.media.currentTime;this.poll(n,this.lastCurrentTime),this.lastCurrentTime=n}poll(e,n){var r,o;const i=(r=this.hls)==null?void 0:r.config;if(!i)return;const s=this.media;if(!s)return;const{seeking:a}=s,l=this.seeking&&!a,c=!this.seeking&&a,d=s.paused&&!a||s.ended||s.playbackRate===0;if(this.seeking=a,e!==n){n&&(this.ended=0),this.moved=!0,a||(this.nudgeRetry=0,i.nudgeOnVideoHole&&!d&&e>n&&this.nudgeOnVideoHole(e,n)),this.waiting===0&&this.stallResolved(e);return}if(c||l){l&&this.stallResolved(e);return}if(d){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&s.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(U.MEDIA_ENDED,{stalled:!1}));return}if(!Wt.getBuffered(s).length){this.nudgeRetry=0;return}const u=Wt.bufferInfo(s,e,0),f=u.nextStart||0,m=this.fragmentTracker;if(a&&m&&this.hls){const T=cw(this.hls.inFlightFragments,e),w=u.len>ff,E=!f||T||f-e>ff&&!m.getPartialFragment(e);if(w||E)return;this.moved=!1}const h=(o=this.hls)==null?void 0:o.latestLevelDetails;if(!this.moved&&this.stalled!==null&&m){if(!(u.len>0)&&!f)return;const w=Math.max(f,u.start||0)-e,R=!!(h!=null&&h.live)?h.targetduration*2:ff,P=m.getPartialFragment(e);if(w>0&&(w<=R||P)){s.paused||this._trySkipBufferHole(P);return}}const p=i.detectStallWithCurrentTimeMs,v=self.performance.now(),b=this.waiting;let y=this.stalled;if(y===null)if(b>0&&v-b<p)y=this.stalled=b;else{this.stalled=v;return}const x=v-y;if(!a&&(x>=p||b)&&this.hls){var C;if(((C=this.mediaSource)==null?void 0:C.readyState)==="ended"&&!(h!=null&&h.live)&&Math.abs(e-((h==null?void 0:h.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(U.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(u),!this.media||!this.hls)return}const S=Wt.bufferInfo(s,e,i.maxBufferHole);this._tryFixBufferStall(S,x,e)}stallResolved(e){const n=this.stalled;if(n&&this.hls&&(this.stalled=null,this.stallReported)){const r=self.performance.now()-n;this.log(`playback not stuck anymore @${e}, after ${Math.round(r)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(U.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,n){var r;const o=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(r=this.buffered.audio)!=null&&r.length&&o&&o.length>1&&e>o.end(0)){const i=Wt.bufferedInfo(Wt.timeRangesToArray(this.buffered.audio),e,0);if(i.len>1&&n>=i.start){const s=Wt.timeRangesToArray(o),a=Wt.bufferedInfo(s,n,0).bufferedIndex;if(a>-1&&a<s.length-1){const l=Wt.bufferedInfo(s,e,0).bufferedIndex,c=s[a].end,d=s[a+1].start;if((l===-1||l>a)&&d-c<1&&e-c<2){const u=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${c} -> ${d} buffered index: ${l}`);this.warn(u.message),this.media.currentTime+=1e-6;const f=this.fragmentTracker.getPartialFragment(e)||void 0,m=Wt.bufferInfo(this.media,e,0);this.hls.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:u,reason:u.message,frag:f,buffer:m.len,bufferInfo:m})}}}}}_tryFixBufferStall(e,n,r){var o,i;const{fragmentTracker:s,media:a}=this,l=(o=this.hls)==null?void 0:o.config;if(!a||!s||!l)return;const c=(i=this.hls)==null?void 0:i.latestLevelDetails,d=s.getPartialFragment(r);if((d||c!=null&&c.live&&r<c.fragmentStart)&&(this._trySkipBufferHole(d)||!this.media))return;const u=e.buffered,f=this.adjacentTraversal(e,r);(u&&u.length>1&&e.len>l.maxBufferHole||e.nextStart&&(e.nextStart-r<l.maxBufferHole||f))&&(n>l.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,n){const r=this.fragmentTracker,o=e.nextStart;if(r&&o){const i=r.getFragAtPos(n,kt.MAIN),s=r.getFragAtPos(o,kt.MAIN);if(i&&s)return s.sn-i.sn<2}return!1}_reportStall(e){const{hls:n,media:r,stallReported:o,stalled:i}=this;if(!o&&i!==null&&r&&n){this.stallReported=!0;const s=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${Fn(e)})`);this.warn(s.message),n.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len,bufferInfo:e,stalled:{start:i}})}}_trySkipBufferHole(e){var n;const{fragmentTracker:r,media:o}=this,i=(n=this.hls)==null?void 0:n.config;if(!o||!r||!i)return 0;const s=o.currentTime,a=Wt.bufferInfo(o,s,0),l=s<a.start?a.start:a.nextStart;if(l&&this.hls){const d=a.len<=i.maxBufferHole,u=a.len>0&&a.len<1&&o.readyState<3,f=l-s;if(f>0&&(d||u)){if(f>i.maxBufferHole){let h=!1;if(s===0){const p=r.getAppendedFrag(0,kt.MAIN);p&&l<p.end&&(h=!0)}if(!h){const p=e||r.getAppendedFrag(s,kt.MAIN);if(p){var c;if(!((c=this.hls.loadLevelObj)!=null&&c.details)||cw(this.hls.inFlightFragments,l))return 0;let b=!1,y=p.end;for(;y<l;){const x=r.getPartialFragment(y);if(x)y+=x.duration;else{b=!0;break}}if(b)return 0}}}const m=Math.max(l+Xae,s+Yae);if(this.warn(`skipping hole, adjusting currentTime from ${s} to ${m}`),this.moved=!0,o.currentTime=m,!(e!=null&&e.gap)){const h=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${m}`);this.hls.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:h,reason:h.message,frag:e||void 0,buffer:a.len,bufferInfo:a})}return m}}return 0}_tryNudgeBuffer(e){const{hls:n,media:r,nudgeRetry:o}=this,i=n==null?void 0:n.config;if(!r||!i)return 0;const s=r.currentTime;if(this.nudgeRetry++,o<i.nudgeMaxRetry){const a=s+(o+1)*i.nudgeOffset,l=new Error(`Nudging 'currentTime' from ${s} to ${a}`);this.warn(l.message),r.currentTime=a,n.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.BUFFER_NUDGE_ON_STALL,error:l,fatal:!1,buffer:e.len,bufferInfo:e})}else{const a=new Error(`Playhead still not moving while enough data buffered @${s} after ${i.nudgeMaxRetry} nudges`);this.error(a.message),n.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.BUFFER_STALLED_ERROR,error:a,fatal:!0,buffer:e.len,bufferInfo:e})}}}function cw(t,e){const n=dw(t.main);if(n&&n.start<=e)return n;const r=dw(t.audio);return r&&r.start<=e?r:null}function dw(t){if(!t)return null;switch(t.state){case qe.IDLE:case qe.STOPPED:case qe.ENDED:case qe.ERROR:return null}return t.frag}const Jae=.25;function yv(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function uw(t,e,n,r,o){let i=new t(e,n,"");try{i.value=r,o&&(i.type=o)}catch{i=new t(e,n,Fn(o?yn({type:o},r):r))}return i}const Vu=(()=>{const t=yv();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function ele(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class tle{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(U.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(U.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(U.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(e,n){var r;this.media=n.media,((r=n.overrides)==null?void 0:r.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){const e=this.hls.latestLevelDetails;e&&this.updateDateRangeCues(e)}onMediaDetaching(e,n){this.media=null,!n.transferMedia&&(this.id3Track&&(this.removeCues&&vl(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return qD(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:o}}}=this;if(!r&&!o)return;const{samples:i}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=yv();if(s)for(let a=0;a<i.length;a++){const l=i[a].type;if(l===co.emsg&&!r||!o)continue;const c=kD(i[a].data);if(c){const d=i[a].pts;let u=d+i[a].duration;u>Vu&&(u=Vu),u-d<=0&&(u=d+Jae);for(let m=0;m<c.length;m++){const h=c[m];if(!PD(h)){this.updateId3CueEnds(d,l);const p=uw(s,d,u,h,l);p&&this.id3Track.addCue(p)}}}}}updateId3CueEnds(e,n){var r;const o=(r=this.id3Track)==null?void 0:r.cues;if(o)for(let i=o.length;i--;){const s=o[i];s.type===n&&s.startTime<e&&s.endTime===Vu&&(s.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:o}){const{id3Track:i,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:l}}=s;if(i&&(a||l)){let c;o==="audio"?c=d=>d.type===co.audioId3&&l:o==="video"?c=d=>d.type===co.emsg&&a:c=d=>d.type===co.audioId3&&l||d.type===co.emsg&&a,pv(i,n,r,c)}}onLevelUpdated(e,{details:n}){this.updateDateRangeCues(n,!0)}onLevelPtsUpdated(e,n){Math.abs(n.drift)>.01&&this.updateDateRangeCues(n.details)}updateDateRangeCues(e,n){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:r}=this,{dateRanges:o}=e,i=Object.keys(o);let s=this.dateRangeCuesAppended;if(r&&n){var a;if((a=r.cues)!=null&&a.length){const d=Object.keys(s).filter(u=>!i.includes(u));for(let u=d.length;u--;){const f=d[u],m=s[f].cues;delete s[f],Object.keys(m).forEach(h=>{try{const p=m[h];p.removeEventListener("enter",this.onEventCueEnter),r.removeCue(p)}catch{}})}}else s=this.dateRangeCuesAppended={}}const l=e.fragments[e.fragments.length-1];if(i.length===0||!xt(l==null?void 0:l.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const c=yv();for(let d=0;d<i.length;d++){const u=i[d],f=o[u],m=f.startTime,h=s[u],p=(h==null?void 0:h.cues)||{};let v=(h==null?void 0:h.durationKnown)||!1,b=Vu;const{duration:y,endDate:x}=f;if(x&&y!==null)b=m+y,v=!0;else if(f.endOnNext&&!v){const S=i.reduce((T,w)=>{if(w!==f.id){const E=o[w];if(E.class===f.class&&E.startDate>f.startDate&&(!T||f.startDate<T.startDate))return E}return T},null);S&&(b=S.startTime,v=!0)}const C=Object.keys(f.attr);for(let S=0;S<C.length;S++){const T=C[S];if(!Loe(T))continue;const w=p[T];if(w)v&&!h.durationKnown?w.endTime=b:Math.abs(w.startTime-m)>.01&&(w.startTime=m,w.endTime=b);else if(c){let E=f.attr[T];Doe(T)&&(E=ele(E));const P=uw(c,m,b,{key:T,data:E},co.dateRange);P&&(P.id=u,this.id3Track.addCue(P),p[T]=P,this.hls.config.interstitialsController&&(T==="X-ASSET-LIST"||T==="X-ASSET-URL")&&P.addEventListener("enter",this.onEventCueEnter))}}s[u]={cues:p,dateRange:f,durationKnown:v}}}}class nle{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:n}=this,r=this.levelDetails;if(!n||!r)return;this.currentTime=n.currentTime;const o=this.computeLatency();if(o===null)return;this._latency=o;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:s}=this.config;if(!i||s===1||!r.live)return;const a=this.targetLatency;if(a===null)return;const l=o-a,c=Math.min(this.maxLatency,a+r.targetduration);if(l<c&&l>.05&&this.forwardBufferLength>1){const u=Math.min(2,Math.max(1,s)),f=Math.round(2/(1+Math.exp(-.75*l-this.edgeStalled))*20)/20,m=Math.min(u,Math.max(1,f));this.changeMediaPlaybackRate(n,m)}else n.playbackRate!==1&&n.playbackRate!==0&&this.changeMediaPlaybackRate(n,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const n=this.levelDetails;return n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:n,partHoldBack:r,targetduration:o}=e,{liveSyncDuration:i,liveSyncDurationCount:s,lowLatencyMode:a}=this.config,l=this.hls.userConfig;let c=a&&r||n;(this._targetLatencyUpdated||l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=i!==void 0?i:s*o);const d=o;return c+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,d)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency;if(e===null||n===null)return null;const r=this.levelDetails;if(r===null)return null;const o=r.edge,i=e-n-this.edgeStalled,s=o-r.totalduration,a=o-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(s,i),a)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e}=this,n=this.levelDetails;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(U.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(U.ERROR,this.onError,this))}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){n.advanced&&this.onTimeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,n){var r;n.details===Fe.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(r=this.levelDetails)!=null&&r.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,n){var r,o;e.playbackRate!==n&&((r=this.hls)==null||r.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(o=this.targetLatency)==null?void 0:o.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${n}`),e.playbackRate=n)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class rle extends Lb{constructor(e,n){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this),e.on(U.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this),e.off(U.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,o=[],i={},s={};let a=!1,l=!1,c=!1;n.levels.forEach(d=>{const u=d.attrs;let{audioCodec:f,videoCodec:m}=d;f&&(d.audioCodec=f=Kf(f,r)||void 0),m&&(m=d.videoCodec=eoe(m));const{width:h,height:p,unknownCodecs:v}=d;let b=v?v.length:0;if(v)for(let P=b;P--;){const _=v[P];this.isAudioSupported(_)?(d.audioCodec=f=f?`${f},${_}`:_,b--,Hl.audio[f.substring(0,4)]=2):this.isVideoSupported(_)&&(d.videoCodec=m=m?`${m},${_}`:_,b--,Hl.video[m.substring(0,4)]=2)}if(a||(a=!!(h&&p)),l||(l=!!m),c||(c=!!f),b||f&&!this.isAudioSupported(f)||m&&!this.isVideoSupported(m)){this.log(`Some or all CODECS not supported "${u.CODECS}"`);return}const{CODECS:y,"FRAME-RATE":x,"HDCP-LEVEL":C,"PATHWAY-ID":S,RESOLUTION:T,"VIDEO-RANGE":w}=u,R=`${`${S||"."}-`}${d.bitrate}-${T}-${x}-${y}-${w}-${C}`;if(i[R])if(i[R].uri!==d.url&&!d.attrs["PATHWAY-ID"]){const P=s[R]+=1;d.attrs["PATHWAY-ID"]=new Array(P+1).join(".");const _=this.createLevel(d);i[R]=_,o.push(_)}else i[R].addGroupId("audio",u.AUDIO),i[R].addGroupId("text",u.SUBTITLES);else{const P=this.createLevel(d);i[R]=P,s[R]=1,o.push(P)}}),this.filterAndSortMediaOptions(o,n,a,l,c)}createLevel(e){const n=new xd(e),r=e.supplemental;if(r!=null&&r.videoCodec&&!this.isVideoSupported(r.videoCodec)){const o=new Error(`SUPPLEMENTAL-CODECS not supported "${r.videoCodec}"`);this.log(o.message),n.supportedResult=tD(o,[])}return n}isAudioSupported(e){return iv(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return iv(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,n,r,o,i){let s=[],a=[],l=e;if((r||o)&&i&&(l=l.filter(({videoCodec:v,videoRange:b,width:y,height:x})=>(!!v||!!(y&&x))&&ioe(b))),l.length===0){Promise.resolve().then(()=>{if(this.hls){let v="no level with compatible codecs found in manifest",b=v;n.levels.length&&(b=`one or more CODECS in variant not supported: ${Fn(n.levels.map(x=>x.attrs.CODECS).filter((x,C,S)=>S.indexOf(x)===C))}`,this.warn(b),v+=` (${b})`);const y=new Error(v);this.hls.trigger(U.ERROR,{type:Pt.MEDIA_ERROR,details:Fe.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:y,reason:b})}});return}n.audioTracks&&(s=n.audioTracks.filter(v=>!v.audioCodec||this.isAudioSupported(v.audioCodec)),fw(s)),n.subtitles&&(a=n.subtitles,fw(a));const c=l.slice(0);l.sort((v,b)=>{if(v.attrs["HDCP-LEVEL"]!==b.attrs["HDCP-LEVEL"])return(v.attrs["HDCP-LEVEL"]||"")>(b.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&v.height!==b.height)return v.height-b.height;if(v.frameRate!==b.frameRate)return v.frameRate-b.frameRate;if(v.videoRange!==b.videoRange)return Gf.indexOf(v.videoRange)-Gf.indexOf(b.videoRange);if(v.videoCodec!==b.videoCodec){const y=i1(v.videoCodec),x=i1(b.videoCodec);if(y!==x)return x-y}if(v.uri===b.uri&&v.codecSet!==b.codecSet){const y=Wf(v.codecSet),x=Wf(b.codecSet);if(y!==x)return x-y}return v.averageBitrate!==b.averageBitrate?v.averageBitrate-b.averageBitrate:0});let d=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let v=0;v<c.length;v++)if(c[v].pathwayId===l[0].pathwayId){d=c[v];break}}this._levels=l;for(let v=0;v<l.length;v++)if(l[v]===d){var u;this._firstLevel=v;const b=d.bitrate,y=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${b}`),((u=this.hls.userConfig)==null?void 0:u.abrEwmaDefaultEstimate)===void 0){const x=Math.min(b,this.hls.config.abrEwmaDefaultEstimateMax);x>y&&y===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=x)}break}const f=i&&!o,m=this.hls.config,h=!!(m.audioStreamController&&m.audioTrackController),p={levels:l,audioTracks:s,subtitleTracks:a,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:i,video:o,altAudio:h&&!f&&s.some(v=>!!v.url)};this.hls.trigger(U.MANIFEST_PARSED,p)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const d=new Error("invalid level idx"),u=e<0;if(this.hls.trigger(U.ERROR,{type:Pt.OTHER_ERROR,details:Fe.LEVEL_SWITCH_ERROR,level:e,fatal:u,error:d,reason:d.message}),u)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,o=this.currentLevel,i=o?o.attrs["PATHWAY-ID"]:void 0,s=n[e],a=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,r===e&&o&&i===a)return;this.log(`Switching to level ${e} (${s.height?s.height+"p ":""}${s.videoRange?s.videoRange+" ":""}${s.codecSet?s.codecSet+" ":""}@${s.bitrate})${a?" with Pathway "+a:""} from level ${r}${i?" with Pathway "+i:""}`);const l={level:e,attrs:s.attrs,details:s.details,bitrate:s.bitrate,averageBitrate:s.averageBitrate,maxBitrate:s.maxBitrate,realBitrate:s.realBitrate,width:s.width,height:s.height,codecSet:s.codecSet,audioCodec:s.audioCodec,videoCodec:s.videoCodec,audioGroups:s.audioGroups,subtitleGroups:s.subtitleGroups,loaded:s.loaded,loadError:s.loadError,fragmentError:s.fragmentError,name:s.name,id:s.id,uri:s.uri,url:s.url,urlId:0,audioGroupIds:s.audioGroupIds,textGroupIds:s.textGroupIds};this.hls.trigger(U.LEVEL_SWITCHING,l);const c=s.details;if(!c||c.live){const d=this.switchParams(s.uri,o==null?void 0:o.details,c);this.loadPlaylist(d)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const n=this.steering.pathways(),r=e.filter(o=>n.indexOf(o)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${n}`);return}this.steering.pathwayPriority=r}}onError(e,n){n.fatal||!n.context||n.context.type===Zt.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===kt.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(i=>!!r[i]))return;const o=this._levels[n.level];o!=null&&o.loadError&&(this.log(`Resetting level error count of ${o.loadError} on frag buffered`),o.loadError=0)}}onLevelLoaded(e,n){var r;const{level:o,details:i}=n,s=n.levelInfo;if(!s){var a;this.warn(`Invalid level index ${o}`),(a=n.deliveryDirectives)!=null&&a.skip&&(i.deltaUpdateFailed=!0);return}if(s===this.currentLevel||n.withoutMultiVariant){s.fragmentError===0&&(s.loadError=0);let l=s.details;l===n.details&&l.advanced&&(l=void 0),this.playlistLoaded(o,n,l)}else(r=n.deliveryDirectives)!=null&&r.skip&&(i.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=this.getUrlWithDirectives(e.uri,n),o=this.currentLevelIndex,i=e.attrs["PATHWAY-ID"],s=e.details,a=s==null?void 0:s.age;this.log(`Loading level index ${o}${(n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:""}${i?" Pathway "+i:""}${a&&s.live?" age "+a.toFixed(1)+(s.type&&" "+s.type||""):""} ${r}`),this.hls.trigger(U.LEVEL_LOADING,{url:r,level:o,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:n||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;if(this._levels.length===1)return;const r=this._levels.filter((i,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(i),i===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,i.details&&i.details.fragments.forEach(a=>a.level=-1)),!1));vD(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const o=r.length-1;this._firstLevel=Math.min(this._firstLevel,o),this._startLevel&&(this._startLevel=Math.min(this._startLevel,o)),this.hls.trigger(U.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(U.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function fw(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}function aO(){return self.SourceBuffer||self.WebKitSourceBuffer}function lO(){if(!Vs())return!1;const e=aO();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function ole(){if(!lO())return!1;const t=Vs();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(yd(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(yd(e,"audio"))))}function ile(){var t;const e=aO();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const sle=100;class ale extends Rb{constructor(e,n,r){super(e,n,r,"stream-controller",kt.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const o=this.media,i=o?o.currentTime:null;if(i===null||!xt(i)||(this.log(`Media seeked to ${i.toFixed(3)}`),!this.getBufferedFrag(i)))return;const s=this.getFwdBufferInfoAtPos(o,i,kt.MAIN,0);if(s===null||s.len===0){this.warn(`Main forward buffer length at ${i} on "seeked" event ${s?s.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.LEVEL_LOADING,this.onLevelLoading,this),e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(U.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(U.BUFFER_CREATED,this.onBufferCreated,this),e.on(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(U.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(U.BUFFER_CREATED,this.onBufferCreated,this),e.off(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,n){if(this.levels){const{lastCurrentTime:r,hls:o}=this;if(this.stopLoad(),this.setInterval(sle),this.level=-1,!this.startFragRequested){let i=o.startLevel;i===-1&&(o.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=o.firstAutoLevel),o.nextLoadLevel=i,this.level=o.loadLevel,this._hasEnoughToStart=!!n}r>0&&e===-1&&!n&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=qe.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=qe.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case qe.WAITING_LEVEL:{const{levels:n,level:r}=this,o=n==null?void 0:n[r],i=o==null?void 0:o.details;if(i&&(!i.live||this.levelLastLoaded===o&&!this.waitForLive(o))){if(this.waitForCdnTuneIn(i))break;this.state=qe.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=qe.IDLE;break}break}case qe.FRAG_LOADING_WAITING_RETRY:{var e;const n=self.performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:o,level:i}=this,s=o==null?void 0:o[i];this.resetStartWhenNotLoaded(s||null),this.state=qe.IDLE}}break}this.state===qe.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:o}=this;if(n===null||!o&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const i=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(r!=null&&r[i]))return;const s=r[i],a=this.getMainFwdBufferInfo();if(a===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(a,l)){const p={};this.altAudio===2&&(p.type="video"),this.hls.trigger(U.BUFFER_EOS,p),this.state=qe.ENDED;return}if(!this.buffering)return;e.loadLevel!==i&&e.manualLevel===-1&&this.log(`Adapting to level ${i} from level ${this.level}`),this.level=e.nextLoadLevel=i;const c=s.details;if(!c||this.state===qe.WAITING_LEVEL||this.waitForLive(s)){this.level=i,this.state=qe.WAITING_LEVEL,this.startFragRequested=!1;return}const d=a.len,u=this.getMaxBufferLength(s.maxBitrate);if(d>=u)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:a.end;let m=this.getNextFragment(f,c);if(this.couldBacktrack&&!this.fragPrevious&&m&&Cr(m)&&this.fragmentTracker.getState(m)!==fr.OK){var h;const v=((h=this.backtrackFragment)!=null?h:m).sn-c.startSN,b=c.fragments[v-1];b&&m.cc===b.cc&&(m=b,this.fragmentTracker.removeFragment(b))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(m&&this.isLoopLoading(m,f)){if(!m.gap){const v=this.audioOnly&&!this.altAudio?Pn.AUDIO:Pn.VIDEO,b=(v===Pn.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;b&&this.afterBufferFlushed(b,v,kt.MAIN)}m=this.getNextFragmentLoopLoading(m,c,a,kt.MAIN,u)}m&&(m.initSegment&&!m.initSegment.data&&!this.bitrateTest&&(m=m.initSegment),this.loadFragment(m,s,f))}loadFragment(e,n,r){const o=this.fragmentTracker.getState(e);o===fr.NOT_LOADED||o===fr.PARTIAL?Cr(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):super.loadFragment(e,n,r):this._loadInitSegment(e,n):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,kt.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const o=this.getAppendedFrag(n.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const i=this.getLevelDetails();if(i!=null&&i.live){const a=this.getMainFwdBufferInfo();if(!a||a.len<i.targetduration*2)return}if(!n.paused&&e){const a=this.hls.nextLoadLevel,l=e[a],c=this.fragLastKbps;c&&this.fragCurrent?r=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:r=0}else r=0;const s=this.getBufferedFrag(n.currentTime+r);if(s){const a=this.followingBufferedFrag(s);if(a){this.abortCurrentFrag();const l=a.maxStartPTS?a.maxStartPTS:a.start,c=a.duration,d=Math.max(s.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case qe.KEY_LOADING:case qe.FRAG_LOADING:case qe.FRAG_LOADING_WAITING_RETRY:case qe.PARSING:case qe.PARSED:this.state=qe.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio===2?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;go(r,"playing",this.onMediaPlaying),go(r,"seeked",this.onMediaSeeked)}onMediaDetaching(e,n){const{media:r}=this;r&&(_o(r,"playing",this.onMediaPlaying),_o(r,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,n),!n.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(U.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,n){let r=!1,o=!1;n.levels.forEach(i=>{const s=i.audioCodec;s&&(r=r||s.indexOf("mp4a.40.2")!==-1,o=o||s.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&o&&!ile(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==qe.IDLE)return;const o=n.levelInfo;(!o.details||o.details.live&&(this.levelLastLoaded!==o||o.details.expired)||this.waitForCdnTuneIn(o.details))&&(this.state=qe.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:o,startFragRequested:i}=this,s=n.level,a=n.details,l=a.totalduration;if(!o){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${l}`);const c=n.levelInfo,d=this.fragCurrent;d&&(this.state===qe.FRAG_LOADING||this.state===qe.FRAG_LOADING_WAITING_RETRY)&&d.level!==n.level&&d.loader&&this.abortCurrentFrag();let u=0;if(a.live||(r=c.details)!=null&&r.live){var f;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,c.details,(f=this.levelLastLoaded)==null?void 0:f.details)}if(c.details=a,this.levelLastLoaded=c,i||this.setStartPosition(a,u),this.hls.trigger(U.LEVEL_UPDATED,{details:a,level:s}),this.state===qe.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=qe.IDLE}i&&a.live&&this.synchronizeToLiveEdge(a),this.tick()}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const o=this.hls.liveSyncPosition,i=this.getLoadPosition(),s=e.fragmentStart,a=e.edge,l=i>=s-n.maxFragLookUpTolerance&&i<=a;if(o!==null&&r.duration>o&&(i<o||!l)){const d=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;if((!l&&r.readyState<4||i<a-d)&&(this._hasEnoughToStart||(this.nextLoadPosition=o),r.readyState))if(this.warn(`Playback: ${i.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${o.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var c;const u=Wt.bufferInfo(r,o,0);if(!(u!=null&&(c=u.buffered)!=null&&c.length)){r.currentTime=o;return}if(u.start<=i){r.currentTime=o;return}const{nextStart:m}=Wt.bufferedInfo(u.buffered,i,0);m&&(r.currentTime=m)}else r.currentTime=o}}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:o,payload:i}=e,{levels:s}=this;if(!s){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const a=s[r.level];if(!a){this.warn(`Level ${r.level} not found on progress`);return}const l=a.details;if(!l){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const c=a.videoCodec,d=l.PTSKnown||!l.live,u=(n=r.initSegment)==null?void 0:n.data,f=this._getAudioCodec(a),m=this.transmuxer=this.transmuxer||new zD(this.hls,kt.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),h=o?o.index:-1,p=h!==-1,v=new Cb(r.level,r.sn,r.stats.chunkCount,i.byteLength,h,p),b=this.initPTS[r.cc];m.push(i,u,f,c,r,o,l.totalduration,d,v,b)}onAudioTrackSwitching(e,n){const r=this.hls,o=this.altAudio===2;if(qf(n.url,r))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const s=this.fragCurrent;s&&(this.log("Switching to main audio track, cancel main fragment load"),s.abortRequests(),this.fragmentTracker.removeFragment(s)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(o){this.fragmentTracker.removeAllFragments(),r.once(U.BUFFER_FLUSHED,()=>{var s;(s=this.hls)==null||s.trigger(U.AUDIO_TRACK_SWITCHED,n)}),r.trigger(U.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}r.trigger(U.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=qf(n.url,this.hls);if(r){const o=this.videoBuffer;o&&this.mediaBuffer!==o&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=o)}this.altAudio=r?2:0,this.tick()}onBufferCreated(e,n){const r=n.tracks;let o,i,s=!1;for(const a in r){const l=r[a];if(l.id==="main"){if(i=a,o=l,a==="video"){const c=r[a];c&&(this.videoBuffer=c.buffer)}}else s=!0}s&&o?(this.log(`Alternate track found, use ${i}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:o}=n,i=r.type===kt.MAIN;if(i){if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${o?" p: "+o.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===qe.PARSED&&(this.state=qe.IDLE);return}const a=o?o.stats:r.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),Cr(r)&&(this.fragPrevious=r),this.fragBufferedComplete(r,o)}const s=this.media;s&&(!this._hasEnoughToStart&&Wt.getBuffered(s).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),i&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,n){var r;if(n.fatal){this.state=qe.ERROR;return}switch(n.details){case Fe.FRAG_GAP:case Fe.FRAG_PARSING_ERROR:case Fe.FRAG_DECRYPT_ERROR:case Fe.FRAG_LOAD_ERROR:case Fe.FRAG_LOAD_TIMEOUT:case Fe.KEY_LOAD_ERROR:case Fe.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(kt.MAIN,n);break;case Fe.LEVEL_LOAD_ERROR:case Fe.LEVEL_LOAD_TIMEOUT:case Fe.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===qe.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===Zt.LEVEL&&(this.state=qe.IDLE);break;case Fe.BUFFER_ADD_CODEC_ERROR:case Fe.BUFFER_APPEND_ERROR:if(n.parent!=="main")return;this.resetLoadingState();break;case Fe.BUFFER_FULL_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Fe.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onFragLoadEmergencyAborted(){this.state=qe.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==Pn.AUDIO||!this.altAudio){const r=(n===Pn.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;r&&(this.afterBufferFlushed(r,n,kt.MAIN),this.tick())}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const o=this.timelineOffset;o&&r&&(r+=o);const i=this.getLevelDetails(),s=Wt.getBuffered(e),a=s.length?s.start(0):0,l=a-r,c=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||l>0&&(l<c||this.loadingParts&&l<2*((i==null?void 0:i.partTarget)||0)))&&(this.log(`adjusting start position by ${l} to match buffer start`),r+=l,this.startPosition=r),n<r&&(this.log(`seek to target start position ${r} from current time ${n} buffer start ${a}`),e.currentTime=r)}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:o}=this,i=r==null?void 0:r.frag;if(!i||this.fragContextChanged(i))return;n.fragmentError=0,this.state=qe.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=i.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),o.trigger(U.FRAG_LOADED,r),i.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const r=this.playlistType,{hls:o}=this,{remuxResult:i,chunkMeta:s}=e,a=this.getCurrentContext(s);if(!a){this.resetWhenMissingContext(s);return}const{frag:l,part:c,level:d}=a,{video:u,text:f,id3:m,initSegment:h}=i,{details:p}=d,v=this.altAudio?void 0:i.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=qe.PARSING,h){if(h!=null&&h.tracks){const x=l.initSegment||l;this._bufferInitSegment(d,h.tracks,x,s),o.trigger(U.FRAG_PARSING_INIT_SEGMENT,{frag:x,id:r,tracks:h.tracks})}const b=h.initPTS,y=h.timescale;xt(b)&&(this.initPTS[l.cc]={baseTime:b,timescale:y},o.trigger(U.INIT_PTS_FOUND,{frag:l,id:r,initPTS:b,timescale:y}))}if(u&&p){v&&u.type==="audiovideo"&&this.logMuxedErr(l);const b=p.fragments[l.sn-1-p.startSN],y=l.sn===p.startSN,x=!b||l.cc>b.cc;if(i.independent!==!1){const{startPTS:C,endPTS:S,startDTS:T,endDTS:w}=u;if(c)c.elementaryStreams[u.type]={startPTS:C,endPTS:S,startDTS:T,endDTS:w};else if(u.firstKeyFrame&&u.independent&&s.id===1&&!x&&(this.couldBacktrack=!0),u.dropped&&u.independent){const E=this.getMainFwdBufferInfo(),R=(E?E.end:this.getLoadPosition())+this.config.maxBufferHole,P=u.firstKeyFramePTS?u.firstKeyFramePTS:C;if(!y&&R<P-this.config.maxBufferHole&&!x){this.backtrack(l);return}else x&&(l.gap=!0);l.setElementaryStreamInfo(u.type,l.start,S,l.start,w,!0)}else y&&C-(p.appliedTimelineOffset||0)>ff&&(l.gap=!0);l.setElementaryStreamInfo(u.type,C,S,T,w),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(u,l,c,s,y||x)}else if(y||x)l.gap=!0;else{this.backtrack(l);return}}if(v){const{startPTS:b,endPTS:y,startDTS:x,endDTS:C}=v;c&&(c.elementaryStreams[Pn.AUDIO]={startPTS:b,endPTS:y,startDTS:x,endDTS:C}),l.setElementaryStreamInfo(Pn.AUDIO,b,y,x,C),this.bufferFragmentData(v,l,c,s)}if(p&&m!=null&&(n=m.samples)!=null&&n.length){const b={id:r,frag:l,details:p,samples:m.samples};o.trigger(U.FRAG_PARSING_METADATA,b)}if(p&&f){const b={id:r,frag:l,details:p,samples:f.samples};o.trigger(U.FRAG_PARSING_USERDATA,b)}}logMuxedErr(e){this.warn(`${Cr(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,n,r,o){if(this.state!==qe.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&(delete n.audio,n.audiovideo&&this.logMuxedErr(r));const{audio:i,video:s,audiovideo:a}=n;if(i){let c=of(i.codec,e.audioCodec);c==="mp4a"&&(c="mp4a.40.5");const d=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){c&&(c.indexOf("mp4a.40.5")!==-1?c="mp4a.40.2":c="mp4a.40.5");const u=i.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&d.indexOf("firefox")===-1&&(c="mp4a.40.5")}c&&c.indexOf("mp4a.40.5")!==-1&&d.indexOf("android")!==-1&&i.container!=="audio/mpeg"&&(c="mp4a.40.2",this.log(`Android: force audio codec to ${c}`)),e.audioCodec&&e.audioCodec!==c&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${c}"`),i.levelCodec=c,i.id=kt.MAIN,this.log(`Init audio buffer, container:${i.container}, codecs[selected/level/parsed]=[${c||""}/${e.audioCodec||""}/${i.codec}]`),delete n.audiovideo}if(s){s.levelCodec=e.videoCodec,s.id=kt.MAIN;const c=s.codec;if((c==null?void 0:c.length)===4)switch(c){case"hvc1":case"hev1":s.codec="hvc1.1.6.L120.90";break;case"av01":s.codec="av01.0.04M.08";break;case"avc1":s.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${s.container}, codecs[level/parsed]=[${e.videoCodec||""}/${c}]${s.codec!==c?" parsed-corrected="+s.codec:""}${s.supplemental?" supplemental="+s.supplemental:""}`),delete n.audiovideo}a&&(this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.codecs}/${a.codec}]`),delete n.video,delete n.audio);const l=Object.keys(n);if(l.length){if(this.hls.trigger(U.BUFFER_CODECS,n),!this.hls)return;l.forEach(c=>{const u=n[c].initSegment;u!=null&&u.byteLength&&this.hls.trigger(U.BUFFER_APPENDING,{type:c,data:u,frag:r,part:null,chunkMeta:o,parent:r.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,kt.MAIN)}get maxBufferLength(){const{levels:e,level:n}=this,r=e==null?void 0:e[n];return r?this.getMaxBufferLength(r.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=qe.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(Wt.isBuffered(e,r)?n=this.getAppendedFrag(r):Wt.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const o=this.fragPlaying,i=n.level;(!o||n.sn!==o.sn||o.level!==i)&&(this.fragPlaying=n,this.hls.trigger(U.FRAG_CHANGED,{frag:n}),(!o||o.level!==i)&&this.hls.trigger(U.LEVEL_SWITCHED,{level:i}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return xt(n)?this.getAppendedFrag(n):null}get currentProgramDateTime(){var e;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(xt(n)){const r=this.getLevelDetails(),o=this.currentFrag||(r?Da(null,r.fragments,n):null);if(o){const i=o.programDateTime;if(i!==null){const s=i+(n-o.start)*1e3;return new Date(s)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class lle{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const o=this.keyUriToKeyInfo[r].loader;if(o){var n;if(e&&e!==((n=o.context)==null?void 0:n.frag.type))return;o.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=Fe.KEY_LOAD_ERROR,r,o,i){return new Bi({type:Pt.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:i,error:r,networkDetails:o})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(n.length){const{sn:r,cc:o}=e;for(let i=0;i<n.length;i++){const s=n[i];if(o<=s.cc&&(r==="initSegment"||s.sn==="initSegment"||r<s.sn))return this.emeController.selectKeySystemFormat(s).then(a=>{if(s.setKeyFormat(a),this.emeController&&this.config.requireKeySystemAccessOnStart){const l=af(a);if(l)return this.emeController.getKeySystemAccess([l])}})}}else if(this.config.requireKeySystemAccessOnStart){const r=kc(this.config);if(r.length)return this.emeController.getKeySystemAccess(r)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,o;n&&e.setKeyFormat(n);const i=e.decryptdata;if(!i){const c=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Fe.KEY_LOAD_ERROR,c))}const s=i.uri;if(!s)return Promise.reject(this.createKeyLoadError(e,Fe.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${s}"`)));let a=this.keyUriToKeyInfo[s];if((r=a)!=null&&r.decryptdata.key)return i.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((o=a)!=null&&o.keyLoadPromise){var l;switch((l=a.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(c=>(i.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[s]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return i.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,Fe.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${i.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(r);if(o)return(e.keyLoadPromise=o.then(i=>(e.mediaKeySessionContext=i,r))).catch(i=>{throw e.keyLoadPromise=null,i})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,o=r.loader,i=new o(r);return n.keyLoader=e.loader=i,e.keyLoadPromise=new Promise((s,a)=>{const l={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},c=r.keyLoadPolicy.default,d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:(f,m,h,p)=>{const{frag:v,keyInfo:b,url:y}=h;if(!v.decryptdata||b!==this.keyUriToKeyInfo[y])return a(this.createKeyLoadError(v,Fe.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),p));b.decryptdata.key=v.decryptdata.key=new Uint8Array(f.data),v.keyLoader=null,b.loader=null,s({frag:v,keyInfo:b})},onError:(f,m,h,p)=>{this.resetLoader(m),a(this.createKeyLoadError(n,Fe.KEY_LOAD_ERROR,new Error(`HTTP Error ${f.code} loading key ${f.text}`),h,yn({url:l.url,data:void 0},f)))},onTimeout:(f,m,h)=>{this.resetLoader(m),a(this.createKeyLoadError(n,Fe.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),h))},onAbort:(f,m,h)=>{this.resetLoader(m),a(this.createKeyLoadError(n,Fe.INTERNAL_ABORTED,new Error("key loading aborted"),h))}};i.load(l,d,u)})}resetLoader(e){const{frag:n,keyInfo:r,url:o}=e,i=r.loader;n.keyLoader===i&&(n.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[o],i&&i.destroy()}}function hw(t){const{type:e}=t;switch(e){case Zt.AUDIO_TRACK:return kt.AUDIO;case Zt.SUBTITLE_TRACK:return kt.SUBTITLE;default:return kt.MAIN}}function $m(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class cle{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.LEVEL_LOADING,this.onLevelLoading,this),e.on(U.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(U.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(U.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.LEVEL_LOADING,this.onLevelLoading,this),e.off(U.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(U.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(U.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,o=n.loader,i=r||o,s=new i(n);return this.loaders[e.type]=s,s}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Zt.MANIFEST,url:r,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,n){const{id:r,level:o,pathwayId:i,url:s,deliveryDirectives:a,levelInfo:l}=n;this.load({id:r,level:o,pathwayId:i,responseType:"text",type:Zt.LEVEL,url:s,deliveryDirectives:a,levelOrTrack:l})}onAudioTrackLoading(e,n){const{id:r,groupId:o,url:i,deliveryDirectives:s,track:a}=n;this.load({id:r,groupId:o,level:null,responseType:"text",type:Zt.AUDIO_TRACK,url:i,deliveryDirectives:s,levelOrTrack:a})}onSubtitleTrackLoading(e,n){const{id:r,groupId:o,url:i,deliveryDirectives:s,track:a}=n;this.load({id:r,groupId:o,level:null,responseType:"text",type:Zt.SUBTITLE_TRACK,url:i,deliveryDirectives:s,levelOrTrack:a})}onLevelsUpdated(e,n){const r=this.loaders[Zt.LEVEL];if(r){const o=r.context;o&&!n.levels.some(i=>i===o.levelOrTrack)&&(r.abort(),delete this.loaders[Zt.LEVEL])}}load(e){var n;const r=this.hls.config;let o=this.getInternalLoader(e);if(o){const c=this.hls.logger,d=o.context;if(d&&d.levelOrTrack===e.levelOrTrack&&(d.url===e.url||d.deliveryDirectives&&!e.deliveryDirectives)){d.url===e.url?c.log(`[playlist-loader]: ignore ${e.url} ongoing request`):c.log(`[playlist-loader]: ignore ${e.url} in favor of ${d.url}`);return}c.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),o.abort()}let i;if(e.type===Zt.MANIFEST?i=r.manifestLoadPolicy.default:i=wn({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(e),xt((n=e.deliveryDirectives)==null?void 0:n.part)){let c;if(e.type===Zt.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===Zt.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===Zt.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const d=c.partTarget,u=c.targetduration;if(d&&u){const f=Math.max(d*3,u*.8)*1e3;i=wn({},i,{maxTimeToFirstByteMs:Math.min(f,i.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,i.maxTimeToFirstByteMs)})}}}const s=i.errorRetry||i.timeoutRetry||{},a={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},l={onSuccess:(c,d,u,f)=>{const m=this.getInternalLoader(u);this.resetInternalLoader(u.type);const h=c.data;if(h.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,u,new Error("no EXTM3U delimiter"),f||null,d);return}d.parsing.start=performance.now(),mi.isMediaPlaylist(h)||u.type!==Zt.MANIFEST?this.handleTrackOrLevelPlaylist(c,d,u,f||null,m):this.handleMasterPlaylist(c,d,u,f)},onError:(c,d,u,f)=>{this.handleNetworkError(d,u,!1,c,f)},onTimeout:(c,d,u)=>{this.handleNetworkError(d,u,!0,void 0,c)}};o.load(e,a,l)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:n},forceStartLoad:r}=this.hls;(e||r)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${n}`),this.hls.startLoad(n))}handleMasterPlaylist(e,n,r,o){const i=this.hls,s=e.data,a=$m(e,r),l=mi.parseMasterPlaylist(s,a);if(l.playlistParsingError){this.handleManifestParsingError(e,r,l.playlistParsingError,o,n);return}const{contentSteering:c,levels:d,sessionData:u,sessionKeys:f,startTimeOffset:m,variableList:h}=l;this.variableList=h;const{AUDIO:p=[],SUBTITLES:v,"CLOSED-CAPTIONS":b}=mi.parseMasterPlaylistMedia(s,a,l);p.length&&!p.some(x=>!x.url)&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new zn({}),bitrate:0,url:""})),i.trigger(U.MANIFEST_LOADED,{levels:d,audioTracks:p,subtitles:v,captions:b,contentSteering:c,url:a,stats:n,networkDetails:o,sessionData:u,sessionKeys:f,startTimeOffset:m,variableList:h})}handleTrackOrLevelPlaylist(e,n,r,o,i){const s=this.hls,{id:a,level:l,type:c}=r,d=$m(e,r),u=xt(l)?l:xt(a)?a:0,f=hw(r),m=mi.parseLevelPlaylist(e.data,d,u,f,0,this.variableList);if(c===Zt.MANIFEST){const h={attrs:new zn({}),bitrate:0,details:m,name:"",url:d};m.requestScheduled=n.loading.start+gD(m,0),s.trigger(U.MANIFEST_LOADED,{levels:[h],audioTracks:[],url:d,stats:n,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=m,this.handlePlaylistLoaded(m,e,n,r,o,i)}handleManifestParsingError(e,n,r,o,i){this.hls.trigger(U.ERROR,{type:Pt.NETWORK_ERROR,details:Fe.MANIFEST_PARSING_ERROR,fatal:n.type===Zt.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:o,stats:i})}handleNetworkError(e,n,r=!1,o,i){let s=`A network ${r?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${e.type}`;e.type===Zt.LEVEL?s+=`: ${e.level} id: ${e.id}`:(e.type===Zt.AUDIO_TRACK||e.type===Zt.SUBTITLE_TRACK)&&(s+=` id: ${e.id} group-id: "${e.groupId}"`);const a=new Error(s);this.hls.logger.warn(`[playlist-loader]: ${s}`);let l=Fe.UNKNOWN,c=!1;const d=this.getInternalLoader(e);switch(e.type){case Zt.MANIFEST:l=r?Fe.MANIFEST_LOAD_TIMEOUT:Fe.MANIFEST_LOAD_ERROR,c=!0;break;case Zt.LEVEL:l=r?Fe.LEVEL_LOAD_TIMEOUT:Fe.LEVEL_LOAD_ERROR,c=!1;break;case Zt.AUDIO_TRACK:l=r?Fe.AUDIO_TRACK_LOAD_TIMEOUT:Fe.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case Zt.SUBTITLE_TRACK:l=r?Fe.SUBTITLE_TRACK_LOAD_TIMEOUT:Fe.SUBTITLE_LOAD_ERROR,c=!1;break}d&&this.resetInternalLoader(e.type);const u={type:Pt.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:d,context:e,error:a,networkDetails:n,stats:i};if(o){const f=(n==null?void 0:n.url)||e.url;u.response=yn({url:f,data:void 0},o)}this.hls.trigger(U.ERROR,u)}handlePlaylistLoaded(e,n,r,o,i,s){const a=this.hls,{type:l,level:c,id:d,groupId:u,deliveryDirectives:f}=o,m=$m(n,o),h=hw(o),p=typeof o.level=="number"&&h===kt.MAIN?c:void 0;if(!e.fragments.length){const b=e.playlistParsingError=new Error("No Segments found in Playlist");a.trigger(U.ERROR,{type:Pt.NETWORK_ERROR,details:Fe.LEVEL_EMPTY_ERROR,fatal:!1,url:m,error:b,reason:b.message,response:n,context:o,level:p,parent:h,networkDetails:i,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const v=e.playlistParsingError;if(v){if(this.hls.logger.warn(v),!a.config.ignorePlaylistParsingErrors){a.trigger(U.ERROR,{type:Pt.NETWORK_ERROR,details:Fe.LEVEL_PARSING_ERROR,fatal:!1,url:m,error:v,reason:v.message,response:n,context:o,level:p,parent:h,networkDetails:i,stats:r});return}e.playlistParsingError=null}switch(e.live&&s&&(s.getCacheAge&&(e.ageHeader=s.getCacheAge()||0),(!s.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case Zt.MANIFEST:case Zt.LEVEL:a.trigger(U.LEVEL_LOADED,{details:e,levelInfo:o.levelOrTrack||a.levels[0],level:p||0,id:d||0,stats:r,networkDetails:i,deliveryDirectives:f,withoutMultiVariant:l===Zt.MANIFEST});break;case Zt.AUDIO_TRACK:a.trigger(U.AUDIO_TRACK_LOADED,{details:e,track:o.levelOrTrack,id:d||0,groupId:u||"",stats:r,networkDetails:i,deliveryDirectives:f});break;case Zt.SUBTITLE_TRACK:a.trigger(U.SUBTITLE_TRACK_LOADED,{details:e,track:o.levelOrTrack,id:d||0,groupId:u||"",stats:r,networkDetails:i,deliveryDirectives:f});break}}}class ur{static get version(){return wd}static isMSESupported(){return lO()}static isSupported(){return ole()}static getMediaSource(){return Vs()}static get Events(){return U}static get MetadataSchema(){return co}static get ErrorTypes(){return Pt}static get ErrorDetails(){return Fe}static get DefaultConfig(){return ur.defaultConfig?ur.defaultConfig:Wae}static set DefaultConfig(e){ur.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Tb,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const n=this.logger=Ire(e.debug||!1,"Hls instance",e.assetPlayerId),r=this.config=Gae(ur.DefaultConfig,e,n);this.userConfig=e,r.progressive&&qae(r,n);const{abrController:o,bufferController:i,capLevelController:s,errorController:a,fpsController:l}=r,c=new a(this),d=this.abrController=new o(this),u=new xoe(this),f=r.interstitialsController,m=f?this.interstitialsController=new f(this,ur):null,h=this.bufferController=new i(this,u),p=this.capLevelController=new s(this),v=new l(this),b=new cle(this),y=r.contentSteeringController,x=y?new y(this):null,C=this.levelController=new rle(this,x),S=new tle(this),T=new lle(this.config),w=this.streamController=new ale(this,u,T),E=this.gapController=new Zae(this,u);p.setStreamController(w),v.setStreamController(w);const R=[b,C,w];m&&R.splice(1,0,m),x&&R.splice(1,0,x),this.networkControllers=R;const P=[d,h,E,p,v,S,u];this.audioTrackController=this.createController(r.audioTrackController,R);const _=r.audioStreamController;_&&R.push(this.audioStreamController=new _(this,u,T)),this.subtitleTrackController=this.createController(r.subtitleTrackController,R);const I=r.subtitleStreamController;I&&R.push(this.subtititleStreamController=new I(this,u,T)),this.createController(r.timelineController,P),T.emeController=this.emeController=this.createController(r.emeController,P),this.cmcdController=this.createController(r.cmcdController,P),this.latencyController=this.createController(nle,P),this.coreComponents=P,R.push(c);const L=c.onErrorOut;typeof L=="function"&&this.on(U.ERROR,L,c),this.on(U.MANIFEST_LOADED,b.onManifestLoaded,b)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,o){this._emitter.off(e,n,r,o)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const o=e===U.ERROR;this.trigger(U.ERROR,{type:Pt.OTHER_ERROR,details:Fe.INTERNAL_EXCEPTION,fatal:o,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(U.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const i=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(U.ERROR,{type:Pt.OTHER_ERROR,details:Fe.ATTACH_MEDIA_ERROR,fatal:!0,error:i});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const n="media"in e,r=n?e.media:e,o=n?e:{media:r};this._media=r,this.trigger(U.MEDIA_ATTACHING,o)}detachMedia(){this.logger.log("detachMedia"),this.trigger(U.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(U.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const n=this.media,r=this._url,o=this._url=pb.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${o}`),n&&r&&(r!==o||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(U.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,n){this.logger.log(`startLoad(${e+(n?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let r=0;r<this.networkControllers.length&&(this.networkControllers[r].startLoad(e,n),!(!this.started||!this.networkControllers));r++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[kt.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[kt.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[kt.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,n=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),n&&this.startLoad(n))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=Zse()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){ooe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let o=0;o<r;o++)if(e[o].maxBitrate>=n)return o;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let o;if(n===-1&&e!=null&&e.length?o=e.length-1:o=n,r)for(let i=o;i--;){const s=e[i].attrs["HDCP-LEVEL"];if(s&&s<=r)return i}return o}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var n;return((n=this.audioTrackController)==null?void 0:n.setAudioOption(e))||null}setSubtitleOption(e){var n;return((n=this.subtitleTrackController)==null?void 0:n.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,n=this.allAudioTracks){const r=rD(n);return nD(e,r,navigator.mediaCapabilities)}}ur.defaultConfig=void 0;const dle={id:"hls-player-container"},ule={class:"player-content"},fle={class:"station-name"},hle={key:0,class:"blinking-cursor"},gle={class:"now-playing-ticker"},mle={class:"controls"},ple={class:"station-status"},vle={__name:"HlsPlayer",setup(t){const e=z(null);let n=null;const r=z(!1),o=cb(),i=Xd(),{radioName:s,stationName:a,statusText:l,nowPlaying:c,isAsleep:d,isWaitingForCurator:u,isWarmingUp:f,djName:m,djStatus:h,stationColor:p}=md(i),v=z("");let b=null,y=null,x=null,C=null,S=null,T=null;const w=A(()=>r.value?XJ:eee),E=z(!1),R=A(()=>m.value&&h.value==="CONTROLLING"?`Curated by ${m.value}`:null),P=A(()=>({color:p.value||(o.theme==="dark"?"#FFFFFF":"#000000")})),_=A(()=>o.theme==="dark"?{color:"#E0E0E0",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"}:{}),I=W=>{if(b&&clearTimeout(b),v.value="",E.value=!1,W){E.value=!0;let J=0;const ne=()=>{J<W.length?(v.value+=W.charAt(J),J++,b=setTimeout(ne,100)):E.value=!1};ne()}};gt(R,(W,J)=>{y&&clearInterval(y),W?(I(W),y=setInterval(()=>{I(W)},15e3)):I(null)}),gt(()=>({name:s.value,asleep:d.value,waiting:u.value}),(W,J)=>{if(W.asleep||W.waiting){n&&(console.log(`[Player] Station ${W.name} is not playable. Destroying HLS instance.`),n.destroy(),n=null,r.value=!1);return}if(W.name&&!W.asleep&&!W.waiting){const ne=J?W.name!==J.name:!0,D=J?J.asleep&&!W.asleep:!1,B=J?J.waiting&&!W.waiting:!1;(ne||D||B)&&(console.log(`[Player] Station ${W.name} is now playable. Initializing HLS.`),setTimeout(()=>{N(W.name)},D?2500:0))}},{deep:!0,immediate:!0});const L=()=>{if(d.value){i.wakeUpStation();return}u.value||e.value&&(x&&x.state==="suspended"&&x.resume(),e.value.paused?e.value.play().catch(W=>console.error("Play error:",W)):e.value.pause())},N=W=>{if(n&&n.destroy(),!ur.isSupported()){console.error("HLS is not supported in this browser.");return}const J=`https://bratan.online/${W}/radio/stream.m3u8`;if(n=new ur({debug:!1,maxBufferLength:30,maxMaxBufferLength:600,fragLoadingTimeOut:2e4,manifestLoadingTimeOut:1e4,levelLoadingTimeOut:1e4}),n.loadSource(J),n.attachMedia(e.value),window.hlsInstance=n,n.on(ur.Events.MANIFEST_PARSED,()=>{console.log("[Player] Manifest parsed, attempting to play..."),e.value.play().catch(D=>{console.error("Error on autoplay:",D)})}),n.on(ur.Events.FRAG_CHANGED,(D,B)=>{var $;const j=B.frag.title;if(isDebugMode){const V=(($=e.value)==null?void 0:$.currentTime)||0;console.log("[SONG JUMP DEBUG] Fragment changed:",{title:j,currentTime:V.toFixed(2),fragStart:B.frag.start,fragEnd:B.frag.end,fragSN:B.frag.sn,discontinuity:B.frag.discontinuity}),j&&j!==i.nowPlaying&&console.log("[SONG JUMP DEBUG] Song changed from:",i.nowPlaying,"to:",j)}j&&(i.nowPlaying=j)}),n.on(ur.Events.FRAG_BUFFERED,(D,B)=>{i.bufferStatus==="stalling"&&i.setBufferStatus("ok")}),isDebugMode&&(n.on(ur.Events.LEVEL_UPDATED,(D,B)=>{var j;console.log("[SONG JUMP DEBUG] Playlist updated:",{level:B.level,details:((j=B.details.fragments)==null?void 0:j.length)||0,live:B.details.live})}),n.on(ur.Events.FRAG_LOADING,(D,B)=>{B.frag.discontinuity&&console.warn("[SONG JUMP DEBUG] Loading discontinuous fragment:",{title:B.frag.title,sn:B.frag.sn,start:B.frag.start})}),n.on(ur.Events.FRAG_LOAD_ERROR,(D,B)=>{var j,$;console.error("[SONG JUMP DEBUG] Fragment load error:",{title:(j=B.frag)==null?void 0:j.title,sn:($=B.frag)==null?void 0:$.sn,response:B.response})})),n.on(ur.Events.ERROR,(D,B)=>{var j;if(isDebugMode&&console.log("[SONG JUMP DEBUG] HLS Error:",{type:B.type,details:B.details,fatal:B.fatal,frag:(j=B.frag)==null?void 0:j.title}),B.fatal)switch(console.error("HLS.js fatal error:",B),i.setBufferStatus("fatal"),B.type){case ur.ErrorTypes.NETWORK_ERROR:console.error("Fatal network error, trying to recover..."),n.startLoad();break;case ur.ErrorTypes.MEDIA_ERROR:console.error("Fatal media error, trying to recover..."),n.recoverMediaError();break;default:console.error("Unrecoverable error, destroying HLS instance."),n.destroy();break}}),n.on(ur.Events.BUFFER_STALLED,(D,B)=>{i.setBufferStatus("stalling")}),setInterval(()=>{if(!(!e.value||!n))try{const D=e.value.buffered,B=e.value.currentTime;if(D.length>0){let j=0;for(let $=0;$<D.length;$++)if(D.start($)<=B&&B<=D.end($)){j=D.end($)-B;break}console.log("[BUFFER DEBUG] Buffer ahead:",j.toFixed(2),"seconds"),j<2?i.setBufferStatus("critical"):j<5?i.setBufferStatus("poor"):j<10?i.setBufferStatus("ok"):i.setBufferStatus("healthy")}}catch(D){console.warn("[BUFFER DEBUG] Error checking buffer health:",D)}},2e3),isDebugMode){let D=0,B=Date.now();e.value.addEventListener("seeking",()=>{console.warn("[SONG JUMP DEBUG] Audio seeking event triggered at:",e.value.currentTime.toFixed(2))}),e.value.addEventListener("seeked",()=>{console.warn("[SONG JUMP DEBUG] Audio seeked to:",e.value.currentTime.toFixed(2))}),e.value.addEventListener("timeupdate",()=>{const j=e.value.currentTime,$=Date.now(),V=Math.abs(j-D),X=($-B)/1e3;X>.5&&V>X+2&&console.warn("[SONG JUMP DEBUG] Unexpected time jump detected:",{from:D.toFixed(2),to:j.toFixed(2),jump:V.toFixed(2),expected:X.toFixed(2),nowPlaying:i.nowPlaying}),D=j,B=$}),e.value.addEventListener("ended",()=>{console.log("[SONG JUMP DEBUG] Audio ended event - song finished naturally")}),e.value.addEventListener("stalled",()=>{console.warn("[SONG JUMP DEBUG] Audio stalled event")}),e.value.addEventListener("suspend",()=>{console.warn("[SONG JUMP DEBUG] Audio suspend event")})}};function H(){e.value&&(x=new(window.AudioContext||window.webkitAudioContext),C=x.createAnalyser(),S=x.createMediaElementSource(e.value),S.connect(C),C.connect(x.destination),C.fftSize=32)}function G(){if(!C)return;const W=C.frequencyBinCount,J=new Uint8Array(W);C.getByteTimeDomainData(J);let ne=0;for(let B=0;B<W;B++){const j=J[B]/128-1;ne+=j*j}const D=Math.sqrt(ne/W);i.animationIntensity=Math.min(D*5,1),T=requestAnimationFrame(G)}return Gt(()=>{const W=e.value;if(!W)return;window.hlsInstance=null,window.audioContext=null,window.audioElement=W,W.addEventListener("loadedmetadata",()=>{console.log("[DEBUG] Audio metadata loaded:",{duration:W.duration,playbackRate:W.playbackRate,sampleRate:W.sampleRate||"N/A",channels:W.mozChannels||W.webkitAudioDecodedByteCount||"N/A"})}),W.addEventListener("ratechange",()=>{console.log("[DEBUG] Playback rate changed to:",W.playbackRate)}),W.addEventListener("timeupdate",()=>{Math.floor(W.currentTime)%10===0&&Math.floor(W.currentTime)!==window.lastLoggedTime&&(window.lastLoggedTime=Math.floor(W.currentTime),console.log("[DEBUG] Time update:",{currentTime:W.currentTime,playbackRate:W.playbackRate,paused:W.paused}))});const J=()=>{r.value=!0,console.log("[DEBUG] Audio started playing, playback rate:",W.playbackRate),x||(H(),window.audioContext=x),G()},ne=()=>{r.value=!1,T&&(cancelAnimationFrame(T),T=null)};W.addEventListener("play",J),W.addEventListener("pause",ne),W.addEventListener("ended",ne)}),Qt(()=>{n&&n.destroy(),T&&cancelAnimationFrame(T),b&&clearTimeout(b),y&&clearInterval(y),x&&x.close()}),(W,J)=>(Ln(),mr("div",dle,[Ht("audio",{ref_key:"audioPlayer",ref:e,style:{display:"none"}},null,512),Ht("div",ule,[Ht("div",{class:"station-info",style:vi(_.value)},[Ht("h1",fle,In(Ut(a)),1),Ht("div",{class:"curator-info",style:vi([{visibility:R.value?"visible":"hidden"},P.value])},[hr(In(v.value),1),E.value?(Ln(),mr("span",hle,"|")):wl("",!0)],4)],4),Ht("div",{class:"now-playing-info",style:vi(_.value)},[Ht("div",gle,[Ht("span",null,In(Ut(c)),1)])],4),Ht("div",mle,[nn(Ut(At),{onClick:L,type:"primary",circle:"",strong:"",size:"large",disabled:Ut(f)||Ut(u)},{icon:Ar(()=>[nn(Ut(Oh),{component:w.value},null,8,["component"])]),_:1},8,["disabled"])]),Ht("div",ple,[Ht("span",null,In(Ut(l)),1)])])]))}},ble=hb(vle,[["__scopeId","data-v-cca35993"]]),yle={class:"station-selector-wrapper"},xle={class:"status-indicator-wrapper-top-left"},Cle={class:"theme-switch-wrapper"},Sle={__name:"Home",setup(t){const e=cb(),n=Xd(),r=As(),{stations:o,radioName:i,isAsleep:s,isWaitingForCurator:a,isWarmingUp:l,bufferStatus:c,dynamicBorderStyle:d,isBroadcasting:u,animationIntensity:f,stationColor:m}=md(n);Gt(async()=>{console.log("🔍 [DEBUG] Home component mounted");const I=new URLSearchParams(window.location.search).get("radio");if(console.log("🔍 [DEBUG] URL search params:",window.location.search),console.log("🔍 [DEBUG] Radio parameter extracted:",I),console.log("🔍 [DEBUG] Current localStorage lastStation:",localStorage.getItem("lastStation")),console.log("🔍 [DEBUG] Current stationStore.radioName:",n.radioName),I){console.log("🔍 [DEBUG] URL parameter detected, handling specially");const L=localStorage.getItem("lastStation");console.log("🔍 [DEBUG] Previous station in localStorage:",L),localStorage.removeItem("lastStation"),console.log("🔍 [DEBUG] Cleared lastStation from localStorage"),console.log("🔍 [DEBUG] Setting station directly from URL parameter:",I),n.radioName=I.toLowerCase(),n.stationName=I.toLowerCase(),console.log("🔍 [DEBUG] Station set directly, radioName:",n.radioName),n.startPolling(),console.log("🔍 [DEBUG] Started polling for URL parameter station"),console.log("🔍 [DEBUG] About to fetch stations (with skipAutoSelect=true)..."),await n.fetchStations(!0),console.log("🔍 [DEBUG] Stations fetched (URL param flow):",o.value.map(G=>G.name));let N=o.value.find(G=>G.name.toLowerCase()===I.toLowerCase());if(console.log("🔍 [DEBUG] Target station found in list:",N),N)console.log("🔍 [DEBUG] Setting station to:",N.name),n.setStation(N.name),console.log("🔍 [DEBUG] Station set, new radioName:",n.radioName),console.log(`✅ Auto-selected station from URL parameter: ${N.name}`);else{console.log("🔍 [DEBUG] Station not found in list, trying API...");try{const G=`https://bratan.online/${I.toLowerCase()}/radio/status`;console.log("🔍 [DEBUG] API URL:",G);const W=await fetch(G);if(console.log("🔍 [DEBUG] API response status:",W.status),W.ok){const J=await W.json();console.log("🔍 [DEBUG] API station data:",J);const ne={name:I.toLowerCase(),color:J.color||"#FFA500",currentStatus:J.currentStatus||"UNKNOWN",type:"api"};console.log("🔍 [DEBUG] Adding custom station:",ne),n.addCustomStation(ne),localStorage.setItem("customStation",JSON.stringify(ne)),n.setStation(ne.name),console.log("🔍 [DEBUG] Station set to API station, new radioName:",n.radioName),console.log(`✅ Added and selected API station from URL parameter: ${ne.name}`)}else throw new Error(`API returned ${W.status}`)}catch(G){console.log("🔍 [DEBUG] API call failed:",G),console.warn(`Station '${I}' not found in API or fetched list. Available stations:`,o.value.map(W=>W.name)),console.log("Please choose from existing stations only."),console.log("🔍 [DEBUG] Setting error state for non-existent station:",I),n.radioName=I.toLowerCase(),n.stationName=I.toLowerCase(),n.statusText=`Station '${I}' not found. Available stations: ${o.value.filter(W=>W.type!=="auth").map(W=>W.name).join(", ")}`,n.isAsleep=!1,n.isWaitingForCurator=!1,n.isWarmingUp=!1,n.isBroadcasting=!1,n.stationColor="#ef4444",console.log("🔍 [DEBUG] Error state set, radioName:",n.radioName),console.log(`❌ Station '${I}' not found - showing error state`)}}const H=localStorage.getItem("customStation");if(H){console.log("🔍 [DEBUG] Found custom station in localStorage, removing:",H);try{const G=JSON.parse(H);n.removeCustomStation(G.name),localStorage.removeItem("customStation"),console.log(`🧹 Removed API station from storage: ${G.name}`)}catch(G){console.warn("Error parsing API station from localStorage:",G),localStorage.removeItem("customStation")}}}else{console.log("🔍 [DEBUG] No URL parameter, using normal behavior"),await n.fetchStations(!1),console.log("🔍 [DEBUG] Stations fetched (normal flow):",o.value.map(N=>N.name)),console.log("🔍 [DEBUG] stationStore.radioName after fetchStations (normal flow):",n.radioName);const L=localStorage.getItem("customStation");if(L){console.log("🔍 [DEBUG] Found custom station in localStorage (normal flow), removing:",L);try{const N=JSON.parse(L);n.removeCustomStation(N.name),localStorage.removeItem("customStation"),console.log(`🧹 Removed API station from storage: ${N.name}`)}catch(N){console.warn("Error parsing API station from localStorage:",N),localStorage.removeItem("customStation")}}}console.log("🔍 [DEBUG] Final stationStore.radioName:",n.radioName)});const h=A(()=>o.value.slice(0,4)),p=A(()=>o.value.slice(4)),v=_=>["ONLINE","BROADCASTING","WAITING_FOR_CURATOR"].includes(_.currentStatus)?{color:_.color}:{},b=_=>{var L;if(_==="login")return"Login";if(_==="logout")return r.isAuthenticated?`Logout (${(L=r.user)==null?void 0:L.preferred_username})`:"Logout";const I=_.charAt(0).toUpperCase()+_.slice(1);return I.length>6?`${I.substring(0,6)}...`:I},y=A(()=>p.value.map(_=>({label:_.type==="auth"?b(_.name):_.name.charAt(0).toUpperCase()+_.name.slice(1),key:_.name,props:{style:v(_)}}))),x=A(()=>p.value.some(_=>_.name===i.value)),C=A(()=>s.value||a.value||l.value?"waiting":c.value),S=A(()=>l.value?{"--dynamic-border-rgb":"128, 128, 128"}:d.value),T=A(()=>{if(!u.value)return{};const _=f.value,I=m.value||"#FFA500";let L=0,N=0,H=0;if(I.startsWith("#")&&I.length===7)L=parseInt(I.substring(1,3),16),N=parseInt(I.substring(3,5),16),H=parseInt(I.substring(5,7),16);else if(I.startsWith("#")&&I.length===4){const ne=I.substring(1,2),D=I.substring(2,3),B=I.substring(3,4);L=parseInt(ne+ne,16),N=parseInt(D+D,16),H=parseInt(B+B,16)}const G=5+_*20,W=10+_*15,J=.4+_*.4;return{boxShadow:`0 0 ${W}px ${G}px rgba(${L}, ${N}, ${H}, ${J})`,transition:"box-shadow 0.05s linear"}}),w=_=>_.name==="login"?"default":_.name==="logout"?"warning":n.radioName===_.name?"primary":"default",E=_=>_.name==="login"?r.isAuthenticated:_.name==="logout"?!r.isAuthenticated:!1,R=_=>{_.name==="login"?r.login():_.name==="logout"?r.logout():n.setStation(_.name)},P=_=>{_==="login"?r.login():_==="logout"?r.logout():n.setStation(_)};return gt(()=>i.value,(_,I)=>{_&&_!==I&&console.log(`Station changed to: ${_}`)},{immediate:!0}),(_,I)=>(Ln(),mr("div",{id:"app-container",style:vi([S.value,T.value]),class:Is({"warming-up":Ut(l)})},[Ht("div",yle,[nn(Ut(Ph),null,{default:Ar(()=>[(Ln(!0),mr(Vt,null,Fv(h.value,L=>(Ln(),Ra(Ut(At),{key:L.name,type:w(L),onClick:N=>R(L),style:vi(v(L)),disabled:E(L)},{default:Ar(()=>[hr(In(b(L.name)),1)]),_:2},1032,["type","onClick","style","disabled"]))),128))]),_:1}),y.value.length?(Ln(),Ra(Ut($h),{key:0,trigger:"click",options:y.value,onSelect:P},{default:Ar(()=>[nn(Ut(At),{type:x.value?"primary":"default"},{default:Ar(()=>I[0]||(I[0]=[hr("...")])),_:1,__:[0]},8,["type"])]),_:1},8,["options"])):wl("",!0)]),Ht("div",xle,[Ht("div",{class:Is(["buffer-indicator",C.value])},null,2)]),Ht("div",Cle,[nn(Ut(p2),{value:Ut(e).theme==="dark","onUpdate:value":Ut(e).toggleTheme},null,8,["value","onUpdate:value"]),I[1]||(I[1]=Ht("span",null,"Dark Mode",-1))]),nn(ble)],6))}},wle={key:0},Rle={key:1},Tle={key:2},Ele={__name:"Profile",setup(t){const e=As();return(n,r)=>(Ln(),mr("div",null,[r[3]||(r[3]=Ht("h2",null,"User Profile",-1)),Ut(e).isLoading?(Ln(),mr("p",wle,"Loading user information...")):Ut(e).isAuthenticated&&Ut(e).user?(Ln(),mr("div",Rle,[Ht("p",null,[r[0]||(r[0]=Ht("strong",null,"Username:",-1)),hr(" "+In(Ut(e).user.preferred_username),1)]),Ht("p",null,[r[1]||(r[1]=Ht("strong",null,"Email:",-1)),hr(" "+In(Ut(e).user.email),1)]),Ht("p",null,[r[2]||(r[2]=Ht("strong",null,"Full Name:",-1)),hr(" "+In(Ut(e).user.name),1)])])):(Ln(),mr("p",Tle,"You are not logged in."))]))}},kle=hb(Ele,[["__scopeId","data-v-86d27ed0"]]),Ple=[{path:"/",name:"Home",component:Sle},{path:"/profile",name:"Profile",component:kle,meta:{requiresAuth:!0}}],cO=xre({history:Yne(),routes:Ple});cO.beforeEach((t,e,n)=>{const r=As();t.meta.requiresAuth&&!r.isAuthenticated?r.login():n()});const Ale=tee(),Al=OR(bne);Al.use(Ale);Al.use(cO);Al.use(Y2);const gw=As();gw.init().then(()=>{Al.config.globalProperties.$auth=gw,Al.mount("#app")}).catch(t=>{console.error("Failed to initialize authentication:",t),Al.mount("#app")})});export default Ile();
